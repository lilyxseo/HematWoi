function nX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var dA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aX(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var __={exports:{}},dg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI;function iX(){if(gI)return dg;gI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:s,ref:a!==void 0?a:null,props:i}}return dg.Fragment=t,dg.jsx=r,dg.jsxs=r,dg}var bI;function sX(){return bI||(bI=1,__.exports=iX()),__.exports}var l=sX(),B_={exports:{}},fg={},S_={exports:{}},N_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function oX(){return yI||(yI=1,(function(e){function t(K,J){var re=K.length;K.push(J);e:for(;0<re;){var oe=re-1>>>1,V=K[oe];if(0<a(V,J))K[oe]=J,K[re]=V,re=oe;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var J=K[0],re=K.pop();if(re!==J){K[0]=re;e:for(var oe=0,V=K.length,W=V>>>1;oe<W;){var P=2*(oe+1)-1,$=K[P],G=P+1,ne=K[G];if(0>a($,re))G<V&&0>a(ne,$)?(K[oe]=ne,K[G]=re,oe=G):(K[oe]=$,K[P]=re,oe=P);else if(G<V&&0>a(ne,re))K[oe]=ne,K[G]=re,oe=G;else break e}}return J}function a(K,J){var re=K.sortIndex-J.sortIndex;return re!==0?re:K.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],A=[],f=1,h=null,p=3,g=!1,v=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function k(K){for(var J=r(A);J!==null;){if(J.callback===null)n(A);else if(J.startTime<=K)n(A),J.sortIndex=J.expirationTime,t(c,J);else break;J=r(A)}}function C(K){if(b=!1,k(K),!v)if(r(c)!==null)v=!0,T||(T=!0,I());else{var J=r(A);J!==null&&Y(C,J.startTime-K)}}var T=!1,O=-1,D=5,R=-1;function q(){return x?!0:!(e.unstable_now()-R<D)}function U(){if(x=!1,T){var K=e.unstable_now();R=K;var J=!0;try{e:{v=!1,b&&(b=!1,S(O),O=-1),g=!0;var re=p;try{t:{for(k(K),h=r(c);h!==null&&!(h.expirationTime>K&&q());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,p=h.priorityLevel;var V=oe(h.expirationTime<=K);if(K=e.unstable_now(),typeof V=="function"){h.callback=V,k(K),J=!0;break t}h===r(c)&&n(c),k(K)}else n(c);h=r(c)}if(h!==null)J=!0;else{var W=r(A);W!==null&&Y(C,W.startTime-K),J=!1}}break e}finally{h=null,p=re,g=!1}J=void 0}}finally{J?I():T=!1}}}var I;if(typeof N=="function")I=function(){N(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,H=Q.port2;Q.port1.onmessage=U,I=function(){H.postMessage(null)}}else I=function(){w(U,0)};function Y(K,J){O=w(function(){K(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(K){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var re=p;p=J;try{return K()}finally{p=re}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var re=p;p=K;try{return J()}finally{p=re}},e.unstable_scheduleCallback=function(K,J,re){var oe=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?oe+re:oe):re=oe,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=re+V,K={id:f++,callback:J,priorityLevel:K,startTime:re,expirationTime:V,sortIndex:-1},re>oe?(K.sortIndex=re,t(A,K),r(c)===null&&K===r(A)&&(b?(S(O),O=-1):b=!0,Y(C,re-oe))):(K.sortIndex=V,t(c,K),v||g||(v=!0,T||(T=!0,I()))),K},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(K){var J=p;return function(){var re=p;p=J;try{return K.apply(this,arguments)}finally{p=re}}}})(N_)),N_}var vI;function lX(){return vI||(vI=1,S_.exports=oX()),S_.exports}var C_={exports:{}},Sr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI;function cX(){if(xI)return Sr;xI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(V){return V===null||typeof V!="object"?null:(V=h&&V[h]||V["@@iterator"],typeof V=="function"?V:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function x(V,W,P){this.props=V,this.context=W,this.refs=b,this.updater=P||g}x.prototype.isReactComponent={},x.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},x.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function w(){}w.prototype=x.prototype;function S(V,W,P){this.props=V,this.context=W,this.refs=b,this.updater=P||g}var N=S.prototype=new w;N.constructor=S,v(N,x.prototype),N.isPureReactComponent=!0;var k=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function O(V,W,P,$,G,ne){return P=ne.ref,{$$typeof:e,type:V,key:W,ref:P!==void 0?P:null,props:ne}}function D(V,W){return O(V.type,W,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function q(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(P){return W[P]})}var U=/\/+/g;function I(V,W){return typeof V=="object"&&V!==null&&V.key!=null?q(""+V.key):W.toString(36)}function Q(){}function H(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Q,Q):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,W,P,$,G){var ne=typeof V;(ne==="undefined"||ne==="boolean")&&(V=null);var se=!1;if(V===null)se=!0;else switch(ne){case"bigint":case"string":case"number":se=!0;break;case"object":switch(V.$$typeof){case e:case t:se=!0;break;case f:return se=V._init,Y(se(V._payload),W,P,$,G)}}if(se)return G=G(V),se=$===""?"."+I(V,0):$,k(G)?(P="",se!=null&&(P=se.replace(U,"$&/")+"/"),Y(G,W,P,"",function(fe){return fe})):G!=null&&(R(G)&&(G=D(G,P+(G.key==null||V&&V.key===G.key?"":(""+G.key).replace(U,"$&/")+"/")+se)),W.push(G)),1;se=0;var ve=$===""?".":$+":";if(k(V))for(var he=0;he<V.length;he++)$=V[he],ne=ve+I($,he),se+=Y($,W,P,ne,G);else if(he=p(V),typeof he=="function")for(V=he.call(V),he=0;!($=V.next()).done;)$=$.value,ne=ve+I($,he++),se+=Y($,W,P,ne,G);else if(ne==="object"){if(typeof V.then=="function")return Y(H(V),W,P,$,G);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return se}function K(V,W,P){if(V==null)return V;var $=[],G=0;return Y(V,$,"","",function(ne){return W.call(P,ne,G++)}),$}function J(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(P){(V._status===0||V._status===-1)&&(V._status=1,V._result=P)},function(P){(V._status===0||V._status===-1)&&(V._status=2,V._result=P)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var re=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function oe(){}return Sr.Children={map:K,forEach:function(V,W,P){K(V,function(){W.apply(this,arguments)},P)},count:function(V){var W=0;return K(V,function(){W++}),W},toArray:function(V){return K(V,function(W){return W})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Sr.Component=x,Sr.Fragment=r,Sr.Profiler=a,Sr.PureComponent=S,Sr.StrictMode=n,Sr.Suspense=c,Sr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Sr.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Sr.cache=function(V){return function(){return V.apply(null,arguments)}},Sr.cloneElement=function(V,W,P){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var $=v({},V.props),G=V.key,ne=void 0;if(W!=null)for(se in W.ref!==void 0&&(ne=void 0),W.key!==void 0&&(G=""+W.key),W)!T.call(W,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&W.ref===void 0||($[se]=W[se]);var se=arguments.length-2;if(se===1)$.children=P;else if(1<se){for(var ve=Array(se),he=0;he<se;he++)ve[he]=arguments[he+2];$.children=ve}return O(V.type,G,void 0,void 0,ne,$)},Sr.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:i,_context:V},V},Sr.createElement=function(V,W,P){var $,G={},ne=null;if(W!=null)for($ in W.key!==void 0&&(ne=""+W.key),W)T.call(W,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(G[$]=W[$]);var se=arguments.length-2;if(se===1)G.children=P;else if(1<se){for(var ve=Array(se),he=0;he<se;he++)ve[he]=arguments[he+2];G.children=ve}if(V&&V.defaultProps)for($ in se=V.defaultProps,se)G[$]===void 0&&(G[$]=se[$]);return O(V,ne,void 0,void 0,null,G)},Sr.createRef=function(){return{current:null}},Sr.forwardRef=function(V){return{$$typeof:o,render:V}},Sr.isValidElement=R,Sr.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:J}},Sr.memo=function(V,W){return{$$typeof:A,type:V,compare:W===void 0?null:W}},Sr.startTransition=function(V){var W=C.T,P={};C.T=P;try{var $=V(),G=C.S;G!==null&&G(P,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(oe,re)}catch(ne){re(ne)}finally{C.T=W}},Sr.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Sr.use=function(V){return C.H.use(V)},Sr.useActionState=function(V,W,P){return C.H.useActionState(V,W,P)},Sr.useCallback=function(V,W){return C.H.useCallback(V,W)},Sr.useContext=function(V){return C.H.useContext(V)},Sr.useDebugValue=function(){},Sr.useDeferredValue=function(V,W){return C.H.useDeferredValue(V,W)},Sr.useEffect=function(V,W,P){var $=C.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(V,W)},Sr.useId=function(){return C.H.useId()},Sr.useImperativeHandle=function(V,W,P){return C.H.useImperativeHandle(V,W,P)},Sr.useInsertionEffect=function(V,W){return C.H.useInsertionEffect(V,W)},Sr.useLayoutEffect=function(V,W){return C.H.useLayoutEffect(V,W)},Sr.useMemo=function(V,W){return C.H.useMemo(V,W)},Sr.useOptimistic=function(V,W){return C.H.useOptimistic(V,W)},Sr.useReducer=function(V,W,P){return C.H.useReducer(V,W,P)},Sr.useRef=function(V){return C.H.useRef(V)},Sr.useState=function(V){return C.H.useState(V)},Sr.useSyncExternalStore=function(V,W,P){return C.H.useSyncExternalStore(V,W,P)},Sr.useTransition=function(){return C.H.useTransition()},Sr.version="19.1.1",Sr}var wI;function aE(){return wI||(wI=1,C_.exports=cX()),C_.exports}var j_={exports:{}},gi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I;function uX(){if(_I)return gi;_I=1;var e=aE();function t(c){var A="https://react.dev/errors/"+c;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)A+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,A,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:c,containerInfo:A,implementation:f}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,A){if(c==="font")return"";if(typeof A=="string")return A==="use-credentials"?A:""}return gi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,gi.createPortal=function(c,A){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error(t(299));return i(c,A,null,f)},gi.flushSync=function(c){var A=s.T,f=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=A,n.p=f,n.d.f()}},gi.preconnect=function(c,A){typeof c=="string"&&(A?(A=A.crossOrigin,A=typeof A=="string"?A==="use-credentials"?A:"":void 0):A=null,n.d.C(c,A))},gi.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},gi.preinit=function(c,A){if(typeof c=="string"&&A&&typeof A.as=="string"){var f=A.as,h=o(f,A.crossOrigin),p=typeof A.integrity=="string"?A.integrity:void 0,g=typeof A.fetchPriority=="string"?A.fetchPriority:void 0;f==="style"?n.d.S(c,typeof A.precedence=="string"?A.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:g}):f==="script"&&n.d.X(c,{crossOrigin:h,integrity:p,fetchPriority:g,nonce:typeof A.nonce=="string"?A.nonce:void 0})}},gi.preinitModule=function(c,A){if(typeof c=="string")if(typeof A=="object"&&A!==null){if(A.as==null||A.as==="script"){var f=o(A.as,A.crossOrigin);n.d.M(c,{crossOrigin:f,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0})}}else A==null&&n.d.M(c)},gi.preload=function(c,A){if(typeof c=="string"&&typeof A=="object"&&A!==null&&typeof A.as=="string"){var f=A.as,h=o(f,A.crossOrigin);n.d.L(c,f,{crossOrigin:h,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0,type:typeof A.type=="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority=="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy=="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet=="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes=="string"?A.imageSizes:void 0,media:typeof A.media=="string"?A.media:void 0})}},gi.preloadModule=function(c,A){if(typeof c=="string")if(A){var f=o(A.as,A.crossOrigin);n.d.m(c,{as:typeof A.as=="string"&&A.as!=="script"?A.as:void 0,crossOrigin:f,integrity:typeof A.integrity=="string"?A.integrity:void 0})}else n.d.m(c)},gi.requestFormReset=function(c){n.d.r(c)},gi.unstable_batchedUpdates=function(c,A){return c(A)},gi.useFormState=function(c,A,f){return s.H.useFormState(c,A,f)},gi.useFormStatus=function(){return s.H.useHostTransitionStatus()},gi.version="19.1.1",gi}var BI;function WH(){if(BI)return j_.exports;BI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),j_.exports=uX(),j_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI;function AX(){if(SI)return fg;SI=1;var e=lX(),t=aE(),r=WH();function n(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var d=u,m=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(m=d.return),u=d.return;while(u)}return d.tag===3?m:null}function s(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function o(u){if(i(u)!==u)throw Error(n(188))}function c(u){var d=u.alternate;if(!d){if(d=i(u),d===null)throw Error(n(188));return d!==u?null:u}for(var m=u,y=d;;){var j=m.return;if(j===null)break;var F=j.alternate;if(F===null){if(y=j.return,y!==null){m=y;continue}break}if(j.child===F.child){for(F=j.child;F;){if(F===m)return o(j),u;if(F===y)return o(j),d;F=F.sibling}throw Error(n(188))}if(m.return!==y.return)m=j,y=F;else{for(var X=!1,ue=j.child;ue;){if(ue===m){X=!0,m=j,y=F;break}if(ue===y){X=!0,y=j,m=F;break}ue=ue.sibling}if(!X){for(ue=F.child;ue;){if(ue===m){X=!0,m=F,y=j;break}if(ue===y){X=!0,y=F,m=j;break}ue=ue.sibling}if(!X)throw Error(n(189))}}if(m.alternate!==y)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?u:d}function A(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(d=A(u),d!==null)return d;u=u.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function I(u){return u===null||typeof u!="object"?null:(u=U&&u[U]||u["@@iterator"],typeof u=="function"?u:null)}var Q=Symbol.for("react.client.reference");function H(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===Q?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case v:return"Fragment";case x:return"Profiler";case b:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList";case R:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case g:return"Portal";case N:return(u.displayName||"Context")+".Provider";case S:return(u._context.displayName||"Context")+".Consumer";case k:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case O:return d=u.displayName||null,d!==null?d:H(u.type)||"Memo";case D:d=u._payload,u=u._init;try{return H(u(d))}catch{}}return null}var Y=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},oe=[],V=-1;function W(u){return{current:u}}function P(u){0>V||(u.current=oe[V],oe[V]=null,V--)}function $(u,d){V++,oe[V]=u.current,u.current=d}var G=W(null),ne=W(null),se=W(null),ve=W(null);function he(u,d){switch($(se,d),$(ne,u),$(G,null),d.nodeType){case 9:case 11:u=(u=d.documentElement)&&(u=u.namespaceURI)?KO(u):0;break;default:if(u=d.tagName,d=d.namespaceURI)d=KO(d),u=zO(d,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}P(G),$(G,u)}function fe(){P(G),P(ne),P(se)}function Qe(u){u.memoizedState!==null&&$(ve,u);var d=G.current,m=zO(d,u.type);d!==m&&($(ne,u),$(G,m))}function $e(u){ne.current===u&&(P(G),P(ne)),ve.current===u&&(P(ve),og._currentValue=re)}var de=Object.prototype.hasOwnProperty,ze=e.unstable_scheduleCallback,nt=e.unstable_cancelCallback,Se=e.unstable_shouldYield,Z=e.unstable_requestPaint,Ke=e.unstable_now,st=e.unstable_getCurrentPriorityLevel,ye=e.unstable_ImmediatePriority,He=e.unstable_UserBlockingPriority,Ve=e.unstable_NormalPriority,ge=e.unstable_LowPriority,je=e.unstable_IdlePriority,we=e.log,Xe=e.unstable_setDisableYieldValue,Pe=null,At=null;function gt(u){if(typeof we=="function"&&Xe(u),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Pe,u)}catch{}}var St=Math.clz32?Math.clz32:$t,Ze=Math.log,rt=Math.LN2;function $t(u){return u>>>=0,u===0?32:31-(Ze(u)/rt|0)|0}var Ht=256,Vt=4194304;function Kt(u){var d=u&42;if(d!==0)return d;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function nr(u,d,m){var y=u.pendingLanes;if(y===0)return 0;var j=0,F=u.suspendedLanes,X=u.pingedLanes;u=u.warmLanes;var ue=y&134217727;return ue!==0?(y=ue&~F,y!==0?j=Kt(y):(X&=ue,X!==0?j=Kt(X):m||(m=ue&~u,m!==0&&(j=Kt(m))))):(ue=y&~F,ue!==0?j=Kt(ue):X!==0?j=Kt(X):m||(m=y&~u,m!==0&&(j=Kt(m)))),j===0?0:d!==0&&d!==j&&(d&F)===0&&(F=j&-j,m=d&-d,F>=m||F===32&&(m&4194048)!==0)?d:j}function wr(u,d){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&d)===0}function Ge(u,d){switch(u){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var u=Ht;return Ht<<=1,(Ht&4194048)===0&&(Ht=256),u}function Ot(){var u=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),u}function Le(u){for(var d=[],m=0;31>m;m++)d.push(u);return d}function ot(u,d){u.pendingLanes|=d,d!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function ht(u,d,m,y,j,F){var X=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var ue=u.entanglements,_e=u.expirationTimes,et=u.hiddenUpdates;for(m=X&~m;0<m;){var pt=31-St(m),_t=1<<pt;ue[pt]=0,_e[pt]=-1;var at=et[pt];if(at!==null)for(et[pt]=null,pt=0;pt<at.length;pt++){var it=at[pt];it!==null&&(it.lane&=-536870913)}m&=~_t}y!==0&&mt(u,y,0),F!==0&&j===0&&u.tag!==0&&(u.suspendedLanes|=F&~(X&~d))}function mt(u,d,m){u.pendingLanes|=d,u.suspendedLanes&=~d;var y=31-St(d);u.entangledLanes|=d,u.entanglements[y]=u.entanglements[y]|1073741824|m&4194090}function It(u,d){var m=u.entangledLanes|=d;for(u=u.entanglements;m;){var y=31-St(m),j=1<<y;j&d|u[y]&d&&(u[y]|=d),m&=~j}}function Ce(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Et(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Pt(){var u=J.p;return u!==0?u:(u=window.event,u===void 0?32:AI(u.type))}function jr(u,d){var m=J.p;try{return J.p=u,d()}finally{J.p=m}}var Ft=Math.random().toString(36).slice(2),mr="__reactFiber$"+Ft,Nr="__reactProps$"+Ft,$r="__reactContainer$"+Ft,ur="__reactEvents$"+Ft,yn="__reactListeners$"+Ft,Ya="__reactHandles$"+Ft,ho="__reactResources$"+Ft,Xa="__reactMarker$"+Ft;function Ja(u){delete u[mr],delete u[Nr],delete u[ur],delete u[yn],delete u[Ya]}function da(u){var d=u[mr];if(d)return d;for(var m=u.parentNode;m;){if(d=m[$r]||m[mr]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(u=YO(u);u!==null;){if(m=u[mr])return m;u=YO(u)}return d}u=m,m=u.parentNode}return null}function fa(u){if(u=u[mr]||u[$r]){var d=u.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return u}return null}function Ua(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u.stateNode;throw Error(n(33))}function Jn(u){var d=u[ho];return d||(d=u[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Yr(u){u[Xa]=!0}var ks=new Set,mo={};function ui(u,d){Ni(u,d),Ni(u+"Capture",d)}function Ni(u,d){for(mo[u]=d,u=0;u<d.length;u++)ks.add(d[u])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},Es={};function uu(u){return de.call(Es,u)?!0:de.call(dl,u)?!1:Al.test(u)?Es[u]=!0:(dl[u]=!0,!1)}function Fa(u,d,m){if(uu(d))if(m===null)u.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){u.removeAttribute(d);return}}u.setAttribute(d,""+m)}}function po(u,d,m){if(m===null)u.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(d);return}u.setAttribute(d,""+m)}}function Da(u,d,m,y){if(y===null)u.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(d,m,""+y)}}var as,Au;function is(u){if(as===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);as=d&&d[1]||"",Au=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+as+u+Au}var go=!1;function Ts(u,d){if(!u||go)return"";go=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(it){var at=it}Reflect.construct(u,[],_t)}else{try{_t.call()}catch(it){at=it}u.call(_t.prototype)}}else{try{throw Error()}catch(it){at=it}(_t=u())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(it){if(it&&at&&typeof it.stack=="string")return[it.stack,at.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=y.DetermineComponentFrameRoot(),X=F[0],ue=F[1];if(X&&ue){var _e=X.split(`
`),et=ue.split(`
`);for(j=y=0;y<_e.length&&!_e[y].includes("DetermineComponentFrameRoot");)y++;for(;j<et.length&&!et[j].includes("DetermineComponentFrameRoot");)j++;if(y===_e.length||j===et.length)for(y=_e.length-1,j=et.length-1;1<=y&&0<=j&&_e[y]!==et[j];)j--;for(;1<=y&&0<=j;y--,j--)if(_e[y]!==et[j]){if(y!==1||j!==1)do if(y--,j--,0>j||_e[y]!==et[j]){var pt=`
`+_e[y].replace(" at new "," at ");return u.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",u.displayName)),pt}while(1<=y&&0<=j);break}}}finally{go=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?is(m):""}function KA(u){switch(u.tag){case 26:case 27:case 5:return is(u.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return Ts(u.type,!1);case 11:return Ts(u.type.render,!1);case 1:return Ts(u.type,!0);case 31:return is("Activity");default:return""}}function ce(u){try{var d="";do d+=KA(u),u=u.return;while(u);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Be(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function pe(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Fe(u){var d=pe(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),y=""+u[d];if(!u.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var j=m.get,F=m.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return j.call(this)},set:function(X){y=""+X,F.call(this,X)}}),Object.defineProperty(u,d,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(X){y=""+X},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function Me(u){u._valueTracker||(u._valueTracker=Fe(u))}function Ie(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var m=d.getValue(),y="";return u&&(y=pe(u)?u.checked?"true":"false":u.value),u=y,u!==m?(d.setValue(u),!0):!1}function ct(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Nt=/[\n"\\]/g;function yt(u){return u.replace(Nt,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Ct(u,d,m,y,j,F,X,ue){u.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?u.type=X:u.removeAttribute("type"),d!=null?X==="number"?(d===0&&u.value===""||u.value!=d)&&(u.value=""+Be(d)):u.value!==""+Be(d)&&(u.value=""+Be(d)):X!=="submit"&&X!=="reset"||u.removeAttribute("value"),d!=null?zt(u,X,Be(d)):m!=null?zt(u,X,Be(m)):y!=null&&u.removeAttribute("value"),j==null&&F!=null&&(u.defaultChecked=!!F),j!=null&&(u.checked=j&&typeof j!="function"&&typeof j!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?u.name=""+Be(ue):u.removeAttribute("name")}function Tt(u,d,m,y,j,F,X,ue){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(u.type=F),d!=null||m!=null){if(!(F!=="submit"&&F!=="reset"||d!=null))return;m=m!=null?""+Be(m):"",d=d!=null?""+Be(d):m,ue||d===u.value||(u.value=d),u.defaultValue=d}y=y??j,y=typeof y!="function"&&typeof y!="symbol"&&!!y,u.checked=ue?u.checked:!!y,u.defaultChecked=!!y,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(u.name=X)}function zt(u,d,m){d==="number"&&ct(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function ir(u,d,m,y){if(u=u.options,d){d={};for(var j=0;j<m.length;j++)d["$"+m[j]]=!0;for(m=0;m<u.length;m++)j=d.hasOwnProperty("$"+u[m].value),u[m].selected!==j&&(u[m].selected=j),j&&y&&(u[m].defaultSelected=!0)}else{for(m=""+Be(m),d=null,j=0;j<u.length;j++){if(u[j].value===m){u[j].selected=!0,y&&(u[j].defaultSelected=!0);return}d!==null||u[j].disabled||(d=u[j])}d!==null&&(d.selected=!0)}}function Er(u,d,m){if(d!=null&&(d=""+Be(d),d!==u.value&&(u.value=d),m==null)){u.defaultValue!==d&&(u.defaultValue=d);return}u.defaultValue=m!=null?""+Be(m):""}function Tr(u,d,m,y){if(d==null){if(y!=null){if(m!=null)throw Error(n(92));if(Y(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),d=m}m=Be(d),u.defaultValue=m,y=u.textContent,y===m&&y!==""&&y!==null&&(u.value=y)}function Xr(u,d){if(d){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=d;return}}u.textContent=d}var nn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xa(u,d,m){var y=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?u.setProperty(d,""):d==="float"?u.cssFloat="":u[d]="":y?u.setProperty(d,m):typeof m!="number"||m===0||nn.has(d)?d==="float"?u.cssFloat=m:u[d]=(""+m).trim():u[d]=m+"px"}function Os(u,d,m){if(d!=null&&typeof d!="object")throw Error(n(62));if(u=u.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?u.setProperty(y,""):y==="float"?u.cssFloat="":u[y]="");for(var j in d)y=d[j],d.hasOwnProperty(j)&&m[j]!==y&&xa(u,j,y)}else for(var F in d)d.hasOwnProperty(F)&&xa(u,F,d[F])}function bo(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ss=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(u){return Is.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var fl=null;function zn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var os=null,yo=null;function fr(u){var d=fa(u);if(d&&(u=d.stateNode)){var m=u[Nr]||null;e:switch(u=d.stateNode,d.type){case"input":if(Ct(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+yt(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var y=m[d];if(y!==u&&y.form===u.form){var j=y[Nr]||null;if(!j)throw Error(n(90));Ct(y,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(d=0;d<m.length;d++)y=m[d],y.form===u.form&&Ie(y)}break e;case"textarea":Er(u,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&ir(u,!!m.multiple,d,!1)}}}var zA=!1;function Ef(u,d,m){if(zA)return u(d,m);zA=!0;try{var y=u(d);return y}finally{if(zA=!1,(os!==null||yo!==null)&&(pv(),os&&(d=os,u=yo,yo=os=null,fr(d),u)))for(d=0;d<u.length;d++)fr(u[d])}}function Ai(u,d){var m=u.stateNode;if(m===null)return null;var y=m[Nr]||null;if(y===null)return null;m=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(u=u.type,y=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!y;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=!1;if(Qi)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){du=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{du=!1}var Ri=null,GA=null,fu=null;function Tf(){if(fu)return fu;var u,d=GA,m=d.length,y,j="value"in Ri?Ri.value:Ri.textContent,F=j.length;for(u=0;u<m&&d[u]===j[u];u++);var X=m-u;for(y=1;y<=X&&d[m-y]===j[F-y];y++);return fu=j.slice(u,1<y?1-y:void 0)}function hl(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Ds(){return!0}function vo(){return!1}function La(u){function d(m,y,j,F,X){this._reactName=m,this._targetInst=j,this.type=y,this.nativeEvent=F,this.target=X,this.currentTarget=null;for(var ue in u)u.hasOwnProperty(ue)&&(m=u[ue],this[ue]=m?m(F):F[ue]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Ds:vo,this.isPropagationStopped=vo,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),d}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=La(Ci),Ls=f({},Ci,{view:0,detail:0}),Of=La(Ls),hu,mu,pl,Hi=f({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==pl&&(pl&&u.type==="mousemove"?(hu=u.screenX-pl.screenX,mu=u.screenY-pl.screenY):mu=hu=0,pl=u),hu)},movementY:function(u){return"movementY"in u?u.movementY:mu}}),xo=La(Hi),Bp=f({},Hi,{dataTransfer:0}),gl=La(Bp),ls=f({},Ls,{relatedTarget:0}),oc=La(ls),lc=f({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Sp=La(lc),pu=f({},Ci,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Np=La(pu),VA=f({},Ci,{data:0}),gu=La(VA),If={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YA(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=WA[u])?!!d[u]:!1}function yu(){return YA}var Cp=f({},Ls,{key:function(u){if(u.key){var d=If[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=hl(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?bu[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(u){return u.type==="keypress"?hl(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?hl(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),vu=La(Cp),cc=f({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=La(cc),bl=f({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),XA=La(bl),L=f({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),te=La(L),be=f({},Hi,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=La(be),qe=f({},Ci,{newState:0,oldState:0}),ut=La(qe),jt=[9,13,27,32],Mt=Qi&&"CompositionEvent"in window,Xt=null;Qi&&"documentMode"in document&&(Xt=document.documentMode);var yr=Qi&&"TextEvent"in window&&!Xt,xr=Qi&&(!Mt||Xt&&8<Xt&&11>=Xt),Or=" ",vn=!1;function kn(u,d){switch(u){case"keyup":return jt.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Qn=!1;function ha(u,d){switch(u){case"compositionend":return Pn(d);case"keypress":return d.which!==32?null:(vn=!0,Or);case"textInput":return u=d.data,u===Or&&vn?null:u;default:return null}}function cs(u,d){if(Qn)return u==="compositionend"||!Mt&&kn(u,d)?(u=Tf(),fu=GA=Ri=null,Qn=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return xr&&d.locale!=="ko"?null:d.data;default:return null}}var ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ms(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!ji[u.type]:d==="textarea"}function JA(u,d,m,y){os?yo?yo.push(y):yo=[y]:os=y,d=wv(d,"onChange"),0<d.length&&(m=new ml("onChange","change",null,m,y),u.push({event:m,listeners:d}))}var wo=null,_o=null;function wu(u){QO(u,0)}function yl(u){var d=Ua(u);if(Ie(d))return u}function _u(u,d){if(u==="change")return d}var uc=!1;if(Qi){var Ma;if(Qi){var vl="oninput"in document;if(!vl){var Ac=document.createElement("div");Ac.setAttribute("oninput","return;"),vl=typeof Ac.oninput=="function"}Ma=vl}else Ma=!1;uc=Ma&&(!document.documentMode||9<document.documentMode)}function dc(){wo&&(wo.detachEvent("onpropertychange",Bu),_o=wo=null)}function Bu(u){if(u.propertyName==="value"&&yl(_o)){var d=[];JA(d,_o,u,zn(u)),Ef(wu,d)}}function di(u,d,m){u==="focusin"?(dc(),wo=d,_o=m,wo.attachEvent("onpropertychange",Bu)):u==="focusout"&&dc()}function jp(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return yl(_o)}function ZA(u,d){if(u==="click")return yl(d)}function Uf(u,d){if(u==="input"||u==="change")return yl(d)}function us(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var wa=typeof Object.is=="function"?Object.is:us;function fc(u,d){if(wa(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var m=Object.keys(u),y=Object.keys(d);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var j=m[y];if(!de.call(d,j)||!wa(u[j],d[j]))return!1}return!0}function Ff(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Bo(u,d){var m=Ff(u);u=0;for(var y;m;){if(m.nodeType===3){if(y=u+m.textContent.length,u<=d&&y>=d)return{node:m,offset:d-u};u=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Ff(m)}}function ki(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?ki(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function $i(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var d=ct(u.document);d instanceof u.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)u=d.contentWindow;else break;d=ct(u.document)}return d}function Ps(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}var Qs=Qi&&"documentMode"in document&&11>=document.documentMode,fi=null,xl=null,Za=null,wl=!1;function Su(u,d,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;wl||fi==null||fi!==ct(y)||(y=fi,"selectionStart"in y&&Ps(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Za&&fc(Za,y)||(Za=y,y=wv(xl,"onSelect"),0<y.length&&(d=new ml("onSelect","select",null,d,m),u.push({event:d,listeners:y}),d.target=fi)))}function hi(u,d){var m={};return m[u.toLowerCase()]=d.toLowerCase(),m["Webkit"+u]="webkit"+d,m["Moz"+u]="moz"+d,m}var Pa={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},As={},_l={};Qi&&(_l=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function qi(u){if(As[u])return As[u];if(!Pa[u])return u;var d=Pa[u],m;for(m in d)if(d.hasOwnProperty(m)&&m in _l)return As[u]=d[m];return u}var Bl=qi("animationend"),So=qi("animationiteration"),Nu=qi("animationstart"),Ki=qi("transitionrun"),No=qi("transitionstart"),un=qi("transitioncancel"),an=qi("transitionend"),Un=new Map,Rn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rn.push("scrollEnd");function Zn(u,d){Un.set(u,d),ui(d,[u])}var Co=new WeakMap;function _a(u,d){if(typeof u=="object"&&u!==null){var m=Co.get(u);return m!==void 0?m:(d={value:u,source:d,stack:ce(d)},Co.set(u,d),d)}return{value:u,source:d,stack:ce(d)}}var ei=[],hc=0,Df=0;function ed(){for(var u=hc,d=Df=hc=0;d<u;){var m=ei[d];ei[d++]=null;var y=ei[d];ei[d++]=null;var j=ei[d];ei[d++]=null;var F=ei[d];if(ei[d++]=null,y!==null&&j!==null){var X=y.pending;X===null?j.next=j:(j.next=X.next,X.next=j),y.pending=j}F!==0&&Mf(m,j,F)}}function td(u,d,m,y){ei[hc++]=u,ei[hc++]=d,ei[hc++]=m,ei[hc++]=y,Df|=y,u.lanes|=y,u=u.alternate,u!==null&&(u.lanes|=y)}function Lf(u,d,m,y){return td(u,d,m,y),pc(u)}function mc(u,d){return td(u,null,null,d),pc(u)}function Mf(u,d,m){u.lanes|=m;var y=u.alternate;y!==null&&(y.lanes|=m);for(var j=!1,F=u.return;F!==null;)F.childLanes|=m,y=F.alternate,y!==null&&(y.childLanes|=m),F.tag===22&&(u=F.stateNode,u===null||u._visibility&1||(j=!0)),u=F,F=F.return;return u.tag===3?(F=u.stateNode,j&&d!==null&&(j=31-St(m),u=F.hiddenUpdates,y=u[j],y===null?u[j]=[d]:y.push(d),d.lane=m|536870912),F):null}function pc(u){if(50<Zp)throw Zp=0,G2=null,Error(n(185));for(var d=u.return;d!==null;)u=d,d=u.return;return u.tag===3?u.stateNode:null}var ma={};function zi(u,d,m,y){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(u,d,m,y){return new zi(u,d,m,y)}function Cu(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Rs(u,d){var m=u.alternate;return m===null?(m=Qa(u.tag,d,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=d,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&65011712,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,d=u.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function rd(u,d){u.flags&=65011714;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=d,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,d=m.dependencies,u.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),u}function gc(u,d,m,y,j,F){var X=0;if(y=u,typeof u=="function")Cu(u)&&(X=1);else if(typeof u=="string")X=qY(u,m,G.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case R:return u=Qa(31,m,d,j),u.elementType=R,u.lanes=F,u;case v:return jo(m.children,j,F,d);case b:X=8,j|=24;break;case x:return u=Qa(12,m,d,j|2),u.elementType=x,u.lanes=F,u;case C:return u=Qa(13,m,d,j),u.elementType=C,u.lanes=F,u;case T:return u=Qa(19,m,d,j),u.elementType=T,u.lanes=F,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case w:case N:X=10;break e;case S:X=9;break e;case k:X=11;break e;case O:X=14;break e;case D:X=16,y=null;break e}X=29,m=Error(n(130,u===null?"null":typeof u,"")),y=null}return d=Qa(X,m,d,j),d.elementType=u,d.type=y,d.lanes=F,d}function jo(u,d,m,y){return u=Qa(7,u,y,d),u.lanes=m,u}function Pf(u,d,m){return u=Qa(6,u,null,d),u.lanes=m,u}function nd(u,d,m){return d=Qa(4,u.children!==null?u.children:[],u.key,d),d.lanes=m,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}var Sl=[],ko=0,ju=null,Qf=0,Gi=[],Ei=0,bc=null,Eo=1,To="";function yc(u,d){Sl[ko++]=Qf,Sl[ko++]=ju,ju=u,Qf=d}function Qy(u,d,m){Gi[Ei++]=Eo,Gi[Ei++]=To,Gi[Ei++]=bc,bc=u;var y=Eo;u=To;var j=32-St(y)-1;y&=~(1<<j),m+=1;var F=32-St(d)+j;if(30<F){var X=j-j%5;F=(y&(1<<X)-1).toString(32),y>>=X,j-=X,Eo=1<<32-St(d)+j|m<<j|y,To=F+u}else Eo=1<<F|m<<j|y,To=u}function ad(u){u.return!==null&&(yc(u,1),Qy(u,1,0))}function id(u){for(;u===ju;)ju=Sl[--ko],Sl[ko]=null,Qf=Sl[--ko],Sl[ko]=null;for(;u===bc;)bc=Gi[--Ei],Gi[Ei]=null,To=Gi[--Ei],Gi[Ei]=null,Eo=Gi[--Ei],Gi[Ei]=null}var ea=null,Fn=null,qr=!1,Nl=null,Hs=!1,kp=Error(n(519));function vc(u){var d=Error(n(418,""));throw ku(_a(d,u)),kp}function Ry(u){var d=u.stateNode,m=u.type,y=u.memoizedProps;switch(d[mr]=u,d[Nr]=y,m){case"dialog":Ur("cancel",d),Ur("close",d);break;case"iframe":case"object":case"embed":Ur("load",d);break;case"video":case"audio":for(m=0;m<tg.length;m++)Ur(tg[m],d);break;case"source":Ur("error",d);break;case"img":case"image":case"link":Ur("error",d),Ur("load",d);break;case"details":Ur("toggle",d);break;case"input":Ur("invalid",d),Tt(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),Me(d);break;case"select":Ur("invalid",d);break;case"textarea":Ur("invalid",d),Tr(d,y.value,y.defaultValue,y.children),Me(d)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||y.suppressHydrationWarning===!0||qO(d.textContent,m)?(y.popover!=null&&(Ur("beforetoggle",d),Ur("toggle",d)),y.onScroll!=null&&Ur("scroll",d),y.onScrollEnd!=null&&Ur("scrollend",d),y.onClick!=null&&(d.onclick=_v),d=!0):d=!1,d||vc(u)}function Oo(u){for(ea=u.return;ea;)switch(ea.tag){case 5:case 13:Hs=!1;return;case 27:case 3:Hs=!0;return;default:ea=ea.return}}function ti(u){if(u!==ea)return!1;if(!qr)return Oo(u),qr=!0,!1;var d=u.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||c_(u.type,u.memoizedProps)),m=!m),m&&Fn&&vc(u),Oo(u),d===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8)if(m=u.data,m==="/$"){if(d===0){Fn=Qo(u.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;u=u.nextSibling}Fn=null}}else d===27?(d=Fn,zu(u.type)?(u=f_,f_=null,Fn=u):Fn=d):Fn=ea?Qo(u.stateNode.nextSibling):null;return!0}function Ti(){Fn=ea=null,qr=!1}function Hy(){var u=Nl;return u!==null&&(Yi===null?Yi=u:Yi.push.apply(Yi,u),Nl=null),u}function ku(u){Nl===null?Nl=[u]:Nl.push(u)}var $s=W(null),pa=null,Io=null;function Cl(u,d,m){$($s,d._currentValue),d._currentValue=m}function qs(u){u._currentValue=$s.current,P($s)}function Rf(u,d,m){for(;u!==null;){var y=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),u===m)break;u=u.return}}function Hf(u,d,m,y){var j=u.child;for(j!==null&&(j.return=u);j!==null;){var F=j.dependencies;if(F!==null){var X=j.child;F=F.firstContext;e:for(;F!==null;){var ue=F;F=j;for(var _e=0;_e<d.length;_e++)if(ue.context===d[_e]){F.lanes|=m,ue=F.alternate,ue!==null&&(ue.lanes|=m),Rf(F.return,m,u),y||(X=null);break e}F=ue.next}}else if(j.tag===18){if(X=j.return,X===null)throw Error(n(341));X.lanes|=m,F=X.alternate,F!==null&&(F.lanes|=m),Rf(X,m,u),X=null}else X=j.child;if(X!==null)X.return=j;else for(X=j;X!==null;){if(X===u){X=null;break}if(j=X.sibling,j!==null){j.return=X.return,X=j;break}X=X.return}j=X}}function Eu(u,d,m,y){u=null;for(var j=d,F=!1;j!==null;){if(!F){if((j.flags&524288)!==0)F=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var X=j.alternate;if(X===null)throw Error(n(387));if(X=X.memoizedProps,X!==null){var ue=j.type;wa(j.pendingProps.value,X.value)||(u!==null?u.push(ue):u=[ue])}}else if(j===ve.current){if(X=j.alternate,X===null)throw Error(n(387));X.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(u!==null?u.push(og):u=[og])}j=j.return}u!==null&&Hf(d,u,m,y),d.flags|=262144}function $f(u){for(u=u.firstContext;u!==null;){if(!wa(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Ks(u){pa=u,Io=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function ta(u){return qf(pa,u)}function jl(u,d){return pa===null&&Ks(u),qf(u,d)}function qf(u,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},Io===null){if(u===null)throw Error(n(308));Io=d,u.dependencies={lanes:0,firstContext:d},u.flags|=524288}else Io=Io.next=d;return m}var b2=typeof AbortController<"u"?AbortController:function(){var u=[],d=this.signal={aborted:!1,addEventListener:function(m,y){u.push(y)}};this.abort=function(){d.aborted=!0,u.forEach(function(m){return m()})}},$y=e.unstable_scheduleCallback,y2=e.unstable_NormalPriority,ra={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ep(){return{controller:new b2,data:new Map,refCount:0}}function sd(u){u.refCount--,u.refCount===0&&$y(y2,function(){u.controller.abort()})}var od=null,Tp=0,xc=0,Uo=null;function v2(u,d){if(od===null){var m=od=[];Tp=0,xc=e_(),Uo={status:"pending",value:void 0,then:function(y){m.push(y)}}}return Tp++,d.then(qy,qy),d}function qy(){if(--Tp===0&&od!==null){Uo!==null&&(Uo.status="fulfilled");var u=od;od=null,xc=0,Uo=null;for(var d=0;d<u.length;d++)(0,u[d])()}}function Ky(u,d){var m=[],y={status:"pending",value:null,reason:null,then:function(j){m.push(j)}};return u.then(function(){y.status="fulfilled",y.value=d;for(var j=0;j<m.length;j++)(0,m[j])(d)},function(j){for(y.status="rejected",y.reason=j,j=0;j<m.length;j++)(0,m[j])(void 0)}),y}var _=K.S;K.S=function(u,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&v2(u,d),_!==null&&_(u,d)};var E=W(null);function M(){var u=E.current;return u!==null?u:wn.pooledCache}function z(u,d){d===null?$(E,E.current):$(E,d.pool)}function ee(){var u=M();return u===null?null:{parent:ra._currentValue,pool:u}}var ae=Error(n(460)),ie=Error(n(474)),le=Error(n(542)),Ae={then:function(){}};function me(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Ee(){}function Je(u,d,m){switch(m=u[m],m===void 0?u.push(d):m!==d&&(d.then(Ee,Ee),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,xt(u),u;default:if(typeof d.status=="string")d.then(Ee,Ee);else{if(u=wn,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=d,u.status="pending",u.then(function(y){if(d.status==="pending"){var j=d;j.status="fulfilled",j.value=y}},function(y){if(d.status==="pending"){var j=d;j.status="rejected",j.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,xt(u),u}throw We=d,ae}}var We=null;function De(){if(We===null)throw Error(n(459));var u=We;return We=null,u}function xt(u){if(u===ae||u===le)throw Error(n(483))}var lt=!1;function Te(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ue(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function dt(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function wt(u,d,m){var y=u.updateQueue;if(y===null)return null;if(y=y.shared,(on&2)!==0){var j=y.pending;return j===null?d.next=d:(d.next=j.next,j.next=d),y.pending=d,d=pc(u),Mf(u,null,m),d}return td(u,y,d,m),pc(u)}function bt(u,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var y=d.lanes;y&=u.pendingLanes,m|=y,d.lanes=m,It(u,m)}}function Qt(u,d){var m=u.updateQueue,y=u.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var j=null,F=null;if(m=m.firstBaseUpdate,m!==null){do{var X={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};F===null?j=F=X:F=F.next=X,m=m.next}while(m!==null);F===null?j=F=d:F=F.next=d}else j=F=d;m={baseState:y.baseState,firstBaseUpdate:j,lastBaseUpdate:F,shared:y.shared,callbacks:y.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=d}var Ut=!1;function Jt(){if(Ut){var u=Uo;if(u!==null)throw u}}function Dt(u,d,m,y){Ut=!1;var j=u.updateQueue;lt=!1;var F=j.firstBaseUpdate,X=j.lastBaseUpdate,ue=j.shared.pending;if(ue!==null){j.shared.pending=null;var _e=ue,et=_e.next;_e.next=null,X===null?F=et:X.next=et,X=_e;var pt=u.alternate;pt!==null&&(pt=pt.updateQueue,ue=pt.lastBaseUpdate,ue!==X&&(ue===null?pt.firstBaseUpdate=et:ue.next=et,pt.lastBaseUpdate=_e))}if(F!==null){var _t=j.baseState;X=0,pt=et=_e=null,ue=F;do{var at=ue.lane&-536870913,it=at!==ue.lane;if(it?(Rr&at)===at:(y&at)===at){at!==0&&at===xc&&(Ut=!0),pt!==null&&(pt=pt.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var hr=u,ar=ue;at=d;var dn=m;switch(ar.tag){case 1:if(hr=ar.payload,typeof hr=="function"){_t=hr.call(dn,_t,at);break e}_t=hr;break e;case 3:hr.flags=hr.flags&-65537|128;case 0:if(hr=ar.payload,at=typeof hr=="function"?hr.call(dn,_t,at):hr,at==null)break e;_t=f({},_t,at);break e;case 2:lt=!0}}at=ue.callback,at!==null&&(u.flags|=64,it&&(u.flags|=8192),it=j.callbacks,it===null?j.callbacks=[at]:it.push(at))}else it={lane:at,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},pt===null?(et=pt=it,_e=_t):pt=pt.next=it,X|=at;if(ue=ue.next,ue===null){if(ue=j.shared.pending,ue===null)break;it=ue,ue=it.next,it.next=null,j.lastBaseUpdate=it,j.shared.pending=null}}while(!0);pt===null&&(_e=_t),j.baseState=_e,j.firstBaseUpdate=et,j.lastBaseUpdate=pt,F===null&&(j.shared.lanes=0),Hu|=X,u.lanes=X,u.memoizedState=_t}}function Pr(u,d){if(typeof u!="function")throw Error(n(191,u));u.call(d)}function Kr(u,d){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)Pr(m[u],d)}var Cr=W(null),Br=W(0);function Zr(u,d){u=Tc,$(Br,u),$(Cr,d),Tc=u|d.baseLanes}function zr(){$(Br,Tc),$(Cr,Cr.current)}function gr(){Tc=Br.current,P(Cr),P(Br)}var sn=0,rr=null,Ar=null,Mr=null,Qr=!1,ga=!1,na=!1,Hn=0,$n=0,Gn=null,Vi=0;function Gr(){throw Error(n(321))}function Vn(u,d){if(d===null)return!1;for(var m=0;m<d.length&&m<u.length;m++)if(!wa(u[m],d[m]))return!1;return!0}function ds(u,d,m,y,j,F){return sn=F,rr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,K.H=u===null||u.memoizedState===null?B3:S3,na=!1,F=m(y,j),na=!1,ga&&(F=wc(d,m,y,j)),kl(u),F}function kl(u){K.H=nv;var d=Ar!==null&&Ar.next!==null;if(sn=0,Mr=Ar=rr=null,Qr=!1,$n=0,Gn=null,d)throw Error(n(300));u===null||Ra||(u=u.dependencies,u!==null&&$f(u)&&(Ra=!0))}function wc(u,d,m,y){rr=u;var j=0;do{if(ga&&(Gn=null),$n=0,ga=!1,25<=j)throw Error(n(301));if(j+=1,Mr=Ar=null,u.updateQueue!=null){var F=u.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}K.H=tY,F=d(m,y)}while(ga);return F}function El(){var u=K.H,d=u.useState()[0];return d=typeof d.then=="function"?Tl(d):d,u=u.useState()[0],(Ar!==null?Ar.memoizedState:null)!==u&&(rr.flags|=1024),d}function xn(){var u=Hn!==0;return Hn=0,u}function ld(u,d,m){d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~m}function Kf(u){if(Qr){for(u=u.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Qr=!1}sn=0,Mr=Ar=rr=null,ga=!1,$n=Hn=0,Gn=null}function ri(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?rr.memoizedState=Mr=u:Mr=Mr.next=u,Mr}function En(){if(Ar===null){var u=rr.alternate;u=u!==null?u.memoizedState:null}else u=Ar.next;var d=Mr===null?rr.memoizedState:Mr.next;if(d!==null)Mr=d,Ar=u;else{if(u===null)throw rr.alternate===null?Error(n(467)):Error(n(310));Ar=u,u={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Mr===null?rr.memoizedState=Mr=u:Mr=Mr.next=u}return Mr}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(u){var d=$n;return $n+=1,Gn===null&&(Gn=[]),u=Je(Gn,u,d),d=rr,(Mr===null?d.memoizedState:Mr.next)===null&&(d=d.alternate,K.H=d===null||d.memoizedState===null?B3:S3),u}function mi(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Tl(u);if(u.$$typeof===N)return ta(u)}throw Error(n(438,String(u)))}function Ol(u){var d=null,m=rr.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var y=rr.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(j){return j.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=_c(),rr.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(u),y=0;y<u;y++)m[y]=q;return d.index++,m}function pi(u,d){return typeof d=="function"?d(u):d}function cd(u){var d=En();return Tu(d,Ar,u)}function Tu(u,d,m){var y=u.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=m;var j=u.baseQueue,F=y.pending;if(F!==null){if(j!==null){var X=j.next;j.next=F.next,F.next=X}d.baseQueue=j=F,y.pending=null}if(F=u.baseState,j===null)u.memoizedState=F;else{d=j.next;var ue=X=null,_e=null,et=d,pt=!1;do{var _t=et.lane&-536870913;if(_t!==et.lane?(Rr&_t)===_t:(sn&_t)===_t){var at=et.revertLane;if(at===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),_t===xc&&(pt=!0);else if((sn&at)===at){et=et.next,at===xc&&(pt=!0);continue}else _t={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},_e===null?(ue=_e=_t,X=F):_e=_e.next=_t,rr.lanes|=at,Hu|=at;_t=et.action,na&&m(F,_t),F=et.hasEagerState?et.eagerState:m(F,_t)}else at={lane:_t,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},_e===null?(ue=_e=at,X=F):_e=_e.next=at,rr.lanes|=_t,Hu|=_t;et=et.next}while(et!==null&&et!==d);if(_e===null?X=F:_e.next=ue,!wa(F,u.memoizedState)&&(Ra=!0,pt&&(m=Uo,m!==null)))throw m;u.memoizedState=F,u.baseState=X,u.baseQueue=_e,y.lastRenderedState=F}return j===null&&(y.lanes=0),[u.memoizedState,y.dispatch]}function zf(u){var d=En(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var y=m.dispatch,j=m.pending,F=d.memoizedState;if(j!==null){m.pending=null;var X=j=j.next;do F=u(F,X.action),X=X.next;while(X!==j);wa(F,d.memoizedState)||(Ra=!0),d.memoizedState=F,d.baseQueue===null&&(d.baseState=F),m.lastRenderedState=F}return[F,y]}function ud(u,d,m){var y=rr,j=En(),F=qr;if(F){if(m===void 0)throw Error(n(407));m=m()}else m=d();var X=!wa((Ar||j).memoizedState,m);X&&(j.memoizedState=m,Ra=!0),j=j.queue;var ue=Ou.bind(null,y,j,u);if(Fu(2048,8,ue,[u]),j.getSnapshot!==d||X||Mr!==null&&Mr.memoizedState.tag&1){if(y.flags|=2048,Do(9,hd(),Ad.bind(null,y,j,m,d),null),wn===null)throw Error(n(349));F||(sn&124)!==0||Gf(y,d,m)}return m}function Gf(u,d,m){u.flags|=16384,u={getSnapshot:d,value:m},d=rr.updateQueue,d===null?(d=_c(),rr.updateQueue=d,d.stores=[u]):(m=d.stores,m===null?d.stores=[u]:m.push(u))}function Ad(u,d,m,y){d.value=m,d.getSnapshot=y,zy(d)&&Gy(u)}function Ou(u,d,m){return m(function(){zy(d)&&Gy(u)})}function zy(u){var d=u.getSnapshot;u=u.value;try{var m=d();return!wa(u,m)}catch{return!0}}function Gy(u){var d=mc(u,2);d!==null&&bs(d,u,2)}function dd(u){var d=ri();if(typeof u=="function"){var m=u;if(u=m(),na){gt(!0);try{m()}finally{gt(!1)}}}return d.memoizedState=d.baseState=u,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:u},d}function Fo(u,d,m,y){return u.baseState=m,Tu(u,Ar,typeof y=="function"?y:pi)}function x2(u,d,m,y,j){if(rv(u))throw Error(n(485));if(u=d.action,u!==null){var F={payload:j,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){F.listeners.push(X)}};K.T!==null?m(!0):F.isTransition=!1,y(F),m=d.pending,m===null?(F.next=d.pending=F,Vy(d,F)):(F.next=m.next,d.pending=m.next=F)}}function Vy(u,d){var m=d.action,y=d.payload,j=u.state;if(d.isTransition){var F=K.T,X={};K.T=X;try{var ue=m(j,y),_e=K.S;_e!==null&&_e(X,ue),Wy(u,d,ue)}catch(et){Iu(u,d,et)}finally{K.T=F}}else try{F=m(j,y),Wy(u,d,F)}catch(et){Iu(u,d,et)}}function Wy(u,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){Op(u,d,y)},function(y){return Iu(u,d,y)}):Op(u,d,m)}function Op(u,d,m){d.status="fulfilled",d.value=m,Ip(d),u.state=m,d=u.pending,d!==null&&(m=d.next,m===d?u.pending=null:(m=m.next,d.next=m,Vy(u,m)))}function Iu(u,d,m){var y=u.pending;if(u.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=m,Ip(d),d=d.next;while(d!==y)}u.action=null}function Ip(u){u=u.listeners;for(var d=0;d<u.length;d++)(0,u[d])()}function Up(u,d){return d}function fd(u,d){if(qr){var m=wn.formState;if(m!==null){e:{var y=rr;if(qr){if(Fn){t:{for(var j=Fn,F=Hs;j.nodeType!==8;){if(!F){j=null;break t}if(j=Qo(j.nextSibling),j===null){j=null;break t}}F=j.data,j=F==="F!"||F==="F"?j:null}if(j){Fn=Qo(j.nextSibling),y=j.data==="F!";break e}}vc(y)}y=!1}y&&(d=m[0])}}return m=ri(),m.memoizedState=m.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:d},m.queue=y,m=x3.bind(null,rr,y),y.dispatch=m,y=dd(!1),F=w2.bind(null,rr,!1,y.queue),y=ri(),j={state:d,dispatch:null,action:u,pending:null},y.queue=j,m=x2.bind(null,rr,j,F,m),j.dispatch=m,y.memoizedState=u,[d,m,!1]}function Vf(u){var d=En();return Uu(d,Ar,u)}function Uu(u,d,m){if(d=Tu(u,d,Up)[0],u=cd(pi)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var y=Tl(d)}catch(X){throw X===ae?le:X}else y=d;d=En();var j=d.queue,F=j.dispatch;return m!==d.memoizedState&&(rr.flags|=2048,Do(9,hd(),Yy.bind(null,j,m),null)),[y,F,u]}function Yy(u,d){u.action=d}function Xy(u){var d=En(),m=Ar;if(m!==null)return Uu(d,m,u);En(),d=d.memoizedState,m=En();var y=m.queue.dispatch;return m.memoizedState=u,[d,y,!1]}function Do(u,d,m,y){return u={tag:u,create:m,deps:y,inst:d,next:null},d=rr.updateQueue,d===null&&(d=_c(),rr.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=u.next=u:(y=m.next,m.next=u,u.next=y,d.lastEffect=u),u}function hd(){return{destroy:void 0,resource:void 0}}function Wf(){return En().memoizedState}function fs(u,d,m,y){var j=ri();y=y===void 0?null:y,rr.flags|=u,j.memoizedState=Do(1|d,hd(),m,y)}function Fu(u,d,m,y){var j=En();y=y===void 0?null:y;var F=j.memoizedState.inst;Ar!==null&&y!==null&&Vn(y,Ar.memoizedState.deps)?j.memoizedState=Do(d,F,m,y):(rr.flags|=u,j.memoizedState=Do(1|d,F,m,y))}function Fp(u,d){fs(8390656,8,u,d)}function Jy(u,d){Fu(2048,8,u,d)}function Dp(u,d){return Fu(4,2,u,d)}function Bc(u,d){return Fu(4,4,u,d)}function Zy(u,d){if(typeof d=="function"){u=u();var m=d(u);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function Lp(u,d,m){m=m!=null?m.concat([u]):null,Fu(4,4,Zy.bind(null,d,u),m)}function Mp(){}function Pp(u,d){var m=En();d=d===void 0?null:d;var y=m.memoizedState;return d!==null&&Vn(d,y[1])?y[0]:(m.memoizedState=[u,d],u)}function ev(u,d){var m=En();d=d===void 0?null:d;var y=m.memoizedState;if(d!==null&&Vn(d,y[1]))return y[0];if(y=u(),na){gt(!0);try{u()}finally{gt(!1)}}return m.memoizedState=[y,d],y}function Sc(u,d,m){return m===void 0||(sn&1073741824)!==0?u.memoizedState=d:(u.memoizedState=m,u=gO(),rr.lanes|=u,Hu|=u,m)}function Yf(u,d,m,y){return wa(m,d)?m:Cr.current!==null?(u=Sc(u,m,y),wa(u,d)||(Ra=!0),u):(sn&42)===0?(Ra=!0,u.memoizedState=m):(u=gO(),rr.lanes|=u,Hu|=u,d)}function md(u,d,m,y,j){var F=J.p;J.p=F!==0&&8>F?F:8;var X=K.T,ue={};K.T=ue,w2(u,!1,d,m);try{var _e=j(),et=K.S;if(et!==null&&et(ue,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var pt=Ky(_e,y);$p(u,d,pt,gs(u))}else $p(u,d,y,gs(u))}catch(_t){$p(u,d,{then:function(){},status:"rejected",reason:_t},gs())}finally{J.p=F,K.T=X}}function Lo(){}function zs(u,d,m,y){if(u.tag!==5)throw Error(n(476));var j=Mo(u).queue;md(u,j,d,re,m===null?Lo:function(){return pd(u),m(y)})}function Mo(u){var d=u.memoizedState;if(d!==null)return d;d={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:re},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:m},next:null},u.memoizedState=d,u=u.alternate,u!==null&&(u.memoizedState=d),d}function pd(u){var d=Mo(u).next.queue;$p(u,d,{},gs())}function gd(){return ta(og)}function Qp(){return En().memoizedState}function tv(){return En().memoizedState}function Rp(u){for(var d=u.return;d!==null;){switch(d.tag){case 24:case 3:var m=gs();u=dt(m);var y=wt(d,u,m);y!==null&&(bs(y,d,m),bt(y,d,m)),d={cache:Ep()},u.payload=d;return}d=d.return}}function Hp(u,d,m){var y=gs();m={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},rv(u)?w3(d,m):(m=Lf(u,d,m,y),m!==null&&(bs(m,u,y),_3(m,d,y)))}function x3(u,d,m){var y=gs();$p(u,d,m,y)}function $p(u,d,m,y){var j={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(rv(u))w3(d,j);else{var F=u.alternate;if(u.lanes===0&&(F===null||F.lanes===0)&&(F=d.lastRenderedReducer,F!==null))try{var X=d.lastRenderedState,ue=F(X,m);if(j.hasEagerState=!0,j.eagerState=ue,wa(ue,X))return td(u,d,j,0),wn===null&&ed(),!1}catch{}finally{}if(m=Lf(u,d,j,y),m!==null)return bs(m,u,y),_3(m,d,y),!0}return!1}function w2(u,d,m,y){if(y={lane:2,revertLane:e_(),action:y,hasEagerState:!1,eagerState:null,next:null},rv(u)){if(d)throw Error(n(479))}else d=Lf(u,m,y,2),d!==null&&bs(d,u,2)}function rv(u){var d=u.alternate;return u===rr||d!==null&&d===rr}function w3(u,d){ga=Qr=!0;var m=u.pending;m===null?d.next=d:(d.next=m.next,m.next=d),u.pending=d}function _3(u,d,m){if((m&4194048)!==0){var y=d.lanes;y&=u.pendingLanes,m|=y,d.lanes=m,It(u,m)}}var nv={readContext:ta,use:mi,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr},B3={readContext:ta,use:mi,useCallback:function(u,d){return ri().memoizedState=[u,d===void 0?null:d],u},useContext:ta,useEffect:Fp,useImperativeHandle:function(u,d,m){m=m!=null?m.concat([u]):null,fs(4194308,4,Zy.bind(null,d,u),m)},useLayoutEffect:function(u,d){return fs(4194308,4,u,d)},useInsertionEffect:function(u,d){fs(4,2,u,d)},useMemo:function(u,d){var m=ri();d=d===void 0?null:d;var y=u();if(na){gt(!0);try{u()}finally{gt(!1)}}return m.memoizedState=[y,d],y},useReducer:function(u,d,m){var y=ri();if(m!==void 0){var j=m(d);if(na){gt(!0);try{m(d)}finally{gt(!1)}}}else j=d;return y.memoizedState=y.baseState=j,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:j},y.queue=u,u=u.dispatch=Hp.bind(null,rr,u),[y.memoizedState,u]},useRef:function(u){var d=ri();return u={current:u},d.memoizedState=u},useState:function(u){u=dd(u);var d=u.queue,m=x3.bind(null,rr,d);return d.dispatch=m,[u.memoizedState,m]},useDebugValue:Mp,useDeferredValue:function(u,d){var m=ri();return Sc(m,u,d)},useTransition:function(){var u=dd(!1);return u=md.bind(null,rr,u.queue,!0,!1),ri().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,d,m){var y=rr,j=ri();if(qr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),wn===null)throw Error(n(349));(Rr&124)!==0||Gf(y,d,m)}j.memoizedState=m;var F={value:m,getSnapshot:d};return j.queue=F,Fp(Ou.bind(null,y,F,u),[u]),y.flags|=2048,Do(9,hd(),Ad.bind(null,y,F,m,d),null),m},useId:function(){var u=ri(),d=wn.identifierPrefix;if(qr){var m=To,y=Eo;m=(y&~(1<<32-St(y)-1)).toString(32)+m,d=""+d+"R"+m,m=Hn++,0<m&&(d+="H"+m.toString(32)),d+=""}else m=Vi++,d=""+d+"r"+m.toString(32)+"";return u.memoizedState=d},useHostTransitionStatus:gd,useFormState:fd,useActionState:fd,useOptimistic:function(u){var d=ri();d.memoizedState=d.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=w2.bind(null,rr,!0,m),m.dispatch=d,[u,d]},useMemoCache:Ol,useCacheRefresh:function(){return ri().memoizedState=Rp.bind(null,rr)}},S3={readContext:ta,use:mi,useCallback:Pp,useContext:ta,useEffect:Jy,useImperativeHandle:Lp,useInsertionEffect:Dp,useLayoutEffect:Bc,useMemo:ev,useReducer:cd,useRef:Wf,useState:function(){return cd(pi)},useDebugValue:Mp,useDeferredValue:function(u,d){var m=En();return Yf(m,Ar.memoizedState,u,d)},useTransition:function(){var u=cd(pi)[0],d=En().memoizedState;return[typeof u=="boolean"?u:Tl(u),d]},useSyncExternalStore:ud,useId:Qp,useHostTransitionStatus:gd,useFormState:Vf,useActionState:Vf,useOptimistic:function(u,d){var m=En();return Fo(m,Ar,u,d)},useMemoCache:Ol,useCacheRefresh:tv},tY={readContext:ta,use:mi,useCallback:Pp,useContext:ta,useEffect:Jy,useImperativeHandle:Lp,useInsertionEffect:Dp,useLayoutEffect:Bc,useMemo:ev,useReducer:zf,useRef:Wf,useState:function(){return zf(pi)},useDebugValue:Mp,useDeferredValue:function(u,d){var m=En();return Ar===null?Sc(m,u,d):Yf(m,Ar.memoizedState,u,d)},useTransition:function(){var u=zf(pi)[0],d=En().memoizedState;return[typeof u=="boolean"?u:Tl(u),d]},useSyncExternalStore:ud,useId:Qp,useHostTransitionStatus:gd,useFormState:Xy,useActionState:Xy,useOptimistic:function(u,d){var m=En();return Ar!==null?Fo(m,Ar,u,d):(m.baseState=u,[u,m.queue.dispatch])},useMemoCache:Ol,useCacheRefresh:tv},Xf=null,qp=0;function av(u){var d=qp;return qp+=1,Xf===null&&(Xf=[]),Je(Xf,u,d)}function Kp(u,d){d=d.props.ref,u.ref=d!==void 0?d:null}function iv(u,d){throw d.$$typeof===h?Error(n(525)):(u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u)))}function N3(u){var d=u._init;return d(u._payload)}function C3(u){function d(Re,Oe){if(u){var Ye=Re.deletions;Ye===null?(Re.deletions=[Oe],Re.flags|=16):Ye.push(Oe)}}function m(Re,Oe){if(!u)return null;for(;Oe!==null;)d(Re,Oe),Oe=Oe.sibling;return null}function y(Re){for(var Oe=new Map;Re!==null;)Re.key!==null?Oe.set(Re.key,Re):Oe.set(Re.index,Re),Re=Re.sibling;return Oe}function j(Re,Oe){return Re=Rs(Re,Oe),Re.index=0,Re.sibling=null,Re}function F(Re,Oe,Ye){return Re.index=Ye,u?(Ye=Re.alternate,Ye!==null?(Ye=Ye.index,Ye<Oe?(Re.flags|=67108866,Oe):Ye):(Re.flags|=67108866,Oe)):(Re.flags|=1048576,Oe)}function X(Re){return u&&Re.alternate===null&&(Re.flags|=67108866),Re}function ue(Re,Oe,Ye,vt){return Oe===null||Oe.tag!==6?(Oe=Pf(Ye,Re.mode,vt),Oe.return=Re,Oe):(Oe=j(Oe,Ye),Oe.return=Re,Oe)}function _e(Re,Oe,Ye,vt){var Wt=Ye.type;return Wt===v?pt(Re,Oe,Ye.props.children,vt,Ye.key):Oe!==null&&(Oe.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===D&&N3(Wt)===Oe.type)?(Oe=j(Oe,Ye.props),Kp(Oe,Ye),Oe.return=Re,Oe):(Oe=gc(Ye.type,Ye.key,Ye.props,null,Re.mode,vt),Kp(Oe,Ye),Oe.return=Re,Oe)}function et(Re,Oe,Ye,vt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ye.containerInfo||Oe.stateNode.implementation!==Ye.implementation?(Oe=nd(Ye,Re.mode,vt),Oe.return=Re,Oe):(Oe=j(Oe,Ye.children||[]),Oe.return=Re,Oe)}function pt(Re,Oe,Ye,vt,Wt){return Oe===null||Oe.tag!==7?(Oe=jo(Ye,Re.mode,vt,Wt),Oe.return=Re,Oe):(Oe=j(Oe,Ye),Oe.return=Re,Oe)}function _t(Re,Oe,Ye){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=Pf(""+Oe,Re.mode,Ye),Oe.return=Re,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:return Ye=gc(Oe.type,Oe.key,Oe.props,null,Re.mode,Ye),Kp(Ye,Oe),Ye.return=Re,Ye;case g:return Oe=nd(Oe,Re.mode,Ye),Oe.return=Re,Oe;case D:var vt=Oe._init;return Oe=vt(Oe._payload),_t(Re,Oe,Ye)}if(Y(Oe)||I(Oe))return Oe=jo(Oe,Re.mode,Ye,null),Oe.return=Re,Oe;if(typeof Oe.then=="function")return _t(Re,av(Oe),Ye);if(Oe.$$typeof===N)return _t(Re,jl(Re,Oe),Ye);iv(Re,Oe)}return null}function at(Re,Oe,Ye,vt){var Wt=Oe!==null?Oe.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Wt!==null?null:ue(Re,Oe,""+Ye,vt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case p:return Ye.key===Wt?_e(Re,Oe,Ye,vt):null;case g:return Ye.key===Wt?et(Re,Oe,Ye,vt):null;case D:return Wt=Ye._init,Ye=Wt(Ye._payload),at(Re,Oe,Ye,vt)}if(Y(Ye)||I(Ye))return Wt!==null?null:pt(Re,Oe,Ye,vt,null);if(typeof Ye.then=="function")return at(Re,Oe,av(Ye),vt);if(Ye.$$typeof===N)return at(Re,Oe,jl(Re,Ye),vt);iv(Re,Ye)}return null}function it(Re,Oe,Ye,vt,Wt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return Re=Re.get(Ye)||null,ue(Oe,Re,""+vt,Wt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case p:return Re=Re.get(vt.key===null?Ye:vt.key)||null,_e(Oe,Re,vt,Wt);case g:return Re=Re.get(vt.key===null?Ye:vt.key)||null,et(Oe,Re,vt,Wt);case D:var kr=vt._init;return vt=kr(vt._payload),it(Re,Oe,Ye,vt,Wt)}if(Y(vt)||I(vt))return Re=Re.get(Ye)||null,pt(Oe,Re,vt,Wt,null);if(typeof vt.then=="function")return it(Re,Oe,Ye,av(vt),Wt);if(vt.$$typeof===N)return it(Re,Oe,Ye,jl(Oe,vt),Wt);iv(Oe,vt)}return null}function hr(Re,Oe,Ye,vt){for(var Wt=null,kr=null,er=Oe,sr=Oe=0,$a=null;er!==null&&sr<Ye.length;sr++){er.index>sr?($a=er,er=null):$a=er.sibling;var Vr=at(Re,er,Ye[sr],vt);if(Vr===null){er===null&&(er=$a);break}u&&er&&Vr.alternate===null&&d(Re,er),Oe=F(Vr,Oe,sr),kr===null?Wt=Vr:kr.sibling=Vr,kr=Vr,er=$a}if(sr===Ye.length)return m(Re,er),qr&&yc(Re,sr),Wt;if(er===null){for(;sr<Ye.length;sr++)er=_t(Re,Ye[sr],vt),er!==null&&(Oe=F(er,Oe,sr),kr===null?Wt=er:kr.sibling=er,kr=er);return qr&&yc(Re,sr),Wt}for(er=y(er);sr<Ye.length;sr++)$a=it(er,Re,sr,Ye[sr],vt),$a!==null&&(u&&$a.alternate!==null&&er.delete($a.key===null?sr:$a.key),Oe=F($a,Oe,sr),kr===null?Wt=$a:kr.sibling=$a,kr=$a);return u&&er.forEach(function(Xu){return d(Re,Xu)}),qr&&yc(Re,sr),Wt}function ar(Re,Oe,Ye,vt){if(Ye==null)throw Error(n(151));for(var Wt=null,kr=null,er=Oe,sr=Oe=0,$a=null,Vr=Ye.next();er!==null&&!Vr.done;sr++,Vr=Ye.next()){er.index>sr?($a=er,er=null):$a=er.sibling;var Xu=at(Re,er,Vr.value,vt);if(Xu===null){er===null&&(er=$a);break}u&&er&&Xu.alternate===null&&d(Re,er),Oe=F(Xu,Oe,sr),kr===null?Wt=Xu:kr.sibling=Xu,kr=Xu,er=$a}if(Vr.done)return m(Re,er),qr&&yc(Re,sr),Wt;if(er===null){for(;!Vr.done;sr++,Vr=Ye.next())Vr=_t(Re,Vr.value,vt),Vr!==null&&(Oe=F(Vr,Oe,sr),kr===null?Wt=Vr:kr.sibling=Vr,kr=Vr);return qr&&yc(Re,sr),Wt}for(er=y(er);!Vr.done;sr++,Vr=Ye.next())Vr=it(er,Re,sr,Vr.value,vt),Vr!==null&&(u&&Vr.alternate!==null&&er.delete(Vr.key===null?sr:Vr.key),Oe=F(Vr,Oe,sr),kr===null?Wt=Vr:kr.sibling=Vr,kr=Vr);return u&&er.forEach(function(rX){return d(Re,rX)}),qr&&yc(Re,sr),Wt}function dn(Re,Oe,Ye,vt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===v&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case p:e:{for(var Wt=Ye.key;Oe!==null;){if(Oe.key===Wt){if(Wt=Ye.type,Wt===v){if(Oe.tag===7){m(Re,Oe.sibling),vt=j(Oe,Ye.props.children),vt.return=Re,Re=vt;break e}}else if(Oe.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===D&&N3(Wt)===Oe.type){m(Re,Oe.sibling),vt=j(Oe,Ye.props),Kp(vt,Ye),vt.return=Re,Re=vt;break e}m(Re,Oe);break}else d(Re,Oe);Oe=Oe.sibling}Ye.type===v?(vt=jo(Ye.props.children,Re.mode,vt,Ye.key),vt.return=Re,Re=vt):(vt=gc(Ye.type,Ye.key,Ye.props,null,Re.mode,vt),Kp(vt,Ye),vt.return=Re,Re=vt)}return X(Re);case g:e:{for(Wt=Ye.key;Oe!==null;){if(Oe.key===Wt)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ye.containerInfo&&Oe.stateNode.implementation===Ye.implementation){m(Re,Oe.sibling),vt=j(Oe,Ye.children||[]),vt.return=Re,Re=vt;break e}else{m(Re,Oe);break}else d(Re,Oe);Oe=Oe.sibling}vt=nd(Ye,Re.mode,vt),vt.return=Re,Re=vt}return X(Re);case D:return Wt=Ye._init,Ye=Wt(Ye._payload),dn(Re,Oe,Ye,vt)}if(Y(Ye))return hr(Re,Oe,Ye,vt);if(I(Ye)){if(Wt=I(Ye),typeof Wt!="function")throw Error(n(150));return Ye=Wt.call(Ye),ar(Re,Oe,Ye,vt)}if(typeof Ye.then=="function")return dn(Re,Oe,av(Ye),vt);if(Ye.$$typeof===N)return dn(Re,Oe,jl(Re,Ye),vt);iv(Re,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,Oe!==null&&Oe.tag===6?(m(Re,Oe.sibling),vt=j(Oe,Ye),vt.return=Re,Re=vt):(m(Re,Oe),vt=Pf(Ye,Re.mode,vt),vt.return=Re,Re=vt),X(Re)):m(Re,Oe)}return function(Re,Oe,Ye,vt){try{qp=0;var Wt=dn(Re,Oe,Ye,vt);return Xf=null,Wt}catch(er){if(er===ae||er===le)throw er;var kr=Qa(29,er,null,Re.mode);return kr.lanes=vt,kr.return=Re,kr}finally{}}}var Jf=C3(!0),j3=C3(!1),Gs=W(null),Il=null;function Du(u){var d=u.alternate;$(Ba,Ba.current&1),$(Gs,u),Il===null&&(d===null||Cr.current!==null||d.memoizedState!==null)&&(Il=u)}function k3(u){if(u.tag===22){if($(Ba,Ba.current),$(Gs,u),Il===null){var d=u.alternate;d!==null&&d.memoizedState!==null&&(Il=u)}}else Lu()}function Lu(){$(Ba,Ba.current),$(Gs,Gs.current)}function Nc(u){P(Gs),Il===u&&(Il=null),P(Ba)}var Ba=W(0);function sv(u){for(var d=u;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||d_(m)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function _2(u,d,m,y){d=u.memoizedState,m=m(y,d),m=m==null?d:f({},d,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var B2={enqueueSetState:function(u,d,m){u=u._reactInternals;var y=gs(),j=dt(y);j.payload=d,m!=null&&(j.callback=m),d=wt(u,j,y),d!==null&&(bs(d,u,y),bt(d,u,y))},enqueueReplaceState:function(u,d,m){u=u._reactInternals;var y=gs(),j=dt(y);j.tag=1,j.payload=d,m!=null&&(j.callback=m),d=wt(u,j,y),d!==null&&(bs(d,u,y),bt(d,u,y))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var m=gs(),y=dt(m);y.tag=2,d!=null&&(y.callback=d),d=wt(u,y,m),d!==null&&(bs(d,u,m),bt(d,u,m))}};function E3(u,d,m,y,j,F,X){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(y,F,X):d.prototype&&d.prototype.isPureReactComponent?!fc(m,y)||!fc(j,F):!0}function T3(u,d,m,y){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,y),d.state!==u&&B2.enqueueReplaceState(d,d.state,null)}function bd(u,d){var m=d;if("ref"in d){m={};for(var y in d)y!=="ref"&&(m[y]=d[y])}if(u=u.defaultProps){m===d&&(m=f({},m));for(var j in u)m[j]===void 0&&(m[j]=u[j])}return m}var ov=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function O3(u){ov(u)}function I3(u){console.error(u)}function U3(u){ov(u)}function lv(u,d){try{var m=u.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function F3(u,d,m){try{var y=u.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function S2(u,d,m){return m=dt(m),m.tag=3,m.payload={element:null},m.callback=function(){lv(u,d)},m}function D3(u){return u=dt(u),u.tag=3,u}function L3(u,d,m,y){var j=m.type.getDerivedStateFromError;if(typeof j=="function"){var F=y.value;u.payload=function(){return j(F)},u.callback=function(){F3(d,m,y)}}var X=m.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(u.callback=function(){F3(d,m,y),typeof j!="function"&&($u===null?$u=new Set([this]):$u.add(this));var ue=y.stack;this.componentDidCatch(y.value,{componentStack:ue!==null?ue:""})})}function rY(u,d,m,y,j){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=m.alternate,d!==null&&Eu(d,m,j,!0),m=Gs.current,m!==null){switch(m.tag){case 13:return Il===null?W2():m.alternate===null&&Wn===0&&(Wn=3),m.flags&=-257,m.flags|=65536,m.lanes=j,y===Ae?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([y]):d.add(y),X2(u,y,j)),!1;case 22:return m.flags|=65536,y===Ae?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([y]):m.add(y)),X2(u,y,j)),!1}throw Error(n(435,m.tag))}return X2(u,y,j),W2(),!1}if(qr)return d=Gs.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=j,y!==kp&&(u=Error(n(422),{cause:y}),ku(_a(u,m)))):(y!==kp&&(d=Error(n(423),{cause:y}),ku(_a(d,m))),u=u.current.alternate,u.flags|=65536,j&=-j,u.lanes|=j,y=_a(y,m),j=S2(u.stateNode,y,j),Qt(u,j),Wn!==4&&(Wn=2)),!1;var F=Error(n(520),{cause:y});if(F=_a(F,m),Jp===null?Jp=[F]:Jp.push(F),Wn!==4&&(Wn=2),d===null)return!0;y=_a(y,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,u=j&-j,m.lanes|=u,u=S2(m.stateNode,y,u),Qt(m,u),!1;case 1:if(d=m.type,F=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&($u===null||!$u.has(F))))return m.flags|=65536,j&=-j,m.lanes|=j,j=D3(j),L3(j,u,m,y),Qt(m,j),!1}m=m.return}while(m!==null);return!1}var M3=Error(n(461)),Ra=!1;function ni(u,d,m,y){d.child=u===null?j3(d,null,m,y):Jf(d,u.child,m,y)}function P3(u,d,m,y,j){m=m.render;var F=d.ref;if("ref"in y){var X={};for(var ue in y)ue!=="ref"&&(X[ue]=y[ue])}else X=y;return Ks(d),y=ds(u,d,m,X,F,j),ue=xn(),u!==null&&!Ra?(ld(u,d,j),Cc(u,d,j)):(qr&&ue&&ad(d),d.flags|=1,ni(u,d,y,j),d.child)}function Q3(u,d,m,y,j){if(u===null){var F=m.type;return typeof F=="function"&&!Cu(F)&&F.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=F,R3(u,d,F,y,j)):(u=gc(m.type,null,y,d,d.mode,j),u.ref=d.ref,u.return=d,d.child=u)}if(F=u.child,!I2(u,j)){var X=F.memoizedProps;if(m=m.compare,m=m!==null?m:fc,m(X,y)&&u.ref===d.ref)return Cc(u,d,j)}return d.flags|=1,u=Rs(F,y),u.ref=d.ref,u.return=d,d.child=u}function R3(u,d,m,y,j){if(u!==null){var F=u.memoizedProps;if(fc(F,y)&&u.ref===d.ref)if(Ra=!1,d.pendingProps=y=F,I2(u,j))(u.flags&131072)!==0&&(Ra=!0);else return d.lanes=u.lanes,Cc(u,d,j)}return N2(u,d,m,y,j)}function H3(u,d,m){var y=d.pendingProps,j=y.children,F=u!==null?u.memoizedState:null;if(y.mode==="hidden"){if((d.flags&128)!==0){if(y=F!==null?F.baseLanes|m:m,u!==null){for(j=d.child=u.child,F=0;j!==null;)F=F|j.lanes|j.childLanes,j=j.sibling;d.childLanes=F&~y}else d.childLanes=0,d.child=null;return $3(u,d,y,m)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},u!==null&&z(d,F!==null?F.cachePool:null),F!==null?Zr(d,F):zr(),k3(d);else return d.lanes=d.childLanes=536870912,$3(u,d,F!==null?F.baseLanes|m:m,m)}else F!==null?(z(d,F.cachePool),Zr(d,F),Lu(),d.memoizedState=null):(u!==null&&z(d,null),zr(),Lu());return ni(u,d,j,m),d.child}function $3(u,d,m,y){var j=M();return j=j===null?null:{parent:ra._currentValue,pool:j},d.memoizedState={baseLanes:m,cachePool:j},u!==null&&z(d,null),zr(),k3(d),u!==null&&Eu(u,d,y,!0),null}function cv(u,d){var m=d.ref;if(m===null)u!==null&&u.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(u===null||u.ref!==m)&&(d.flags|=4194816)}}function N2(u,d,m,y,j){return Ks(d),m=ds(u,d,m,y,void 0,j),y=xn(),u!==null&&!Ra?(ld(u,d,j),Cc(u,d,j)):(qr&&y&&ad(d),d.flags|=1,ni(u,d,m,j),d.child)}function q3(u,d,m,y,j,F){return Ks(d),d.updateQueue=null,m=wc(d,y,m,j),kl(u),y=xn(),u!==null&&!Ra?(ld(u,d,F),Cc(u,d,F)):(qr&&y&&ad(d),d.flags|=1,ni(u,d,m,F),d.child)}function K3(u,d,m,y,j){if(Ks(d),d.stateNode===null){var F=ma,X=m.contextType;typeof X=="object"&&X!==null&&(F=ta(X)),F=new m(y,F),d.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=B2,d.stateNode=F,F._reactInternals=d,F=d.stateNode,F.props=y,F.state=d.memoizedState,F.refs={},Te(d),X=m.contextType,F.context=typeof X=="object"&&X!==null?ta(X):ma,F.state=d.memoizedState,X=m.getDerivedStateFromProps,typeof X=="function"&&(_2(d,m,X,y),F.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(X=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),X!==F.state&&B2.enqueueReplaceState(F,F.state,null),Dt(d,y,F,j),Jt(),F.state=d.memoizedState),typeof F.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(u===null){F=d.stateNode;var ue=d.memoizedProps,_e=bd(m,ue);F.props=_e;var et=F.context,pt=m.contextType;X=ma,typeof pt=="object"&&pt!==null&&(X=ta(pt));var _t=m.getDerivedStateFromProps;pt=typeof _t=="function"||typeof F.getSnapshotBeforeUpdate=="function",ue=d.pendingProps!==ue,pt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ue||et!==X)&&T3(d,F,y,X),lt=!1;var at=d.memoizedState;F.state=at,Dt(d,y,F,j),Jt(),et=d.memoizedState,ue||at!==et||lt?(typeof _t=="function"&&(_2(d,m,_t,y),et=d.memoizedState),(_e=lt||E3(d,m,_e,y,at,et,X))?(pt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(d.flags|=4194308)):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=et),F.props=y,F.state=et,F.context=X,y=_e):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{F=d.stateNode,Ue(u,d),X=d.memoizedProps,pt=bd(m,X),F.props=pt,_t=d.pendingProps,at=F.context,et=m.contextType,_e=ma,typeof et=="object"&&et!==null&&(_e=ta(et)),ue=m.getDerivedStateFromProps,(et=typeof ue=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(X!==_t||at!==_e)&&T3(d,F,y,_e),lt=!1,at=d.memoizedState,F.state=at,Dt(d,y,F,j),Jt();var it=d.memoizedState;X!==_t||at!==it||lt||u!==null&&u.dependencies!==null&&$f(u.dependencies)?(typeof ue=="function"&&(_2(d,m,ue,y),it=d.memoizedState),(pt=lt||E3(d,m,pt,y,at,it,_e)||u!==null&&u.dependencies!==null&&$f(u.dependencies))?(et||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(y,it,_e),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(y,it,_e)),typeof F.componentDidUpdate=="function"&&(d.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof F.componentDidUpdate!="function"||X===u.memoizedProps&&at===u.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&at===u.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=it),F.props=y,F.state=it,F.context=_e,y=pt):(typeof F.componentDidUpdate!="function"||X===u.memoizedProps&&at===u.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&at===u.memoizedState||(d.flags|=1024),y=!1)}return F=y,cv(u,d),y=(d.flags&128)!==0,F||y?(F=d.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:F.render(),d.flags|=1,u!==null&&y?(d.child=Jf(d,u.child,null,j),d.child=Jf(d,null,m,j)):ni(u,d,m,j),d.memoizedState=F.state,u=d.child):u=Cc(u,d,j),u}function z3(u,d,m,y){return Ti(),d.flags|=256,ni(u,d,m,y),d.child}var C2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function j2(u){return{baseLanes:u,cachePool:ee()}}function k2(u,d,m){return u=u!==null?u.childLanes&~m:0,d&&(u|=Vs),u}function G3(u,d,m){var y=d.pendingProps,j=!1,F=(d.flags&128)!==0,X;if((X=F)||(X=u!==null&&u.memoizedState===null?!1:(Ba.current&2)!==0),X&&(j=!0,d.flags&=-129),X=(d.flags&32)!==0,d.flags&=-33,u===null){if(qr){if(j?Du(d):Lu(),qr){var ue=Fn,_e;if(_e=ue){e:{for(_e=ue,ue=Hs;_e.nodeType!==8;){if(!ue){ue=null;break e}if(_e=Qo(_e.nextSibling),_e===null){ue=null;break e}}ue=_e}ue!==null?(d.memoizedState={dehydrated:ue,treeContext:bc!==null?{id:Eo,overflow:To}:null,retryLane:536870912,hydrationErrors:null},_e=Qa(18,null,null,0),_e.stateNode=ue,_e.return=d,d.child=_e,ea=d,Fn=null,_e=!0):_e=!1}_e||vc(d)}if(ue=d.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return d_(ue)?d.lanes=32:d.lanes=536870912,null;Nc(d)}return ue=y.children,y=y.fallback,j?(Lu(),j=d.mode,ue=uv({mode:"hidden",children:ue},j),y=jo(y,j,m,null),ue.return=d,y.return=d,ue.sibling=y,d.child=ue,j=d.child,j.memoizedState=j2(m),j.childLanes=k2(u,X,m),d.memoizedState=C2,y):(Du(d),E2(d,ue))}if(_e=u.memoizedState,_e!==null&&(ue=_e.dehydrated,ue!==null)){if(F)d.flags&256?(Du(d),d.flags&=-257,d=T2(u,d,m)):d.memoizedState!==null?(Lu(),d.child=u.child,d.flags|=128,d=null):(Lu(),j=y.fallback,ue=d.mode,y=uv({mode:"visible",children:y.children},ue),j=jo(j,ue,m,null),j.flags|=2,y.return=d,j.return=d,y.sibling=j,d.child=y,Jf(d,u.child,null,m),y=d.child,y.memoizedState=j2(m),y.childLanes=k2(u,X,m),d.memoizedState=C2,d=j);else if(Du(d),d_(ue)){if(X=ue.nextSibling&&ue.nextSibling.dataset,X)var et=X.dgst;X=et,y=Error(n(419)),y.stack="",y.digest=X,ku({value:y,source:null,stack:null}),d=T2(u,d,m)}else if(Ra||Eu(u,d,m,!1),X=(m&u.childLanes)!==0,Ra||X){if(X=wn,X!==null&&(y=m&-m,y=(y&42)!==0?1:Ce(y),y=(y&(X.suspendedLanes|m))!==0?0:y,y!==0&&y!==_e.retryLane))throw _e.retryLane=y,mc(u,y),bs(X,u,y),M3;ue.data==="$?"||W2(),d=T2(u,d,m)}else ue.data==="$?"?(d.flags|=192,d.child=u.child,d=null):(u=_e.treeContext,Fn=Qo(ue.nextSibling),ea=d,qr=!0,Nl=null,Hs=!1,u!==null&&(Gi[Ei++]=Eo,Gi[Ei++]=To,Gi[Ei++]=bc,Eo=u.id,To=u.overflow,bc=d),d=E2(d,y.children),d.flags|=4096);return d}return j?(Lu(),j=y.fallback,ue=d.mode,_e=u.child,et=_e.sibling,y=Rs(_e,{mode:"hidden",children:y.children}),y.subtreeFlags=_e.subtreeFlags&65011712,et!==null?j=Rs(et,j):(j=jo(j,ue,m,null),j.flags|=2),j.return=d,y.return=d,y.sibling=j,d.child=y,y=j,j=d.child,ue=u.child.memoizedState,ue===null?ue=j2(m):(_e=ue.cachePool,_e!==null?(et=ra._currentValue,_e=_e.parent!==et?{parent:et,pool:et}:_e):_e=ee(),ue={baseLanes:ue.baseLanes|m,cachePool:_e}),j.memoizedState=ue,j.childLanes=k2(u,X,m),d.memoizedState=C2,y):(Du(d),m=u.child,u=m.sibling,m=Rs(m,{mode:"visible",children:y.children}),m.return=d,m.sibling=null,u!==null&&(X=d.deletions,X===null?(d.deletions=[u],d.flags|=16):X.push(u)),d.child=m,d.memoizedState=null,m)}function E2(u,d){return d=uv({mode:"visible",children:d},u.mode),d.return=u,u.child=d}function uv(u,d){return u=Qa(22,u,null,d),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function T2(u,d,m){return Jf(d,u.child,null,m),u=E2(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function V3(u,d,m){u.lanes|=d;var y=u.alternate;y!==null&&(y.lanes|=d),Rf(u.return,d,m)}function O2(u,d,m,y,j){var F=u.memoizedState;F===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:j}:(F.isBackwards=d,F.rendering=null,F.renderingStartTime=0,F.last=y,F.tail=m,F.tailMode=j)}function W3(u,d,m){var y=d.pendingProps,j=y.revealOrder,F=y.tail;if(ni(u,d,y.children,m),y=Ba.current,(y&2)!==0)y=y&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&V3(u,m,d);else if(u.tag===19)V3(u,m,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}y&=1}switch($(Ba,y),j){case"forwards":for(m=d.child,j=null;m!==null;)u=m.alternate,u!==null&&sv(u)===null&&(j=m),m=m.sibling;m=j,m===null?(j=d.child,d.child=null):(j=m.sibling,m.sibling=null),O2(d,!1,j,m,F);break;case"backwards":for(m=null,j=d.child,d.child=null;j!==null;){if(u=j.alternate,u!==null&&sv(u)===null){d.child=j;break}u=j.sibling,j.sibling=m,m=j,j=u}O2(d,!0,m,null,F);break;case"together":O2(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Cc(u,d,m){if(u!==null&&(d.dependencies=u.dependencies),Hu|=d.lanes,(m&d.childLanes)===0)if(u!==null){if(Eu(u,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,m=Rs(u,u.pendingProps),d.child=m,m.return=d;u.sibling!==null;)u=u.sibling,m=m.sibling=Rs(u,u.pendingProps),m.return=d;m.sibling=null}return d.child}function I2(u,d){return(u.lanes&d)!==0?!0:(u=u.dependencies,!!(u!==null&&$f(u)))}function nY(u,d,m){switch(d.tag){case 3:he(d,d.stateNode.containerInfo),Cl(d,ra,u.memoizedState.cache),Ti();break;case 27:case 5:Qe(d);break;case 4:he(d,d.stateNode.containerInfo);break;case 10:Cl(d,d.type,d.memoizedProps.value);break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(Du(d),d.flags|=128,null):(m&d.child.childLanes)!==0?G3(u,d,m):(Du(d),u=Cc(u,d,m),u!==null?u.sibling:null);Du(d);break;case 19:var j=(u.flags&128)!==0;if(y=(m&d.childLanes)!==0,y||(Eu(u,d,m,!1),y=(m&d.childLanes)!==0),j){if(y)return W3(u,d,m);d.flags|=128}if(j=d.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),$(Ba,Ba.current),y)break;return null;case 22:case 23:return d.lanes=0,H3(u,d,m);case 24:Cl(d,ra,u.memoizedState.cache)}return Cc(u,d,m)}function Y3(u,d,m){if(u!==null)if(u.memoizedProps!==d.pendingProps)Ra=!0;else{if(!I2(u,m)&&(d.flags&128)===0)return Ra=!1,nY(u,d,m);Ra=(u.flags&131072)!==0}else Ra=!1,qr&&(d.flags&1048576)!==0&&Qy(d,Qf,d.index);switch(d.lanes=0,d.tag){case 16:e:{u=d.pendingProps;var y=d.elementType,j=y._init;if(y=j(y._payload),d.type=y,typeof y=="function")Cu(y)?(u=bd(y,u),d.tag=1,d=K3(null,d,y,u,m)):(d.tag=0,d=N2(null,d,y,u,m));else{if(y!=null){if(j=y.$$typeof,j===k){d.tag=11,d=P3(null,d,y,u,m);break e}else if(j===O){d.tag=14,d=Q3(null,d,y,u,m);break e}}throw d=H(y)||y,Error(n(306,d,""))}}return d;case 0:return N2(u,d,d.type,d.pendingProps,m);case 1:return y=d.type,j=bd(y,d.pendingProps),K3(u,d,y,j,m);case 3:e:{if(he(d,d.stateNode.containerInfo),u===null)throw Error(n(387));y=d.pendingProps;var F=d.memoizedState;j=F.element,Ue(u,d),Dt(d,y,null,m);var X=d.memoizedState;if(y=X.cache,Cl(d,ra,y),y!==F.cache&&Hf(d,[ra],m,!0),Jt(),y=X.element,F.isDehydrated)if(F={element:y,isDehydrated:!1,cache:X.cache},d.updateQueue.baseState=F,d.memoizedState=F,d.flags&256){d=z3(u,d,y,m);break e}else if(y!==j){j=_a(Error(n(424)),d),ku(j),d=z3(u,d,y,m);break e}else{switch(u=d.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Fn=Qo(u.firstChild),ea=d,qr=!0,Nl=null,Hs=!0,m=j3(d,null,y,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Ti(),y===j){d=Cc(u,d,m);break e}ni(u,d,y,m)}d=d.child}return d;case 26:return cv(u,d),u===null?(m=eI(d.type,null,d.pendingProps,null))?d.memoizedState=m:qr||(m=d.type,u=d.pendingProps,y=Bv(se.current).createElement(m),y[mr]=d,y[Nr]=u,ii(y,m,u),Yr(y),d.stateNode=y):d.memoizedState=eI(d.type,u.memoizedProps,d.pendingProps,u.memoizedState),null;case 27:return Qe(d),u===null&&qr&&(y=d.stateNode=XO(d.type,d.pendingProps,se.current),ea=d,Hs=!0,j=Fn,zu(d.type)?(f_=j,Fn=Qo(y.firstChild)):Fn=j),ni(u,d,d.pendingProps.children,m),cv(u,d),u===null&&(d.flags|=4194304),d.child;case 5:return u===null&&qr&&((j=y=Fn)&&(y=TY(y,d.type,d.pendingProps,Hs),y!==null?(d.stateNode=y,ea=d,Fn=Qo(y.firstChild),Hs=!1,j=!0):j=!1),j||vc(d)),Qe(d),j=d.type,F=d.pendingProps,X=u!==null?u.memoizedProps:null,y=F.children,c_(j,F)?y=null:X!==null&&c_(j,X)&&(d.flags|=32),d.memoizedState!==null&&(j=ds(u,d,El,null,null,m),og._currentValue=j),cv(u,d),ni(u,d,y,m),d.child;case 6:return u===null&&qr&&((u=m=Fn)&&(m=OY(m,d.pendingProps,Hs),m!==null?(d.stateNode=m,ea=d,Fn=null,u=!0):u=!1),u||vc(d)),null;case 13:return G3(u,d,m);case 4:return he(d,d.stateNode.containerInfo),y=d.pendingProps,u===null?d.child=Jf(d,null,y,m):ni(u,d,y,m),d.child;case 11:return P3(u,d,d.type,d.pendingProps,m);case 7:return ni(u,d,d.pendingProps,m),d.child;case 8:return ni(u,d,d.pendingProps.children,m),d.child;case 12:return ni(u,d,d.pendingProps.children,m),d.child;case 10:return y=d.pendingProps,Cl(d,d.type,y.value),ni(u,d,y.children,m),d.child;case 9:return j=d.type._context,y=d.pendingProps.children,Ks(d),j=ta(j),y=y(j),d.flags|=1,ni(u,d,y,m),d.child;case 14:return Q3(u,d,d.type,d.pendingProps,m);case 15:return R3(u,d,d.type,d.pendingProps,m);case 19:return W3(u,d,m);case 31:return y=d.pendingProps,m=d.mode,y={mode:y.mode,children:y.children},u===null?(m=uv(y,m),m.ref=d.ref,d.child=m,m.return=d,d=m):(m=Rs(u.child,y),m.ref=d.ref,d.child=m,m.return=d,d=m),d;case 22:return H3(u,d,m);case 24:return Ks(d),y=ta(ra),u===null?(j=M(),j===null&&(j=wn,F=Ep(),j.pooledCache=F,F.refCount++,F!==null&&(j.pooledCacheLanes|=m),j=F),d.memoizedState={parent:y,cache:j},Te(d),Cl(d,ra,j)):((u.lanes&m)!==0&&(Ue(u,d),Dt(d,null,null,m),Jt()),j=u.memoizedState,F=d.memoizedState,j.parent!==y?(j={parent:y,cache:y},d.memoizedState=j,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=j),Cl(d,ra,y)):(y=F.cache,Cl(d,ra,y),y!==j.cache&&Hf(d,[ra],m,!0))),ni(u,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function jc(u){u.flags|=4}function X3(u,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!iI(d)){if(d=Gs.current,d!==null&&((Rr&4194048)===Rr?Il!==null:(Rr&62914560)!==Rr&&(Rr&536870912)===0||d!==Il))throw We=Ae,ie;u.flags|=8192}}function Av(u,d){d!==null&&(u.flags|=4),u.flags&16384&&(d=u.tag!==22?Ot():536870912,u.lanes|=d,rh|=d)}function zp(u,d){if(!qr)switch(u.tailMode){case"hidden":d=u.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:y.sibling=null}}function qn(u){var d=u.alternate!==null&&u.alternate.child===u.child,m=0,y=0;if(d)for(var j=u.child;j!==null;)m|=j.lanes|j.childLanes,y|=j.subtreeFlags&65011712,y|=j.flags&65011712,j.return=u,j=j.sibling;else for(j=u.child;j!==null;)m|=j.lanes|j.childLanes,y|=j.subtreeFlags,y|=j.flags,j.return=u,j=j.sibling;return u.subtreeFlags|=y,u.childLanes=m,d}function aY(u,d,m){var y=d.pendingProps;switch(id(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(d),null;case 1:return qn(d),null;case 3:return m=d.stateNode,y=null,u!==null&&(y=u.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),qs(ra),fe(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(ti(d)?jc(d):u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Hy())),qn(d),null;case 26:return m=d.memoizedState,u===null?(jc(d),m!==null?(qn(d),X3(d,m)):(qn(d),d.flags&=-16777217)):m?m!==u.memoizedState?(jc(d),qn(d),X3(d,m)):(qn(d),d.flags&=-16777217):(u.memoizedProps!==y&&jc(d),qn(d),d.flags&=-16777217),null;case 27:$e(d),m=se.current;var j=d.type;if(u!==null&&d.stateNode!=null)u.memoizedProps!==y&&jc(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return qn(d),null}u=G.current,ti(d)?Ry(d):(u=XO(j,y,m),d.stateNode=u,jc(d))}return qn(d),null;case 5:if($e(d),m=d.type,u!==null&&d.stateNode!=null)u.memoizedProps!==y&&jc(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return qn(d),null}if(u=G.current,ti(d))Ry(d);else{switch(j=Bv(se.current),u){case 1:u=j.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:u=j.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":u=j.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":u=j.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":u=j.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof y.is=="string"?j.createElement("select",{is:y.is}):j.createElement("select"),y.multiple?u.multiple=!0:y.size&&(u.size=y.size);break;default:u=typeof y.is=="string"?j.createElement(m,{is:y.is}):j.createElement(m)}}u[mr]=d,u[Nr]=y;e:for(j=d.child;j!==null;){if(j.tag===5||j.tag===6)u.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===d)break e;for(;j.sibling===null;){if(j.return===null||j.return===d)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}d.stateNode=u;e:switch(ii(u,m,y),m){case"button":case"input":case"select":case"textarea":u=!!y.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&jc(d)}}return qn(d),d.flags&=-16777217,null;case 6:if(u&&d.stateNode!=null)u.memoizedProps!==y&&jc(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(n(166));if(u=se.current,ti(d)){if(u=d.stateNode,m=d.memoizedProps,y=null,j=ea,j!==null)switch(j.tag){case 27:case 5:y=j.memoizedProps}u[mr]=d,u=!!(u.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||qO(u.nodeValue,m)),u||vc(d)}else u=Bv(u).createTextNode(y),u[mr]=d,d.stateNode=u}return qn(d),null;case 13:if(y=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(j=ti(d),y!==null&&y.dehydrated!==null){if(u===null){if(!j)throw Error(n(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[mr]=d}else Ti(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;qn(d),j=!1}else j=Hy(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=j),j=!0;if(!j)return d.flags&256?(Nc(d),d):(Nc(d),null)}if(Nc(d),(d.flags&128)!==0)return d.lanes=m,d;if(m=y!==null,u=u!==null&&u.memoizedState!==null,m){y=d.child,j=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(j=y.alternate.memoizedState.cachePool.pool);var F=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(F=y.memoizedState.cachePool.pool),F!==j&&(y.flags|=2048)}return m!==u&&m&&(d.child.flags|=8192),Av(d,d.updateQueue),qn(d),null;case 4:return fe(),u===null&&a_(d.stateNode.containerInfo),qn(d),null;case 10:return qs(d.type),qn(d),null;case 19:if(P(Ba),j=d.memoizedState,j===null)return qn(d),null;if(y=(d.flags&128)!==0,F=j.rendering,F===null)if(y)zp(j,!1);else{if(Wn!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(F=sv(u),F!==null){for(d.flags|=128,zp(j,!1),u=F.updateQueue,d.updateQueue=u,Av(d,u),d.subtreeFlags=0,u=m,m=d.child;m!==null;)rd(m,u),m=m.sibling;return $(Ba,Ba.current&1|2),d.child}u=u.sibling}j.tail!==null&&Ke()>hv&&(d.flags|=128,y=!0,zp(j,!1),d.lanes=4194304)}else{if(!y)if(u=sv(F),u!==null){if(d.flags|=128,y=!0,u=u.updateQueue,d.updateQueue=u,Av(d,u),zp(j,!0),j.tail===null&&j.tailMode==="hidden"&&!F.alternate&&!qr)return qn(d),null}else 2*Ke()-j.renderingStartTime>hv&&m!==536870912&&(d.flags|=128,y=!0,zp(j,!1),d.lanes=4194304);j.isBackwards?(F.sibling=d.child,d.child=F):(u=j.last,u!==null?u.sibling=F:d.child=F,j.last=F)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=Ke(),d.sibling=null,u=Ba.current,$(Ba,y?u&1|2:u&1),d):(qn(d),null);case 22:case 23:return Nc(d),gr(),y=d.memoizedState!==null,u!==null?u.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(m&536870912)!==0&&(d.flags&128)===0&&(qn(d),d.subtreeFlags&6&&(d.flags|=8192)):qn(d),m=d.updateQueue,m!==null&&Av(d,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048),u!==null&&P(E),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),qs(ra),qn(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function iY(u,d){switch(id(d),d.tag){case 1:return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return qs(ra),fe(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 26:case 27:case 5:return $e(d),null;case 13:if(Nc(d),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Ti()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return P(Ba),null;case 4:return fe(),null;case 10:return qs(d.type),null;case 22:case 23:return Nc(d),gr(),u!==null&&P(E),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 24:return qs(ra),null;case 25:return null;default:return null}}function J3(u,d){switch(id(d),d.tag){case 3:qs(ra),fe();break;case 26:case 27:case 5:$e(d);break;case 4:fe();break;case 13:Nc(d);break;case 19:P(Ba);break;case 10:qs(d.type);break;case 22:case 23:Nc(d),gr(),u!==null&&P(E);break;case 24:qs(ra)}}function Gp(u,d){try{var m=d.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var j=y.next;m=j;do{if((m.tag&u)===u){y=void 0;var F=m.create,X=m.inst;y=F(),X.destroy=y}m=m.next}while(m!==j)}}catch(ue){pn(d,d.return,ue)}}function Mu(u,d,m){try{var y=d.updateQueue,j=y!==null?y.lastEffect:null;if(j!==null){var F=j.next;y=F;do{if((y.tag&u)===u){var X=y.inst,ue=X.destroy;if(ue!==void 0){X.destroy=void 0,j=d;var _e=m,et=ue;try{et()}catch(pt){pn(j,_e,pt)}}}y=y.next}while(y!==F)}}catch(pt){pn(d,d.return,pt)}}function Z3(u){var d=u.updateQueue;if(d!==null){var m=u.stateNode;try{Kr(d,m)}catch(y){pn(u,u.return,y)}}}function eO(u,d,m){m.props=bd(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(y){pn(u,d,y)}}function Vp(u,d){try{var m=u.ref;if(m!==null){switch(u.tag){case 26:case 27:case 5:var y=u.stateNode;break;case 30:y=u.stateNode;break;default:y=u.stateNode}typeof m=="function"?u.refCleanup=m(y):m.current=y}}catch(j){pn(u,d,j)}}function Ul(u,d){var m=u.ref,y=u.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(j){pn(u,d,j)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(j){pn(u,d,j)}else m.current=null}function tO(u){var d=u.type,m=u.memoizedProps,y=u.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(j){pn(u,u.return,j)}}function U2(u,d,m){try{var y=u.stateNode;NY(y,u.type,m,d),y[Nr]=d}catch(j){pn(u,u.return,j)}}function rO(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&zu(u.type)||u.tag===4}function F2(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||rO(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&zu(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function D2(u,d,m){var y=u.tag;if(y===5||y===6)u=u.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(u,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(u),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=_v));else if(y!==4&&(y===27&&zu(u.type)&&(m=u.stateNode,d=null),u=u.child,u!==null))for(D2(u,d,m),u=u.sibling;u!==null;)D2(u,d,m),u=u.sibling}function dv(u,d,m){var y=u.tag;if(y===5||y===6)u=u.stateNode,d?m.insertBefore(u,d):m.appendChild(u);else if(y!==4&&(y===27&&zu(u.type)&&(m=u.stateNode),u=u.child,u!==null))for(dv(u,d,m),u=u.sibling;u!==null;)dv(u,d,m),u=u.sibling}function nO(u){var d=u.stateNode,m=u.memoizedProps;try{for(var y=u.type,j=d.attributes;j.length;)d.removeAttributeNode(j[0]);ii(d,y,m),d[mr]=u,d[Nr]=m}catch(F){pn(u,u.return,F)}}var kc=!1,aa=!1,L2=!1,aO=typeof WeakSet=="function"?WeakSet:Set,Ha=null;function sY(u,d){if(u=u.containerInfo,o_=Ev,u=$i(u),Ps(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var j=y.anchorOffset,F=y.focusNode;y=y.focusOffset;try{m.nodeType,F.nodeType}catch{m=null;break e}var X=0,ue=-1,_e=-1,et=0,pt=0,_t=u,at=null;t:for(;;){for(var it;_t!==m||j!==0&&_t.nodeType!==3||(ue=X+j),_t!==F||y!==0&&_t.nodeType!==3||(_e=X+y),_t.nodeType===3&&(X+=_t.nodeValue.length),(it=_t.firstChild)!==null;)at=_t,_t=it;for(;;){if(_t===u)break t;if(at===m&&++et===j&&(ue=X),at===F&&++pt===y&&(_e=X),(it=_t.nextSibling)!==null)break;_t=at,at=_t.parentNode}_t=it}m=ue===-1||_e===-1?null:{start:ue,end:_e}}else m=null}m=m||{start:0,end:0}}else m=null;for(l_={focusedElem:u,selectionRange:m},Ev=!1,Ha=d;Ha!==null;)if(d=Ha,u=d.child,(d.subtreeFlags&1024)!==0&&u!==null)u.return=d,Ha=u;else for(;Ha!==null;){switch(d=Ha,F=d.alternate,u=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&F!==null){u=void 0,m=d,j=F.memoizedProps,F=F.memoizedState,y=m.stateNode;try{var hr=bd(m.type,j,m.elementType===m.type);u=y.getSnapshotBeforeUpdate(hr,F),y.__reactInternalSnapshotBeforeUpdate=u}catch(ar){pn(m,m.return,ar)}}break;case 3:if((u&1024)!==0){if(u=d.stateNode.containerInfo,m=u.nodeType,m===9)A_(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":A_(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(n(163))}if(u=d.sibling,u!==null){u.return=d.return,Ha=u;break}Ha=d.return}}function iO(u,d,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Pu(u,m),y&4&&Gp(5,m);break;case 1:if(Pu(u,m),y&4)if(u=m.stateNode,d===null)try{u.componentDidMount()}catch(X){pn(m,m.return,X)}else{var j=bd(m.type,d.memoizedProps);d=d.memoizedState;try{u.componentDidUpdate(j,d,u.__reactInternalSnapshotBeforeUpdate)}catch(X){pn(m,m.return,X)}}y&64&&Z3(m),y&512&&Vp(m,m.return);break;case 3:if(Pu(u,m),y&64&&(u=m.updateQueue,u!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{Kr(u,d)}catch(X){pn(m,m.return,X)}}break;case 27:d===null&&y&4&&nO(m);case 26:case 5:Pu(u,m),d===null&&y&4&&tO(m),y&512&&Vp(m,m.return);break;case 12:Pu(u,m);break;case 13:Pu(u,m),y&4&&lO(u,m),y&64&&(u=m.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(m=mY.bind(null,m),IY(u,m))));break;case 22:if(y=m.memoizedState!==null||kc,!y){d=d!==null&&d.memoizedState!==null||aa,j=kc;var F=aa;kc=y,(aa=d)&&!F?Qu(u,m,(m.subtreeFlags&8772)!==0):Pu(u,m),kc=j,aa=F}break;case 30:break;default:Pu(u,m)}}function sO(u){var d=u.alternate;d!==null&&(u.alternate=null,sO(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&Ja(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Dn=null,Wi=!1;function Ec(u,d,m){for(m=m.child;m!==null;)oO(u,d,m),m=m.sibling}function oO(u,d,m){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Pe,m)}catch{}switch(m.tag){case 26:aa||Ul(m,d),Ec(u,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:aa||Ul(m,d);var y=Dn,j=Wi;zu(m.type)&&(Dn=m.stateNode,Wi=!1),Ec(u,d,m),ng(m.stateNode),Dn=y,Wi=j;break;case 5:aa||Ul(m,d);case 6:if(y=Dn,j=Wi,Dn=null,Ec(u,d,m),Dn=y,Wi=j,Dn!==null)if(Wi)try{(Dn.nodeType===9?Dn.body:Dn.nodeName==="HTML"?Dn.ownerDocument.body:Dn).removeChild(m.stateNode)}catch(F){pn(m,d,F)}else try{Dn.removeChild(m.stateNode)}catch(F){pn(m,d,F)}break;case 18:Dn!==null&&(Wi?(u=Dn,WO(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,m.stateNode),Ag(u)):WO(Dn,m.stateNode));break;case 4:y=Dn,j=Wi,Dn=m.stateNode.containerInfo,Wi=!0,Ec(u,d,m),Dn=y,Wi=j;break;case 0:case 11:case 14:case 15:aa||Mu(2,m,d),aa||Mu(4,m,d),Ec(u,d,m);break;case 1:aa||(Ul(m,d),y=m.stateNode,typeof y.componentWillUnmount=="function"&&eO(m,d,y)),Ec(u,d,m);break;case 21:Ec(u,d,m);break;case 22:aa=(y=aa)||m.memoizedState!==null,Ec(u,d,m),aa=y;break;default:Ec(u,d,m)}}function lO(u,d){if(d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Ag(u)}catch(m){pn(d,d.return,m)}}function oY(u){switch(u.tag){case 13:case 19:var d=u.stateNode;return d===null&&(d=u.stateNode=new aO),d;case 22:return u=u.stateNode,d=u._retryCache,d===null&&(d=u._retryCache=new aO),d;default:throw Error(n(435,u.tag))}}function M2(u,d){var m=oY(u);d.forEach(function(y){var j=pY.bind(null,u,y);m.has(y)||(m.add(y),y.then(j,j))})}function hs(u,d){var m=d.deletions;if(m!==null)for(var y=0;y<m.length;y++){var j=m[y],F=u,X=d,ue=X;e:for(;ue!==null;){switch(ue.tag){case 27:if(zu(ue.type)){Dn=ue.stateNode,Wi=!1;break e}break;case 5:Dn=ue.stateNode,Wi=!1;break e;case 3:case 4:Dn=ue.stateNode.containerInfo,Wi=!0;break e}ue=ue.return}if(Dn===null)throw Error(n(160));oO(F,X,j),Dn=null,Wi=!1,F=j.alternate,F!==null&&(F.return=null),j.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)cO(d,u),d=d.sibling}var Po=null;function cO(u,d){var m=u.alternate,y=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:hs(d,u),ms(u),y&4&&(Mu(3,u,u.return),Gp(3,u),Mu(5,u,u.return));break;case 1:hs(d,u),ms(u),y&512&&(aa||m===null||Ul(m,m.return)),y&64&&kc&&(u=u.updateQueue,u!==null&&(y=u.callbacks,y!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var j=Po;if(hs(d,u),ms(u),y&512&&(aa||m===null||Ul(m,m.return)),y&4){var F=m!==null?m.memoizedState:null;if(y=u.memoizedState,m===null)if(y===null)if(u.stateNode===null){e:{y=u.type,m=u.memoizedProps,j=j.ownerDocument||j;t:switch(y){case"title":F=j.getElementsByTagName("title")[0],(!F||F[Xa]||F[mr]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=j.createElement(y),j.head.insertBefore(F,j.querySelector("head > title"))),ii(F,y,m),F[mr]=u,Yr(F),y=F;break e;case"link":var X=nI("link","href",j).get(y+(m.href||""));if(X){for(var ue=0;ue<X.length;ue++)if(F=X[ue],F.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&F.getAttribute("rel")===(m.rel==null?null:m.rel)&&F.getAttribute("title")===(m.title==null?null:m.title)&&F.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){X.splice(ue,1);break t}}F=j.createElement(y),ii(F,y,m),j.head.appendChild(F);break;case"meta":if(X=nI("meta","content",j).get(y+(m.content||""))){for(ue=0;ue<X.length;ue++)if(F=X[ue],F.getAttribute("content")===(m.content==null?null:""+m.content)&&F.getAttribute("name")===(m.name==null?null:m.name)&&F.getAttribute("property")===(m.property==null?null:m.property)&&F.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&F.getAttribute("charset")===(m.charSet==null?null:m.charSet)){X.splice(ue,1);break t}}F=j.createElement(y),ii(F,y,m),j.head.appendChild(F);break;default:throw Error(n(468,y))}F[mr]=u,Yr(F),y=F}u.stateNode=y}else aI(j,u.type,u.stateNode);else u.stateNode=rI(j,y,u.memoizedProps);else F!==y?(F===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):F.count--,y===null?aI(j,u.type,u.stateNode):rI(j,y,u.memoizedProps)):y===null&&u.stateNode!==null&&U2(u,u.memoizedProps,m.memoizedProps)}break;case 27:hs(d,u),ms(u),y&512&&(aa||m===null||Ul(m,m.return)),m!==null&&y&4&&U2(u,u.memoizedProps,m.memoizedProps);break;case 5:if(hs(d,u),ms(u),y&512&&(aa||m===null||Ul(m,m.return)),u.flags&32){j=u.stateNode;try{Xr(j,"")}catch(it){pn(u,u.return,it)}}y&4&&u.stateNode!=null&&(j=u.memoizedProps,U2(u,j,m!==null?m.memoizedProps:j)),y&1024&&(L2=!0);break;case 6:if(hs(d,u),ms(u),y&4){if(u.stateNode===null)throw Error(n(162));y=u.memoizedProps,m=u.stateNode;try{m.nodeValue=y}catch(it){pn(u,u.return,it)}}break;case 3:if(Cv=null,j=Po,Po=Sv(d.containerInfo),hs(d,u),Po=j,ms(u),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Ag(d.containerInfo)}catch(it){pn(u,u.return,it)}L2&&(L2=!1,uO(u));break;case 4:y=Po,Po=Sv(u.stateNode.containerInfo),hs(d,u),ms(u),Po=y;break;case 12:hs(d,u),ms(u);break;case 13:hs(d,u),ms(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(q2=Ke()),y&4&&(y=u.updateQueue,y!==null&&(u.updateQueue=null,M2(u,y)));break;case 22:j=u.memoizedState!==null;var _e=m!==null&&m.memoizedState!==null,et=kc,pt=aa;if(kc=et||j,aa=pt||_e,hs(d,u),aa=pt,kc=et,ms(u),y&8192)e:for(d=u.stateNode,d._visibility=j?d._visibility&-2:d._visibility|1,j&&(m===null||_e||kc||aa||yd(u)),m=null,d=u;;){if(d.tag===5||d.tag===26){if(m===null){_e=m=d;try{if(F=_e.stateNode,j)X=F.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{ue=_e.stateNode;var _t=_e.memoizedProps.style,at=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;ue.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(it){pn(_e,_e.return,it)}}}else if(d.tag===6){if(m===null){_e=d;try{_e.stateNode.nodeValue=j?"":_e.memoizedProps}catch(it){pn(_e,_e.return,it)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===u)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break e;for(;d.sibling===null;){if(d.return===null||d.return===u)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=u.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,M2(u,m))));break;case 19:hs(d,u),ms(u),y&4&&(y=u.updateQueue,y!==null&&(u.updateQueue=null,M2(u,y)));break;case 30:break;case 21:break;default:hs(d,u),ms(u)}}function ms(u){var d=u.flags;if(d&2){try{for(var m,y=u.return;y!==null;){if(rO(y)){m=y;break}y=y.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var j=m.stateNode,F=F2(u);dv(u,F,j);break;case 5:var X=m.stateNode;m.flags&32&&(Xr(X,""),m.flags&=-33);var ue=F2(u);dv(u,ue,X);break;case 3:case 4:var _e=m.stateNode.containerInfo,et=F2(u);D2(u,et,_e);break;default:throw Error(n(161))}}catch(pt){pn(u,u.return,pt)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function uO(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var d=u;uO(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),u=u.sibling}}function Pu(u,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)iO(u,d.alternate,d),d=d.sibling}function yd(u){for(u=u.child;u!==null;){var d=u;switch(d.tag){case 0:case 11:case 14:case 15:Mu(4,d,d.return),yd(d);break;case 1:Ul(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&eO(d,d.return,m),yd(d);break;case 27:ng(d.stateNode);case 26:case 5:Ul(d,d.return),yd(d);break;case 22:d.memoizedState===null&&yd(d);break;case 30:yd(d);break;default:yd(d)}u=u.sibling}}function Qu(u,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,j=u,F=d,X=F.flags;switch(F.tag){case 0:case 11:case 15:Qu(j,F,m),Gp(4,F);break;case 1:if(Qu(j,F,m),y=F,j=y.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(et){pn(y,y.return,et)}if(y=F,j=y.updateQueue,j!==null){var ue=y.stateNode;try{var _e=j.shared.hiddenCallbacks;if(_e!==null)for(j.shared.hiddenCallbacks=null,j=0;j<_e.length;j++)Pr(_e[j],ue)}catch(et){pn(y,y.return,et)}}m&&X&64&&Z3(F),Vp(F,F.return);break;case 27:nO(F);case 26:case 5:Qu(j,F,m),m&&y===null&&X&4&&tO(F),Vp(F,F.return);break;case 12:Qu(j,F,m);break;case 13:Qu(j,F,m),m&&X&4&&lO(j,F);break;case 22:F.memoizedState===null&&Qu(j,F,m),Vp(F,F.return);break;case 30:break;default:Qu(j,F,m)}d=d.sibling}}function P2(u,d){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(u=d.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&sd(m))}function Q2(u,d){u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&sd(u))}function Fl(u,d,m,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)AO(u,d,m,y),d=d.sibling}function AO(u,d,m,y){var j=d.flags;switch(d.tag){case 0:case 11:case 15:Fl(u,d,m,y),j&2048&&Gp(9,d);break;case 1:Fl(u,d,m,y);break;case 3:Fl(u,d,m,y),j&2048&&(u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&sd(u)));break;case 12:if(j&2048){Fl(u,d,m,y),u=d.stateNode;try{var F=d.memoizedProps,X=F.id,ue=F.onPostCommit;typeof ue=="function"&&ue(X,d.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(_e){pn(d,d.return,_e)}}else Fl(u,d,m,y);break;case 13:Fl(u,d,m,y);break;case 23:break;case 22:F=d.stateNode,X=d.alternate,d.memoizedState!==null?F._visibility&2?Fl(u,d,m,y):Wp(u,d):F._visibility&2?Fl(u,d,m,y):(F._visibility|=2,Zf(u,d,m,y,(d.subtreeFlags&10256)!==0)),j&2048&&P2(X,d);break;case 24:Fl(u,d,m,y),j&2048&&Q2(d.alternate,d);break;default:Fl(u,d,m,y)}}function Zf(u,d,m,y,j){for(j=j&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var F=u,X=d,ue=m,_e=y,et=X.flags;switch(X.tag){case 0:case 11:case 15:Zf(F,X,ue,_e,j),Gp(8,X);break;case 23:break;case 22:var pt=X.stateNode;X.memoizedState!==null?pt._visibility&2?Zf(F,X,ue,_e,j):Wp(F,X):(pt._visibility|=2,Zf(F,X,ue,_e,j)),j&&et&2048&&P2(X.alternate,X);break;case 24:Zf(F,X,ue,_e,j),j&&et&2048&&Q2(X.alternate,X);break;default:Zf(F,X,ue,_e,j)}d=d.sibling}}function Wp(u,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=u,y=d,j=y.flags;switch(y.tag){case 22:Wp(m,y),j&2048&&P2(y.alternate,y);break;case 24:Wp(m,y),j&2048&&Q2(y.alternate,y);break;default:Wp(m,y)}d=d.sibling}}var Yp=8192;function eh(u){if(u.subtreeFlags&Yp)for(u=u.child;u!==null;)dO(u),u=u.sibling}function dO(u){switch(u.tag){case 26:eh(u),u.flags&Yp&&u.memoizedState!==null&&zY(Po,u.memoizedState,u.memoizedProps);break;case 5:eh(u);break;case 3:case 4:var d=Po;Po=Sv(u.stateNode.containerInfo),eh(u),Po=d;break;case 22:u.memoizedState===null&&(d=u.alternate,d!==null&&d.memoizedState!==null?(d=Yp,Yp=16777216,eh(u),Yp=d):eh(u));break;default:eh(u)}}function fO(u){var d=u.alternate;if(d!==null&&(u=d.child,u!==null)){d.child=null;do d=u.sibling,u.sibling=null,u=d;while(u!==null)}}function Xp(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];Ha=y,mO(y,u)}fO(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)hO(u),u=u.sibling}function hO(u){switch(u.tag){case 0:case 11:case 15:Xp(u),u.flags&2048&&Mu(9,u,u.return);break;case 3:Xp(u);break;case 12:Xp(u);break;case 22:var d=u.stateNode;u.memoizedState!==null&&d._visibility&2&&(u.return===null||u.return.tag!==13)?(d._visibility&=-3,fv(u)):Xp(u);break;default:Xp(u)}}function fv(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];Ha=y,mO(y,u)}fO(u)}for(u=u.child;u!==null;){switch(d=u,d.tag){case 0:case 11:case 15:Mu(8,d,d.return),fv(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,fv(d));break;default:fv(d)}u=u.sibling}}function mO(u,d){for(;Ha!==null;){var m=Ha;switch(m.tag){case 0:case 11:case 15:Mu(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:sd(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,Ha=y;else e:for(m=u;Ha!==null;){y=Ha;var j=y.sibling,F=y.return;if(sO(y),y===m){Ha=null;break e}if(j!==null){j.return=F,Ha=j;break e}Ha=F}}}var lY={getCacheForType:function(u){var d=ta(ra),m=d.data.get(u);return m===void 0&&(m=u(),d.data.set(u,m)),m}},cY=typeof WeakMap=="function"?WeakMap:Map,on=0,wn=null,Ir=null,Rr=0,ln=0,ps=null,Ru=!1,th=!1,R2=!1,Tc=0,Wn=0,Hu=0,vd=0,H2=0,Vs=0,rh=0,Jp=null,Yi=null,$2=!1,q2=0,hv=1/0,mv=null,$u=null,ai=0,qu=null,nh=null,ah=0,K2=0,z2=null,pO=null,Zp=0,G2=null;function gs(){if((on&2)!==0&&Rr!==0)return Rr&-Rr;if(K.T!==null){var u=xc;return u!==0?u:e_()}return Pt()}function gO(){Vs===0&&(Vs=(Rr&536870912)===0||qr?Lt():536870912);var u=Gs.current;return u!==null&&(u.flags|=32),Vs}function bs(u,d,m){(u===wn&&(ln===2||ln===9)||u.cancelPendingCommit!==null)&&(ih(u,0),Ku(u,Rr,Vs,!1)),ot(u,m),((on&2)===0||u!==wn)&&(u===wn&&((on&2)===0&&(vd|=m),Wn===4&&Ku(u,Rr,Vs,!1)),Dl(u))}function bO(u,d,m){if((on&6)!==0)throw Error(n(327));var y=!m&&(d&124)===0&&(d&u.expiredLanes)===0||wr(u,d),j=y?dY(u,d):Y2(u,d,!0),F=y;do{if(j===0){th&&!y&&Ku(u,d,0,!1);break}else{if(m=u.current.alternate,F&&!uY(m)){j=Y2(u,d,!1),F=!1;continue}if(j===2){if(F=d,u.errorRecoveryDisabledLanes&F)var X=0;else X=u.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){d=X;e:{var ue=u;j=Jp;var _e=ue.current.memoizedState.isDehydrated;if(_e&&(ih(ue,X).flags|=256),X=Y2(ue,X,!1),X!==2){if(R2&&!_e){ue.errorRecoveryDisabledLanes|=F,vd|=F,j=4;break e}F=Yi,Yi=j,F!==null&&(Yi===null?Yi=F:Yi.push.apply(Yi,F))}j=X}if(F=!1,j!==2)continue}}if(j===1){ih(u,0),Ku(u,d,0,!0);break}e:{switch(y=u,F=j,F){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:Ku(y,d,Vs,!Ru);break e;case 2:Yi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(j=q2+300-Ke(),10<j)){if(Ku(y,d,Vs,!Ru),nr(y,0,!0)!==0)break e;y.timeoutHandle=GO(yO.bind(null,y,m,Yi,mv,$2,d,Vs,vd,rh,Ru,F,2,-0,0),j);break e}yO(y,m,Yi,mv,$2,d,Vs,vd,rh,Ru,F,0,-0,0)}}break}while(!0);Dl(u)}function yO(u,d,m,y,j,F,X,ue,_e,et,pt,_t,at,it){if(u.timeoutHandle=-1,_t=d.subtreeFlags,(_t&8192||(_t&16785408)===16785408)&&(sg={stylesheets:null,count:0,unsuspend:KY},dO(d),_t=GY(),_t!==null)){u.cancelPendingCommit=_t(NO.bind(null,u,d,F,m,y,j,X,ue,_e,pt,1,at,it)),Ku(u,F,X,!et);return}NO(u,d,F,m,y,j,X,ue,_e)}function uY(u){for(var d=u;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var j=m[y],F=j.getSnapshot;j=j.value;try{if(!wa(F(),j))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ku(u,d,m,y){d&=~H2,d&=~vd,u.suspendedLanes|=d,u.pingedLanes&=~d,y&&(u.warmLanes|=d),y=u.expirationTimes;for(var j=d;0<j;){var F=31-St(j),X=1<<F;y[F]=-1,j&=~X}m!==0&&mt(u,m,d)}function pv(){return(on&6)===0?(eg(0),!1):!0}function V2(){if(Ir!==null){if(ln===0)var u=Ir.return;else u=Ir,Io=pa=null,Kf(u),Xf=null,qp=0,u=Ir;for(;u!==null;)J3(u.alternate,u),u=u.return;Ir=null}}function ih(u,d){var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,jY(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),V2(),wn=u,Ir=m=Rs(u.current,null),Rr=d,ln=0,ps=null,Ru=!1,th=wr(u,d),R2=!1,rh=Vs=H2=vd=Hu=Wn=0,Yi=Jp=null,$2=!1,(d&8)!==0&&(d|=d&32);var y=u.entangledLanes;if(y!==0)for(u=u.entanglements,y&=d;0<y;){var j=31-St(y),F=1<<j;d|=u[j],y&=~F}return Tc=d,ed(),m}function vO(u,d){rr=null,K.H=nv,d===ae||d===le?(d=De(),ln=3):d===ie?(d=De(),ln=4):ln=d===M3?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ps=d,Ir===null&&(Wn=1,lv(u,_a(d,u.current)))}function xO(){var u=K.H;return K.H=nv,u===null?nv:u}function wO(){var u=K.A;return K.A=lY,u}function W2(){Wn=4,Ru||(Rr&4194048)!==Rr&&Gs.current!==null||(th=!0),(Hu&134217727)===0&&(vd&134217727)===0||wn===null||Ku(wn,Rr,Vs,!1)}function Y2(u,d,m){var y=on;on|=2;var j=xO(),F=wO();(wn!==u||Rr!==d)&&(mv=null,ih(u,d)),d=!1;var X=Wn;e:do try{if(ln!==0&&Ir!==null){var ue=Ir,_e=ps;switch(ln){case 8:V2(),X=6;break e;case 3:case 2:case 9:case 6:Gs.current===null&&(d=!0);var et=ln;if(ln=0,ps=null,sh(u,ue,_e,et),m&&th){X=0;break e}break;default:et=ln,ln=0,ps=null,sh(u,ue,_e,et)}}AY(),X=Wn;break}catch(pt){vO(u,pt)}while(!0);return d&&u.shellSuspendCounter++,Io=pa=null,on=y,K.H=j,K.A=F,Ir===null&&(wn=null,Rr=0,ed()),X}function AY(){for(;Ir!==null;)_O(Ir)}function dY(u,d){var m=on;on|=2;var y=xO(),j=wO();wn!==u||Rr!==d?(mv=null,hv=Ke()+500,ih(u,d)):th=wr(u,d);e:do try{if(ln!==0&&Ir!==null){d=Ir;var F=ps;t:switch(ln){case 1:ln=0,ps=null,sh(u,d,F,1);break;case 2:case 9:if(me(F)){ln=0,ps=null,BO(d);break}d=function(){ln!==2&&ln!==9||wn!==u||(ln=7),Dl(u)},F.then(d,d);break e;case 3:ln=7;break e;case 4:ln=5;break e;case 7:me(F)?(ln=0,ps=null,BO(d)):(ln=0,ps=null,sh(u,d,F,7));break;case 5:var X=null;switch(Ir.tag){case 26:X=Ir.memoizedState;case 5:case 27:var ue=Ir;if(!X||iI(X)){ln=0,ps=null;var _e=ue.sibling;if(_e!==null)Ir=_e;else{var et=ue.return;et!==null?(Ir=et,gv(et)):Ir=null}break t}}ln=0,ps=null,sh(u,d,F,5);break;case 6:ln=0,ps=null,sh(u,d,F,6);break;case 8:V2(),Wn=6;break e;default:throw Error(n(462))}}fY();break}catch(pt){vO(u,pt)}while(!0);return Io=pa=null,K.H=y,K.A=j,on=m,Ir!==null?0:(wn=null,Rr=0,ed(),Wn)}function fY(){for(;Ir!==null&&!Se();)_O(Ir)}function _O(u){var d=Y3(u.alternate,u,Tc);u.memoizedProps=u.pendingProps,d===null?gv(u):Ir=d}function BO(u){var d=u,m=d.alternate;switch(d.tag){case 15:case 0:d=q3(m,d,d.pendingProps,d.type,void 0,Rr);break;case 11:d=q3(m,d,d.pendingProps,d.type.render,d.ref,Rr);break;case 5:Kf(d);default:J3(m,d),d=Ir=rd(d,Tc),d=Y3(m,d,Tc)}u.memoizedProps=u.pendingProps,d===null?gv(u):Ir=d}function sh(u,d,m,y){Io=pa=null,Kf(d),Xf=null,qp=0;var j=d.return;try{if(rY(u,j,d,m,Rr)){Wn=1,lv(u,_a(m,u.current)),Ir=null;return}}catch(F){if(j!==null)throw Ir=j,F;Wn=1,lv(u,_a(m,u.current)),Ir=null;return}d.flags&32768?(qr||y===1?u=!0:th||(Rr&536870912)!==0?u=!1:(Ru=u=!0,(y===2||y===9||y===3||y===6)&&(y=Gs.current,y!==null&&y.tag===13&&(y.flags|=16384))),SO(d,u)):gv(d)}function gv(u){var d=u;do{if((d.flags&32768)!==0){SO(d,Ru);return}u=d.return;var m=aY(d.alternate,d,Tc);if(m!==null){Ir=m;return}if(d=d.sibling,d!==null){Ir=d;return}Ir=d=u}while(d!==null);Wn===0&&(Wn=5)}function SO(u,d){do{var m=iY(u.alternate,u);if(m!==null){m.flags&=32767,Ir=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(u=u.sibling,u!==null)){Ir=u;return}Ir=u=m}while(u!==null);Wn=6,Ir=null}function NO(u,d,m,y,j,F,X,ue,_e){u.cancelPendingCommit=null;do bv();while(ai!==0);if((on&6)!==0)throw Error(n(327));if(d!==null){if(d===u.current)throw Error(n(177));if(F=d.lanes|d.childLanes,F|=Df,ht(u,m,F,X,ue,_e),u===wn&&(Ir=wn=null,Rr=0),nh=d,qu=u,ah=m,K2=F,z2=j,pO=y,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,gY(Ve,function(){return TO(),null})):(u.callbackNode=null,u.callbackPriority=0),y=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||y){y=K.T,K.T=null,j=J.p,J.p=2,X=on,on|=4;try{sY(u,d,m)}finally{on=X,J.p=j,K.T=y}}ai=1,CO(),jO(),kO()}}function CO(){if(ai===1){ai=0;var u=qu,d=nh,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=K.T,K.T=null;var y=J.p;J.p=2;var j=on;on|=4;try{cO(d,u);var F=l_,X=$i(u.containerInfo),ue=F.focusedElem,_e=F.selectionRange;if(X!==ue&&ue&&ue.ownerDocument&&ki(ue.ownerDocument.documentElement,ue)){if(_e!==null&&Ps(ue)){var et=_e.start,pt=_e.end;if(pt===void 0&&(pt=et),"selectionStart"in ue)ue.selectionStart=et,ue.selectionEnd=Math.min(pt,ue.value.length);else{var _t=ue.ownerDocument||document,at=_t&&_t.defaultView||window;if(at.getSelection){var it=at.getSelection(),hr=ue.textContent.length,ar=Math.min(_e.start,hr),dn=_e.end===void 0?ar:Math.min(_e.end,hr);!it.extend&&ar>dn&&(X=dn,dn=ar,ar=X);var Re=Bo(ue,ar),Oe=Bo(ue,dn);if(Re&&Oe&&(it.rangeCount!==1||it.anchorNode!==Re.node||it.anchorOffset!==Re.offset||it.focusNode!==Oe.node||it.focusOffset!==Oe.offset)){var Ye=_t.createRange();Ye.setStart(Re.node,Re.offset),it.removeAllRanges(),ar>dn?(it.addRange(Ye),it.extend(Oe.node,Oe.offset)):(Ye.setEnd(Oe.node,Oe.offset),it.addRange(Ye))}}}}for(_t=[],it=ue;it=it.parentNode;)it.nodeType===1&&_t.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<_t.length;ue++){var vt=_t[ue];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}Ev=!!o_,l_=o_=null}finally{on=j,J.p=y,K.T=m}}u.current=d,ai=2}}function jO(){if(ai===2){ai=0;var u=qu,d=nh,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=K.T,K.T=null;var y=J.p;J.p=2;var j=on;on|=4;try{iO(u,d.alternate,d)}finally{on=j,J.p=y,K.T=m}}ai=3}}function kO(){if(ai===4||ai===3){ai=0,Z();var u=qu,d=nh,m=ah,y=pO;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ai=5:(ai=0,nh=qu=null,EO(u,u.pendingLanes));var j=u.pendingLanes;if(j===0&&($u=null),Et(m),d=d.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Pe,d,void 0,(d.current.flags&128)===128)}catch{}if(y!==null){d=K.T,j=J.p,J.p=2,K.T=null;try{for(var F=u.onRecoverableError,X=0;X<y.length;X++){var ue=y[X];F(ue.value,{componentStack:ue.stack})}}finally{K.T=d,J.p=j}}(ah&3)!==0&&bv(),Dl(u),j=u.pendingLanes,(m&4194090)!==0&&(j&42)!==0?u===G2?Zp++:(Zp=0,G2=u):Zp=0,eg(0)}}function EO(u,d){(u.pooledCacheLanes&=d)===0&&(d=u.pooledCache,d!=null&&(u.pooledCache=null,sd(d)))}function bv(u){return CO(),jO(),kO(),TO()}function TO(){if(ai!==5)return!1;var u=qu,d=K2;K2=0;var m=Et(ah),y=K.T,j=J.p;try{J.p=32>m?32:m,K.T=null,m=z2,z2=null;var F=qu,X=ah;if(ai=0,nh=qu=null,ah=0,(on&6)!==0)throw Error(n(331));var ue=on;if(on|=4,hO(F.current),AO(F,F.current,X,m),on=ue,eg(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Pe,F)}catch{}return!0}finally{J.p=j,K.T=y,EO(u,d)}}function OO(u,d,m){d=_a(m,d),d=S2(u.stateNode,d,2),u=wt(u,d,2),u!==null&&(ot(u,2),Dl(u))}function pn(u,d,m){if(u.tag===3)OO(u,u,m);else for(;d!==null;){if(d.tag===3){OO(d,u,m);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&($u===null||!$u.has(y))){u=_a(m,u),m=D3(2),y=wt(d,m,2),y!==null&&(L3(m,y,d,u),ot(y,2),Dl(y));break}}d=d.return}}function X2(u,d,m){var y=u.pingCache;if(y===null){y=u.pingCache=new cY;var j=new Set;y.set(d,j)}else j=y.get(d),j===void 0&&(j=new Set,y.set(d,j));j.has(m)||(R2=!0,j.add(m),u=hY.bind(null,u,d,m),d.then(u,u))}function hY(u,d,m){var y=u.pingCache;y!==null&&y.delete(d),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,wn===u&&(Rr&m)===m&&(Wn===4||Wn===3&&(Rr&62914560)===Rr&&300>Ke()-q2?(on&2)===0&&ih(u,0):H2|=m,rh===Rr&&(rh=0)),Dl(u)}function IO(u,d){d===0&&(d=Ot()),u=mc(u,d),u!==null&&(ot(u,d),Dl(u))}function mY(u){var d=u.memoizedState,m=0;d!==null&&(m=d.retryLane),IO(u,m)}function pY(u,d){var m=0;switch(u.tag){case 13:var y=u.stateNode,j=u.memoizedState;j!==null&&(m=j.retryLane);break;case 19:y=u.stateNode;break;case 22:y=u.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(d),IO(u,m)}function gY(u,d){return ze(u,d)}var yv=null,oh=null,J2=!1,vv=!1,Z2=!1,xd=0;function Dl(u){u!==oh&&u.next===null&&(oh===null?yv=oh=u:oh=oh.next=u),vv=!0,J2||(J2=!0,yY())}function eg(u,d){if(!Z2&&vv){Z2=!0;do for(var m=!1,y=yv;y!==null;){if(u!==0){var j=y.pendingLanes;if(j===0)var F=0;else{var X=y.suspendedLanes,ue=y.pingedLanes;F=(1<<31-St(42|u)+1)-1,F&=j&~(X&~ue),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(m=!0,LO(y,F))}else F=Rr,F=nr(y,y===wn?F:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(F&3)===0||wr(y,F)||(m=!0,LO(y,F));y=y.next}while(m);Z2=!1}}function bY(){UO()}function UO(){vv=J2=!1;var u=0;xd!==0&&(CY()&&(u=xd),xd=0);for(var d=Ke(),m=null,y=yv;y!==null;){var j=y.next,F=FO(y,d);F===0?(y.next=null,m===null?yv=j:m.next=j,j===null&&(oh=m)):(m=y,(u!==0||(F&3)!==0)&&(vv=!0)),y=j}eg(u)}function FO(u,d){for(var m=u.suspendedLanes,y=u.pingedLanes,j=u.expirationTimes,F=u.pendingLanes&-62914561;0<F;){var X=31-St(F),ue=1<<X,_e=j[X];_e===-1?((ue&m)===0||(ue&y)!==0)&&(j[X]=Ge(ue,d)):_e<=d&&(u.expiredLanes|=ue),F&=~ue}if(d=wn,m=Rr,m=nr(u,u===d?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),y=u.callbackNode,m===0||u===d&&(ln===2||ln===9)||u.cancelPendingCommit!==null)return y!==null&&y!==null&&nt(y),u.callbackNode=null,u.callbackPriority=0;if((m&3)===0||wr(u,m)){if(d=m&-m,d===u.callbackPriority)return d;switch(y!==null&&nt(y),Et(m)){case 2:case 8:m=He;break;case 32:m=Ve;break;case 268435456:m=je;break;default:m=Ve}return y=DO.bind(null,u),m=ze(m,y),u.callbackPriority=d,u.callbackNode=m,d}return y!==null&&y!==null&&nt(y),u.callbackPriority=2,u.callbackNode=null,2}function DO(u,d){if(ai!==0&&ai!==5)return u.callbackNode=null,u.callbackPriority=0,null;var m=u.callbackNode;if(bv()&&u.callbackNode!==m)return null;var y=Rr;return y=nr(u,u===wn?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),y===0?null:(bO(u,y,d),FO(u,Ke()),u.callbackNode!=null&&u.callbackNode===m?DO.bind(null,u):null)}function LO(u,d){if(bv())return null;bO(u,d,!0)}function yY(){kY(function(){(on&6)!==0?ze(ye,bY):UO()})}function e_(){return xd===0&&(xd=Lt()),xd}function MO(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Us(""+u)}function PO(u,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,u.id&&m.setAttribute("form",u.id),d.parentNode.insertBefore(m,d),u=new FormData(u),m.parentNode.removeChild(m),u}function vY(u,d,m,y,j){if(d==="submit"&&m&&m.stateNode===j){var F=MO((j[Nr]||null).action),X=y.submitter;X&&(d=(d=X[Nr]||null)?MO(d.formAction):X.getAttribute("formAction"),d!==null&&(F=d,X=null));var ue=new ml("action","action",null,y,j);u.push({event:ue,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(xd!==0){var _e=X?PO(j,X):new FormData(j);zs(m,{pending:!0,data:_e,method:j.method,action:F},null,_e)}}else typeof F=="function"&&(ue.preventDefault(),_e=X?PO(j,X):new FormData(j),zs(m,{pending:!0,data:_e,method:j.method,action:F},F,_e))},currentTarget:j}]})}}for(var t_=0;t_<Rn.length;t_++){var r_=Rn[t_],xY=r_.toLowerCase(),wY=r_[0].toUpperCase()+r_.slice(1);Zn(xY,"on"+wY)}Zn(Bl,"onAnimationEnd"),Zn(So,"onAnimationIteration"),Zn(Nu,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Ki,"onTransitionRun"),Zn(No,"onTransitionStart"),Zn(un,"onTransitionCancel"),Zn(an,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_Y=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tg));function QO(u,d){d=(d&4)!==0;for(var m=0;m<u.length;m++){var y=u[m],j=y.event;y=y.listeners;e:{var F=void 0;if(d)for(var X=y.length-1;0<=X;X--){var ue=y[X],_e=ue.instance,et=ue.currentTarget;if(ue=ue.listener,_e!==F&&j.isPropagationStopped())break e;F=ue,j.currentTarget=et;try{F(j)}catch(pt){ov(pt)}j.currentTarget=null,F=_e}else for(X=0;X<y.length;X++){if(ue=y[X],_e=ue.instance,et=ue.currentTarget,ue=ue.listener,_e!==F&&j.isPropagationStopped())break e;F=ue,j.currentTarget=et;try{F(j)}catch(pt){ov(pt)}j.currentTarget=null,F=_e}}}}function Ur(u,d){var m=d[ur];m===void 0&&(m=d[ur]=new Set);var y=u+"__bubble";m.has(y)||(RO(d,u,2,!1),m.add(y))}function n_(u,d,m){var y=0;d&&(y|=4),RO(m,u,y,d)}var xv="_reactListening"+Math.random().toString(36).slice(2);function a_(u){if(!u[xv]){u[xv]=!0,ks.forEach(function(m){m!=="selectionchange"&&(_Y.has(m)||n_(m,!1,u),n_(m,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[xv]||(d[xv]=!0,n_("selectionchange",!1,d))}}function RO(u,d,m,y){switch(AI(d)){case 2:var j=YY;break;case 8:j=XY;break;default:j=b_}m=j.bind(null,d,m,u),j=void 0,!du||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(j=!0),y?j!==void 0?u.addEventListener(d,m,{capture:!0,passive:j}):u.addEventListener(d,m,!0):j!==void 0?u.addEventListener(d,m,{passive:j}):u.addEventListener(d,m,!1)}function i_(u,d,m,y,j){var F=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var X=y.tag;if(X===3||X===4){var ue=y.stateNode.containerInfo;if(ue===j)break;if(X===4)for(X=y.return;X!==null;){var _e=X.tag;if((_e===3||_e===4)&&X.stateNode.containerInfo===j)return;X=X.return}for(;ue!==null;){if(X=da(ue),X===null)return;if(_e=X.tag,_e===5||_e===6||_e===26||_e===27){y=F=X;continue e}ue=ue.parentNode}}y=y.return}Ef(function(){var et=F,pt=zn(m),_t=[];e:{var at=Un.get(u);if(at!==void 0){var it=ml,hr=u;switch(u){case"keypress":if(hl(m)===0)break e;case"keydown":case"keyup":it=vu;break;case"focusin":hr="focus",it=oc;break;case"focusout":hr="blur",it=oc;break;case"beforeblur":case"afterblur":it=oc;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=XA;break;case Bl:case So:case Nu:it=Sp;break;case an:it=te;break;case"scroll":case"scrollend":it=Of;break;case"wheel":it=ke;break;case"copy":case"cut":case"paste":it=Np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=xu;break;case"toggle":case"beforetoggle":it=ut}var ar=(d&4)!==0,dn=!ar&&(u==="scroll"||u==="scrollend"),Re=ar?at!==null?at+"Capture":null:at;ar=[];for(var Oe=et,Ye;Oe!==null;){var vt=Oe;if(Ye=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||Ye===null||Re===null||(vt=Ai(Oe,Re),vt!=null&&ar.push(rg(Oe,vt,Ye))),dn)break;Oe=Oe.return}0<ar.length&&(at=new it(at,hr,null,m,pt),_t.push({event:at,listeners:ar}))}}if((d&7)===0){e:{if(at=u==="mouseover"||u==="pointerover",it=u==="mouseout"||u==="pointerout",at&&m!==fl&&(hr=m.relatedTarget||m.fromElement)&&(da(hr)||hr[$r]))break e;if((it||at)&&(at=pt.window===pt?pt:(at=pt.ownerDocument)?at.defaultView||at.parentWindow:window,it?(hr=m.relatedTarget||m.toElement,it=et,hr=hr?da(hr):null,hr!==null&&(dn=i(hr),ar=hr.tag,hr!==dn||ar!==5&&ar!==27&&ar!==6)&&(hr=null)):(it=null,hr=et),it!==hr)){if(ar=xo,vt="onMouseLeave",Re="onMouseEnter",Oe="mouse",(u==="pointerout"||u==="pointerover")&&(ar=xu,vt="onPointerLeave",Re="onPointerEnter",Oe="pointer"),dn=it==null?at:Ua(it),Ye=hr==null?at:Ua(hr),at=new ar(vt,Oe+"leave",it,m,pt),at.target=dn,at.relatedTarget=Ye,vt=null,da(pt)===et&&(ar=new ar(Re,Oe+"enter",hr,m,pt),ar.target=Ye,ar.relatedTarget=dn,vt=ar),dn=vt,it&&hr)t:{for(ar=it,Re=hr,Oe=0,Ye=ar;Ye;Ye=lh(Ye))Oe++;for(Ye=0,vt=Re;vt;vt=lh(vt))Ye++;for(;0<Oe-Ye;)ar=lh(ar),Oe--;for(;0<Ye-Oe;)Re=lh(Re),Ye--;for(;Oe--;){if(ar===Re||Re!==null&&ar===Re.alternate)break t;ar=lh(ar),Re=lh(Re)}ar=null}else ar=null;it!==null&&HO(_t,at,it,ar,!1),hr!==null&&dn!==null&&HO(_t,dn,hr,ar,!0)}}e:{if(at=et?Ua(et):window,it=at.nodeName&&at.nodeName.toLowerCase(),it==="select"||it==="input"&&at.type==="file")var Wt=_u;else if(Ms(at))if(uc)Wt=Uf;else{Wt=jp;var kr=di}else it=at.nodeName,!it||it.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?et&&bo(et.elementType)&&(Wt=_u):Wt=ZA;if(Wt&&(Wt=Wt(u,et))){JA(_t,Wt,m,pt);break e}kr&&kr(u,at,et),u==="focusout"&&et&&at.type==="number"&&et.memoizedProps.value!=null&&zt(at,"number",at.value)}switch(kr=et?Ua(et):window,u){case"focusin":(Ms(kr)||kr.contentEditable==="true")&&(fi=kr,xl=et,Za=null);break;case"focusout":Za=xl=fi=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,Su(_t,m,pt);break;case"selectionchange":if(Qs)break;case"keydown":case"keyup":Su(_t,m,pt)}var er;if(Mt)e:{switch(u){case"compositionstart":var sr="onCompositionStart";break e;case"compositionend":sr="onCompositionEnd";break e;case"compositionupdate":sr="onCompositionUpdate";break e}sr=void 0}else Qn?kn(u,m)&&(sr="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(sr="onCompositionStart");sr&&(xr&&m.locale!=="ko"&&(Qn||sr!=="onCompositionStart"?sr==="onCompositionEnd"&&Qn&&(er=Tf()):(Ri=pt,GA="value"in Ri?Ri.value:Ri.textContent,Qn=!0)),kr=wv(et,sr),0<kr.length&&(sr=new gu(sr,u,null,m,pt),_t.push({event:sr,listeners:kr}),er?sr.data=er:(er=Pn(m),er!==null&&(sr.data=er)))),(er=yr?ha(u,m):cs(u,m))&&(sr=wv(et,"onBeforeInput"),0<sr.length&&(kr=new gu("onBeforeInput","beforeinput",null,m,pt),_t.push({event:kr,listeners:sr}),kr.data=er)),vY(_t,u,et,m,pt)}QO(_t,d)})}function rg(u,d,m){return{instance:u,listener:d,currentTarget:m}}function wv(u,d){for(var m=d+"Capture",y=[];u!==null;){var j=u,F=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||F===null||(j=Ai(u,m),j!=null&&y.unshift(rg(u,j,F)),j=Ai(u,d),j!=null&&y.push(rg(u,j,F))),u.tag===3)return y;u=u.return}return[]}function lh(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function HO(u,d,m,y,j){for(var F=d._reactName,X=[];m!==null&&m!==y;){var ue=m,_e=ue.alternate,et=ue.stateNode;if(ue=ue.tag,_e!==null&&_e===y)break;ue!==5&&ue!==26&&ue!==27||et===null||(_e=et,j?(et=Ai(m,F),et!=null&&X.unshift(rg(m,et,_e))):j||(et=Ai(m,F),et!=null&&X.push(rg(m,et,_e)))),m=m.return}X.length!==0&&u.push({event:d,listeners:X})}var BY=/\r\n?/g,SY=/\u0000|\uFFFD/g;function $O(u){return(typeof u=="string"?u:""+u).replace(BY,`
`).replace(SY,"")}function qO(u,d){return d=$O(d),$O(u)===d}function _v(){}function An(u,d,m,y,j,F){switch(m){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||Xr(u,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&Xr(u,""+y);break;case"className":po(u,"class",y);break;case"tabIndex":po(u,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":po(u,m,y);break;case"style":Os(u,y,F);break;case"data":if(d!=="object"){po(u,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||m!=="href")){u.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){u.removeAttribute(m);break}y=Us(""+y),u.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(m==="formAction"?(d!=="input"&&An(u,d,"name",j.name,j,null),An(u,d,"formEncType",j.formEncType,j,null),An(u,d,"formMethod",j.formMethod,j,null),An(u,d,"formTarget",j.formTarget,j,null)):(An(u,d,"encType",j.encType,j,null),An(u,d,"method",j.method,j,null),An(u,d,"target",j.target,j,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){u.removeAttribute(m);break}y=Us(""+y),u.setAttribute(m,y);break;case"onClick":y!=null&&(u.onclick=_v);break;case"onScroll":y!=null&&Ur("scroll",u);break;case"onScrollEnd":y!=null&&Ur("scrollend",u);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(j.children!=null)throw Error(n(60));u.innerHTML=m}}break;case"multiple":u.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":u.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){u.removeAttribute("xlink:href");break}m=Us(""+y),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?u.setAttribute(m,""+y):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":y===!0?u.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?u.setAttribute(m,y):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?u.setAttribute(m,y):u.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?u.removeAttribute(m):u.setAttribute(m,y);break;case"popover":Ur("beforetoggle",u),Ur("toggle",u),Fa(u,"popover",y);break;case"xlinkActuate":Da(u,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Da(u,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Da(u,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Da(u,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Da(u,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Da(u,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Da(u,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Da(u,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Da(u,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Fa(u,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=ss.get(m)||m,Fa(u,m,y))}}function s_(u,d,m,y,j,F){switch(m){case"style":Os(u,y,F);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(j.children!=null)throw Error(n(60));u.innerHTML=m}}break;case"children":typeof y=="string"?Xr(u,y):(typeof y=="number"||typeof y=="bigint")&&Xr(u,""+y);break;case"onScroll":y!=null&&Ur("scroll",u);break;case"onScrollEnd":y!=null&&Ur("scrollend",u);break;case"onClick":y!=null&&(u.onclick=_v);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(j=m.endsWith("Capture"),d=m.slice(2,j?m.length-7:void 0),F=u[Nr]||null,F=F!=null?F[m]:null,typeof F=="function"&&u.removeEventListener(d,F,j),typeof y=="function")){typeof F!="function"&&F!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(d,y,j);break e}m in u?u[m]=y:y===!0?u.setAttribute(m,""):Fa(u,m,y)}}}function ii(u,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ur("error",u),Ur("load",u);var y=!1,j=!1,F;for(F in m)if(m.hasOwnProperty(F)){var X=m[F];if(X!=null)switch(F){case"src":y=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:An(u,d,F,X,m,null)}}j&&An(u,d,"srcSet",m.srcSet,m,null),y&&An(u,d,"src",m.src,m,null);return;case"input":Ur("invalid",u);var ue=F=X=j=null,_e=null,et=null;for(y in m)if(m.hasOwnProperty(y)){var pt=m[y];if(pt!=null)switch(y){case"name":j=pt;break;case"type":X=pt;break;case"checked":_e=pt;break;case"defaultChecked":et=pt;break;case"value":F=pt;break;case"defaultValue":ue=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(n(137,d));break;default:An(u,d,y,pt,m,null)}}Tt(u,F,ue,_e,et,X,j,!1),Me(u);return;case"select":Ur("invalid",u),y=X=F=null;for(j in m)if(m.hasOwnProperty(j)&&(ue=m[j],ue!=null))switch(j){case"value":F=ue;break;case"defaultValue":X=ue;break;case"multiple":y=ue;default:An(u,d,j,ue,m,null)}d=F,m=X,u.multiple=!!y,d!=null?ir(u,!!y,d,!1):m!=null&&ir(u,!!y,m,!0);return;case"textarea":Ur("invalid",u),F=j=y=null;for(X in m)if(m.hasOwnProperty(X)&&(ue=m[X],ue!=null))switch(X){case"value":y=ue;break;case"defaultValue":j=ue;break;case"children":F=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(91));break;default:An(u,d,X,ue,m,null)}Tr(u,y,j,F),Me(u);return;case"option":for(_e in m)if(m.hasOwnProperty(_e)&&(y=m[_e],y!=null))switch(_e){case"selected":u.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:An(u,d,_e,y,m,null)}return;case"dialog":Ur("beforetoggle",u),Ur("toggle",u),Ur("cancel",u),Ur("close",u);break;case"iframe":case"object":Ur("load",u);break;case"video":case"audio":for(y=0;y<tg.length;y++)Ur(tg[y],u);break;case"image":Ur("error",u),Ur("load",u);break;case"details":Ur("toggle",u);break;case"embed":case"source":case"link":Ur("error",u),Ur("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in m)if(m.hasOwnProperty(et)&&(y=m[et],y!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:An(u,d,et,y,m,null)}return;default:if(bo(d)){for(pt in m)m.hasOwnProperty(pt)&&(y=m[pt],y!==void 0&&s_(u,d,pt,y,m,void 0));return}}for(ue in m)m.hasOwnProperty(ue)&&(y=m[ue],y!=null&&An(u,d,ue,y,m,null))}function NY(u,d,m,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,F=null,X=null,ue=null,_e=null,et=null,pt=null;for(it in m){var _t=m[it];if(m.hasOwnProperty(it)&&_t!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":_e=_t;default:y.hasOwnProperty(it)||An(u,d,it,null,y,_t)}}for(var at in y){var it=y[at];if(_t=m[at],y.hasOwnProperty(at)&&(it!=null||_t!=null))switch(at){case"type":F=it;break;case"name":j=it;break;case"checked":et=it;break;case"defaultChecked":pt=it;break;case"value":X=it;break;case"defaultValue":ue=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,d));break;default:it!==_t&&An(u,d,at,it,y,_t)}}Ct(u,X,ue,_e,et,pt,F,j);return;case"select":it=X=ue=at=null;for(F in m)if(_e=m[F],m.hasOwnProperty(F)&&_e!=null)switch(F){case"value":break;case"multiple":it=_e;default:y.hasOwnProperty(F)||An(u,d,F,null,y,_e)}for(j in y)if(F=y[j],_e=m[j],y.hasOwnProperty(j)&&(F!=null||_e!=null))switch(j){case"value":at=F;break;case"defaultValue":ue=F;break;case"multiple":X=F;default:F!==_e&&An(u,d,j,F,y,_e)}d=ue,m=X,y=it,at!=null?ir(u,!!m,at,!1):!!y!=!!m&&(d!=null?ir(u,!!m,d,!0):ir(u,!!m,m?[]:"",!1));return;case"textarea":it=at=null;for(ue in m)if(j=m[ue],m.hasOwnProperty(ue)&&j!=null&&!y.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:An(u,d,ue,null,y,j)}for(X in y)if(j=y[X],F=m[X],y.hasOwnProperty(X)&&(j!=null||F!=null))switch(X){case"value":at=j;break;case"defaultValue":it=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:j!==F&&An(u,d,X,j,y,F)}Er(u,at,it);return;case"option":for(var hr in m)if(at=m[hr],m.hasOwnProperty(hr)&&at!=null&&!y.hasOwnProperty(hr))switch(hr){case"selected":u.selected=!1;break;default:An(u,d,hr,null,y,at)}for(_e in y)if(at=y[_e],it=m[_e],y.hasOwnProperty(_e)&&at!==it&&(at!=null||it!=null))switch(_e){case"selected":u.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:An(u,d,_e,at,y,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ar in m)at=m[ar],m.hasOwnProperty(ar)&&at!=null&&!y.hasOwnProperty(ar)&&An(u,d,ar,null,y,at);for(et in y)if(at=y[et],it=m[et],y.hasOwnProperty(et)&&at!==it&&(at!=null||it!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(n(137,d));break;default:An(u,d,et,at,y,it)}return;default:if(bo(d)){for(var dn in m)at=m[dn],m.hasOwnProperty(dn)&&at!==void 0&&!y.hasOwnProperty(dn)&&s_(u,d,dn,void 0,y,at);for(pt in y)at=y[pt],it=m[pt],!y.hasOwnProperty(pt)||at===it||at===void 0&&it===void 0||s_(u,d,pt,at,y,it);return}}for(var Re in m)at=m[Re],m.hasOwnProperty(Re)&&at!=null&&!y.hasOwnProperty(Re)&&An(u,d,Re,null,y,at);for(_t in y)at=y[_t],it=m[_t],!y.hasOwnProperty(_t)||at===it||at==null&&it==null||An(u,d,_t,at,y,it)}var o_=null,l_=null;function Bv(u){return u.nodeType===9?u:u.ownerDocument}function KO(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zO(u,d){if(u===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&d==="foreignObject"?0:u}function c_(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var u_=null;function CY(){var u=window.event;return u&&u.type==="popstate"?u===u_?!1:(u_=u,!0):(u_=null,!1)}var GO=typeof setTimeout=="function"?setTimeout:void 0,jY=typeof clearTimeout=="function"?clearTimeout:void 0,VO=typeof Promise=="function"?Promise:void 0,kY=typeof queueMicrotask=="function"?queueMicrotask:typeof VO<"u"?function(u){return VO.resolve(null).then(u).catch(EY)}:GO;function EY(u){setTimeout(function(){throw u})}function zu(u){return u==="head"}function WO(u,d){var m=d,y=0,j=0;do{var F=m.nextSibling;if(u.removeChild(m),F&&F.nodeType===8)if(m=F.data,m==="/$"){if(0<y&&8>y){m=y;var X=u.ownerDocument;if(m&1&&ng(X.documentElement),m&2&&ng(X.body),m&4)for(m=X.head,ng(m),X=m.firstChild;X;){var ue=X.nextSibling,_e=X.nodeName;X[Xa]||_e==="SCRIPT"||_e==="STYLE"||_e==="LINK"&&X.rel.toLowerCase()==="stylesheet"||m.removeChild(X),X=ue}}if(j===0){u.removeChild(F),Ag(d);return}j--}else m==="$"||m==="$?"||m==="$!"?j++:y=m.charCodeAt(0)-48;else y=0;m=F}while(m);Ag(d)}function A_(u){var d=u.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":A_(m),Ja(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function TY(u,d,m,y){for(;u.nodeType===1;){var j=m;if(u.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(y){if(!u[Xa])switch(d){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(F=u.getAttribute("rel"),F==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(F!==j.rel||u.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||u.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||u.getAttribute("title")!==(j.title==null?null:j.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(F=u.getAttribute("src"),(F!==(j.src==null?null:j.src)||u.getAttribute("type")!==(j.type==null?null:j.type)||u.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&F&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(d==="input"&&u.type==="hidden"){var F=j.name==null?null:""+j.name;if(j.type==="hidden"&&u.getAttribute("name")===F)return u}else return u;if(u=Qo(u.nextSibling),u===null)break}return null}function OY(u,d,m){if(d==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=Qo(u.nextSibling),u===null))return null;return u}function d_(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function IY(u,d){var m=u.ownerDocument;if(u.data!=="$?"||m.readyState==="complete")d();else{var y=function(){d(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),u._reactRetry=y}}function Qo(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return u}var f_=null;function YO(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return u;d--}else m==="/$"&&d++}u=u.previousSibling}return null}function XO(u,d,m){switch(d=Bv(m),u){case"html":if(u=d.documentElement,!u)throw Error(n(452));return u;case"head":if(u=d.head,!u)throw Error(n(453));return u;case"body":if(u=d.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}function ng(u){for(var d=u.attributes;d.length;)u.removeAttributeNode(d[0]);Ja(u)}var Ws=new Map,JO=new Set;function Sv(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Oc=J.d;J.d={f:UY,r:FY,D:DY,C:LY,L:MY,m:PY,X:RY,S:QY,M:HY};function UY(){var u=Oc.f(),d=pv();return u||d}function FY(u){var d=fa(u);d!==null&&d.tag===5&&d.type==="form"?pd(d):Oc.r(u)}var ch=typeof document>"u"?null:document;function ZO(u,d,m){var y=ch;if(y&&typeof d=="string"&&d){var j=yt(d);j='link[rel="'+u+'"][href="'+j+'"]',typeof m=="string"&&(j+='[crossorigin="'+m+'"]'),JO.has(j)||(JO.add(j),u={rel:u,crossOrigin:m,href:d},y.querySelector(j)===null&&(d=y.createElement("link"),ii(d,"link",u),Yr(d),y.head.appendChild(d)))}}function DY(u){Oc.D(u),ZO("dns-prefetch",u,null)}function LY(u,d){Oc.C(u,d),ZO("preconnect",u,d)}function MY(u,d,m){Oc.L(u,d,m);var y=ch;if(y&&u&&d){var j='link[rel="preload"][as="'+yt(d)+'"]';d==="image"&&m&&m.imageSrcSet?(j+='[imagesrcset="'+yt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(j+='[imagesizes="'+yt(m.imageSizes)+'"]')):j+='[href="'+yt(u)+'"]';var F=j;switch(d){case"style":F=uh(u);break;case"script":F=Ah(u)}Ws.has(F)||(u=f({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:u,as:d},m),Ws.set(F,u),y.querySelector(j)!==null||d==="style"&&y.querySelector(ag(F))||d==="script"&&y.querySelector(ig(F))||(d=y.createElement("link"),ii(d,"link",u),Yr(d),y.head.appendChild(d)))}}function PY(u,d){Oc.m(u,d);var m=ch;if(m&&u){var y=d&&typeof d.as=="string"?d.as:"script",j='link[rel="modulepreload"][as="'+yt(y)+'"][href="'+yt(u)+'"]',F=j;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Ah(u)}if(!Ws.has(F)&&(u=f({rel:"modulepreload",href:u},d),Ws.set(F,u),m.querySelector(j)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(ig(F)))return}y=m.createElement("link"),ii(y,"link",u),Yr(y),m.head.appendChild(y)}}}function QY(u,d,m){Oc.S(u,d,m);var y=ch;if(y&&u){var j=Jn(y).hoistableStyles,F=uh(u);d=d||"default";var X=j.get(F);if(!X){var ue={loading:0,preload:null};if(X=y.querySelector(ag(F)))ue.loading=5;else{u=f({rel:"stylesheet",href:u,"data-precedence":d},m),(m=Ws.get(F))&&h_(u,m);var _e=X=y.createElement("link");Yr(_e),ii(_e,"link",u),_e._p=new Promise(function(et,pt){_e.onload=et,_e.onerror=pt}),_e.addEventListener("load",function(){ue.loading|=1}),_e.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,Nv(X,d,y)}X={type:"stylesheet",instance:X,count:1,state:ue},j.set(F,X)}}}function RY(u,d){Oc.X(u,d);var m=ch;if(m&&u){var y=Jn(m).hoistableScripts,j=Ah(u),F=y.get(j);F||(F=m.querySelector(ig(j)),F||(u=f({src:u,async:!0},d),(d=Ws.get(j))&&m_(u,d),F=m.createElement("script"),Yr(F),ii(F,"link",u),m.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},y.set(j,F))}}function HY(u,d){Oc.M(u,d);var m=ch;if(m&&u){var y=Jn(m).hoistableScripts,j=Ah(u),F=y.get(j);F||(F=m.querySelector(ig(j)),F||(u=f({src:u,async:!0,type:"module"},d),(d=Ws.get(j))&&m_(u,d),F=m.createElement("script"),Yr(F),ii(F,"link",u),m.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},y.set(j,F))}}function eI(u,d,m,y){var j=(j=se.current)?Sv(j):null;if(!j)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=uh(m.href),m=Jn(j).hoistableStyles,y=m.get(d),y||(y={type:"style",instance:null,count:0,state:null},m.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=uh(m.href);var F=Jn(j).hoistableStyles,X=F.get(u);if(X||(j=j.ownerDocument||j,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(u,X),(F=j.querySelector(ag(u)))&&!F._p&&(X.instance=F,X.state.loading=5),Ws.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Ws.set(u,m),F||$Y(j,u,m,X.state))),d&&y===null)throw Error(n(528,""));return X}if(d&&y!==null)throw Error(n(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Ah(m),m=Jn(j).hoistableScripts,y=m.get(d),y||(y={type:"script",instance:null,count:0,state:null},m.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function uh(u){return'href="'+yt(u)+'"'}function ag(u){return'link[rel="stylesheet"]['+u+"]"}function tI(u){return f({},u,{"data-precedence":u.precedence,precedence:null})}function $Y(u,d,m,y){u.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=u.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),ii(d,"link",m),Yr(d),u.head.appendChild(d))}function Ah(u){return'[src="'+yt(u)+'"]'}function ig(u){return"script[async]"+u}function rI(u,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var y=u.querySelector('style[data-href~="'+yt(m.href)+'"]');if(y)return d.instance=y,Yr(y),y;var j=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(u.ownerDocument||u).createElement("style"),Yr(y),ii(y,"style",j),Nv(y,m.precedence,u),d.instance=y;case"stylesheet":j=uh(m.href);var F=u.querySelector(ag(j));if(F)return d.state.loading|=4,d.instance=F,Yr(F),F;y=tI(m),(j=Ws.get(j))&&h_(y,j),F=(u.ownerDocument||u).createElement("link"),Yr(F);var X=F;return X._p=new Promise(function(ue,_e){X.onload=ue,X.onerror=_e}),ii(F,"link",y),d.state.loading|=4,Nv(F,m.precedence,u),d.instance=F;case"script":return F=Ah(m.src),(j=u.querySelector(ig(F)))?(d.instance=j,Yr(j),j):(y=m,(j=Ws.get(F))&&(y=f({},m),m_(y,j)),u=u.ownerDocument||u,j=u.createElement("script"),Yr(j),ii(j,"link",y),u.head.appendChild(j),d.instance=j);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,Nv(y,m.precedence,u));return d.instance}function Nv(u,d,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=y.length?y[y.length-1]:null,F=j,X=0;X<y.length;X++){var ue=y[X];if(ue.dataset.precedence===d)F=ue;else if(F!==j)break}F?F.parentNode.insertBefore(u,F.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(u,d.firstChild))}function h_(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.title==null&&(u.title=d.title)}function m_(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.integrity==null&&(u.integrity=d.integrity)}var Cv=null;function nI(u,d,m){if(Cv===null){var y=new Map,j=Cv=new Map;j.set(m,y)}else j=Cv,y=j.get(m),y||(y=new Map,j.set(m,y));if(y.has(u))return y;for(y.set(u,null),m=m.getElementsByTagName(u),j=0;j<m.length;j++){var F=m[j];if(!(F[Xa]||F[mr]||u==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var X=F.getAttribute(d)||"";X=u+X;var ue=y.get(X);ue?ue.push(F):y.set(X,[F])}}return y}function aI(u,d,m){u=u.ownerDocument||u,u.head.insertBefore(m,d==="title"?u.querySelector("head > title"):null)}function qY(u,d,m){if(m===1||d.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return u=d.disabled,typeof d.precedence=="string"&&u==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function iI(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var sg=null;function KY(){}function zY(u,d,m){if(sg===null)throw Error(n(475));var y=sg;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var j=uh(m.href),F=u.querySelector(ag(j));if(F){u=F._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(y.count++,y=jv.bind(y),u.then(y,y)),d.state.loading|=4,d.instance=F,Yr(F);return}F=u.ownerDocument||u,m=tI(m),(j=Ws.get(j))&&h_(m,j),F=F.createElement("link"),Yr(F);var X=F;X._p=new Promise(function(ue,_e){X.onload=ue,X.onerror=_e}),ii(F,"link",m),d.instance=F}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(y.count++,d=jv.bind(y),u.addEventListener("load",d),u.addEventListener("error",d))}}function GY(){if(sg===null)throw Error(n(475));var u=sg;return u.stylesheets&&u.count===0&&p_(u,u.stylesheets),0<u.count?function(d){var m=setTimeout(function(){if(u.stylesheets&&p_(u,u.stylesheets),u.unsuspend){var y=u.unsuspend;u.unsuspend=null,y()}},6e4);return u.unsuspend=d,function(){u.unsuspend=null,clearTimeout(m)}}:null}function jv(){if(this.count--,this.count===0){if(this.stylesheets)p_(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var kv=null;function p_(u,d){u.stylesheets=null,u.unsuspend!==null&&(u.count++,kv=new Map,d.forEach(VY,u),kv=null,jv.call(u))}function VY(u,d){if(!(d.state.loading&4)){var m=kv.get(u);if(m)var y=m.get(null);else{m=new Map,kv.set(u,m);for(var j=u.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<j.length;F++){var X=j[F];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(m.set(X.dataset.precedence,X),y=X)}y&&m.set(null,y)}j=d.instance,X=j.getAttribute("data-precedence"),F=m.get(X)||y,F===y&&m.set(null,j),m.set(X,j),this.count++,y=jv.bind(this),j.addEventListener("load",y),j.addEventListener("error",y),F?F.parentNode.insertBefore(j,F.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(j,u.firstChild)),d.state.loading|=4}}var og={$$typeof:N,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function WY(u,d,m,y,j,F,X,ue){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=y,this.onUncaughtError=j,this.onCaughtError=F,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function sI(u,d,m,y,j,F,X,ue,_e,et,pt,_t){return u=new WY(u,d,m,X,ue,_e,et,_t),d=1,F===!0&&(d|=24),F=Qa(3,null,null,d),u.current=F,F.stateNode=u,d=Ep(),d.refCount++,u.pooledCache=d,d.refCount++,F.memoizedState={element:y,isDehydrated:m,cache:d},Te(F),u}function oI(u){return u?(u=ma,u):ma}function lI(u,d,m,y,j,F){j=oI(j),y.context===null?y.context=j:y.pendingContext=j,y=dt(d),y.payload={element:m},F=F===void 0?null:F,F!==null&&(y.callback=F),m=wt(u,y,d),m!==null&&(bs(m,u,d),bt(m,u,d))}function cI(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<d?m:d}}function g_(u,d){cI(u,d),(u=u.alternate)&&cI(u,d)}function uI(u){if(u.tag===13){var d=mc(u,67108864);d!==null&&bs(d,u,67108864),g_(u,67108864)}}var Ev=!0;function YY(u,d,m,y){var j=K.T;K.T=null;var F=J.p;try{J.p=2,b_(u,d,m,y)}finally{J.p=F,K.T=j}}function XY(u,d,m,y){var j=K.T;K.T=null;var F=J.p;try{J.p=8,b_(u,d,m,y)}finally{J.p=F,K.T=j}}function b_(u,d,m,y){if(Ev){var j=y_(y);if(j===null)i_(u,d,y,Tv,m),dI(u,y);else if(ZY(j,u,d,m,y))y.stopPropagation();else if(dI(u,y),d&4&&-1<JY.indexOf(u)){for(;j!==null;){var F=fa(j);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var X=Kt(F.pendingLanes);if(X!==0){var ue=F;for(ue.pendingLanes|=2,ue.entangledLanes|=2;X;){var _e=1<<31-St(X);ue.entanglements[1]|=_e,X&=~_e}Dl(F),(on&6)===0&&(hv=Ke()+500,eg(0))}}break;case 13:ue=mc(F,2),ue!==null&&bs(ue,F,2),pv(),g_(F,2)}if(F=y_(y),F===null&&i_(u,d,y,Tv,m),F===j)break;j=F}j!==null&&y.stopPropagation()}else i_(u,d,y,null,m)}}function y_(u){return u=zn(u),v_(u)}var Tv=null;function v_(u){if(Tv=null,u=da(u),u!==null){var d=i(u);if(d===null)u=null;else{var m=d.tag;if(m===13){if(u=s(d),u!==null)return u;u=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null)}}return Tv=u,null}function AI(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case ye:return 2;case He:return 8;case Ve:case ge:return 32;case je:return 268435456;default:return 32}default:return 32}}var x_=!1,Gu=null,Vu=null,Wu=null,lg=new Map,cg=new Map,Yu=[],JY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dI(u,d){switch(u){case"focusin":case"focusout":Gu=null;break;case"dragenter":case"dragleave":Vu=null;break;case"mouseover":case"mouseout":Wu=null;break;case"pointerover":case"pointerout":lg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":cg.delete(d.pointerId)}}function ug(u,d,m,y,j,F){return u===null||u.nativeEvent!==F?(u={blockedOn:d,domEventName:m,eventSystemFlags:y,nativeEvent:F,targetContainers:[j]},d!==null&&(d=fa(d),d!==null&&uI(d)),u):(u.eventSystemFlags|=y,d=u.targetContainers,j!==null&&d.indexOf(j)===-1&&d.push(j),u)}function ZY(u,d,m,y,j){switch(d){case"focusin":return Gu=ug(Gu,u,d,m,y,j),!0;case"dragenter":return Vu=ug(Vu,u,d,m,y,j),!0;case"mouseover":return Wu=ug(Wu,u,d,m,y,j),!0;case"pointerover":var F=j.pointerId;return lg.set(F,ug(lg.get(F)||null,u,d,m,y,j)),!0;case"gotpointercapture":return F=j.pointerId,cg.set(F,ug(cg.get(F)||null,u,d,m,y,j)),!0}return!1}function fI(u){var d=da(u.target);if(d!==null){var m=i(d);if(m!==null){if(d=m.tag,d===13){if(d=s(m),d!==null){u.blockedOn=d,jr(u.priority,function(){if(m.tag===13){var y=gs();y=Ce(y);var j=mc(m,y);j!==null&&bs(j,m,y),g_(m,y)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ov(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var m=y_(u.nativeEvent);if(m===null){m=u.nativeEvent;var y=new m.constructor(m.type,m);fl=y,m.target.dispatchEvent(y),fl=null}else return d=fa(m),d!==null&&uI(d),u.blockedOn=m,!1;d.shift()}return!0}function hI(u,d,m){Ov(u)&&m.delete(d)}function eX(){x_=!1,Gu!==null&&Ov(Gu)&&(Gu=null),Vu!==null&&Ov(Vu)&&(Vu=null),Wu!==null&&Ov(Wu)&&(Wu=null),lg.forEach(hI),cg.forEach(hI)}function Iv(u,d){u.blockedOn===d&&(u.blockedOn=null,x_||(x_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eX)))}var Uv=null;function mI(u){Uv!==u&&(Uv=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Uv===u&&(Uv=null);for(var d=0;d<u.length;d+=3){var m=u[d],y=u[d+1],j=u[d+2];if(typeof y!="function"){if(v_(y||m)===null)continue;break}var F=fa(m);F!==null&&(u.splice(d,3),d-=3,zs(F,{pending:!0,data:j,method:m.method,action:y},y,j))}}))}function Ag(u){function d(_e){return Iv(_e,u)}Gu!==null&&Iv(Gu,u),Vu!==null&&Iv(Vu,u),Wu!==null&&Iv(Wu,u),lg.forEach(d),cg.forEach(d);for(var m=0;m<Yu.length;m++){var y=Yu[m];y.blockedOn===u&&(y.blockedOn=null)}for(;0<Yu.length&&(m=Yu[0],m.blockedOn===null);)fI(m),m.blockedOn===null&&Yu.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var j=m[y],F=m[y+1],X=j[Nr]||null;if(typeof F=="function")X||mI(m);else if(X){var ue=null;if(F&&F.hasAttribute("formAction")){if(j=F,X=F[Nr]||null)ue=X.formAction;else if(v_(j)!==null)continue}else ue=X.action;typeof ue=="function"?m[y+1]=ue:(m.splice(y,3),y-=3),mI(m)}}}function w_(u){this._internalRoot=u}Fv.prototype.render=w_.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));var m=d.current,y=gs();lI(m,y,u,d,null,null)},Fv.prototype.unmount=w_.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;lI(u.current,2,null,u,null,null),pv(),d[$r]=null}};function Fv(u){this._internalRoot=u}Fv.prototype.unstable_scheduleHydration=function(u){if(u){var d=Pt();u={blockedOn:null,target:u,priority:d};for(var m=0;m<Yu.length&&d!==0&&d<Yu[m].priority;m++);Yu.splice(m,0,u),m===0&&fI(u)}};var pI=t.version;if(pI!=="19.1.1")throw Error(n(527,pI,"19.1.1"));J.findDOMNode=function(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=c(d),u=u!==null?A(u):null,u=u===null?null:u.stateNode,u};var tX={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dv.isDisabled&&Dv.supportsFiber)try{Pe=Dv.inject(tX),At=Dv}catch{}}return fg.createRoot=function(u,d){if(!a(u))throw Error(n(299));var m=!1,y="",j=O3,F=I3,X=U3,ue=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(j=d.onUncaughtError),d.onCaughtError!==void 0&&(F=d.onCaughtError),d.onRecoverableError!==void 0&&(X=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ue=d.unstable_transitionCallbacks)),d=sI(u,1,!1,null,null,m,y,j,F,X,ue,null),u[$r]=d.current,a_(u),new w_(d)},fg.hydrateRoot=function(u,d,m){if(!a(u))throw Error(n(299));var y=!1,j="",F=O3,X=I3,ue=U3,_e=null,et=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onUncaughtError!==void 0&&(F=m.onUncaughtError),m.onCaughtError!==void 0&&(X=m.onCaughtError),m.onRecoverableError!==void 0&&(ue=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(_e=m.unstable_transitionCallbacks),m.formState!==void 0&&(et=m.formState)),d=sI(u,1,!0,d,m??null,y,j,F,X,ue,_e,et),d.context=oI(null),m=d.current,y=gs(),y=Ce(y),j=dt(y),j.callback=null,wt(m,j,y),m=y,d.current.lanes=m,ot(d,m),Dl(d),u[$r]=d.current,a_(u),new Fv(d)},fg.version="19.1.1",fg}var NI;function dX(){if(NI)return B_.exports;NI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),B_.exports=AX(),B_.exports}var fX=dX(),B=aE();const xe=Jr(B),hX=nX({__proto__:null,default:xe},[B]);var co=WH();/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(this,arguments)}var fA;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fA||(fA={}));const CI="popstate";function mX(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return ej("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ux(a)}return gX(t,r,null,e)}function Kn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YH(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pX(){return Math.random().toString(36).substr(2,8)}function jI(e,t){return{usr:e.state,key:e.key,idx:t}}function ej(e,t,r,n){return r===void 0&&(r=null),gb({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ip(t):t,{state:r,key:t&&t.key||n||pX()})}function ux(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ip(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function gX(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=fA.Pop,c=null,A=f();A==null&&(A=0,s.replaceState(gb({},s.state,{idx:A}),""));function f(){return(s.state||{idx:null}).idx}function h(){o=fA.Pop;let x=f(),w=x==null?null:x-A;A=x,c&&c({action:o,location:b.location,delta:w})}function p(x,w){o=fA.Push;let S=ej(b.location,x,w);A=f()+1;let N=jI(S,A),k=b.createHref(S);try{s.pushState(N,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(k)}i&&c&&c({action:o,location:b.location,delta:1})}function g(x,w){o=fA.Replace;let S=ej(b.location,x,w);A=f();let N=jI(S,A),k=b.createHref(S);s.replaceState(N,"",k),i&&c&&c({action:o,location:b.location,delta:0})}function v(x){let w=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof x=="string"?x:ux(x);return S=S.replace(/ $/,"%20"),Kn(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let b={get action(){return o},get location(){return e(a,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(CI,h),c=x,()=>{a.removeEventListener(CI,h),c=null}},createHref(x){return t(a,x)},createURL:v,encodeLocation(x){let w=v(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(x){return s.go(x)}};return b}var kI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kI||(kI={}));function bX(e,t,r){return r===void 0&&(r="/"),yX(e,t,r)}function yX(e,t,r,n){let a=typeof t=="string"?ip(t):t,i=Bm(a.pathname||"/",r);if(i==null)return null;let s=XH(e);vX(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let A=TX(i);o=kX(s[c],A)}return o}function XH(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Kn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let A=wA([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(Kn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+A+'".')),XH(i.children,t,f,A)),!(i.path==null&&!i.index)&&t.push({path:A,score:CX(A,i.index),routesMeta:f})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of JH(i.path))a(i,s,c)}),t}function JH(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=JH(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function vX(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:jX(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xX=/^:[\w-]+$/,wX=3,_X=2,BX=1,SX=10,NX=-2,EI=e=>e==="*";function CX(e,t){let r=e.split("/"),n=r.length;return r.some(EI)&&(n+=NX),t&&(n+=_X),r.filter(a=>!EI(a)).reduce((a,i)=>a+(xX.test(i)?wX:i===""?BX:SX),n)}function jX(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function kX(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],A=o===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=tj({path:c.relativePath,caseSensitive:c.caseSensitive,end:A},f),p=c.route;if(!h)return null;Object.assign(a,h.params),s.push({params:a,pathname:wA([i,h.pathname]),pathnameBase:FX(wA([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=wA([i,h.pathnameBase]))}return s}function tj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=EX(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((A,f,h)=>{let{paramName:p,isOptional:g}=f;if(p==="*"){let b=o[h]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=o[h];return g&&!v?A[p]=void 0:A[p]=(v||"").replace(/%2F/g,"/"),A},{}),pathname:i,pathnameBase:s,pattern:e}}function EX(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),YH(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function TX(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return YH(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function OX(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ip(e):e;return{pathname:r?r.startsWith("/")?r:IX(r,t):t,search:DX(n),hash:LX(a)}}function IX(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function k_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UX(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iE(e,t){let r=UX(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function sE(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ip(e):(a=gb({},e),Kn(!a.pathname||!a.pathname.includes("?"),k_("?","pathname","search",a)),Kn(!a.pathname||!a.pathname.includes("#"),k_("#","pathname","hash",a)),Kn(!a.search||!a.search.includes("#"),k_("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let h=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}o=h>=0?t[h]:"/"}let c=OX(a,o),A=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(A||f)&&(c.pathname+="/"),c}const wA=e=>e.join("/").replace(/\/\/+/g,"/"),FX=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DX=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,LX=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function MX(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ZH=["post","put","patch","delete"];new Set(ZH);const PX=["get",...ZH];new Set(PX);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(this,arguments)}const qw=B.createContext(null),e$=B.createContext(null),nu=B.createContext(null),Kw=B.createContext(null),au=B.createContext({outlet:null,matches:[],isDataRoute:!1}),t$=B.createContext(null);function QX(e,t){let{relative:r}=t===void 0?{}:t;sp()||Kn(!1);let{basename:n,navigator:a}=B.useContext(nu),{hash:i,pathname:s,search:o}=zw(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:wA([n,s])),a.createHref({pathname:c,search:o,hash:i})}function sp(){return B.useContext(Kw)!=null}function js(){return sp()||Kn(!1),B.useContext(Kw).location}function r$(e){B.useContext(nu).static||B.useLayoutEffect(e)}function uo(){let{isDataRoute:e}=B.useContext(au);return e?tJ():RX()}function RX(){sp()||Kn(!1);let e=B.useContext(qw),{basename:t,future:r,navigator:n}=B.useContext(nu),{matches:a}=B.useContext(au),{pathname:i}=js(),s=JSON.stringify(iE(a,r.v7_relativeSplatPath)),o=B.useRef(!1);return r$(()=>{o.current=!0}),B.useCallback(function(A,f){if(f===void 0&&(f={}),!o.current)return;if(typeof A=="number"){n.go(A);return}let h=sE(A,JSON.parse(s),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:wA([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,s,i,e])}const HX=B.createContext(null);function $X(e){let t=B.useContext(au).outlet;return t&&B.createElement(HX.Provider,{value:e},t)}function zw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=B.useContext(nu),{matches:a}=B.useContext(au),{pathname:i}=js(),s=JSON.stringify(iE(a,n.v7_relativeSplatPath));return B.useMemo(()=>sE(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function qX(e,t){return KX(e,t)}function KX(e,t,r,n){sp()||Kn(!1);let{navigator:a}=B.useContext(nu),{matches:i}=B.useContext(au),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let A=js(),f;if(t){var h;let x=typeof t=="string"?ip(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||Kn(!1),f=x}else f=A;let p=f.pathname||"/",g=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=bX(e,{pathname:g}),b=YX(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:wA([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:wA([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&b?B.createElement(Kw.Provider,{value:{location:bb({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:fA.Pop}},b):b}function zX(){let e=eJ(),t=MX(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),r?B.createElement("pre",{style:a},r):null,null)}const GX=B.createElement(zX,null);class VX extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?B.createElement(au.Provider,{value:this.props.routeContext},B.createElement(t$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WX(e){let{routeContext:t,match:r,children:n}=e,a=B.useContext(qw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(au.Provider,{value:t},n)}function YX(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let f=s.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);f>=0||Kn(!1),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,A=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(A=f),h.route.id){let{loaderData:p,errors:g}=r,v=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){c=!0,A>=0?s=s.slice(0,A+1):s=[s[0]];break}}}return s.reduceRight((f,h,p)=>{let g,v=!1,b=null,x=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||GX,c&&(A<0&&p===0?(rJ("route-fallback"),v=!0,x=null):A===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,p+1)),S=()=>{let N;return g?N=b:v?N=x:h.route.Component?N=B.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=f,B.createElement(WX,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:N})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?B.createElement(VX,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var n$=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(n$||{}),a$=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(a$||{});function XX(e){let t=B.useContext(qw);return t||Kn(!1),t}function JX(e){let t=B.useContext(e$);return t||Kn(!1),t}function ZX(e){let t=B.useContext(au);return t||Kn(!1),t}function i$(e){let t=ZX(),r=t.matches[t.matches.length-1];return r.route.id||Kn(!1),r.route.id}function eJ(){var e;let t=B.useContext(t$),r=JX(),n=i$();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function tJ(){let{router:e}=XX(n$.UseNavigateStable),t=i$(a$.UseNavigateStable),r=B.useRef(!1);return r$(()=>{r.current=!0}),B.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,bb({fromRouteId:t},i)))},[e,t])}const TI={};function rJ(e,t,r){TI[e]||(TI[e]=!0)}function om(e){let{to:t,replace:r,state:n,relative:a}=e;sp()||Kn(!1);let{future:i,static:s}=B.useContext(nu),{matches:o}=B.useContext(au),{pathname:c}=js(),A=uo(),f=sE(t,iE(o,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(f);return B.useEffect(()=>A(JSON.parse(h),{replace:r,state:n,relative:a}),[A,h,a,r,n]),null}function s$(e){return $X(e.context)}function _n(e){Kn(!1)}function nJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=fA.Pop,navigator:i,static:s=!1,future:o}=e;sp()&&Kn(!1);let c=t.replace(/^\/*/,"/"),A=B.useMemo(()=>({basename:c,navigator:i,static:s,future:bb({v7_relativeSplatPath:!1},o)}),[c,o,i,s]);typeof n=="string"&&(n=ip(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,b=B.useMemo(()=>{let x=Bm(f,c);return x==null?null:{location:{pathname:x,search:h,hash:p,state:g,key:v},navigationType:a}},[c,f,h,p,g,v,a]);return b==null?null:B.createElement(nu.Provider,{value:A},B.createElement(Kw.Provider,{children:r,value:b}))}function aJ(e){let{children:t,location:r}=e;return qX(rj(t),r)}new Promise(()=>{});function rj(e,t){t===void 0&&(t=[]);let r=[];return B.Children.forEach(e,(n,a)=>{if(!B.isValidElement(n))return;let i=[...t,a];if(n.type===B.Fragment){r.push.apply(r,rj(n.props.children,i));return}n.type!==_n&&Kn(!1),!n.props.index||!n.props.children||Kn(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=rj(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ax.apply(this,arguments)}function o$(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function iJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sJ(e,t){return e.button===0&&(!t||t==="_self")&&!iJ(e)}function nj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function oJ(e,t){let r=nj(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const lJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],uJ="6";try{window.__reactRouterVersion=uJ}catch{}const AJ=B.createContext({isTransitioning:!1}),dJ="startTransition",OI=hX[dJ];function fJ(e){let{basename:t,children:r,future:n,window:a}=e,i=B.useRef();i.current==null&&(i.current=mX({window:a,v5Compat:!0}));let s=i.current,[o,c]=B.useState({action:s.action,location:s.location}),{v7_startTransition:A}=n||{},f=B.useCallback(h=>{A&&OI?OI(()=>c(h)):c(h)},[c,A]);return B.useLayoutEffect(()=>s.listen(f),[s,f]),B.createElement(nJ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const hJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gw=B.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:c,to:A,preventScrollReset:f,viewTransition:h}=t,p=o$(t,lJ),{basename:g}=B.useContext(nu),v,b=!1;if(typeof A=="string"&&mJ.test(A)&&(v=A,hJ))try{let N=new URL(window.location.href),k=A.startsWith("//")?new URL(N.protocol+A):new URL(A),C=Bm(k.pathname,g);k.origin===N.origin&&C!=null?A=C+k.search+k.hash:b=!0}catch{}let x=QX(A,{relative:a}),w=gJ(A,{replace:s,state:o,target:c,preventScrollReset:f,relative:a,viewTransition:h});function S(N){n&&n(N),N.defaultPrevented||w(N)}return B.createElement("a",Ax({},p,{href:v||x,onClick:b||i?n:S,ref:r,target:c}))}),aj=B.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:A,children:f}=t,h=o$(t,cJ),p=zw(c,{relative:h.relative}),g=js(),v=B.useContext(e$),{navigator:b,basename:x}=B.useContext(nu),w=v!=null&&yJ(p)&&A===!0,S=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,N=g.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(N=N.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&x&&(k=Bm(k,x)||k);const C=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let T=N===S||!s&&N.startsWith(S)&&N.charAt(C)==="/",O=k!=null&&(k===S||!s&&k.startsWith(S)&&k.charAt(S.length)==="/"),D={isActive:T,isPending:O,isTransitioning:w},R=T?n:void 0,q;typeof i=="function"?q=i(D):q=[i,T?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(D):o;return B.createElement(Gw,Ax({},h,{"aria-current":R,className:q,ref:r,style:U,to:c,viewTransition:A}),typeof f=="function"?f(D):f)});var ij;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ij||(ij={}));var II;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(II||(II={}));function pJ(e){let t=B.useContext(qw);return t||Kn(!1),t}function gJ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,c=uo(),A=js(),f=zw(e,{relative:s});return B.useCallback(h=>{if(sJ(h,r)){h.preventDefault();let p=n!==void 0?n:ux(A)===ux(f);c(e,{replace:p,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[A,c,f,n,a,r,e,i,s,o])}function bJ(e){let t=B.useRef(nj(e)),r=B.useRef(!1),n=js(),a=B.useMemo(()=>oJ(n.search,r.current?null:t.current),[n.search]),i=uo(),s=B.useCallback((o,c)=>{const A=nj(typeof o=="function"?o(a):o);r.current=!0,i("?"+A,c)},[i,a]);return[a,s]}function yJ(e,t){t===void 0&&(t={});let r=B.useContext(AJ);r==null&&Kn(!1);let{basename:n}=pJ(ij.useViewTransitionState),a=zw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Bm(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Bm(r.nextLocation.pathname,n)||r.nextLocation.pathname;return tj(a.pathname,s)!=null||tj(a.pathname,i)!=null}var op=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vJ={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},xJ=class{#e=vJ;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},qd=new xJ;function wJ(e){setTimeout(e,0)}var sf=typeof window>"u"||"Deno"in globalThis;function Ui(){}function _J(e,t){return typeof e=="function"?e(t):e}function sj(e){return typeof e=="number"&&e>=0&&e!==1/0}function l$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _A(e,t){return typeof e=="function"?e(t):e}function to(e,t){return typeof e=="function"?e(t):e}function UI(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==oE(s,t.options))return!1}else if(!yb(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function FI(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(of(t.options.mutationKey)!==of(i))return!1}else if(!yb(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function oE(e,t){return(t?.queryKeyHashFn||of)(e)}function of(e){return JSON.stringify(e,(t,r)=>oj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function yb(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>yb(e[r],t[r])):!1}var BJ=Object.prototype.hasOwnProperty;function c$(e,t){if(e===t)return e;const r=DI(e)&&DI(t);if(!r&&!(oj(e)&&oj(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let c=0;for(let A=0;A<s;A++){const f=r?A:i[A],h=e[f],p=t[f];if(h===p){o[f]=h,(r?A<a:BJ.call(e,f))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){o[f]=p;continue}const g=c$(h,p);o[f]=g,g===h&&c++}return a===s&&c===a?e:o}function dx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function DI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function oj(e){if(!LI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!LI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function LI(e){return Object.prototype.toString.call(e)==="[object Object]"}function SJ(e){return new Promise(t=>{qd.setTimeout(t,e)})}function lj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?c$(e,t):t}function NJ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function CJ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var lE=Symbol();function u$(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===lE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function A$(e,t){return typeof e=="function"?e(...t):!!e}var jJ=class extends op{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!sf&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},cE=new jJ;function cj(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var kJ=wJ;function EJ(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=kJ;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var ka=EJ(),TJ=class extends op{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!sf&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},fx=new TJ;function OJ(e){return Math.min(1e3*2**e,3e4)}function d$(e){return(e??"online")==="online"?fx.isOnline():!0}var uj=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function f$(e){let t=!1,r=0,n;const a=cj(),i=()=>a.status!=="pending",s=b=>{if(!i()){const x=new uj(b);p(x),e.onCancel?.(x)}},o=()=>{t=!0},c=()=>{t=!1},A=()=>cE.isFocused()&&(e.networkMode==="always"||fx.isOnline())&&e.canRun(),f=()=>d$(e.networkMode)&&e.canRun(),h=b=>{i()||(n?.(),a.resolve(b))},p=b=>{i()||(n?.(),a.reject(b))},g=()=>new Promise(b=>{n=x=>{(i()||A())&&b(x)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let b;const x=r===0?e.initialPromise:void 0;try{b=x??e.fn()}catch(w){b=Promise.reject(w)}Promise.resolve(b).then(h).catch(w=>{if(i())return;const S=e.retry??(sf?0:3),N=e.retryDelay??OJ,k=typeof N=="function"?N(r,w):N,C=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,w);if(t||!C){p(w);return}r++,e.onFail?.(r,w),SJ(k).then(()=>A()?void 0:g()).then(()=>{t?p(w):v()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n?.(),a),cancelRetry:o,continueRetry:c,canStart:f,start:()=>(f()?v():g().then(v),a)}}var h$=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sj(this.gcTime)&&(this.#e=qd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(sf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(qd.clearTimeout(this.#e),this.#e=void 0)}},IJ=class extends h${#e;#t;#r;#a;#n;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=MI(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=MI(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=lj(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Ui).catch(Ui):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>to(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_A(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!l$(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const o=u$(this.options,t),A=(()=>{const f={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#o=!1,this.options.persister?this.options.persister(o,A,this):o(A)},s=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(o),o})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta}),this.#n=f$({initialPromise:t?.initialPromise,fn:s.fetchFn,onCancel:o=>{o instanceof uj&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(o,c)=>{this.#i({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof uj){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...m$(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ka.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function m$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function MI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var p$=class extends op{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=cj(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#s;#o;#i;#m;#d;#f;#c;#u;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),PI(this.#t,this.options)?this.#A():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Aj(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Aj(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#x(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof to(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!dx(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&QI(this.#t,r,this.options,t)&&this.#A(),this.updateResult(),n&&(this.#t!==r||to(this.options.enabled,this.#t)!==to(t.enabled,this.#t)||_A(this.options.staleTime,this.#t)!==_A(t.staleTime,this.#t))&&this.#p();const a=this.#g();n&&(this.#t!==r||to(this.options.enabled,this.#t)!==to(t.enabled,this.#t)||a!==this.#l)&&this.#b(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return FJ(this,r)&&(this.#a=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#A({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#A(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ui)),t}#p(){this.#v();const e=_A(this.options.staleTime,this.#t);if(sf||this.#a.isStale||!sj(e))return;const r=l$(this.#a.dataUpdatedAt,e)+1;this.#c=qd.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#x(),this.#l=e,!(sf||to(this.options.enabled,this.#t)===!1||!sj(this.#l)||this.#l===0)&&(this.#u=qd.setInterval(()=>{(this.options.refetchIntervalInBackground||cE.isFocused())&&this.#A()},this.#l))}#y(){this.#p(),this.#b(this.#g())}#v(){this.#c&&(qd.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(qd.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,s=this.#s,c=e!==r?e.state:this.#r,{state:A}=e;let f={...A},h=!1,p;if(t._optimisticResults){const D=this.hasListeners(),R=!D&&PI(e,t),q=D&&QI(e,r,t,n);(R||q)&&(f={...f,...m$(A.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:b}=f;p=f.data;let x=!1;if(t.placeholderData!==void 0&&p===void 0&&b==="pending"){let D;a?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(D=a.data,x=!0):D=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,D!==void 0&&(b="success",p=lj(a?.data,D,t),h=!0)}if(t.select&&p!==void 0&&!x)if(a&&p===i?.data&&t.select===this.#m)p=this.#d;else try{this.#m=t.select,p=t.select(p),p=lj(a?.data,p,t),this.#d=p,this.#i=null}catch(D){this.#i=D}this.#i&&(g=this.#i,p=this.#d,v=Date.now(),b="error");const w=f.fetchStatus==="fetching",S=b==="pending",N=b==="error",k=S&&w,C=p!==void 0,O={status:b,fetchStatus:f.fetchStatus,isPending:S,isSuccess:b==="success",isError:N,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:N&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&C,isStale:uE(e,t),refetch:this.refetch,promise:this.#o,isEnabled:to(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=U=>{O.status==="error"?U.reject(O.error):O.data!==void 0&&U.resolve(O.data)},R=()=>{const U=this.#o=O.promise=cj();D(U)},q=this.#o;switch(q.status){case"pending":e.queryHash===r.queryHash&&D(q);break;case"fulfilled":(O.status==="error"||O.data!==q.value)&&R();break;case"rejected":(O.status!=="error"||O.error!==q.reason)&&R();break}}return O}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#f=this.#t),dx(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#h.size)return!0;const i=new Set(a??this.#h);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(s=>{const o=s;return this.#a[o]!==e[o]&&i.has(o)})};this.#_({listeners:r()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(e){ka.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function UJ(e,t){return to(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function PI(e,t){return UJ(e,t)||e.state.data!==void 0&&Aj(e,t,t.refetchOnMount)}function Aj(e,t,r){if(to(t.enabled,e)!==!1&&_A(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&uE(e,t)}return!1}function QI(e,t,r,n){return(e!==t||to(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&uE(e,r)}function uE(e,t){return to(t.enabled,e)!==!1&&e.isStaleByTime(_A(t.staleTime,e))}function FJ(e,t){return!dx(e.getCurrentResult(),t)}function hx(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const A=async()=>{let f=!1;const h=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},p=u$(t.options,t.fetchOptions),g=async(v,b,x)=>{if(f)return Promise.reject();if(b==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:b,direction:x?"backward":"forward",meta:t.options.meta};return h(T),T})(),N=await p(S),{maxPages:k}=t.options,C=x?CJ:NJ;return{pages:C(v.pages,N,k),pageParams:C(v.pageParams,b,k)}};if(a&&i.length){const v=a==="backward",b=v?g$:dj,x={pages:i,pageParams:s},w=b(n,x);o=await g(x,w,v)}else{const v=e??i.length;do{const b=c===0?s[0]??n.initialPageParam:dj(n,o);if(c>0&&b==null)break;o=await g(o,b),c++}while(c<v)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(A,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=A}}}function dj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function g$(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function DJ(e,t){return t?dj(e,t)!=null:!1}function LJ(e,t){return!t||!e.getPreviousPageParam?!1:g$(e,t)!=null}var MJ=class extends p${constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:hx()})}getOptimisticResult(e){return e.behavior=hx(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,n=super.createResult(e,t),{isFetching:a,isRefetching:i,isError:s,isRefetchError:o}=n,c=r.fetchMeta?.fetchMore?.direction,A=s&&c==="forward",f=a&&c==="forward",h=s&&c==="backward",p=a&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:DJ(t,r.data),hasPreviousPage:LJ(t,r.data),isFetchNextPageError:A,isFetchingNextPage:f,isFetchPreviousPageError:h,isFetchingPreviousPage:p,isRefetchError:o&&!A&&!h,isRefetching:i&&!f&&!p}}},PJ=class extends h${#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||b$(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=f$({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const s=await this.options.onMutate?.(e,r);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ka.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function b$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var QJ=class extends op{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new PJ({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=Lv(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Lv(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Lv(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Lv(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ka.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>FI(t,r))}findAll(e={}){return this.getAll().filter(t=>FI(e,t))}notify(e){ka.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ka.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ui))))}};function Lv(e){return e.options.scope?.id}var RJ=class extends op{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),dx(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&of(r.mutationKey)!==of(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??b$();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){ka.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},HJ=class extends op{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??oE(n,t);let i=this.get(a);return i||(i=new IJ({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ka.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>UI(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>UI(e,r)):t}notify(e){ka.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ka.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ka.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$J=class{#e;#t;#r;#a;#n;#s;#o;#i;constructor(e={}){this.#e=e.queryCache||new HJ,this.#t=e.mutationCache||new QJ,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=cE.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=fx.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(_A(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,s=_J(t,i);if(s!==void 0)return this.#e.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ka.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;ka.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return ka.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ka.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ui).catch(Ui)}invalidateQueries(e,t={}){return ka.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ka.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ui)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ui)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(_A(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ui).catch(Ui)}fetchInfiniteQuery(e){return e.behavior=hx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ui).catch(Ui)}ensureInfiniteQueryData(e){return e.behavior=hx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fx.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(of(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{yb(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(of(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{yb(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=oE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lE&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},y$=B.createContext(void 0),AE=e=>{const t=B.useContext(y$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qJ=({client:e,children:t})=>(B.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(y$.Provider,{value:e,children:t})),v$=B.createContext(!1),KJ=()=>B.useContext(v$);v$.Provider;function zJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var GJ=B.createContext(zJ()),VJ=()=>B.useContext(GJ),WJ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},YJ=e=>{B.useEffect(()=>{e.clearReset()},[e])},XJ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||A$(r,[e.error,n])),JJ=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ZJ=(e,t)=>e.isLoading&&e.isFetching&&!t,eZ=(e,t)=>e?.suspense&&t.isPending,RI=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function x$(e,t,r){const n=KJ(),a=VJ(),i=AE(),s=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=n?"isRestoring":"optimistic",JJ(s),WJ(s,a),YJ(a);const o=!i.getQueryCache().get(s.queryHash),[c]=B.useState(()=>new t(i,s)),A=c.getOptimisticResult(s),f=!n&&e.subscribed!==!1;if(B.useSyncExternalStore(B.useCallback(h=>{const p=f?c.subscribe(ka.batchCalls(h)):Ui;return c.updateResult(),p},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),B.useEffect(()=>{c.setOptions(s)},[s,c]),eZ(s,A))throw RI(s,c,a);if(XJ({result:A,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw A.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(s,A),s.experimental_prefetchInRender&&!sf&&ZJ(A,n)&&(o?RI(s,c,a):i.getQueryCache().get(s.queryHash)?.promise)?.catch(Ui).finally(()=>{c.updateResult()}),s.notifyOnChangeProps?A:c.trackResult(A)}function hg(e,t){return x$(e,p$)}function mg(e,t){const r=AE(),[n]=B.useState(()=>new RJ(r,e));B.useEffect(()=>{n.setOptions(e)},[n,e]);const a=B.useSyncExternalStore(B.useCallback(s=>n.subscribe(ka.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=B.useCallback((s,o)=>{n.mutate(s,o).catch(Ui)},[n]);if(a.error&&A$(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function tZ(e,t){return x$(e,MJ)}function w$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=w$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=w$(e))&&(n&&(n+=" "),n+=t);return n}/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},c)=>B.createElement("svg",{ref:c,...nZ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:_$("lucide",a),...o},[...s.map(([A,f])=>B.createElement(A,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(e,t)=>{const r=B.forwardRef(({className:n,...a},i)=>B.createElement(aZ,{ref:i,iconNode:t,className:_$(`lucide-${rZ(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],B$=Bt("Archive",iZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],oZ=Bt("ArrowDownLeft",sZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],S$=Bt("ArrowDownRight",lZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],N$=Bt("ArrowDownToLine",cZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Yh=Bt("ArrowDown",uZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],dZ=Bt("ArrowLeftRight",AZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],E_=Bt("ArrowLeft",fZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Vw=Bt("ArrowRightLeft",hZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xg=Bt("ArrowRight",mZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],gZ=Bt("ArrowUpFromLine",pZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],dE=Bt("ArrowUpRight",bZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Xh=Bt("ArrowUp",yZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],fj=Bt("Banknote",vZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],C$=Bt("BellRing",xZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pl=Bt("Bell",wZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],BZ=Bt("BookmarkPlus",_Z);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],fE=Bt("CalendarClock",SZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],hE=Bt("CalendarDays",NZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],j$=Bt("CalendarRange",CZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kd=Bt("Calendar",jZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Ko=Bt("ChartLine",kZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],T_=Bt("ChartPie",EZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ww=Bt("Check",TZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],UA=Bt("ChevronDown",OZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],k$=Bt("ChevronLeft",IZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],E$=Bt("ChevronRight",UZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zc=Bt("CircleAlert",FZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],LZ=Bt("CircleArrowDown",DZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],PZ=Bt("CircleArrowUp",MZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fy=Bt("CircleCheck",QZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],T$=Bt("CircleDollarSign",RZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],$Z=Bt("CirclePlus",HZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HI=Bt("Circle",qZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],zZ=Bt("Clock",KZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],VZ=Bt("CloudDownload",GZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],YZ=Bt("CloudOff",WZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],O$=Bt("CloudUpload",XZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ZZ=Bt("Cloud",JZ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],I$=Bt("CreditCard",eee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ree=Bt("Database",tee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],vb=Bt("Download",nee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U$=Bt("Earth",aee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],see=Bt("EllipsisVertical",iee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],lee=Bt("Ellipsis",oee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],uee=Bt("ExternalLink",cee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dee=Bt("EyeOff",Aee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F$=Bt("Eye",fee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],mee=Bt("FileJson",hee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],gee=Bt("FileSpreadsheet",pee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yee=Bt("FileText",bee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],xee=Bt("FileUp",vee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],_ee=Bt("Flag",wee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],mx=Bt("Flame",Bee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],Ll=Bt("FolderKanban",See);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Cee=Bt("Folder",Nee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],kee=Bt("Github",jee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Tee=Bt("Globe",Eee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=[["path",{d:"M12 13V2l8 4-8 4",key:"5wlwwj"}],["path",{d:"M20.561 10.222a9 9 0 1 1-12.55-5.29",key:"1c0wjv"}],["path",{d:"M8.002 9.997a5 5 0 1 0 8.9 2.02",key:"gb1g7m"}]],Iee=Bt("Goal",Oee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$I=Bt("House",Uee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],Dee=Bt("ImageDown",Fee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Mee=Bt("Inbox",Lee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Qee=Bt("Info",Pee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Hee=Bt("Languages",Ree);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],qee=Bt("Laptop",$ee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],zee=Bt("Layers",Kee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],Vee=Bt("ListPlus",Gee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Mv=Bt("List",Wee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pr=Bt("LoaderCircle",Yee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],D$=Bt("LogIn",Xee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],L$=Bt("LogOut",Jee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],qI=Bt("MailCheck",Zee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],tte=Bt("Menu",ete);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],nte=Bt("Monitor",rte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9",key:"4ay0iu"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}]],ite=Bt("MoonStar",ate);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],ote=Bt("Moon",ste);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Yw=Bt("NotebookPen",lte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],tl=Bt("Pencil",cte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]],Qc=Bt("PiggyBank",ute);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jc=Bt("Plus",Ate);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Zs=Bt("Receipt",dte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],mE=Bt("RefreshCcw",fte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xw=Bt("RefreshCw",hte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],KI=Bt("Repeat",mte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Jw=Bt("RotateCcw",pte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zI=Bt("Save",gte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],hy=Bt("Search",bte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$h=Bt("Settings",yte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],GI=Bt("ShieldAlert",vte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],VI=Bt("ShieldCheck",xte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],_te=Bt("ShieldOff",wte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Pv=Bt("Shield",Bte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Nte=Bt("ShoppingBag",Ste);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],jte=Bt("SlidersHorizontal",Cte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],lf=Bt("Sparkles",kte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],M$=Bt("Star",Ete);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]],Ote=Bt("SunMedium",Tte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ute=Bt("Sun",Ite);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],hA=Bt("Tag",Fte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],K0=Bt("Target",Dte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],In=Bt("Trash2",Lte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],my=Bt("TrendingDown",Mte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Vo=Bt("TrendingUp",Pte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sm=Bt("TriangleAlert",Qte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],P$=Bt("Upload",Rte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],WI=Bt("UserRound",Hte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dh=Bt("User",$te);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]],Kte=Bt("WalletMinimal",qte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],rl=Bt("Wallet",zte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Q$=Bt("WandSparkles",Gte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Wte=Bt("WifiOff",Vte);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iu=Bt("X",Yte);function pg({title:e,collapsed:t=!1,children:r}){return l.jsxs("section",{className:"mt-6 first:mt-0",children:[e?l.jsx("p",{className:tt("px-3 text-[11px] font-semibold uppercase tracking-[0.22em] text-muted transition-opacity duration-200",t&&"sr-only"),children:e}):null,l.jsx("div",{className:tt("mt-2 space-y-2",t&&"space-y-2"),children:r})]})}function Xte({to:e,icon:t,label:r,collapsed:n=!1,disabled:a=!1,badge:i,onNavigate:s}){return l.jsxs(aj,{to:e,end:e==="/",title:n?r:void 0,className:({isActive:o})=>tt("relative isolate flex h-11 min-w-0 items-center gap-3 rounded-xl px-3 text-sm font-medium tracking-tight text-muted transition-[background-color,color,box-shadow] duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60","before:absolute before:left-0 before:top-1.5 before:bottom-1.5 before:w-1 before:rounded-full before:bg-brand before:opacity-0 before:transition-opacity before:content-['']",!n&&"justify-start",n&&"justify-center px-2",a&&"pointer-events-none opacity-40",!a&&"hover:bg-muted/20",o&&"bg-brand/10 text-brand ring-1 ring-brand/20 before:opacity-100"),onClick:s,children:[l.jsx("span",{className:"flex h-5 w-5 shrink-0 items-center justify-center text-inherit",children:t}),n?l.jsx("span",{className:"sr-only",children:r}):l.jsx("span",{className:"truncate text-[15px] text-inherit",children:r}),i?l.jsx("span",{className:"ml-auto shrink-0 text-xs text-muted",children:i}):null]})}const Jte="HematWoi";function Zte({className:e,title:t=Jte,...r}){const a=`${B.useId().replace(/:/g,"")}-title`,i=typeof t=="string"&&t.length>0;return l.jsxs("svg",{viewBox:"0 0 512 512",role:"img",className:tt("h-9 w-9",e),"aria-labelledby":i?a:void 0,"aria-hidden":i?void 0:!0,...r,children:[i?l.jsx("title",{id:a,children:t}):null,l.jsx("rect",{width:"512",height:"512",rx:"104",fill:"var(--brand-soft, #e0e7ff)"}),l.jsx("g",{transform:"translate(256 256) scale(0.82) translate(-256 -256)",children:l.jsxs("g",{transform:"translate(6.409 -19.23)",children:[l.jsx("polygon",{points:"413.394,192.157 430.091,208.854 227.066,411.878 174.789,349.931 162.434,335.287 148.813,348.821 14.858,481.853 160.125,387.43 212.478,449.47 224.905,464.197 238.526,450.58 455.171,233.934 471.868,250.631 484.324,179.701",fill:"var(--brand-ring, #4f46e5)"}),l.jsx("polygon",{points:"342.179,68.606 342.179,264.18 382.825,223.534 382.825,68.606 342.179,68.606",fill:"var(--brand, #6366f1)"}),l.jsx("polygon",{points:"109.36,355.494 109.36,317.111 68.715,317.111 68.715,395.863 109.36,355.494",fill:"var(--brand, #6366f1)"}),l.jsx("polygon",{points:"177.727,318.879 177.727,197.017 137.081,197.017 137.081,327.963 163.364,301.859 177.727,318.879",fill:"var(--brand, #6366f1)"}),l.jsx("polygon",{points:"246.092,360.262 246.092,236.741 205.447,236.741 205.447,351.728 227.955,378.4 246.092,360.262",fill:"var(--brand, #6366f1)"}),l.jsx("polygon",{points:"314.459,291.896 314.459,124.033 273.813,124.033 273.813,332.542 314.459,291.896",fill:"var(--brand, #6366f1)"})]})})]})}const ere="modulepreload",tre=function(e){return"/"+e},YI={},Cs=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(A){return Promise.all(A.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");a=c(r.map(A=>{if(A=tre(A),A in YI)return;YI[A]=!0;const f=A.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":ere,f||(p.as="script"),p.crossOrigin="",p.href=A,o&&p.setAttribute("nonce",o),document.head.appendChild(p),f)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${A}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},rre=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cs(async()=>{const{default:n}=await Promise.resolve().then(()=>lp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class pE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class nre extends pE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class XI extends pE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class JI extends pE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hj||(hj={}));var are=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{A(n.next(f))}catch(h){s(h)}}function c(f){try{A(n.throw(f))}catch(h){s(h)}}function A(f){f.done?i(f.value):a(f.value).then(o,c)}A((n=n.apply(e,t||[])).next())})};class ire{constructor(t,{headers:r={},customFetch:n,region:a=hj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=rre(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return are(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:c}=r;c||(c=this.region);const A=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,A.searchParams.set("forceFunctionRegion",c));let f;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",f=s):typeof s=="string"?(o["Content-Type"]="text/plain",f=s):typeof FormData<"u"&&s instanceof FormData?f=s:(o["Content-Type"]="application/json",f=JSON.stringify(s)));const h=yield this.fetch(A.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:f}).catch(b=>{throw new nre(b)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new XI(h);if(!h.ok)throw new JI(h);let g=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield h.json():g==="application/octet-stream"?v=yield h.blob():g==="text/event-stream"?v=h:g==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof JI||a instanceof XI?a.context:void 0}}})}}var qa={},fh={},hh={},mh={},ph={},gh={},sre=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nm=sre();const ore=Nm.fetch,R$=Nm.fetch.bind(Nm),H$=Nm.Headers,lre=Nm.Request,cre=Nm.Response,lp=Object.freeze(Object.defineProperty({__proto__:null,Headers:H$,Request:lre,Response:cre,default:R$,fetch:ore},Symbol.toStringTag,{value:"Module"})),ure=aX(lp);var Qv={},ZI;function $$(){if(ZI)return Qv;ZI=1,Object.defineProperty(Qv,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Qv.default=e,Qv}var eU;function q$(){if(eU)return gh;eU=1;var e=gh&&gh.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gh,"__esModule",{value:!0});const t=e(ure),r=e($$());class n{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async A=>{var f,h,p,g;let v=null,b=null,x=null,w=A.status,S=A.statusText;if(A.ok){if(this.method!=="HEAD"){const T=await A.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=T:b=JSON.parse(T))}const k=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(p=A.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");k&&C&&C.length>1&&(x=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,w=406,S="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const k=await A.text();try{v=JSON.parse(k),Array.isArray(v)&&A.status===404&&(b=[],v=null,w=200,S="OK")}catch{A.status===404&&k===""?(w=204,S="No Content"):v={message:k}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,w=200,S="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:b,count:x,status:w,statusText:S}});return this.shouldThrowOnError||(c=c.catch(A=>{var f,h,p;return{error:{message:`${(f=A?.name)!==null&&f!==void 0?f:"FetchError"}: ${A?.message}`,details:`${(h=A?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=A?.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return gh.default=n,gh}var tU;function K$(){if(tU)return ph;tU=1;var e=ph&&ph.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ph,"__esModule",{value:!0});const t=e(q$());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const A=c?`${c}.order`:"order",f=this.url.searchParams.get(A);return this.url.searchParams.set(A,`${f?`${f},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,A=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(A,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:A="text"}={}){var f;const h=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${A}; for="${p}"; options=${h};`),A==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return ph.default=r,ph}var rU;function gE(){if(rU)return mh;rU=1;var e=mh&&mh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(mh,"__esModule",{value:!0});const t=e(K$());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const A=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${A}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return mh.default=r,mh}var nU;function z$(){if(nU)return hh;nU=1;var e=hh&&hh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(hh,"__esModule",{value:!0});const t=e(gE());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(a,{head:i=!1,count:s}={}){const o=i?"HEAD":"GET";let c=!1;const A=(a??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",A),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const A=a.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(A.length>0){const f=[...new Set(A)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var A;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}update(a,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return hh.default=r,hh}var aU;function Are(){if(aU)return fh;aU=1;var e=fh&&fh.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(fh,"__esModule",{value:!0});const t=e(z$()),r=e(gE());class n{constructor(i,{headers:s={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(i){const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:c=!1,count:A}={}){var f;let h;const p=new URL(`${this.url}/rpc/${i}`);let g;o||c?(h=o?"HEAD":"GET",Object.entries(s).filter(([b,x])=>x!==void 0).map(([b,x])=>[b,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([b,x])=>{p.searchParams.append(b,x)})):(h="POST",g=s);const v=new Headers(this.headers);return A&&v.set("Prefer",`count=${A}`),new r.default({method:h,url:p,headers:v,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return fh.default=n,fh}var iU;function dre(){if(iU)return qa;iU=1;var e=qa&&qa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(qa,"__esModule",{value:!0}),qa.PostgrestError=qa.PostgrestBuilder=qa.PostgrestTransformBuilder=qa.PostgrestFilterBuilder=qa.PostgrestQueryBuilder=qa.PostgrestClient=void 0;const t=e(Are());qa.PostgrestClient=t.default;const r=e(z$());qa.PostgrestQueryBuilder=r.default;const n=e(gE());qa.PostgrestFilterBuilder=n.default;const a=e(K$());qa.PostgrestTransformBuilder=a.default;const i=e(q$());qa.PostgrestBuilder=i.default;const s=e($$());return qa.PostgrestError=s.default,qa.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},qa}var fre=dre();const hre=Jr(fre),{PostgrestClient:mre,PostgrestQueryBuilder:oFe,PostgrestFilterBuilder:lFe,PostgrestTransformBuilder:cFe,PostgrestBuilder:uFe,PostgrestError:AFe}=hre;class pre{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const gre="2.15.5",bre=`realtime-js/${gre}`,yre="1.0.0",mj=1e4,vre=1e3,xre=100;var Jg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Jg||(Jg={}));var Ca;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ca||(Ca={}));var Wo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wo||(Wo={}));var pj;(function(e){e.websocket="websocket"})(pj||(pj={}));var Md;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Md||(Md={}));class wre{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const c=n.decode(t.slice(s,s+i));s=s+i;const A=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:A}}}class G${constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Bn||(Bn={}));const sU=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=_re(s,e,t,a),i),{})},_re=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a?.type,s=r[e];return i&&!n.includes(i)?V$(i,s):gj(s)},V$=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Cre(t,r)}switch(e){case Bn.bool:return Bre(t);case Bn.float4:case Bn.float8:case Bn.int2:case Bn.int4:case Bn.int8:case Bn.numeric:case Bn.oid:return Sre(t);case Bn.json:case Bn.jsonb:return Nre(t);case Bn.timestamp:return jre(t);case Bn.abstime:case Bn.date:case Bn.daterange:case Bn.int4range:case Bn.int8range:case Bn.money:case Bn.reltime:case Bn.text:case Bn.time:case Bn.timestamptz:case Bn.timetz:case Bn.tsrange:case Bn.tstzrange:return gj(t);default:return gj(t)}},gj=e=>e,Bre=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Sre=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Nre=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Cre=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>V$(t,o))}return e},jre=e=>typeof e=="string"?e.replace(" ","T"):e,W$=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class O_{constructor(t,r,n={},a=mj){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var oU;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(oU||(oU={}));class Zg{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zg.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Zg.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Zg.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(i,(A,f)=>{s[A]||(c[A]=f)}),this.map(s,(A,f)=>{const h=i[A];if(h){const p=f.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),v=f.filter(x=>g.indexOf(x.presence_ref)<0),b=h.filter(x=>p.indexOf(x.presence_ref)<0);v.length>0&&(o[A]=v),b.length>0&&(c[A]=b)}else o[A]=f}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var A;const f=(A=t[o])!==null&&A!==void 0?A:[];if(t[o]=this.cloneDeep(c),f.length>0){const h=t[o].map(g=>g.presence_ref),p=f.filter(g=>h.indexOf(g.presence_ref)<0);t[o].unshift(...p)}n(o,f,c)}),this.map(s,(o,c)=>{let A=t[o];if(!A)return;const f=c.map(h=>h.presence_ref);A=A.filter(h=>f.indexOf(h.presence_ref)<0),t[o]=A,a(o,A,c),A.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lU;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lU||(lU={}));var eb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(eb||(eb={}));var Rc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rc||(Rc={}));class bE{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ca.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new O_(this,Wo.join,this.params,this.timeout),this.rejoinTimer=new G$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ca.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ca.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ca.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ca.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ca.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wo.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Zg(this),this.broadcastEndpointURL=W$(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ca.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,A=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[eb.PRESENCE]&&this.bindings[eb.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:A,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t?.(Rc.CHANNEL_ERROR,g)),this._onClose(()=>t?.(Rc.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){t?.(Rc.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(v=b?.length)!==null&&v!==void 0?v:0,w=[];for(let S=0;S<x;S++){const N=b[S],{filter:{event:k,schema:C,table:T,filter:O}}=N,D=g&&g[S];if(D&&D.event===k&&D.schema===C&&D.table===T&&D.filter===O)w.push(Object.assign(Object.assign({},N),{id:D.id}));else{this.unsubscribe(),this.state=Ca.errored,t?.(Rc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Rc.SUBSCRIBED);return}}).receive("error",g=>{this.state=Ca.errored,t?.(Rc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(Rc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ca.joined&&t===eb.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const A=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=A.body)===null||a===void 0?void 0:a.cancel()),A.ok?"ok":"error"}catch(A){return A.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const A=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),A.receive("ok",()=>i("ok")),A.receive("error",()=>i("error")),A.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ca.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new O_(this,Wo.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ca.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new O_(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xre){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:A,join:f}=Wo;if(n&&[o,c,A,f].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var v,b,x;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(b=g.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(g=>g.callback(p,n)):(i=this.bindings[s])===null||i===void 0||i.filter(g=>{var v,b,x,w,S,N;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){const k=g.id,C=(v=g.filter)===null||v===void 0?void 0:v.event;return k&&((b=r.ids)===null||b===void 0?void 0:b.includes(k))&&(C==="*"||C?.toLocaleLowerCase()===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(S=(w=g?.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return k==="*"||k===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:b,table:x,commit_timestamp:w,type:S,errors:N}=v;p=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:w,eventType:S,new:{},old:{},errors:N}),this._getPayloadRecords(v))}g.callback(p,n)})}_isClosed(){return this.state===Ca.closed}_isJoined(){return this.state===Ca.joined}_isJoining(){return this.state===Ca.joining}_isLeaving(){return this.state===Ca.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&bE.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wo.close,{},t)}_onError(t){this._on(Wo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ca.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=sU(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=sU(t.columns,t.old_record)),r}}const I_=()=>{},Rv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kre=[1e3,2e3,5e3,1e4],Ere=1e4,Tre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ore{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mj,this.transport=null,this.heartbeatIntervalMs=Rv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=I_,this.ref=0,this.reconnectTimer=null,this.logger=I_,this.conn=null,this.sendBuffer=[],this.serializer=new wre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...s)=>Cs(async()=>{const{default:o}=await Promise.resolve().then(()=>lp);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${pj.websocket}`,this.httpEndpoint=W$(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pre.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yre}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jg.connecting:return Md.Connecting;case Jg.open:return Md.Open;case Jg.closing:return Md.Closing;default:return Md.Closed}}isConnected(){return this.connectionState()===Md.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new bE(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vre,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rv.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(A){this.log("error","error in heartbeat callback",A)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${o}`.trim(),i),this.channels.filter(A=>A._isMember(n)).forEach(A=>A._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Tre],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:bre};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Wo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new G$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,c,A,f;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:mj,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Rv.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t?.heartbeatCallback)!==null&&o!==void 0?o:I_,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(h=>kre[h-1]||Ere),this.encode=(A=t?.encode)!==null&&A!==void 0?A:((h,p)=>p(JSON.stringify(h))),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class yE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ja(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ire extends yE{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bj extends yE{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ure=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{A(n.next(f))}catch(h){s(h)}}function c(f){try{A(n.throw(f))}catch(h){s(h)}}function A(f){f.done?i(f.value):a(f.value).then(o,c)}A((n=n.apply(e,t||[])).next())})};const Y$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cs(async()=>{const{default:n}=await Promise.resolve().then(()=>lp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Fre=()=>Ure(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cs(()=>Promise.resolve().then(()=>lp),void 0)).Response:Response}),yj=e=>{if(Array.isArray(e))return e.map(r=>yj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=yj(n)}),t},Dre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var yf=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{A(n.next(f))}catch(h){s(h)}}function c(f){try{A(n.throw(f))}catch(h){s(h)}}function A(f){f.done?i(f.value):a(f.value).then(o,c)}A((n=n.apply(e,t||[])).next())})};const U_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lre=(e,t,r)=>yf(void 0,void 0,void 0,function*(){const n=yield Fre();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,s=a?.statusCode||i+"";t(new Ire(U_(a),i,s))}).catch(a=>{t(new bj(U_(a),a))}):t(new bj(U_(e),e))}),Mre=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(Dre(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function py(e,t,r,n,a,i){return yf(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Mre(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Lre(c,o,n))})})}function px(e,t,r,n){return yf(this,void 0,void 0,function*(){return py(e,"GET",t,r,n)})}function Rl(e,t,r,n,a){return yf(this,void 0,void 0,function*(){return py(e,"POST",t,n,a,r)})}function vj(e,t,r,n,a){return yf(this,void 0,void 0,function*(){return py(e,"PUT",t,n,a,r)})}function Pre(e,t,r,n){return yf(this,void 0,void 0,function*(){return py(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function X$(e,t,r,n,a){return yf(this,void 0,void 0,function*(){return py(e,"DELETE",t,n,a,r)})}var Oi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{A(n.next(f))}catch(h){s(h)}}function c(f){try{A(n.throw(f))}catch(h){s(h)}}function A(f){f.done?i(f.value):a(f.value).then(o,c)}A((n=n.apply(e,t||[])).next())})};const Qre={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cU={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rre{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Y$(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Oi(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},cU),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(o=Object.assign(Object.assign({},o),a.headers));const A=this._removeEmptyFolders(r),f=this._getFinalPath(A),h=yield(t=="PUT"?vj:Rl)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:o},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:A,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ja(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Oi(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const A=Object.assign({upsert:cU.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(A.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",A.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",A.cacheControl)):(c=n,f["cache-control"]=`max-age=${A.cacheControl}`,f["content-type"]=A.contentType);const h=yield vj(this.fetch,o.toString(),c,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ja(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Oi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield Rl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new yE("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ja(n))return{data:null,error:n};throw n}})}update(t,r,n){return Oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Oi(this,void 0,void 0,function*(){try{return{data:yield Rl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ja(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Oi(this,void 0,void 0,function*(){try{return{data:{path:(yield Rl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ja(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Oi(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Rl(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ja(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Oi(this,void 0,void 0,function*(){try{const a=yield Rl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ja(a))return{data:null,error:a};throw a}})}download(t,r){return Oi(this,void 0,void 0,function*(){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield px(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ja(o))return{data:null,error:o};throw o}})}info(t){return Oi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield px(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yj(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ja(n))return{data:null,error:n};throw n}})}exists(t){return Oi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Pre(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ja(n)&&n instanceof bj){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let A=a.join("&");return A!==""&&(A=`?${A}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${A}`)}}}remove(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield X$(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}})}list(t,r,n){return Oi(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Qre),r),{prefix:t||""});return{data:yield Rl(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ja(a))return{data:null,error:a};throw a}})}listV2(t,r){return Oi(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Rl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ja(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Hre="2.12.1",$re={"X-Client-Info":`storage-js/${Hre}`};var bh=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{A(n.next(f))}catch(h){s(h)}}function c(f){try{A(n.throw(f))}catch(h){s(h)}}function A(f){f.done?i(f.value):a(f.value).then(o,c)}A((n=n.apply(e,t||[])).next())})};class qre{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},$re),r),this.fetch=Y$(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return bh(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ja(t))return{data:null,error:t};throw t}})}getBucket(t){return bh(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return bh(this,void 0,void 0,function*(){try{return{data:yield Rl(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ja(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return bh(this,void 0,void 0,function*(){try{return{data:yield vj(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ja(n))return{data:null,error:n};throw n}})}emptyBucket(t){return bh(this,void 0,void 0,function*(){try{return{data:yield Rl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}})}deleteBucket(t){return bh(this,void 0,void 0,function*(){try{return{data:yield X$(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}})}}class Kre extends qre{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Rre(this.url,this.headers,t,this.fetch)}}const zre="2.57.4";let Pg="";typeof Deno<"u"?Pg="deno":typeof document<"u"?Pg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pg="react-native":Pg="node";const Gre={"X-Client-Info":`supabase-js-${Pg}/${zre}`},Vre={headers:Gre},Wre={schema:"public"},Yre={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xre={};var Jre=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{A(n.next(f))}catch(h){s(h)}}function c(f){try{A(n.throw(f))}catch(h){s(h)}}function A(f){f.done?i(f.value):a(f.value).then(o,c)}A((n=n.apply(e,t||[])).next())})};const Zre=e=>{let t;return e?t=e:typeof fetch>"u"?t=R$:t=fetch,(...r)=>t(...r)},ene=()=>typeof Headers>"u"?H$:Headers,tne=(e,t,r)=>{const n=Zre(r),a=ene();return(i,s)=>Jre(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let A=new a(s?.headers);return A.has("apikey")||A.set("apikey",e),A.has("Authorization")||A.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:A}))})};var rne=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{A(n.next(f))}catch(h){s(h)}}function c(f){try{A(n.throw(f))}catch(h){s(h)}}function A(f){f.done?i(f.value):a(f.value).then(o,c)}A((n=n.apply(e,t||[])).next())})};function nne(e){return e.endsWith("/")?e:e+"/"}function ane(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:c,auth:A,realtime:f,global:h}=t,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},A),i),realtime:Object.assign(Object.assign({},f),s),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=o?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>rne(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function ine(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nne(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const J$="2.71.1",qh=30*1e3,xj=3,F_=xj*qh,sne="http://localhost:9999",one="supabase.auth.token",lne={"X-Client-Info":`gotrue-js/${J$}`},wj="X-Supabase-Api-Version",Z$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,une=600*1e3;class vE extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _r(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ane extends vE{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function dne(e){return _r(e)&&e.name==="AuthApiError"}class e9 extends vE{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class FA extends vE{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class rA extends FA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fne(e){return _r(e)&&e.name==="AuthSessionMissingError"}class Hv extends FA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $v extends FA{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qv extends FA{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hne(e){return _r(e)&&e.name==="AuthImplicitGrantRedirectError"}class uU extends FA{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _j extends FA{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function D_(e){return _r(e)&&e.name==="AuthRetryableFetchError"}class AU extends FA{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bj extends FA{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dU=` 	
\r=`.split(""),mne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dU.length;t+=1)e[dU[t].charCodeAt(0)]=-2;for(let t=0;t<gx.length;t+=1)e[gx[t].charCodeAt(0)]=t;return e})();function fU(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gx[n]),t.queuedBits-=6}}function t9(e,t,r){const n=mne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hU(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{bne(s,n,r)};for(let s=0;s<e.length;s+=1)t9(e.charCodeAt(s),a,i);return t.join("")}function pne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function gne(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}pne(n,t)}}function bne(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function yne(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)t9(e.charCodeAt(a),r,n);return new Uint8Array(t)}function vne(e){const t=[];return gne(e,r=>t.push(r)),new Uint8Array(t)}function xne(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>fU(a,r,n)),fU(null,r,n),t.join("")}function wne(e){return Math.round(Date.now()/1e3)+e}function _ne(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const zo=()=>typeof window<"u"&&typeof document<"u",wd={tested:!1,writable:!1},r9=()=>{if(!zo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wd.tested)return wd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wd.tested=!0,wd.writable=!0}catch{wd.tested=!0,wd.writable=!1}return wd.writable};function Bne(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const n9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cs(async()=>{const{default:n}=await Promise.resolve().then(()=>lp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Sne=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},_d=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ju=async(e,t)=>{await e.removeItem(t)};class Zw{constructor(){this.promise=new Zw.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zw.promiseConstructor=Promise;function L_(e){const t=e.split(".");if(t.length!==3)throw new Bj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!cne.test(t[n]))throw new Bj("JWT not in base64url format");return{header:JSON.parse(hU(t[0])),payload:JSON.parse(hU(t[1])),signature:yne(t[2]),raw:{header:t[0],payload:t[1]}}}async function Nne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Cne(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function jne(e){return("0"+e.toString(16)).substr(-2)}function kne(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,jne).join("")}async function Ene(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Tne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Ene(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yh(e,t,r=!1){const n=kne();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Kh(e,`${t}-code-verifier`,a);const i=await Tne(n);return[i,n===i?"plain":"s256"]}const One=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ine(e){const t=e.headers.get(wj);if(!t||!t.match(One))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Une(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Fne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Dne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vh(e){if(!Dne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function M_(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mU(e){return JSON.parse(JSON.stringify(e))}var Lne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Id=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Mne=[502,503,504];async function pU(e){var t;if(!Sne(e))throw new _j(Id(e),0);if(Mne.includes(e.status))throw new _j(Id(e),e.status);let r;try{r=await e.json()}catch(i){throw new e9(Id(i),i)}let n;const a=Ine(e);if(a&&a.getTime()>=Z$["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new AU(Id(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new rA}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new AU(Id(r),e.status,r.weak_password.reasons);throw new Ane(Id(r),e.status||500,n)}const Pne=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Fr(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[wj]||(i[wj]=Z$["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Qne(e,t,r+o,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function Qne(e,t,r,n,a,i){const s=Pne(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new _j(Id(c),0)}if(o.ok||await pU(o),n?.noResolveJson)return o;try{return await o.json()}catch(c){await pU(c)}}function Mc(e){var t;let r=null;qne(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=wne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gU(e){const t=Mc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function uA(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Rne(e){return{data:e,error:null}}function Hne(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=Lne(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function $ne(e){return e}function qne(e){return e.access_token&&e.refresh_token&&e.expires_in}const P_=["global","local","others"];var Kne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class zne{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=n9(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=P_[0]){if(P_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${P_.join(", ")}`);try{return await Fr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Fr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:uA})}catch(n){if(_r(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Kne(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Fr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Hne,redirectTo:r?.redirectTo})}catch(r){if(_r(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Fr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:uA})}catch(r){if(_r(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,c;try{const A={nextPage:null,lastPage:0,total:0},f=await Fr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:$ne});if(f.error)throw f.error;const h=await f.json(),p=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);A[`${x}Page`]=b}),A.total=parseInt(p)),{data:Object.assign(Object.assign({},h),A),error:null}}catch(A){if(_r(A))return{data:{users:[]},error:A};throw A}}async getUserById(t){vh(t);try{return await Fr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:uA})}catch(r){if(_r(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vh(t);try{return await Fr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:uA})}catch(n){if(_r(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vh(t);try{return await Fr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:uA})}catch(n){if(_r(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vh(t.userId);try{const{data:r,error:n}=await Fr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(_r(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vh(t.userId),vh(t.id);try{return{data:await Fr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}}}function bU(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Gne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xh={debug:!!(globalThis&&r9()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class a9 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Vne extends a9{}async function Wne(e,t,r){xh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){xh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{xh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw xh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Vne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Gne();const Yne={url:sne,storageKey:one,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yU(e,t,r){return await r()}const wh={};class xb{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xb.nextInstanceID,xb.nextInstanceID+=1,this.instanceID>0&&zo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Yne),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new zne({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=n9(a.fetch),this.lock=a.lock||yU,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:zo()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Wne:this.lock=yU,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:r9()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bU(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=bU(this.memoryStorage)),zo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=wh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){wh[this.storageKey]=Object.assign(Object.assign({},wh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=wh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wh[this.storageKey]=Object.assign(Object.assign({},wh[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${J$}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Bne(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),zo()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hne(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _r(r)?{error:r}:{error:new e9("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Fr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Mc}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,A=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:A,session:c},error:null}}catch(i){if(_r(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:f,password:h,options:p}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await yh(this.storage,this.storageKey)),i=await Fr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:h,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},xform:Mc})}else if("phone"in t){const{phone:f,password:h,options:p}=t;i=await Fr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=p?.data)!==null&&n!==void 0?n:{},channel:(a=p?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Mc})}else throw new $v("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,A=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:A,session:c},error:null}}catch(i){if(_r(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await Fr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:gU})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await Fr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:gU})}else throw new $v("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hv}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(_r(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,s,o,c,A,f,h,p,g;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:x,wallet:w,statement:S,options:N}=t;let k;if(zo())if(typeof w=="object")k=w;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))k=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=w}const C=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const T=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),S?{statement:S}:null));let O;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")O=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)O=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)v=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),b=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${C.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(n=N?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=N?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((s=N?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((o=N?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((A=N?.signInWithSolana)===null||A===void 0)&&A.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((h=(f=N?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...N.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const T=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=T}}try{const{data:x,error:w}=await Fr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:xne(b)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Mc});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Hv}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(_r(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await _d(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await Fr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Mc});if(await Ju(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hv}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(_r(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await Fr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Mc}),{data:c,error:A}=o;return A?{data:{user:null,session:null},error:A}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:A})}catch(r){if(_r(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:c}=t;let A=null,f=null;this.flowType==="pkce"&&([A,f]=await yh(this.storage,this.storageKey));const{error:h}=await Fr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:A,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:A,error:f}=await Fr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(s=c?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:A?.message_id},error:f}}throw new $v("You must provide either an email or phone number.")}catch(o){if(_r(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Fr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Mc});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,A=s.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:A,session:c},error:null}}catch(a){if(_r(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await yh(this.storage,this.storageKey)),await Fr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Rne})}catch(i){if(_r(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new rA;const{error:a}=await Fr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(_r(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Fr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await Fr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:o}}throw new $v("You must provide either an email or phone number and a type")}catch(r){if(_r(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await _d(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<F_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await _d(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=M_()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,A,f)=>(!s&&A==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,A,f))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Fr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:uA}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rA}:await Fr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:uA})})}catch(r){if(_r(r))return fne(r)&&(await this._removeSession(),await Ju(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new rA;const s=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await yh(this.storage,this.storageKey));const{data:A,error:f}=await Fr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:uA});if(f)throw f;return s.user=A.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(_r(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rA;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=L_(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(_r(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new rA;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_r(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!zo())throw new qv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new uU("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uU("No code detected.");const{data:S,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:A}=t;if(!i||!o||!s||!A)throw new qv("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(o);let p=f+h;c&&(p=parseInt(c));const g=p-f;g*1e3<=qh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=p-h;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,f);const{data:b,error:x}=await this._getUser(i);if(x)throw x;const w={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:p,refresh_token:s,token_type:A,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(_r(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await _d(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(dne(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ju(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=_ne(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await yh(this.storage,this.storageKey,!0));try{return await Fr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(_r(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,c,A,f;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Fr(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(A=h.session)===null||A===void 0?void 0:A.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return zo()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(_r(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Fr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(_r(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Cne(async a=>(a>0&&await Nne(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Fr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mc})),(a,i)=>{const s=200*Math.pow(2,a);return i&&D_(i)&&Date.now()+s-n<qh})}catch(n){if(this._debug(r,"error",n),_r(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),zo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await _d(this.storage,this.storageKey);if(a&&this.userStorage){let s=await _d(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Kh(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s?.user)!==null&&t!==void 0?t:M_()}else if(a&&!a.user&&!a.user){const s=await _d(this.storage,this.storageKey+"-user");s&&s?.user?(a.user=s.user,await Ju(this.storage,this.storageKey+"-user"),await Kh(this.storage,this.storageKey,a)):a.user=M_()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<F_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${F_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),D_(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&s?.user?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new rA;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Zw;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new rA;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),_r(i)){const s={session:null,error:i};return D_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Kh(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=mU(a);await Kh(this.storage,this.storageKey,i)}else{const a=mU(r);await Kh(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ju(this.storage,this.storageKey),await Ju(this.storage,this.storageKey+"-code-verifier"),await Ju(this.storage,this.storageKey+"-user"),this.userStorage&&await Ju(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zo()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/qh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${qh}ms, refresh threshold is ${xj} ticks`),a<=xj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof a9)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zo()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await yh(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Fr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_r(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:A}=await Fr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return A?{data:null,error:A}:(t.factorType==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(_r(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await Fr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(_r(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Fr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_r(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=L_(a.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+une>a)return n;const{data:i,error:s}=await Fr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};n=g.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:c}}=L_(n);r?.allowExpired||Une(i.exp);const A=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!A){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:a,signature:s},error:null}}const f=Fne(a.alg),h=await crypto.subtle.importKey("jwk",A,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,s,vne(`${o}.${c}`)))throw new Bj("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}}}xb.nextInstanceID=0;const Xne=xb;class Jne extends Xne{constructor(t){super(t)}}var Zne=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{A(n.next(f))}catch(h){s(h)}}function c(f){try{A(n.throw(f))}catch(h){s(h)}}function A(f){f.done?i(f.value):a(f.value).then(o,c)}A((n=n.apply(e,t||[])).next())})};class eae{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=ine(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,A={db:Wre,realtime:Xre,auth:Object.assign(Object.assign({},Yre),{storageKey:c}),global:Vre},f=ane(n??{},A);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=tne(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new mre(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Kre(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new ire(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Zne(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:o,lock:c,debug:A},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jne({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:c,debug:A,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ore(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tae=(e,t,r)=>new eae(e,t,r);function rae(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}rae()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nae={VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5xcWNoY3JxdHR4Z3l5cWpmcXF1Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Nzg2MDY3MiwiZXhwIjoyMDczNDM2NjcyfQ.q7-rLPTeT3EbniUEmzpBI5SDRfv6EbsHC03W7Elk-Xw",VITE_SUPABASE_URL:"https://nqqchcrqttxgyyqjfqqu.supabase.co"};var vU={};const Sj=typeof import.meta<"u"?nae??{}:{},Nj=typeof globalThis<"u"&&vU?vU:{},xE=Sj.VITE_SUPABASE_URL??Nj.VITE_SUPABASE_URL,wE=Sj.VITE_SUPABASE_PUBLISHABLE_KEY??Sj.VITE_SUPABASE_ANON_KEY??Nj.VITE_SUPABASE_PUBLISHABLE_KEY??Nj.VITE_SUPABASE_ANON_KEY;(!xE||!wE)&&console.warn("Supabase environment variables are missing. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY (or VITE_SUPABASE_PUBLISHABLE_KEY) for online mode to work.");const Ne=tae(xE,wE,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1,flowType:"pkce"}}),e1=xE,Cm=wE;function Kv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Q_={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var xU;function aae(){return xU||(xU=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,a,i){function s(A,f){if(!a[A]){if(!n[A]){var h=typeof Kv=="function"&&Kv;if(!f&&h)return h(A,!0);if(o)return o(A,!0);var p=new Error("Cannot find module '"+A+"'");throw p.code="MODULE_NOT_FOUND",p}var g=a[A]={exports:{}};n[A][0].call(g.exports,function(v){var b=n[A][1][v];return s(b||v)},g,g.exports,r,n,a,i)}return a[A].exports}for(var o=typeof Kv=="function"&&Kv,c=0;c<i.length;c++)s(i[c]);return s})({1:[function(r,n,a){(function(i){var s=i.MutationObserver||i.WebKitMutationObserver,o;if(s){var c=0,A=new s(v),f=i.document.createTextNode("");A.observe(f,{characterData:!0}),o=function(){f.data=c=++c%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var h=new i.MessageChannel;h.port1.onmessage=v,o=function(){h.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?o=function(){var x=i.document.createElement("script");x.onreadystatechange=function(){v(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},i.document.documentElement.appendChild(x)}:o=function(){setTimeout(v,0)};var p,g=[];function v(){p=!0;for(var x,w,S=g.length;S;){for(w=g,g=[],x=-1;++x<S;)w[x]();S=g.length}p=!1}n.exports=b;function b(x){g.push(x)===1&&!p&&o()}}).call(this,typeof dA<"u"?dA:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,a){var i=r(1);function s(){}var o={},c=["REJECTED"],A=["FULFILLED"],f=["PENDING"];n.exports=h;function h(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,C!==s&&b(this,C)}h.prototype.catch=function(C){return this.then(null,C)},h.prototype.then=function(C,T){if(typeof C!="function"&&this.state===A||typeof T!="function"&&this.state===c)return this;var O=new this.constructor(s);if(this.state!==f){var D=this.state===A?C:T;g(O,D,this.outcome)}else this.queue.push(new p(O,C,T));return O};function p(C,T,O){this.promise=C,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(C){o.resolve(this.promise,C)},p.prototype.otherCallFulfilled=function(C){g(this.promise,this.onFulfilled,C)},p.prototype.callRejected=function(C){o.reject(this.promise,C)},p.prototype.otherCallRejected=function(C){g(this.promise,this.onRejected,C)};function g(C,T,O){i(function(){var D;try{D=T(O)}catch(R){return o.reject(C,R)}D===C?o.reject(C,new TypeError("Cannot resolve promise with itself")):o.resolve(C,D)})}o.resolve=function(C,T){var O=x(v,T);if(O.status==="error")return o.reject(C,O.value);var D=O.value;if(D)b(C,D);else{C.state=A,C.outcome=T;for(var R=-1,q=C.queue.length;++R<q;)C.queue[R].callFulfilled(T)}return C},o.reject=function(C,T){C.state=c,C.outcome=T;for(var O=-1,D=C.queue.length;++O<D;)C.queue[O].callRejected(T);return C};function v(C){var T=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof T=="function")return function(){T.apply(C,arguments)}}function b(C,T){var O=!1;function D(I){O||(O=!0,o.reject(C,I))}function R(I){O||(O=!0,o.resolve(C,I))}function q(){T(R,D)}var U=x(q);U.status==="error"&&D(U.value)}function x(C,T){var O={};try{O.value=C(T),O.status="success"}catch(D){O.status="error",O.value=D}return O}h.resolve=w;function w(C){return C instanceof this?C:o.resolve(new this(s),C)}h.reject=S;function S(C){var T=new this(s);return o.reject(T,C)}h.all=N;function N(C){var T=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=C.length,D=!1;if(!O)return this.resolve([]);for(var R=new Array(O),q=0,U=-1,I=new this(s);++U<O;)Q(C[U],U);return I;function Q(H,Y){T.resolve(H).then(K,function(J){D||(D=!0,o.reject(I,J))});function K(J){R[Y]=J,++q===O&&!D&&(D=!0,o.resolve(I,R))}}}h.race=k;function k(C){var T=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=C.length,D=!1;if(!O)return this.resolve([]);for(var R=-1,q=new this(s);++R<O;)U(C[R]);return q;function U(I){T.resolve(I).then(function(Q){D||(D=!0,o.resolve(q,Q))},function(Q){D||(D=!0,o.reject(q,Q))})}}},{1:1}],3:[function(r,n,a){(function(i){typeof i.Promise!="function"&&(i.Promise=r(2))}).call(this,typeof dA<"u"?dA:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce};function s(ce,Be){if(!(ce instanceof Be))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=o();function A(){try{if(!c||!c.open)return!1;var ce=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Be=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!ce||Be)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(ce,Be){ce=ce||[],Be=Be||{};try{return new Blob(ce,Be)}catch(Ie){if(Ie.name!=="TypeError")throw Ie;for(var pe=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Fe=new pe,Me=0;Me<ce.length;Me+=1)Fe.append(ce[Me]);return Fe.getBlob(Be.type)}}typeof Promise>"u"&&r(3);var h=Promise;function p(ce,Be){Be&&ce.then(function(pe){Be(null,pe)},function(pe){Be(pe)})}function g(ce,Be,pe){typeof Be=="function"&&ce.then(Be),typeof pe=="function"&&ce.catch(pe)}function v(ce){return typeof ce!="string"&&(console.warn(ce+" used as a key, but it is not a string."),ce=String(ce)),ce}function b(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var x="local-forage-detect-blob-support",w=void 0,S={},N=Object.prototype.toString,k="readonly",C="readwrite";function T(ce){for(var Be=ce.length,pe=new ArrayBuffer(Be),Fe=new Uint8Array(pe),Me=0;Me<Be;Me++)Fe[Me]=ce.charCodeAt(Me);return pe}function O(ce){return new h(function(Be){var pe=ce.transaction(x,C),Fe=f([""]);pe.objectStore(x).put(Fe,"key"),pe.onabort=function(Me){Me.preventDefault(),Me.stopPropagation(),Be(!1)},pe.oncomplete=function(){var Me=navigator.userAgent.match(/Chrome\/(\d+)/),Ie=navigator.userAgent.match(/Edge\//);Be(Ie||!Me||parseInt(Me[1],10)>=43)}}).catch(function(){return!1})}function D(ce){return typeof w=="boolean"?h.resolve(w):O(ce).then(function(Be){return w=Be,w})}function R(ce){var Be=S[ce.name],pe={};pe.promise=new h(function(Fe,Me){pe.resolve=Fe,pe.reject=Me}),Be.deferredOperations.push(pe),Be.dbReady?Be.dbReady=Be.dbReady.then(function(){return pe.promise}):Be.dbReady=pe.promise}function q(ce){var Be=S[ce.name],pe=Be.deferredOperations.pop();if(pe)return pe.resolve(),pe.promise}function U(ce,Be){var pe=S[ce.name],Fe=pe.deferredOperations.pop();if(Fe)return Fe.reject(Be),Fe.promise}function I(ce,Be){return new h(function(pe,Fe){if(S[ce.name]=S[ce.name]||P(),ce.db)if(Be)R(ce),ce.db.close();else return pe(ce.db);var Me=[ce.name];Be&&Me.push(ce.version);var Ie=c.open.apply(c,Me);Be&&(Ie.onupgradeneeded=function(ct){var Nt=Ie.result;try{Nt.createObjectStore(ce.storeName),ct.oldVersion<=1&&Nt.createObjectStore(x)}catch(yt){if(yt.name==="ConstraintError")console.warn('The database "'+ce.name+'" has been upgraded from version '+ct.oldVersion+" to version "+ct.newVersion+', but the storage "'+ce.storeName+'" already exists.');else throw yt}}),Ie.onerror=function(ct){ct.preventDefault(),Fe(Ie.error)},Ie.onsuccess=function(){var ct=Ie.result;ct.onversionchange=function(Nt){Nt.target.close()},pe(ct),q(ce)}})}function Q(ce){return I(ce,!1)}function H(ce){return I(ce,!0)}function Y(ce,Be){if(!ce.db)return!0;var pe=!ce.db.objectStoreNames.contains(ce.storeName),Fe=ce.version<ce.db.version,Me=ce.version>ce.db.version;if(Fe&&(ce.version!==Be&&console.warn('The database "'+ce.name+`" can't be downgraded from version `+ce.db.version+" to version "+ce.version+"."),ce.version=ce.db.version),Me||pe){if(pe){var Ie=ce.db.version+1;Ie>ce.version&&(ce.version=Ie)}return!0}return!1}function K(ce){return new h(function(Be,pe){var Fe=new FileReader;Fe.onerror=pe,Fe.onloadend=function(Me){var Ie=btoa(Me.target.result||"");Be({__local_forage_encoded_blob:!0,data:Ie,type:ce.type})},Fe.readAsBinaryString(ce)})}function J(ce){var Be=T(atob(ce.data));return f([Be],{type:ce.type})}function re(ce){return ce&&ce.__local_forage_encoded_blob}function oe(ce){var Be=this,pe=Be._initReady().then(function(){var Fe=S[Be._dbInfo.name];if(Fe&&Fe.dbReady)return Fe.dbReady});return g(pe,ce,ce),pe}function V(ce){R(ce);for(var Be=S[ce.name],pe=Be.forages,Fe=0;Fe<pe.length;Fe++){var Me=pe[Fe];Me._dbInfo.db&&(Me._dbInfo.db.close(),Me._dbInfo.db=null)}return ce.db=null,Q(ce).then(function(Ie){return ce.db=Ie,Y(ce)?H(ce):Ie}).then(function(Ie){ce.db=Be.db=Ie;for(var ct=0;ct<pe.length;ct++)pe[ct]._dbInfo.db=Ie}).catch(function(Ie){throw U(ce,Ie),Ie})}function W(ce,Be,pe,Fe){Fe===void 0&&(Fe=1);try{var Me=ce.db.transaction(ce.storeName,Be);pe(null,Me)}catch(Ie){if(Fe>0&&(!ce.db||Ie.name==="InvalidStateError"||Ie.name==="NotFoundError"))return h.resolve().then(function(){if(!ce.db||Ie.name==="NotFoundError"&&!ce.db.objectStoreNames.contains(ce.storeName)&&ce.version<=ce.db.version)return ce.db&&(ce.version=ce.db.version+1),H(ce)}).then(function(){return V(ce).then(function(){W(ce,Be,pe,Fe-1)})}).catch(pe);pe(Ie)}}function P(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function $(ce){var Be=this,pe={db:null};if(ce)for(var Fe in ce)pe[Fe]=ce[Fe];var Me=S[pe.name];Me||(Me=P(),S[pe.name]=Me),Me.forages.push(Be),Be._initReady||(Be._initReady=Be.ready,Be.ready=oe);var Ie=[];function ct(){return h.resolve()}for(var Nt=0;Nt<Me.forages.length;Nt++){var yt=Me.forages[Nt];yt!==Be&&Ie.push(yt._initReady().catch(ct))}var Ct=Me.forages.slice(0);return h.all(Ie).then(function(){return pe.db=Me.db,Q(pe)}).then(function(Tt){return pe.db=Tt,Y(pe,Be._defaultConfig.version)?H(pe):Tt}).then(function(Tt){pe.db=Me.db=Tt,Be._dbInfo=pe;for(var zt=0;zt<Ct.length;zt++){var ir=Ct[zt];ir!==Be&&(ir._dbInfo.db=pe.db,ir._dbInfo.version=pe.version)}})}function G(ce,Be){var pe=this;ce=v(ce);var Fe=new h(function(Me,Ie){pe.ready().then(function(){W(pe._dbInfo,k,function(ct,Nt){if(ct)return Ie(ct);try{var yt=Nt.objectStore(pe._dbInfo.storeName),Ct=yt.get(ce);Ct.onsuccess=function(){var Tt=Ct.result;Tt===void 0&&(Tt=null),re(Tt)&&(Tt=J(Tt)),Me(Tt)},Ct.onerror=function(){Ie(Ct.error)}}catch(Tt){Ie(Tt)}})}).catch(Ie)});return p(Fe,Be),Fe}function ne(ce,Be){var pe=this,Fe=new h(function(Me,Ie){pe.ready().then(function(){W(pe._dbInfo,k,function(ct,Nt){if(ct)return Ie(ct);try{var yt=Nt.objectStore(pe._dbInfo.storeName),Ct=yt.openCursor(),Tt=1;Ct.onsuccess=function(){var zt=Ct.result;if(zt){var ir=zt.value;re(ir)&&(ir=J(ir));var Er=ce(ir,zt.key,Tt++);Er!==void 0?Me(Er):zt.continue()}else Me()},Ct.onerror=function(){Ie(Ct.error)}}catch(zt){Ie(zt)}})}).catch(Ie)});return p(Fe,Be),Fe}function se(ce,Be,pe){var Fe=this;ce=v(ce);var Me=new h(function(Ie,ct){var Nt;Fe.ready().then(function(){return Nt=Fe._dbInfo,N.call(Be)==="[object Blob]"?D(Nt.db).then(function(yt){return yt?Be:K(Be)}):Be}).then(function(yt){W(Fe._dbInfo,C,function(Ct,Tt){if(Ct)return ct(Ct);try{var zt=Tt.objectStore(Fe._dbInfo.storeName);yt===null&&(yt=void 0);var ir=zt.put(yt,ce);Tt.oncomplete=function(){yt===void 0&&(yt=null),Ie(yt)},Tt.onabort=Tt.onerror=function(){var Er=ir.error?ir.error:ir.transaction.error;ct(Er)}}catch(Er){ct(Er)}})}).catch(ct)});return p(Me,pe),Me}function ve(ce,Be){var pe=this;ce=v(ce);var Fe=new h(function(Me,Ie){pe.ready().then(function(){W(pe._dbInfo,C,function(ct,Nt){if(ct)return Ie(ct);try{var yt=Nt.objectStore(pe._dbInfo.storeName),Ct=yt.delete(ce);Nt.oncomplete=function(){Me()},Nt.onerror=function(){Ie(Ct.error)},Nt.onabort=function(){var Tt=Ct.error?Ct.error:Ct.transaction.error;Ie(Tt)}}catch(Tt){Ie(Tt)}})}).catch(Ie)});return p(Fe,Be),Fe}function he(ce){var Be=this,pe=new h(function(Fe,Me){Be.ready().then(function(){W(Be._dbInfo,C,function(Ie,ct){if(Ie)return Me(Ie);try{var Nt=ct.objectStore(Be._dbInfo.storeName),yt=Nt.clear();ct.oncomplete=function(){Fe()},ct.onabort=ct.onerror=function(){var Ct=yt.error?yt.error:yt.transaction.error;Me(Ct)}}catch(Ct){Me(Ct)}})}).catch(Me)});return p(pe,ce),pe}function fe(ce){var Be=this,pe=new h(function(Fe,Me){Be.ready().then(function(){W(Be._dbInfo,k,function(Ie,ct){if(Ie)return Me(Ie);try{var Nt=ct.objectStore(Be._dbInfo.storeName),yt=Nt.count();yt.onsuccess=function(){Fe(yt.result)},yt.onerror=function(){Me(yt.error)}}catch(Ct){Me(Ct)}})}).catch(Me)});return p(pe,ce),pe}function Qe(ce,Be){var pe=this,Fe=new h(function(Me,Ie){if(ce<0){Me(null);return}pe.ready().then(function(){W(pe._dbInfo,k,function(ct,Nt){if(ct)return Ie(ct);try{var yt=Nt.objectStore(pe._dbInfo.storeName),Ct=!1,Tt=yt.openKeyCursor();Tt.onsuccess=function(){var zt=Tt.result;if(!zt){Me(null);return}ce===0||Ct?Me(zt.key):(Ct=!0,zt.advance(ce))},Tt.onerror=function(){Ie(Tt.error)}}catch(zt){Ie(zt)}})}).catch(Ie)});return p(Fe,Be),Fe}function $e(ce){var Be=this,pe=new h(function(Fe,Me){Be.ready().then(function(){W(Be._dbInfo,k,function(Ie,ct){if(Ie)return Me(Ie);try{var Nt=ct.objectStore(Be._dbInfo.storeName),yt=Nt.openKeyCursor(),Ct=[];yt.onsuccess=function(){var Tt=yt.result;if(!Tt){Fe(Ct);return}Ct.push(Tt.key),Tt.continue()},yt.onerror=function(){Me(yt.error)}}catch(Tt){Me(Tt)}})}).catch(Me)});return p(pe,ce),pe}function de(ce,Be){Be=b.apply(this,arguments);var pe=this.config();ce=typeof ce!="function"&&ce||{},ce.name||(ce.name=ce.name||pe.name,ce.storeName=ce.storeName||pe.storeName);var Fe=this,Me;if(!ce.name)Me=h.reject("Invalid arguments");else{var Ie=ce.name===pe.name&&Fe._dbInfo.db,ct=Ie?h.resolve(Fe._dbInfo.db):Q(ce).then(function(Nt){var yt=S[ce.name],Ct=yt.forages;yt.db=Nt;for(var Tt=0;Tt<Ct.length;Tt++)Ct[Tt]._dbInfo.db=Nt;return Nt});ce.storeName?Me=ct.then(function(Nt){if(Nt.objectStoreNames.contains(ce.storeName)){var yt=Nt.version+1;R(ce);var Ct=S[ce.name],Tt=Ct.forages;Nt.close();for(var zt=0;zt<Tt.length;zt++){var ir=Tt[zt];ir._dbInfo.db=null,ir._dbInfo.version=yt}var Er=new h(function(Tr,Xr){var nn=c.open(ce.name,yt);nn.onerror=function(xa){var Os=nn.result;Os.close(),Xr(xa)},nn.onupgradeneeded=function(){var xa=nn.result;xa.deleteObjectStore(ce.storeName)},nn.onsuccess=function(){var xa=nn.result;xa.close(),Tr(xa)}});return Er.then(function(Tr){Ct.db=Tr;for(var Xr=0;Xr<Tt.length;Xr++){var nn=Tt[Xr];nn._dbInfo.db=Tr,q(nn._dbInfo)}}).catch(function(Tr){throw(U(ce,Tr)||h.resolve()).catch(function(){}),Tr})}}):Me=ct.then(function(Nt){R(ce);var yt=S[ce.name],Ct=yt.forages;Nt.close();for(var Tt=0;Tt<Ct.length;Tt++){var zt=Ct[Tt];zt._dbInfo.db=null}var ir=new h(function(Er,Tr){var Xr=c.deleteDatabase(ce.name);Xr.onerror=function(){var nn=Xr.result;nn&&nn.close(),Tr(Xr.error)},Xr.onblocked=function(){console.warn('dropInstance blocked for database "'+ce.name+'" until all open connections are closed')},Xr.onsuccess=function(){var nn=Xr.result;nn&&nn.close(),Er(nn)}});return ir.then(function(Er){yt.db=Er;for(var Tr=0;Tr<Ct.length;Tr++){var Xr=Ct[Tr];q(Xr._dbInfo)}}).catch(function(Er){throw(U(ce,Er)||h.resolve()).catch(function(){}),Er})})}return p(Me,Be),Me}var ze={_driver:"asyncStorage",_initStorage:$,_support:A(),iterate:ne,getItem:G,setItem:se,removeItem:ve,clear:he,length:fe,key:Qe,keys:$e,dropInstance:de};function nt(){return typeof openDatabase=="function"}var Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z="~~local_forage_type~",Ke=/^~~local_forage_type~([^~]+)~/,st="__lfsc__:",ye=st.length,He="arbf",Ve="blob",ge="si08",je="ui08",we="uic8",Xe="si16",Pe="si32",At="ur16",gt="ui32",St="fl32",Ze="fl64",rt=ye+He.length,$t=Object.prototype.toString;function Ht(ce){var Be=ce.length*.75,pe=ce.length,Fe,Me=0,Ie,ct,Nt,yt;ce[ce.length-1]==="="&&(Be--,ce[ce.length-2]==="="&&Be--);var Ct=new ArrayBuffer(Be),Tt=new Uint8Array(Ct);for(Fe=0;Fe<pe;Fe+=4)Ie=Se.indexOf(ce[Fe]),ct=Se.indexOf(ce[Fe+1]),Nt=Se.indexOf(ce[Fe+2]),yt=Se.indexOf(ce[Fe+3]),Tt[Me++]=Ie<<2|ct>>4,Tt[Me++]=(ct&15)<<4|Nt>>2,Tt[Me++]=(Nt&3)<<6|yt&63;return Ct}function Vt(ce){var Be=new Uint8Array(ce),pe="",Fe;for(Fe=0;Fe<Be.length;Fe+=3)pe+=Se[Be[Fe]>>2],pe+=Se[(Be[Fe]&3)<<4|Be[Fe+1]>>4],pe+=Se[(Be[Fe+1]&15)<<2|Be[Fe+2]>>6],pe+=Se[Be[Fe+2]&63];return Be.length%3===2?pe=pe.substring(0,pe.length-1)+"=":Be.length%3===1&&(pe=pe.substring(0,pe.length-2)+"=="),pe}function Kt(ce,Be){var pe="";if(ce&&(pe=$t.call(ce)),ce&&(pe==="[object ArrayBuffer]"||ce.buffer&&$t.call(ce.buffer)==="[object ArrayBuffer]")){var Fe,Me=st;ce instanceof ArrayBuffer?(Fe=ce,Me+=He):(Fe=ce.buffer,pe==="[object Int8Array]"?Me+=ge:pe==="[object Uint8Array]"?Me+=je:pe==="[object Uint8ClampedArray]"?Me+=we:pe==="[object Int16Array]"?Me+=Xe:pe==="[object Uint16Array]"?Me+=At:pe==="[object Int32Array]"?Me+=Pe:pe==="[object Uint32Array]"?Me+=gt:pe==="[object Float32Array]"?Me+=St:pe==="[object Float64Array]"?Me+=Ze:Be(new Error("Failed to get type for BinaryArray"))),Be(Me+Vt(Fe))}else if(pe==="[object Blob]"){var Ie=new FileReader;Ie.onload=function(){var ct=Z+ce.type+"~"+Vt(this.result);Be(st+Ve+ct)},Ie.readAsArrayBuffer(ce)}else try{Be(JSON.stringify(ce))}catch(ct){console.error("Couldn't convert value into a JSON string: ",ce),Be(null,ct)}}function nr(ce){if(ce.substring(0,ye)!==st)return JSON.parse(ce);var Be=ce.substring(rt),pe=ce.substring(ye,rt),Fe;if(pe===Ve&&Ke.test(Be)){var Me=Be.match(Ke);Fe=Me[1],Be=Be.substring(Me[0].length)}var Ie=Ht(Be);switch(pe){case He:return Ie;case Ve:return f([Ie],{type:Fe});case ge:return new Int8Array(Ie);case je:return new Uint8Array(Ie);case we:return new Uint8ClampedArray(Ie);case Xe:return new Int16Array(Ie);case At:return new Uint16Array(Ie);case Pe:return new Int32Array(Ie);case gt:return new Uint32Array(Ie);case St:return new Float32Array(Ie);case Ze:return new Float64Array(Ie);default:throw new Error("Unkown type: "+pe)}}var wr={serialize:Kt,deserialize:nr,stringToBuffer:Ht,bufferToString:Vt};function Ge(ce,Be,pe,Fe){ce.executeSql("CREATE TABLE IF NOT EXISTS "+Be.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],pe,Fe)}function Lt(ce){var Be=this,pe={db:null};if(ce)for(var Fe in ce)pe[Fe]=typeof ce[Fe]!="string"?ce[Fe].toString():ce[Fe];var Me=new h(function(Ie,ct){try{pe.db=openDatabase(pe.name,String(pe.version),pe.description,pe.size)}catch(Nt){return ct(Nt)}pe.db.transaction(function(Nt){Ge(Nt,pe,function(){Be._dbInfo=pe,Ie()},function(yt,Ct){ct(Ct)})},ct)});return pe.serializer=wr,Me}function Ot(ce,Be,pe,Fe,Me,Ie){ce.executeSql(pe,Fe,Me,function(ct,Nt){Nt.code===Nt.SYNTAX_ERR?ct.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Be.storeName],function(yt,Ct){Ct.rows.length?Ie(yt,Nt):Ge(yt,Be,function(){yt.executeSql(pe,Fe,Me,Ie)},Ie)},Ie):Ie(ct,Nt)},Ie)}function Le(ce,Be){var pe=this;ce=v(ce);var Fe=new h(function(Me,Ie){pe.ready().then(function(){var ct=pe._dbInfo;ct.db.transaction(function(Nt){Ot(Nt,ct,"SELECT * FROM "+ct.storeName+" WHERE key = ? LIMIT 1",[ce],function(yt,Ct){var Tt=Ct.rows.length?Ct.rows.item(0).value:null;Tt&&(Tt=ct.serializer.deserialize(Tt)),Me(Tt)},function(yt,Ct){Ie(Ct)})})}).catch(Ie)});return p(Fe,Be),Fe}function ot(ce,Be){var pe=this,Fe=new h(function(Me,Ie){pe.ready().then(function(){var ct=pe._dbInfo;ct.db.transaction(function(Nt){Ot(Nt,ct,"SELECT * FROM "+ct.storeName,[],function(yt,Ct){for(var Tt=Ct.rows,zt=Tt.length,ir=0;ir<zt;ir++){var Er=Tt.item(ir),Tr=Er.value;if(Tr&&(Tr=ct.serializer.deserialize(Tr)),Tr=ce(Tr,Er.key,ir+1),Tr!==void 0){Me(Tr);return}}Me()},function(yt,Ct){Ie(Ct)})})}).catch(Ie)});return p(Fe,Be),Fe}function ht(ce,Be,pe,Fe){var Me=this;ce=v(ce);var Ie=new h(function(ct,Nt){Me.ready().then(function(){Be===void 0&&(Be=null);var yt=Be,Ct=Me._dbInfo;Ct.serializer.serialize(Be,function(Tt,zt){zt?Nt(zt):Ct.db.transaction(function(ir){Ot(ir,Ct,"INSERT OR REPLACE INTO "+Ct.storeName+" (key, value) VALUES (?, ?)",[ce,Tt],function(){ct(yt)},function(Er,Tr){Nt(Tr)})},function(ir){if(ir.code===ir.QUOTA_ERR){if(Fe>0){ct(ht.apply(Me,[ce,yt,pe,Fe-1]));return}Nt(ir)}})})}).catch(Nt)});return p(Ie,pe),Ie}function mt(ce,Be,pe){return ht.apply(this,[ce,Be,pe,1])}function It(ce,Be){var pe=this;ce=v(ce);var Fe=new h(function(Me,Ie){pe.ready().then(function(){var ct=pe._dbInfo;ct.db.transaction(function(Nt){Ot(Nt,ct,"DELETE FROM "+ct.storeName+" WHERE key = ?",[ce],function(){Me()},function(yt,Ct){Ie(Ct)})})}).catch(Ie)});return p(Fe,Be),Fe}function Ce(ce){var Be=this,pe=new h(function(Fe,Me){Be.ready().then(function(){var Ie=Be._dbInfo;Ie.db.transaction(function(ct){Ot(ct,Ie,"DELETE FROM "+Ie.storeName,[],function(){Fe()},function(Nt,yt){Me(yt)})})}).catch(Me)});return p(pe,ce),pe}function Et(ce){var Be=this,pe=new h(function(Fe,Me){Be.ready().then(function(){var Ie=Be._dbInfo;Ie.db.transaction(function(ct){Ot(ct,Ie,"SELECT COUNT(key) as c FROM "+Ie.storeName,[],function(Nt,yt){var Ct=yt.rows.item(0).c;Fe(Ct)},function(Nt,yt){Me(yt)})})}).catch(Me)});return p(pe,ce),pe}function Pt(ce,Be){var pe=this,Fe=new h(function(Me,Ie){pe.ready().then(function(){var ct=pe._dbInfo;ct.db.transaction(function(Nt){Ot(Nt,ct,"SELECT key FROM "+ct.storeName+" WHERE id = ? LIMIT 1",[ce+1],function(yt,Ct){var Tt=Ct.rows.length?Ct.rows.item(0).key:null;Me(Tt)},function(yt,Ct){Ie(Ct)})})}).catch(Ie)});return p(Fe,Be),Fe}function jr(ce){var Be=this,pe=new h(function(Fe,Me){Be.ready().then(function(){var Ie=Be._dbInfo;Ie.db.transaction(function(ct){Ot(ct,Ie,"SELECT key FROM "+Ie.storeName,[],function(Nt,yt){for(var Ct=[],Tt=0;Tt<yt.rows.length;Tt++)Ct.push(yt.rows.item(Tt).key);Fe(Ct)},function(Nt,yt){Me(yt)})})}).catch(Me)});return p(pe,ce),pe}function Ft(ce){return new h(function(Be,pe){ce.transaction(function(Fe){Fe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Me,Ie){for(var ct=[],Nt=0;Nt<Ie.rows.length;Nt++)ct.push(Ie.rows.item(Nt).name);Be({db:ce,storeNames:ct})},function(Me,Ie){pe(Ie)})},function(Fe){pe(Fe)})})}function mr(ce,Be){Be=b.apply(this,arguments);var pe=this.config();ce=typeof ce!="function"&&ce||{},ce.name||(ce.name=ce.name||pe.name,ce.storeName=ce.storeName||pe.storeName);var Fe=this,Me;return ce.name?Me=new h(function(Ie){var ct;ce.name===pe.name?ct=Fe._dbInfo.db:ct=openDatabase(ce.name,"","",0),ce.storeName?Ie({db:ct,storeNames:[ce.storeName]}):Ie(Ft(ct))}).then(function(Ie){return new h(function(ct,Nt){Ie.db.transaction(function(yt){function Ct(Er){return new h(function(Tr,Xr){yt.executeSql("DROP TABLE IF EXISTS "+Er,[],function(){Tr()},function(nn,xa){Xr(xa)})})}for(var Tt=[],zt=0,ir=Ie.storeNames.length;zt<ir;zt++)Tt.push(Ct(Ie.storeNames[zt]));h.all(Tt).then(function(){ct()}).catch(function(Er){Nt(Er)})},function(yt){Nt(yt)})})}):Me=h.reject("Invalid arguments"),p(Me,Be),Me}var Nr={_driver:"webSQLStorage",_initStorage:Lt,_support:nt(),iterate:ot,getItem:Le,setItem:mt,removeItem:It,clear:Ce,length:Et,key:Pt,keys:jr,dropInstance:mr};function $r(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ur(ce,Be){var pe=ce.name+"/";return ce.storeName!==Be.storeName&&(pe+=ce.storeName+"/"),pe}function yn(){var ce="_localforage_support_test";try{return localStorage.setItem(ce,!0),localStorage.removeItem(ce),!1}catch{return!0}}function Ya(){return!yn()||localStorage.length>0}function ho(ce){var Be=this,pe={};if(ce)for(var Fe in ce)pe[Fe]=ce[Fe];return pe.keyPrefix=ur(ce,Be._defaultConfig),Ya()?(Be._dbInfo=pe,pe.serializer=wr,h.resolve()):h.reject()}function Xa(ce){var Be=this,pe=Be.ready().then(function(){for(var Fe=Be._dbInfo.keyPrefix,Me=localStorage.length-1;Me>=0;Me--){var Ie=localStorage.key(Me);Ie.indexOf(Fe)===0&&localStorage.removeItem(Ie)}});return p(pe,ce),pe}function Ja(ce,Be){var pe=this;ce=v(ce);var Fe=pe.ready().then(function(){var Me=pe._dbInfo,Ie=localStorage.getItem(Me.keyPrefix+ce);return Ie&&(Ie=Me.serializer.deserialize(Ie)),Ie});return p(Fe,Be),Fe}function da(ce,Be){var pe=this,Fe=pe.ready().then(function(){for(var Me=pe._dbInfo,Ie=Me.keyPrefix,ct=Ie.length,Nt=localStorage.length,yt=1,Ct=0;Ct<Nt;Ct++){var Tt=localStorage.key(Ct);if(Tt.indexOf(Ie)===0){var zt=localStorage.getItem(Tt);if(zt&&(zt=Me.serializer.deserialize(zt)),zt=ce(zt,Tt.substring(ct),yt++),zt!==void 0)return zt}}});return p(Fe,Be),Fe}function fa(ce,Be){var pe=this,Fe=pe.ready().then(function(){var Me=pe._dbInfo,Ie;try{Ie=localStorage.key(ce)}catch{Ie=null}return Ie&&(Ie=Ie.substring(Me.keyPrefix.length)),Ie});return p(Fe,Be),Fe}function Ua(ce){var Be=this,pe=Be.ready().then(function(){for(var Fe=Be._dbInfo,Me=localStorage.length,Ie=[],ct=0;ct<Me;ct++){var Nt=localStorage.key(ct);Nt.indexOf(Fe.keyPrefix)===0&&Ie.push(Nt.substring(Fe.keyPrefix.length))}return Ie});return p(pe,ce),pe}function Jn(ce){var Be=this,pe=Be.keys().then(function(Fe){return Fe.length});return p(pe,ce),pe}function Yr(ce,Be){var pe=this;ce=v(ce);var Fe=pe.ready().then(function(){var Me=pe._dbInfo;localStorage.removeItem(Me.keyPrefix+ce)});return p(Fe,Be),Fe}function ks(ce,Be,pe){var Fe=this;ce=v(ce);var Me=Fe.ready().then(function(){Be===void 0&&(Be=null);var Ie=Be;return new h(function(ct,Nt){var yt=Fe._dbInfo;yt.serializer.serialize(Be,function(Ct,Tt){if(Tt)Nt(Tt);else try{localStorage.setItem(yt.keyPrefix+ce,Ct),ct(Ie)}catch(zt){(zt.name==="QuotaExceededError"||zt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Nt(zt),Nt(zt)}})})});return p(Me,pe),Me}function mo(ce,Be){if(Be=b.apply(this,arguments),ce=typeof ce!="function"&&ce||{},!ce.name){var pe=this.config();ce.name=ce.name||pe.name,ce.storeName=ce.storeName||pe.storeName}var Fe=this,Me;return ce.name?Me=new h(function(Ie){ce.storeName?Ie(ur(ce,Fe._defaultConfig)):Ie(ce.name+"/")}).then(function(Ie){for(var ct=localStorage.length-1;ct>=0;ct--){var Nt=localStorage.key(ct);Nt.indexOf(Ie)===0&&localStorage.removeItem(Nt)}}):Me=h.reject("Invalid arguments"),p(Me,Be),Me}var ui={_driver:"localStorageWrapper",_initStorage:ho,_support:$r(),iterate:da,getItem:Ja,setItem:ks,removeItem:Yr,clear:Xa,length:Jn,key:fa,keys:Ua,dropInstance:mo},Ni=function(Be,pe){return Be===pe||typeof Be=="number"&&typeof pe=="number"&&isNaN(Be)&&isNaN(pe)},Al=function(Be,pe){for(var Fe=Be.length,Me=0;Me<Fe;){if(Ni(Be[Me],pe))return!0;Me++}return!1},dl=Array.isArray||function(ce){return Object.prototype.toString.call(ce)==="[object Array]"},Es={},uu={},Fa={INDEXEDDB:ze,WEBSQL:Nr,LOCALSTORAGE:ui},po=[Fa.INDEXEDDB._driver,Fa.WEBSQL._driver,Fa.LOCALSTORAGE._driver],Da=["dropInstance"],as=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Da),Au={description:"",driver:po.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function is(ce,Be){ce[Be]=function(){var pe=arguments;return ce.ready().then(function(){return ce[Be].apply(ce,pe)})}}function go(){for(var ce=1;ce<arguments.length;ce++){var Be=arguments[ce];if(Be)for(var pe in Be)Be.hasOwnProperty(pe)&&(dl(Be[pe])?arguments[0][pe]=Be[pe].slice():arguments[0][pe]=Be[pe])}return arguments[0]}var Ts=(function(){function ce(Be){s(this,ce);for(var pe in Fa)if(Fa.hasOwnProperty(pe)){var Fe=Fa[pe],Me=Fe._driver;this[pe]=Me,Es[Me]||this.defineDriver(Fe)}this._defaultConfig=go({},Au),this._config=go({},this._defaultConfig,Be),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ce.prototype.config=function(pe){if((typeof pe>"u"?"undefined":i(pe))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Fe in pe){if(Fe==="storeName"&&(pe[Fe]=pe[Fe].replace(/\W/g,"_")),Fe==="version"&&typeof pe[Fe]!="number")return new Error("Database version must be a number.");this._config[Fe]=pe[Fe]}return"driver"in pe&&pe.driver?this.setDriver(this._config.driver):!0}else return typeof pe=="string"?this._config[pe]:this._config},ce.prototype.defineDriver=function(pe,Fe,Me){var Ie=new h(function(ct,Nt){try{var yt=pe._driver,Ct=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!pe._driver){Nt(Ct);return}for(var Tt=as.concat("_initStorage"),zt=0,ir=Tt.length;zt<ir;zt++){var Er=Tt[zt],Tr=!Al(Da,Er);if((Tr||pe[Er])&&typeof pe[Er]!="function"){Nt(Ct);return}}var Xr=function(){for(var Os=function(fl){return function(){var zn=new Error("Method "+fl+" is not implemented by the current driver"),os=h.reject(zn);return p(os,arguments[arguments.length-1]),os}},bo=0,ss=Da.length;bo<ss;bo++){var Is=Da[bo];pe[Is]||(pe[Is]=Os(Is))}};Xr();var nn=function(Os){Es[yt]&&console.info("Redefining LocalForage driver: "+yt),Es[yt]=pe,uu[yt]=Os,ct()};"_support"in pe?pe._support&&typeof pe._support=="function"?pe._support().then(nn,Nt):nn(!!pe._support):nn(!0)}catch(xa){Nt(xa)}});return g(Ie,Fe,Me),Ie},ce.prototype.driver=function(){return this._driver||null},ce.prototype.getDriver=function(pe,Fe,Me){var Ie=Es[pe]?h.resolve(Es[pe]):h.reject(new Error("Driver not found."));return g(Ie,Fe,Me),Ie},ce.prototype.getSerializer=function(pe){var Fe=h.resolve(wr);return g(Fe,pe),Fe},ce.prototype.ready=function(pe){var Fe=this,Me=Fe._driverSet.then(function(){return Fe._ready===null&&(Fe._ready=Fe._initDriver()),Fe._ready});return g(Me,pe,pe),Me},ce.prototype.setDriver=function(pe,Fe,Me){var Ie=this;dl(pe)||(pe=[pe]);var ct=this._getSupportedDrivers(pe);function Nt(){Ie._config.driver=Ie.driver()}function yt(zt){return Ie._extend(zt),Nt(),Ie._ready=Ie._initStorage(Ie._config),Ie._ready}function Ct(zt){return function(){var ir=0;function Er(){for(;ir<zt.length;){var Tr=zt[ir];return ir++,Ie._dbInfo=null,Ie._ready=null,Ie.getDriver(Tr).then(yt).catch(Er)}Nt();var Xr=new Error("No available storage method found.");return Ie._driverSet=h.reject(Xr),Ie._driverSet}return Er()}}var Tt=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Tt.then(function(){var zt=ct[0];return Ie._dbInfo=null,Ie._ready=null,Ie.getDriver(zt).then(function(ir){Ie._driver=ir._driver,Nt(),Ie._wrapLibraryMethodsWithReady(),Ie._initDriver=Ct(ct)})}).catch(function(){Nt();var zt=new Error("No available storage method found.");return Ie._driverSet=h.reject(zt),Ie._driverSet}),g(this._driverSet,Fe,Me),this._driverSet},ce.prototype.supports=function(pe){return!!uu[pe]},ce.prototype._extend=function(pe){go(this,pe)},ce.prototype._getSupportedDrivers=function(pe){for(var Fe=[],Me=0,Ie=pe.length;Me<Ie;Me++){var ct=pe[Me];this.supports(ct)&&Fe.push(ct)}return Fe},ce.prototype._wrapLibraryMethodsWithReady=function(){for(var pe=0,Fe=as.length;pe<Fe;pe++)is(this,as[pe])},ce.prototype.createInstance=function(pe){return new ce(pe)},ce})(),KA=new Ts;n.exports=KA},{3:3}]},{},[4])(4)})})(Q_)),Q_.exports}var iae=aae();const _E=Jr(iae),zv=_E.createInstance({name:"hw-cache"}),_h=_E.createInstance({name:"hw-oplog"});_E.createInstance({name:"hw-conflicts"});function R_(e,t){return`${e}:${t}`}function lm(e){if(e==null)return e;if(typeof structuredClone=="function")try{return structuredClone(e)}catch(t){return console.warn("structuredClone failed, returning original value",t),e}return e}async function Hl(e,t){try{return await t()}catch(r){throw console.error(`[localdb] ${e} failed`,r),r}}const Hr={async get(e,t){const r=R_(e,t),n=await Hl(`cache.get ${r}`,()=>zv.getItem(r));return lm(n)},async set(e,t){if(!t||!t.id)return;const r=R_(e,t.id);await Hl(`cache.set ${r}`,()=>zv.setItem(r,lm(t)))},async list(e){const t=[];return await Hl(`cache.list ${e}`,()=>zv.iterate((r,n)=>{n.startsWith(e+":")&&t.push(lm(r))})),t},async bulkSet(e,t=[]){for(const r of t)await Hr.set(e,r)},async remove(e,t){const r=R_(e,t);await Hl(`cache.remove ${r}`,()=>zv.removeItem(r))}},Pd={async add(e){await Hl(`oplog.add ${e?.opId??"unknown"}`,()=>_h.setItem(e.opId,lm(e)))},async listReady(e){const t=[];return await Hl("oplog.listReady",()=>_h.iterate(r=>{(r.nextAt||0)<=e&&t.push(lm(r))})),t.sort((r,n)=>r.ts-n.ts),t},async bulkRemove(e=[]){for(const t of e)await Hl(`oplog.remove ${t}`,()=>_h.removeItem(t))},async markDeferred(e,t,r,n){const a=await Hl(`oplog.get ${e}`,()=>_h.getItem(e));a&&(a.attempts=t,a.nextAt=r,a.lastError=n,await Hl(`oplog.update ${e}`,()=>_h.setItem(e,lm(a))))},async count(){let e=0;return await Hl("oplog.count",()=>_h.iterate(()=>{e+=1})),e}};let Qg=null;Ne.auth.onAuthStateChange((e,t)=>{Qg=t?.user?.id??null});async function tr(){if(Qg)return Qg;const{data:e,error:t}=await Ne.auth.getUser();if(t)throw t;return Qg=e.user?.id??null,Qg}async function i9(){const{data:e,error:t}=await Ne.auth.getSession();if(t)throw t;const r=e.session?.access_token??null;if(!r)throw new Error("Not signed in");return r}async function s9(e){for(const t of e){const{txId:r,fileName:n,contentType:a,blob:i}=t.payload,s=`receipts/${r}/${crypto.randomUUID()}_${n}`,{error:o}=await Ne.storage.from("receipts").upload(s,new Blob([i]),{contentType:a});if(o)throw o;const{data:c}=Ne.storage.from("receipts").getPublicUrl(s),A=await tr(),f={id:r,receipt_url:c.publicUrl,updated_at:new Date().toISOString()};A&&(f.user_id=A);const{error:h}=await Ne.from("transactions").upsert(f,{onConflict:"id"});if(h)throw h;const p=await Hr.get("transactions",r);p&&(p.receipt_url=c.publicUrl,await Hr.set("transactions",p))}}const sae=800,oae=15e3,lae=400;function cae(e,t=Math.random){return Math.min(sae*2**e,oae)+Math.floor(t()*lae)}function uae(e=[]){const t=new Map;for(const r of e){const n=`${r.entity}:${r.type}`;t.has(n)||t.set(n,{entity:r.entity,type:r.type,items:[]}),t.get(n).items.push(r)}return Array.from(t.values()).map(r=>(r.items.sort((n,a)=>n.ts-a.ts),r))}function BE(e){const t={...e};return t.id||(t.id=crypto.randomUUID()),t.updated_at||(t.updated_at=new Date().toISOString()),t}const Aae={};var wU={};const dae=2e4,fae=100,hae=5,BA={OFFLINE:"OFFLINE",IDLE:"IDLE",SYNCING:"SYNCING"};let o9=navigator.onLine?BA.IDLE:BA.OFFLINE;const Cj=new Set;function SE(){Cj.forEach(e=>e(o9))}function wb(e){o9=e,SE()}function mae(e){return Cj.add(e),()=>Cj.delete(e)}function pae(){let e=localStorage.getItem("hw:clientTag");return e||(e=crypto.randomUUID(),localStorage.setItem("hw:clientTag",e)),e}const gae=pae(),bae=new Set(["transactions","categories","budgets","subscriptions","goals","challenges","receipts","accounts","merchants"]),yae=new Set(["id","user_id","date","type","amount","title","notes","account_id","to_account_id","category_id","merchant_id","parent_id","transfer_group_id","receipt_url","deleted_at","updated_at","rev"]),vae={note:"notes",notes:"notes",title:"title",account:"account_id",userId:"user_id",accountId:"account_id",toAccount:"to_account_id",toAccountId:"to_account_id",category:"category_id",categoryId:"category_id",merchant:"merchant_id",merchantId:"merchant_id",parentId:"parent_id",transferGroupId:"transfer_group_id",receiptUrl:"receipt_url",updatedAt:"updated_at"},xae=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,wae=new Set(["expense","income","transfer"]),_ae=new Set(["income","expense"]),Bae='id, user_id, type, name, order_index, inserted_at, "group"',Sae=["id","user_id","account_id","to_account_id","category_id","merchant_id","parent_id","transfer_group_id"],Nae=["is_split_child","isSplitChild","split_child","splitChild"];function sa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jj(e){if(e==null)return null;if(typeof e=="object")return typeof e.id=="string"?jj(e.id):typeof e.value=="string"?jj(e.value):null;if(typeof e!="string")return null;const t=e.trim();return t&&xae.test(t)?t:null}function Jh(e){return jj(e)}function z0(e){if(e==null)return null;const r=String(e).trim();return r||null}function Cae(e){if(typeof e=="number"&&Number.isFinite(e))return Math.max(0,e);if(typeof e=="string"){const t=e.replace(/[\s,]/g,""),r=Number.parseFloat(t);if(Number.isFinite(r))return Math.max(0,r)}return 0}function jae(e){if(e instanceof Date)return e.toISOString();if(typeof e=="number"){const t=new Date(e);return Number.isNaN(t.getTime())?new Date().toISOString():t.toISOString()}if(typeof e=="string"){const t=e.trim();if(!t)return new Date().toISOString();if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const r=Date.parse(t);if(!Number.isNaN(r))return new Date(r).toISOString()}return new Date().toISOString()}function kj(e){if(e==null||e==="")return null;if(e instanceof Date)return e.toISOString();if(typeof e=="number"){const t=new Date(e);return Number.isNaN(t.getTime())?null:t.toISOString()}if(typeof e=="string"){const t=e.trim();if(!t)return null;const r=Date.parse(t);if(!Number.isNaN(r))return new Date(r).toISOString()}return null}function kae(e){if(e==null||e==="")return null;const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}function Eae(e){if(e===!0)return!0;if(e===!1)return!1;if(typeof e=="string"){const t=e.trim().toLowerCase();if(!t)return!1;if(["true","1","yes","y"].includes(t))return!0;if(["false","0","no","n"].includes(t))return!1}return!!e}const Tae=new Set,_U=new Set;function Oae(e){return bae.has(e)}function l9(e,t={}){for(const r of Tae)try{r(e,t)}catch(n){console.error("Sync error listener failed",n)}}function Iae(e={}){const t={},r=new Set;for(const[c,A]of Object.entries(e||{})){if(A===void 0)continue;const f=vae[c]??c;if(!yae.has(f)){r.add(c);continue}sa(t,f)||(t[f]=A)}if(r.size>0){const c=[...r].filter(A=>!_U.has(A));if(c.forEach(A=>_U.add(A)),c.length>0){const A=`Payload transaksi memiliki kolom tidak dikenal: ${c.join(", ")}`;l9(new Error(A),{entity:"transactions",stage:"sanitize"})}}const n={};for(const c of Sae)if(sa(t,c)){const A=Jh(t[c]);n[c]=A??null}let a=sa(t,"type")?String(t.type??"").toLowerCase():"";wae.has(a)||(a="expense"),n.type=a,n.amount=Cae(t.amount),n.date=jae(t.date),sa(t,"title")&&(n.title=z0(t.title)),sa(t,"notes")&&(n.notes=z0(t.notes)),sa(t,"receipt_url")&&(n.receipt_url=z0(t.receipt_url)),sa(t,"deleted_at")&&(n.deleted_at=kj(t.deleted_at)),sa(t,"updated_at")&&(n.updated_at=kj(t.updated_at)??new Date().toISOString()),sa(t,"rev")&&(n.rev=kae(t.rev));const i=Jh(t.parent_id),s=Nae.some(c=>Eae(e?.[c])),o=i!=null||s;return(sa(t,"parent_id")||o)&&(n.parent_id=o?i:null),n.type!=="transfer"?((sa(t,"to_account_id")||sa(n,"to_account_id"))&&(n.to_account_id=null),(sa(t,"transfer_group_id")||sa(n,"transfer_group_id"))&&(n.transfer_group_id=null)):(sa(t,"to_account_id")&&(n.to_account_id=Jh(t.to_account_id)),sa(t,"transfer_group_id")&&(n.transfer_group_id=Jh(t.transfer_group_id))),n}function Uae(e={}){const t={},r=Jh(e.id);r?t.id=r:sa(e,"id")&&(t.id=null);const n=Jh(e.user_id);n?t.user_id=n:sa(e,"user_id")&&(t.user_id=null);let a=typeof e.type=="string"?e.type.trim().toLowerCase():"";_ae.has(a)||(a="expense"),t.type=a;const i=e?.name,s=i==null?"":typeof i=="string"?i.trim():String(i).trim();if(t.name=s,sa(e,"order_index")){const o=e.order_index;let c=null;if(typeof o=="number"&&Number.isFinite(o))c=o;else if(typeof o=="string"){const A=o.trim();if(A){const f=Number.parseInt(A,10);Number.isFinite(f)&&(c=f)}}t.order_index=c}return sa(e,"group")&&(t.group=z0(e.group)),sa(e,"inserted_at")&&(t.inserted_at=kj(e.inserted_at)),console.debug("[SyncEngine] Sanitized category payload:",{before:e,after:t}),t}function Fae(e,t){return e==="transactions"?Iae(t):e==="categories"?Uae(t):t}function NE(e,t){const r=Fae(e,t);let n=r;if(r!==t){n={};for(const[a,i]of Object.entries(r))i!==void 0&&(n[a]=i)}return e==="transactions"&&console.debug("[SyncEngine] Sanitized transaction payload:",{before:t,after:n}),n}function c9(e){if(e==="categories")return Bae}function Ej(e,t={}){if(!e||e?.message==="offline")return;const r=t?.entity==="categories"?"Sync categories gagal. Lihat konsol untuk detail.":"Sync gagal. Lihat konsol untuk detail.",n=new Error(r);e instanceof Error&&(n.cause=e),console.error("Sync error",{context:t,error:e}),l9(n,t)}function u9(e,t){const r=Array.isArray(t)?t:[t];console.debug(`[SyncEngine] Upserting ${r.length} ${e} record${r.length>1?"s":""}`,r)}async function Dae(e){if(e.type==="UPSERT"){const t=e.meta?.normalized?e.payload:BE(e.payload),r=NE(e.entity,t);u9(e.entity,r);const n=Ne.from(e.entity).upsert([r],{onConflict:"id"}),a=c9(e.entity),{data:i,error:s,status:o,statusText:c}=a?await n.select(a):await n;if(s)throw console.error("[SyncEngine] Supabase upsert error",{entity:e.entity,status:o,statusText:c,error:s}),s;a&&Array.isArray(i)&&i.length>0?await Hr.bulkSet(e.entity,i):await Hr.set(e.entity,r)}else if(e.type==="DELETE"){const{error:t}=await Ne.from(e.entity).delete().eq("id",e.payload.id);if(t)throw t;await Hr.remove(e.entity,e.payload.id)}else e.type==="STORAGE_PUT"&&await s9([e])}async function Lae(e){if(!navigator.onLine||window.__sync?.fakeOffline)throw new Error("offline");await Dae(e)}async function CE(e,t){const r={...t};if(Oae(e)){const s=await tr();if(!s)throw new Error("Pengguna belum masuk");r.user_id||(r.user_id=s)}const n=NE(e,r),a=BE(n),i={opId:crypto.randomUUID(),entity:e,type:"UPSERT",payload:a,attempts:0,nextAt:0,ts:Date.now(),clientTag:gae,meta:{normalized:!0}};try{await Lae(i)}catch(s){Ej(s,{entity:e,opId:i.opId,stage:"immediate"}),await Hr.set(e,a),await Pd.add(i),wb(BA.OFFLINE)}return a}async function G0({batchSize:e=fae}={}){if(!(!navigator.onLine||window.__sync?.fakeOffline)){wb(BA.SYNCING);try{const t=Date.now(),r=await Pd.listReady(t);if(r.length===0)return;const n=uae(r);for(const a of n){const i=a.items.slice(0,e);try{if(a.type==="UPSERT"){const s=i.map(g=>{const v=g.meta?.normalized?g.payload:BE(g.payload);return NE(a.entity,v)});u9(a.entity,s);const o=Ne.from(a.entity).upsert(s,{onConflict:"id"}),c=c9(a.entity),{data:A,error:f,status:h,statusText:p}=c?await o.select(c):await o;if(f)throw console.error("[SyncEngine] Supabase upsert error",{entity:a.entity,status:h,statusText:p,error:f}),f;c&&Array.isArray(A)&&A.length>0?await Hr.bulkSet(a.entity,A):await Hr.bulkSet(a.entity,s)}else if(a.type==="DELETE"){const s=i.map(c=>c.payload.id),{error:o}=await Ne.from(a.entity).delete().in("id",s);if(o)throw o;for(const c of s)await Hr.remove(a.entity,c)}else a.type==="STORAGE_PUT"&&await s9(i);await Pd.bulkRemove(i.map(s=>s.opId))}catch(s){Ej(s,{entity:a.entity,type:a.type});for(const o of i){const c=(o.attempts||0)+1;if(c>=hae){console.error("[SyncEngine] Max retry reached, dropping op",{opId:o.opId,entity:a.entity,type:a.type,attempts:c,error:s}),await Pd.bulkRemove([o.opId]);continue}const A=cae(c);await Pd.markDeferred(o.opId,c,Date.now()+A,String(s?.message||s))}break}if(!navigator.onLine||window.__sync?.fakeOffline)break}}catch(t){Ej(t,{stage:"flushQueue"})}finally{const r=await Pd.count()>0?BA.SYNCING:BA.IDLE;wb(r)}}}async function H_(){return Pd.count()}function Mae(){const e=typeof import.meta<"u"?Aae??{}:{},t=typeof globalThis<"u"&&wU?wU:{},r=e.VITE_ENABLE_REALTIME??t.VITE_ENABLE_REALTIME??"false";return String(r).toLowerCase()==="true"}function Pae(){Mae()&&["transactions","categories"].forEach(e=>{Ne.channel(`rt:${e}`).on("postgres_changes",{event:"*",schema:"public",table:e},async t=>{const r=t.new||t.record;r&&(await Hr.set(e,r),SE())}).subscribe()})}function Qae(){window.addEventListener("online",()=>{wb(BA.IDLE),G0()}),window.addEventListener("offline",()=>wb(BA.OFFLINE)),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&G0()}),setInterval(()=>G0(),dae),Pae(),SE()}function A9(){if(!e1||!Cm)throw new Error("Supabase REST config missing")}function Rae(e=!1){A9();const t={apikey:Cm,Authorization:`Bearer ${Cm}`};return e&&(t["Content-Type"]="application/json"),t}function BU(e,t){A9();const r=e1.replace(/\/$/,"");if(!t)return`${r}${e.startsWith("/")?"":"/"}${e}`;const n=t.toString();return n?`${r}${e.startsWith("/")?"":"/"}${e}?${n}`:`${r}${e.startsWith("/")?"":"/"}${e}`}async function SU(e,t){let r=t;try{const a=await e.json();a?.message&&(r=a.message)}catch{}const n=new Error(r);return n.status=e.status,n}function Hae(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number.parseInt(e,10);if(Number.isFinite(t))return t}return null}function d9(e=""){return String(e).replace(/[%_,()]/g,t=>`\\${t}`)}function $ae(e){return e?Array.isArray(e)?e:[e]:[]}function qae(e=new Date){const t=new Date(e),r=t.getDay(),n=(r===0?-6:1)-r;return t.setDate(t.getDate()+n),t.setHours(0,0,0,0),t}function nA(e){if(!(e instanceof Date))return null;const t=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),n=String(e.getUTCDate()).padStart(2,"0");return`${t}-${r}-${n}`}function Kae(e,t){const r=new Date(Date.UTC(e,t,1));return nA(r)}function jE(e={}){const t=e.search??e.q??"",r=e.sort??"date-desc",n=Number.parseInt(e.page??1,10)||1,a=Number.parseInt(e.pageSize??e.limit??50,10)||50;let i=e.period?.preset??e.range??null,s=e.period?.month??e.monthValue??null,o=e.period?.start??e.startDate??e.date_from??null,c=e.period?.end??e.endDate??e.date_to??null;if(!i&&e.month&&e.month!=="all"&&(i="month",s=e.month),!i&&(o||c)&&(i="custom"),i||(i="all"),i==="month"&&!s){const p=new Date;s=`${p.getUTCFullYear()}-${String(p.getUTCMonth()+1).padStart(2,"0")}`}const A=e.categories??e.category??[];let f=[];Array.isArray(A)?f=A.filter(Boolean):typeof A=="string"?A!=="all"&&A.trim()!==""&&(f=A.split(/[,\s]+/).map(p=>p.trim()).filter(Boolean)):A!=null&&(f=[A]);const h=e.type??"all";return{preset:i,month:s,startDate:o||null,endDate:c||null,categories:f,type:h,sort:r,search:t,page:n,pageSize:a}}function kE(e){const{preset:t,month:r,startDate:n,endDate:a}=e;if(t==="month"&&r){const[i,s]=String(r).split("-"),o=Number.parseInt(i,10),c=Number.parseInt(s,10);if(!Number.isNaN(o)&&!Number.isNaN(c)){const A=new Date(Date.UTC(o,c-1,1)),f=new Date(Date.UTC(o,c,1));return{from:nA(A),to:nA(new Date(f.getTime()-864e5)),toExclusive:Kae(o,c)}}}if(t==="week"){const s=qae(new Date),o=new Date(s);return o.setDate(s.getDate()+6),{from:nA(s),to:nA(o),toExclusive:nA(new Date(o.getTime()+864e5))}}if(t==="custom"){const i=n?String(n).slice(0,10):null,s=a?String(a).slice(0,10):null;if(i&&s){const o=new Date(`${s}T00:00:00Z`);return{from:i,to:s,toExclusive:nA(new Date(o.getTime()+864e5))}}if(i)return{from:i,to:null,toExclusive:null};if(s)return{from:null,to:s,toExclusive:nA(new Date(new Date(`${s}T00:00:00Z`).getTime()+864e5))}}return{from:null,to:null,toExclusive:null}}function zae(e,t){if(!t)return!0;const{from:r,to:n,toExclusive:a}=t;if(!r&&!n&&!a)return!0;if(!e)return!1;const i=String(e).slice(0,10);return r&&i<r?!1:a?!(i>=a):!(n&&i>n)}function gy(e={}){if(!e)return e;const t=Array.isArray(e.receipts)?e.receipts.map(v=>({id:v.id??v.receipt_id??null,url:v.url??v.public_url??v.path??null,content_type:v.content_type??v.mime_type??null,size:v.size??v.bytes??null,uploaded_at:v.uploaded_at??v.created_at??null})):[],r=e.category?.name??e.categories?.name??e.category_name??e.category??null,n=e.category?.color??e.categories?.color??e.category_color??null,a=e.category_id??e.category?.id??e.categories?.id??null,i=e.account?.name??e.accounts?.name??e.account_name??e.account??null,s=e.account_id??e.account?.id??e.accounts?.id??null,o=e.to_account?.name??e.to_accounts?.name??e.to_account_name??e.to_account??null,c=e.to_account_id??e.to_account?.id??e.to_accounts?.id??null,A=e.merchant?.name??e.merchants?.name??e.merchant_name??e.merchant??null,f=e.merchant_id??e.merchant?.id??e.merchants?.id??null,h=e.inserted_at??e.insertedAt??e.created_at??e.createdAt??e.created??e.updated_at??null,p=e.note??e.notes??e.title??"",g=e.tags??e.tag_list??e.labels??e.label??null;return{id:e.id,user_id:e.user_id??null,date:e.date??null,type:e.type??null,amount:Number(e.amount??0),note:p,title:e.title??null,notes:e.notes??null,account:i,account_id:s,to_account:o,to_account_id:c,category:r,category_id:a,category_color:n,merchant:A,merchant_id:f,receipts:t,receipt_url:e.receipt_url??null,parent_id:e.parent_id??null,transfer_group_id:e.transfer_group_id??null,deleted_at:e.deleted_at??null,rev:e.rev??null,updated_at:e.updated_at??null,inserted_at:h,tags:typeof g=="string"?g:Array.isArray(g)?g.filter(Boolean).join(","):null}}function bx(e=[],t={},r){const n=jE(t),a=kE(n);let i=e.map(gy).filter(s=>!s.deleted_at);if(r&&(i=i.filter(s=>!s.user_id||s.user_id===r)),n.type&&n.type!=="all"&&(i=i.filter(s=>s.type===n.type)),n.categories.length){const s=new Set(n.categories);i=i.filter(o=>o.category_id&&s.has(o.category_id))}if((a.from||a.to||a.toExclusive)&&(i=i.filter(s=>zae(s.date,a))),n.search&&n.search.trim()){const s=n.search.trim().toLowerCase();i=i.filter(o=>{const c=[o.notes,o.note,o.title,o.merchant,o.account].filter(Boolean).map(f=>String(f).toLowerCase());return String(o.amount??"").toLowerCase().includes(s)||c.some(f=>f.includes(s))})}return i}function NU(e=[],t="date-desc"){const[r,n]=t.split("-"),a=n==="asc",i=(o,c)=>{const A=o.date?new Date(o.date).getTime():0,f=c.date?new Date(c.date).getTime():0;if(A===f){const h=o.updated_at?new Date(o.updated_at).getTime():0,p=c.updated_at?new Date(c.updated_at).getTime():0;if(h!==p)return a?h-p:p-h;const g=o.inserted_at?new Date(o.inserted_at).getTime():0,v=c.inserted_at?new Date(c.inserted_at).getTime():0;if(g!==v)return a?g-v:v-g}return a?A-f:f-A},s=(o,c)=>r==="amount"?o.amount===c.amount?i(o,c):a?o.amount-c.amount:c.amount-o.amount:i(o,c);return[...e].sort(s)}function CU(e=[],t=1,r=20){const n=(t-1)*r,a=n+r;return e.slice(n,a)}async function EE(e={}){const t=jE(e),{sort:r,page:n,pageSize:a}=t,i=await tr();if(!i)return{rows:[],total:0,page:n,pageSize:a};if(!navigator.onLine||window.__sync?.fakeOffline){const b=await Hr.list("transactions"),x=bx(b,t,i),w=NU(x,r);return{rows:CU(w,n,a),total:w.length,page:n,pageSize:a}}const s=kE(t);let c=Ne.from("transactions").select(`
    id,
    user_id,
    date,
    type,
    amount,
    title,
    notes,
    tags,
    account_id,
    to_account_id,
    category_id,
    merchant_id,
    parent_id,
    transfer_group_id,
    receipt_url,
    rev,
    inserted_at,
    updated_at,
    deleted_at,
    account:account_id (id, name, type),
    to_account:to_account_id (id, name, type),
    category:category_id (id, name, color),
    merchant:merchant_id (id, name),
    receipts:receipts (id, url, content_type, size, uploaded_at)
  `,{count:"exact"}).eq("user_id",i).is("deleted_at",null);const[A,f]=r.split("-"),h=f==="asc",p=A==="amount"?"amount":"date";if(c=c.order(p,{ascending:h}),p==="date"&&(c=c.order("updated_at",{ascending:h,nullsLast:!h}).order("inserted_at",{ascending:h,nullsLast:!h})),t.type&&t.type!=="all"&&(c=c.eq("type",t.type)),t.categories.length&&(c=c.in("category_id",t.categories)),s.from&&(c=c.gte("date",s.from)),s.toExclusive?c=c.lt("date",s.toExclusive):s.to&&(c=c.lte("date",s.to)),t.search&&t.search.trim()){const b=`%${d9(t.search.trim())}%`,x=Number.parseFloat(t.search.replace(/[^0-9.-]/g,""));!Number.isNaN(x)&&t.search.trim().match(/\d/)?c=c.or(`title.ilike.${b},notes.ilike.${b},amount.eq.${x}`):c=c.or(`title.ilike.${b},notes.ilike.${b}`)}const g=(n-1)*a,v=g+a-1;try{const{data:b,error:x,count:w}=await c.range(g,v);if(x)throw x;const S=(b||[]).map(gy);return await Hr.bulkSet("transactions",S),{rows:S,total:w||0,page:n,pageSize:a}}catch(b){console.error("listTransactions failed, falling back to cache",b);const x=await Hr.list("transactions"),w=bx(x,t,i),S=NU(w,r);return{rows:CU(S,n,a),total:S.length,page:n,pageSize:a}}}async function f9(e={}){const t=jE(e),r=await tr();if(!r)return{income:0,expense:0,net:0};const n=(a=[])=>a.reduce((i,s)=>{const o=Number(s.amount??0);return s.type==="income"?i.income+=o:s.type==="expense"&&(i.expense+=o),i.net=i.income-i.expense,i},{income:0,expense:0,net:0});if(!navigator.onLine||window.__sync?.fakeOffline){const a=await Hr.list("transactions"),i=bx(a,t,r);return n(i)}try{const a=kE(t);let i=Ne.from("transactions").select("type, amount").eq("user_id",r).is("deleted_at",null);if(t.type&&t.type!=="all"&&(i=i.eq("type",t.type)),t.categories.length&&(i=i.in("category_id",t.categories)),a.from&&(i=i.gte("date",a.from)),a.toExclusive?i=i.lt("date",a.toExclusive):a.to&&(i=i.lte("date",a.to)),t.search&&t.search.trim()){const c=`%${d9(t.search.trim())}%`,A=Number.parseFloat(t.search.replace(/[^0-9.-]/g,""));!Number.isNaN(A)&&t.search.trim().match(/\d/)?i=i.or(`title.ilike.${c},notes.ilike.${c},amount.eq.${A}`):i=i.or(`title.ilike.${c},notes.ilike.${c}`)}const{data:s,error:o}=await i.limit(5e3);if(o)throw o;return n(s||[])}catch(a){console.error("getTransactionsSummary failed, falling back to cache",a);const i=await Hr.list("transactions"),s=bx(i,t,r);return n(s)}}function h9(e={}){const t=e.notes??e.note??null,r=n=>{if(n==null)return null;if(typeof n=="string"){const a=n.trim();return a||null}return n};return{id:e.id||crypto.randomUUID(),date:e.date??new Date().toISOString(),type:e.type??"expense",amount:Number(e.amount??0),title:r(e.title),notes:r(t),account_id:r(e.account_id),to_account_id:r(e.to_account_id),category_id:r(e.category_id),merchant_id:r(e.merchant_id),parent_id:r(e.parent_id),transfer_group_id:r(e.transfer_group_id),receipt_url:r(e.receipt_url),rev:e.rev??null}}async function m9(e,t=[],r){const n=$ae(t).map(i=>({id:i.id||crypto.randomUUID(),transaction_id:e,user_id:r,url:i.url??null,content_type:i.content_type??i.contentType??null,size:i.size??null,uploaded_at:i.uploaded_at??i.uploadedAt??new Date().toISOString()})).filter(i=>i.url);if(!n.length||typeof navigator<"u"&&(!navigator.onLine||window.__sync?.fakeOffline))return;const{error:a}=await Ne.from("receipts").upsert(n);if(a)throw a}async function TE(e={}){const t=await tr();if(!t)throw new Error("Pengguna belum masuk");const r=h9(e);r.type!=="transfer"&&(r.to_account_id=null),r.user_id=t,r.updated_at=new Date().toISOString();const n=await CE("transactions",r);try{await m9(n.id,e.receipts,t)}catch(a){console.error("Failed to sync related data for transaction",a)}return gy(n)}async function t1(e,t={}){const r=await tr();if(!r)throw new Error("Pengguna belum masuk");const n=h9({...t,id:e});n.user_id=r,n.updated_at=new Date().toISOString();const a=await CE("transactions",n);if(t.receipts)try{await m9(e,t.receipts,r)}catch(i){console.error("Failed to update receipts",i)}return gy(a)}const Gae="id,user_id,type,name,color,inserted_at,group_name,order_index",Vae="order_index.asc.nullsfirst,name.asc",Wae="#64748B";function Yae(e){if(typeof e!="string")return null;const t=e.trim();return t?/^#[0-9A-Fa-f]{3}$/.test(t)?`#${t.slice(1).split("").map(n=>n+n).join("").toUpperCase()}`:/^#[0-9A-Fa-f]{6}$/.test(t)?t.toUpperCase():t:null}let jU=!1,kU=!1;function $_(e={},t){const r=typeof e.group_name=="string"?e.group_name:typeof e.group=="string"?e.group:null,n=typeof r=="string"?r.toLowerCase():"",a=e.type??e.category_type,i=a||(n.includes("income")?"income":n.includes("expense")?"expense":void 0);let s=typeof i=="string"?i.toLowerCase():"";(!s||!["income","expense"].includes(s))&&(s="expense");const o=e.order_index??e.sort_order,c=Hae(o),A=e.color??e.category_color??null;return{id:e.id,user_id:e.user_id??t??null,name:e.name??e.title??e.label??"",type:s,group:r??null,order_index:c,inserted_at:e.inserted_at??e.created_at??null,color:Yae(A)??Wae}}async function Xae(e,t){const r=new URLSearchParams({select:Gae,user_id:`eq.${e}`,order:Vae});(t==="income"||t==="expense")&&r.set("type",`eq.${t}`);const n=Rae();if(!jU){const o=BU("/rest/v1/v_categories_budget",r),c=await fetch(o,{headers:n});if(c.status===404)jU=!0,kU||(console.warn("v_categories_budget missing  using fallback /categories"),kU=!0);else if(c.ok){const A=await c.json();return Array.isArray(A)?A:[]}else throw await SU(c,"Gagal memuat kategori")}const a=BU("/rest/v1/categories",r),i=await fetch(a,{headers:n});if(i.status===404)throw new Error("Endpoint kategori belum tersedia");if(!i.ok)throw await SU(i,"Gagal memuat kategori");const s=await i.json();return Array.isArray(s)?s:[]}async function r1(e){const t=await tr();if(!t)return[];if(!navigator.onLine||window.__sync?.fakeOffline){const n=(await Hr.list("categories")).map(a=>$_(a,t));return e?n.filter(a=>a.type===e):n}try{const n=(await Xae(t,e)).map(a=>$_(a,t));return n.sort((a,i)=>{const s=a.order_index??Number.MAX_SAFE_INTEGER,o=i.order_index??Number.MAX_SAFE_INTEGER;return s!==o?s-o:a.name.localeCompare(i.name)}),await Hr.bulkSet("categories",n),e?n.filter(a=>a.type===e):n}catch(r){console.error("listCategories failed, falling back to cache",r);const a=(await Hr.list("categories")).map(i=>$_(i,t));return e?a.filter(i=>i.type===e):a}}async function Jae({income:e=[],expense:t=[]}){const r=await tr();if(!r)throw new Error("Pengguna belum masuk");const n=await Hr.list("categories"),a=new Map(n.filter(s=>s.user_id===r).map(s=>[`${(s.type||"").toLowerCase()}:${(s.name||"").toLowerCase()}`,s])),i=[];e.forEach((s,o)=>{const c=`income:${String(s).toLowerCase()}`,A=a.get(c);i.push({id:A?.id||crypto.randomUUID(),user_id:r,type:"income",name:s,order_index:o,group:A?.group??null})}),t.forEach((s,o)=>{const c=`expense:${String(s).toLowerCase()}`,A=a.get(c);i.push({id:A?.id||crypto.randomUUID(),user_id:r,type:"expense",name:s,order_index:o,group:A?.group??null})});for(const s of i)await CE("categories",s);return r1()}function p9(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number.parseInt(e,10);if(Number.isFinite(t))return t}return null}function q_(e=[]){const t=n=>{const a=p9(n);return typeof a=="number"?a:Number.POSITIVE_INFINITY},r=n=>{if(!n)return Number.POSITIVE_INFINITY;const a=new Date(n).getTime();return Number.isNaN(a)?Number.POSITIVE_INFINITY:a};return[...e].sort((n,a)=>{const i=t(n?.sort_order),s=t(a?.sort_order);if(i!==s)return i-s;const o=r(n?.created_at),c=r(a?.created_at);return o!==c?o-c:(n?.name??"").localeCompare(a?.name??"","id",{sensitivity:"base"})})}function K_(e={},t){return{id:e.id,user_id:e.user_id??t??null,name:e.name??e.title??e.label??"",type:e.type??e.account_type??null,currency:e.currency??e.account_currency??e.currency_code??"IDR",balance:Number(e.balance??e.current_balance??e.initial_balance??0),is_archived:e.is_archived??e.archived??!1,created_at:e.created_at??null,updated_at:e.updated_at??null,sort_order:p9(e.sort_order??e.order_index??e.order)}}async function n1(){const e=await tr();if(!e)return[];if(!navigator.onLine||window.__sync?.fakeOffline){const t=await Hr.list("accounts");return q_(t.map(r=>K_(r,e)))}try{const{data:t,error:r}=await Ne.from("accounts").select("*").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!0}).order("name",{ascending:!0});if(r)throw r;const n=(t||[]).map(i=>K_(i,e)),a=q_(n);return await Hr.bulkSet("accounts",a),a}catch(t){console.error("listAccounts failed, falling back to cache",t);const r=await Hr.list("accounts");return q_(r.map(n=>K_(n,e)))}}function Zae(e){if(e&&typeof e=="object"&&"code"in e){const t=e.code;if(typeof t=="string")return t}}function eie(e){if(e&&typeof e=="object"&&"status"in e){const t=e.status;if(typeof t=="number")return t;if(typeof t=="string"){const r=Number.parseInt(t,10);if(!Number.isNaN(r))return r}}}function a1(e,t){const r=Zae(e),n=eie(e);return r==="23503"?new Error("Tidak bisa menghapus karena ada data terkait. Coba ulangi."):r==="42501"||r==="PGRST301"||n===401||n===403?new Error("Tidak punya izin. Coba muat ulang sesi."):e instanceof Error&&e.message?new Error(e.message):e&&typeof e=="object"&&"message"in e&&typeof e.message=="string"?new Error(e.message):new Error(t)}async function OE(e={}){const t=await EE(e),r=Array.isArray(t?.rows)?t.rows.filter(n=>!n?.deleted_at):[];return{...t,rows:r}}async function yx(e){if(!e)throw new Error("Gagal menghapus. Cek koneksi lalu coba lagi.");if(!await tr())throw new Error("Tidak punya izin. Coba muat ulang sesi.");try{const{data:r,error:n}=await Ne.rpc("delete_transaction",{p_id:e});if(n)throw n;return!!r}catch(r){throw a1(r,"Gagal menghapus. Cek koneksi lalu coba lagi.")}}async function g9(e){if(!Array.isArray(e)||e.length===0)return 0;if(!await tr())throw new Error("Tidak punya izin. Coba muat ulang sesi.");try{const{data:r,error:n}=await Ne.rpc("delete_transactions_bulk",{p_ids:e});if(n)throw n;return typeof r=="number"?r:Array.isArray(r)?r.length:e.length}catch(r){throw a1(r,"Gagal menghapus. Cek koneksi lalu coba lagi.")}}async function b9(e){if(!e)return!1;const t=await tr();if(!t)throw new Error("Tidak punya izin. Coba muat ulang sesi.");try{const{data:r,error:n}=await Ne.from("transactions").select("id, rev").eq("id",e).eq("user_id",t).maybeSingle();if(n)throw n;if(!r)throw new Error("Tidak punya izin. Coba muat ulang sesi.");const a=(r.rev??0)+1,i=new Date().toISOString(),{error:s}=await Ne.from("transactions").update({deleted_at:null,updated_at:i,rev:a}).eq("id",e).eq("user_id",t);if(s)throw s;return!0}catch(r){throw a1(r,"Gagal mengurungkan. Silakan refresh.")}}async function y9(e){if(!Array.isArray(e)||e.length===0)return 0;const t=await tr();if(!t)throw new Error("Tidak punya izin. Coba muat ulang sesi.");try{const{data:r,error:n}=await Ne.from("transactions").select("id, rev").eq("user_id",t).in("id",e);if(n)throw n;if(!r||r.length===0||r.length<e.length)throw new Error("Tidak punya izin. Coba muat ulang sesi.");const a=new Date().toISOString();return await Promise.all(r.map(async i=>{const s=(i.rev??0)+1,{error:o}=await Ne.from("transactions").update({deleted_at:null,updated_at:a,rev:s}).eq("id",i.id).eq("user_id",t);if(o)throw o})),r.length}catch(r){throw a1(r,"Gagal mengurungkan. Silakan refresh.")}}const tie=Object.freeze(Object.defineProperty({__proto__:null,addTransaction:TE,deleteTransaction:yx,listTransactions:OE,removeTransaction:yx,removeTransactionsBulk:g9,undoDeleteTransaction:b9,undoDeleteTransactions:y9,updateTransaction:t1},Symbol.toStringTag,{value:"Module"})),v9="hw:local:transactions";function i1(){try{const e=localStorage.getItem(v9);return e?JSON.parse(e):[]}catch{return[]}}function IE(e){try{localStorage.setItem(v9,JSON.stringify(e))}catch{}}async function rie(){return i1()}async function nie(e){const t=i1(),r={id:crypto.randomUUID(),...e};return t.push(r),IE(t),r}async function aie(e,t){const r=i1(),n=r.findIndex(a=>a.id===e);return n!==-1?(r[n]={...r[n],...t},IE(r),r[n]):null}async function iie(e){const t=i1().filter(r=>r.id!==e);IE(t)}const sie=Object.freeze(Object.defineProperty({__proto__:null,addTransaction:nie,deleteTransaction:iie,listTransactions:rie,updateTransaction:aie},Symbol.toStringTag,{value:"Module"})),EU="hw:connectionMode",x9=B.createContext(null);function oie({children:e}){const[t,r]=B.useState(()=>{try{const i=localStorage.getItem(EU)||localStorage.getItem("hw:mode");return i==="cloud"?"online":i||"online"}catch{return"online"}});B.useEffect(()=>{try{localStorage.setItem(EU,t),localStorage.setItem("hw:mode",t)}catch{}},[t]);const n=()=>r(i=>i==="online"?"local":"online"),a=t==="online"?tie:sie;return l.jsx(x9.Provider,{value:{mode:t,setMode:r,toggle:n,api:a},children:e})}function UE(){const e=B.useContext(x9);if(!e)throw new Error("useMode must be used within ModeProvider");return e}const w9={home:$I,dashboard:$I,wallet:rl,wallets:rl,saving:Qc,savings:Qc,piggybank:Qc,"piggy-bank":Qc,piggy_bank:Qc,budget:Qc,budgets:Qc,target:K0,goal:K0,goals:K0,tag:hA,tags:hA,label:hA,labels:hA,repeat:KI,recurring:KI,list:Mv,lists:Mv,tasks:Mv,checklist:Mv,chartline:Ko,chart:Ko,charts:Ko,analytics:Ko,analysis:Ko,graph:Ko,graphs:Ko,data:Ko,debt:Ko,debts:Ko,shield:Pv,security:Pv,protect:Pv,protection:Pv,settings:$h,preference:$h,preferences:$h,config:$h,configuration:$h,user:dh,users:dh,profile:dh,account:dh,person:dh,people:dh,bell:Pl,notification:Pl,notifications:Pl,alert:Pl,alerts:Pl,reminder:Pl,reminders:Pl,subscription:Pl,subscriptions:Pl,piechart:T_,"pie-chart":T_,pie_chart:T_,calendar:Kd,schedule:Kd,date:Kd,dates:Kd,folderkanban:Ll,"folder-kanban":Ll,folder:Ll,folders:Ll,kanban:Ll,board:Ll,category:Ll,categories:Ll,project:Ll,projects:Ll,trendingup:Vo,trending:Vo,trend:Vo,growth:Vo,progress:Vo,performance:Vo,insight:Vo,insights:Vo,receipt:Zs,receipts:Zs,transaction:Zs,transactions:Zs,report:Zs,reports:Zs,invoice:Zs,invoices:Zs,statement:Zs,"arrow-up":Xh,arrowup:Xh,arrow_up:Xh,up:Xh,"arrow-down":Yh,arrowdown:Yh,arrow_down:Yh,down:Yh,pencil:tl,edit:tl,pen:tl,trash:In,delete:In,remove:In},lie=Object.keys(w9).sort((e,t)=>e.localeCompare(t));function Zo({name:e,className:t,label:r}){const n=typeof e=="string"?e.trim().toLowerCase():"",a=n?w9[n]??HI:HI;return l.jsx(a,{"aria-label":r??(n||"icon"),className:t??"w-5 h-5"})}const cie=[{name:"Blue",h:211,s:92,l:60},{name:"Teal",h:174,s:70,l:50},{name:"Violet",h:262,s:83,l:67},{name:"Amber",h:38,s:92,l:50},{name:"Rose",h:347,s:77,l:60}];function uie(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l}function Aie(e){const t=e.trim();if(!t)return"/";const r=t.startsWith("/")?t:`/${t}`;let n="",a=!1;for(const i of r){if(i==="/"){if(a)continue;a=!0}else a=!1;n+=i}for(;n.length>1&&n.endsWith("/");)n=n.slice(0,-1);return n}function TU({collapsed:e,onToggle:t,theme:r,setTheme:n,brand:a,setBrand:i,onNavigate:s,onClose:o}){const{mode:c,setMode:A}=UE(),[f,h]=B.useState(null),[p,g]=B.useState([]),[v,b]=B.useState(!0);B.useEffect(()=>{let N=!0;Ne.auth.getUser().then(({data:C})=>{N&&h(C.user??null)});const{data:k}=Ne.auth.onAuthStateChange((C,T)=>{h(T?.user??null)});return()=>{N=!1,k.subscription?.unsubscribe?.()}},[]),B.useEffect(()=>{let N=!1;return(async()=>{b(!0);try{let C="guest";if(f){const{data:U,error:I}=await Ne.from("user_profiles").select("role").eq("id",f.id).maybeSingle();if(I)throw I;C=U?.role==="admin"?"admin":"user"}if(N)return;const T=C==="admin"?["public","user","admin"]:C==="user"?["public","user"]:["public"];let O=Ne.from("app_sidebar_items").select("id, title, route, access_level, icon_name, position, is_enabled, category").eq("is_enabled",!0).order("position",{ascending:!0});T.length===1?O=O.eq("access_level",T[0]):O=O.in("access_level",T);const{data:D,error:R}=await O;if(R)throw R;if(N)return;const q=(D??[]).map(U=>({id:String(U?.id??U?.route??globalThis.crypto?.randomUUID?.()??Math.random().toString(36).slice(2)),title:String(U?.title??""),route:Aie(String(U?.route??"/")),access_level:U?.access_level==="admin"?"admin":U?.access_level==="user"?"user":"public",icon_name:typeof U?.icon_name=="string"?U.icon_name:U?.icon_name==null?null:String(U.icon_name),position:typeof U?.position=="number"&&Number.isFinite(U.position)?U.position:Number.parseInt(String(U?.position??0),10)||0,category:typeof U?.category=="string"?U.category:U?.category==null?null:String(U.category)}));g(q)}catch{N||g([])}finally{N||b(!1)}})(),()=>{N=!0}},[f]);const x=[{value:"light",label:"Sun",icon:l.jsx(Ute,{className:"h-4 w-4"})},{value:"system",label:"Auto",icon:l.jsx(nte,{className:"h-4 w-4"})},{value:"dark",label:"Moon",icon:l.jsx(ote,{className:"h-4 w-4"})}],w=[{value:"local",label:"Local",icon:l.jsx(YZ,{className:"h-4 w-4"})},{value:"online",label:"Online",icon:l.jsx(ZZ,{className:"h-4 w-4"})}],S=B.useMemo(()=>{if(p.length===0)return[];const N=new Map;for(const k of p){const C=(k.category??"").trim(),T=C?C.toLocaleLowerCase("id-ID"):"__default__";N.has(T)||N.set(T,{key:T,title:C||"Main",items:[]}),N.get(T)?.items.push(k)}return Array.from(N.values())},[p]);return l.jsx(l.Fragment,{children:l.jsxs("nav",{role:"navigation","aria-label":"Main",className:tt("relative flex h-full min-h-0 min-w-0 w-full flex-col bg-surface-1/95 text-text transition-[background,color] duration-200",e?"px-2":"px-4"),children:[l.jsxs("div",{className:tt("flex items-center gap-3 pt-6",e?"justify-center pb-4":"justify-between pb-6"),children:[l.jsxs("div",{className:tt("flex items-center gap-3",e&&"flex-col"),children:[l.jsx(Zte,{className:"h-9 w-9 shrink-0"}),!e&&l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[17px] font-semibold leading-none tracking-tight",children:"HematWoi"}),l.jsx("span",{className:"mt-1 text-xs text-muted",children:"Atur keuangan kamu dengan tenang"})]})]}),o?l.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-border bg-surface-2 text-text shadow-sm",onClick:o,"data-autofocus":"true","aria-label":"Tutup navigasi",children:l.jsx(iu,{className:"h-4 w-4"})}):null]}),l.jsxs("div",{className:"flex-1 overflow-y-auto overscroll-contain pb-6",children:[v?l.jsx(pg,{title:"Main",collapsed:e,children:l.jsx("ul",{className:"flex flex-col gap-1.5",children:Array.from({length:4}).map((N,k)=>l.jsx("li",{children:l.jsx("div",{className:tt("h-11 w-full animate-pulse rounded-xl bg-border/60",e&&"mx-auto w-11 rounded-full")})},`sidebar-skeleton-${k}`))})}):S.length===0?l.jsx(pg,{title:"Main",collapsed:e,children:l.jsx("ul",{className:"flex flex-col gap-1.5",children:l.jsx("li",{children:l.jsx("div",{className:tt("rounded-2xl border border-dashed border-border/60 px-3 py-2 text-xs text-muted-foreground",e&&"text-center"),children:"Menu belum tersedia"})})})}):S.map(N=>l.jsx(pg,{title:N.title,collapsed:e,children:l.jsx("ul",{className:"flex flex-col gap-1.5",children:N.items.map(k=>l.jsx("li",{children:l.jsx(Xte,{to:k.route,icon:l.jsx(Zo,{name:k.icon_name,label:k.title||k.route,className:"w-5 h-5 shrink-0"}),label:k.title||k.route,collapsed:e,onNavigate:s})},k.id))})},N.key)),l.jsxs(pg,{title:"Preferensi",collapsed:e,children:[l.jsxs("div",{children:[l.jsx("p",{className:tt("px-3 text-xs font-semibold text-muted",e&&"sr-only"),children:"Mode Tampilan"}),l.jsx("div",{role:"radiogroup","aria-label":"Tema aplikasi",className:tt("mt-2 grid gap-2",e?"grid-cols-1":"grid-cols-3"),children:x.map(N=>{const k=r===N.value;return l.jsxs("button",{type:"button",role:"radio","aria-checked":k,onClick:()=>n(N.value),className:tt("flex items-center justify-center gap-2 rounded-xl border border-border px-2 py-2 text-xs font-medium transition-colors duration-200",k?"border-brand/60 bg-brand/15 text-brand":"bg-transparent text-muted hover:border-border/80 hover:bg-muted/10",e&&"flex-col gap-1 px-1 py-1 text-[11px]"),children:[N.icon,!e&&l.jsx("span",{children:N.label}),e&&l.jsx("span",{className:"sr-only",children:N.label})]},N.value)})})]}),l.jsxs("div",{children:[l.jsx("p",{className:tt("px-3 text-xs font-semibold text-muted",e&&"sr-only"),children:"Brand"}),l.jsx("div",{role:"radiogroup","aria-label":"Warna merek",className:tt("mt-2 grid grid-cols-5 gap-2",e&&"grid-cols-1"),children:cie.map(N=>{const k=uie(a,N);return l.jsxs("button",{type:"button",role:"radio","aria-checked":k,"aria-label":N.name,onClick:()=>i(N),className:tt("relative flex h-8 w-full items-center justify-center rounded-full border border-border transition-all duration-200",k?"ring-2 ring-brand/70":"hover:border-border/70"),children:[l.jsx("span",{className:"h-5 w-5 rounded-full",style:{backgroundColor:`hsl(${N.h} ${N.s}% ${N.l}%)`}}),e&&l.jsx("span",{className:"sr-only",children:N.name})]},N.name)})})]})]}),l.jsx(pg,{title:"Mode",collapsed:e,children:l.jsx("div",{role:"group","aria-label":"Mode sinkronisasi",className:"grid grid-cols-2 gap-2",children:w.map(N=>{const k=c===N.value;return l.jsxs("button",{type:"button","aria-pressed":k,onClick:()=>A(N.value),className:tt("flex items-center justify-center gap-2 rounded-xl border border-border px-2 py-2 text-xs font-semibold transition-colors duration-200",k?"border-brand/60 bg-brand/15 text-brand":"bg-transparent text-muted hover:border-border/80 hover:bg-muted/10"),children:[N.icon,!e&&l.jsx("span",{children:N.label}),e&&l.jsx("span",{className:"sr-only",children:N.label})]},N.value)})})})]}),l.jsx("footer",{className:tt("border-t border-border/60 py-4",e?"px-2":"px-4")})]})})}function by(e){B.useEffect(()=>{const{body:t,documentElement:r}=document;if(!t||!r)return;const n=t.style.overflow,a=t.style.paddingRight;if(e){const i=window.innerWidth-r.clientWidth;return t.style.overflow="hidden",i>0&&(t.style.paddingRight=`${i}px`),()=>{t.style.overflow=n,t.style.paddingRight=a}}return t.style.overflow=n,t.style.paddingRight=a,()=>{t.style.overflow=n,t.style.paddingRight=a}},[e])}const OU='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])';function die({open:e,onOpenChange:t,children:r,ariaLabel:n="Navigasi"}){const a=B.useRef(null),i=B.useRef(null),s=B.useRef(null),o=js(),c=B.useRef(o.pathname);return by(e),B.useEffect(()=>{if(!e)return;s.current=document.activeElement;const A=i.current;if(!A)return;(A.querySelector("[data-autofocus='true']")??A.querySelector(OU))?.focus()},[e]),B.useEffect(()=>{if(!e)return;const A=f=>{if(f.key==="Escape"){f.preventDefault(),t(!1);return}if(f.key!=="Tab")return;const h=i.current;if(!h)return;const p=Array.from(h.querySelectorAll(OU)).filter(x=>!x.hasAttribute("disabled"));if(!p.length){f.preventDefault();return}const g=p[0],v=p[p.length-1],b=document.activeElement;f.shiftKey?(b===g||!h.contains(b))&&(f.preventDefault(),v.focus()):b===v&&(f.preventDefault(),g.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[e,t]),B.useEffect(()=>{c.current!==o.pathname&&(c.current=o.pathname,e&&t(!1))},[o.pathname,t,e]),B.useEffect(()=>{if(e)return;s.current?.focus?.()},[e]),typeof document>"u"?null:co.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:a,className:tt("fixed inset-0 z-[60] bg-black/40 backdrop-blur transition-opacity duration-200 supports-[backdrop-filter]:bg-black/30",e?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"),"aria-hidden":"true",onClick:()=>t(!1)}),l.jsx("div",{ref:i,role:"dialog","aria-modal":"true","aria-label":n,className:tt("fixed left-0 top-0 z-[70] flex h-[100dvh] w-[84vw] max-w-[360px] flex-col overflow-y-auto overscroll-contain bg-surface-1 text-text shadow-2xl transition-transform duration-300",e?"translate-x-0":"-translate-x-full"),children:l.jsx("div",{className:"flex min-h-full flex-col pb-[env(safe-area-inset-bottom)]",children:r})})]}),document.body)}const IU="hw:sidebar-collapsed";function fie({theme:e,setTheme:t,brand:r,setBrand:n}){const[a,i]=B.useState(()=>{try{return localStorage.getItem(IU)==="1"}catch{return!1}}),[s,o]=B.useState(!1);B.useEffect(()=>{const A=()=>o(!0);return window.addEventListener("hw:open-sidebar",A),()=>{window.removeEventListener("hw:open-sidebar",A)}},[]),B.useEffect(()=>{try{localStorage.setItem(IU,a?"1":"0")}catch{}const A=document.documentElement;A.dataset.sidebarCollapsed=a?"1":"0",A.style.setProperty("--sidebar-width",a?"4rem":"16rem")},[a]);const c=B.useMemo(()=>({theme:e,setTheme:t,brand:r,setBrand:n}),[e,t,r,n]);return l.jsxs(l.Fragment,{children:[l.jsx("aside",{className:tt("hidden lg:fixed lg:inset-y-0 lg:z-[70] lg:flex lg:h-[100dvh] lg:min-w-0 lg:flex-col lg:overflow-y-auto lg:border-r lg:border-border lg:bg-surface-1/95 lg:text-text lg:shadow-sm lg:backdrop-blur lg:transition-[width,background-color,color] lg:duration-200","lg:[scrollbar-width:thin] lg:[scrollbar-color:hsl(var(--color-primary)/0.35)_transparent] lg:[&::-webkit-scrollbar]:w-2 lg:[&::-webkit-scrollbar-thumb]:rounded-full lg:[&::-webkit-scrollbar-thumb]:bg-[hsl(var(--color-primary)/0.35)] lg:[&::-webkit-scrollbar-thumb:hover]:bg-[hsl(var(--color-primary)/0.55)] lg:[&::-webkit-scrollbar-track]:bg-transparent",a?"lg:w-16":"lg:w-64"),children:l.jsx(TU,{collapsed:a,onToggle:i,...c})}),l.jsx(die,{open:s,onOpenChange:o,children:l.jsx(TU,{collapsed:!1,onToggle:i,onNavigate:()=>o(!1),onClose:()=>o(!1),...c})})]})}function hie({sidebar:e=null,children:t,hideSidebar:r=!1,topbar:n=null,className:a=""}){return B.useEffect(()=>{const{style:i}=document.body,s=i.overflowX;return i.overflowX="hidden",()=>{i.overflowX=s}},[]),l.jsxs("div",{className:tt("relative flex min-h-screen min-w-0 bg-bg text-text",a),children:[!r&&e,l.jsxs("div",{className:tt("flex min-h-screen max-h-screen w-full min-w-0 flex-col overflow-hidden transition-[padding-left] duration-300 ease-out",r?"pl-0":"pl-0 lg:pl-[var(--sidebar-width)]"),children:[n,l.jsx("main",{id:"main",tabIndex:-1,className:"flex-1 min-w-0 overflow-y-auto focus:outline-none",children:t})]})]})}function mie(e){if(!e)return"Masuk";const t=e.user_metadata?.full_name;return t&&typeof t=="string"&&t.trim()?t.trim():e.email?e.email:"Pengguna"}function pie(){const[e,t]=B.useState(!1),[r,n]=B.useState(null),a=B.useRef(null),i=B.useRef(null),s=uo(),o=!!r;B.useEffect(()=>{Ne.auth.getUser().then(({data:g})=>{n(g.user??null)});const{data:p}=Ne.auth.onAuthStateChange((g,v)=>{n(v?.user??null)});return()=>{p.subscription.unsubscribe()}},[]),B.useEffect(()=>{const p=v=>{e&&a.current&&!a.current.contains(v.target)&&i.current&&!i.current.contains(v.target)&&t(!1)},g=v=>{v.key==="Escape"&&t(!1)};return document.addEventListener("mousedown",p),window.addEventListener("keydown",g),()=>{document.removeEventListener("mousedown",p),window.removeEventListener("keydown",g)}},[e]),B.useEffect(()=>{const p=document.documentElement,g=p.style.getPropertyValue("--app-topbar-h");return p.style.setProperty("--app-topbar-h","64px"),()=>{g?p.style.setProperty("--app-topbar-h",g):p.style.removeProperty("--app-topbar-h")}},[]);const c=mie(r),A=c.charAt(0).toUpperCase(),f=p=>{t(!1),s(p)},h=async()=>{t(!1);try{await Ne.auth.signOut(),s("/auth")}catch{}};return l.jsx("header",{className:"sticky top-0 z-[65] border-b border-border/70 bg-surface-1/80 backdrop-blur",children:l.jsxs("div",{className:"mx-auto flex h-16 w-full max-w-[1280px] items-center justify-between px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{type:"button",onClick:()=>{window.dispatchEvent(new Event("hw:open-sidebar"))},className:"inline-flex h-11 w-11 items-center justify-center rounded-2xl border border-border/70 bg-surface-1 text-text shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:bg-surface-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/50 focus-visible:ring-offset-2 focus-visible:ring-offset-background active:scale-95 lg:hidden","aria-label":"Buka navigasi",children:l.jsx(tte,{className:"h-5 w-5"})}),l.jsx("span",{className:"text-base font-semibold text-text",children:"HematWoi"})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[l.jsxs("button",{type:"button",className:"relative inline-flex h-11 w-11 items-center justify-center rounded-2xl border border-border/70 bg-surface-1 text-text transition-all duration-200 ease-out hover:-translate-y-0.5 hover:bg-surface-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/50 focus-visible:ring-offset-2 focus-visible:ring-offset-background active:scale-95","aria-label":"Lihat notifikasi",children:[l.jsx(Pl,{className:"h-5 w-5"}),l.jsx("span",{className:"absolute right-2 top-2 inline-flex h-2 w-2 rounded-full bg-brand"})]}),l.jsxs("div",{className:"relative",ref:a,children:[l.jsxs("button",{ref:i,type:"button",onClick:()=>t(p=>!p),className:"inline-flex items-center gap-2 rounded-2xl border border-border/70 bg-surface-1 px-2.5 py-1.5 text-sm font-medium text-text shadow-sm transition-all duration-200 ease-out hover:-translate-y-0.5 hover:bg-surface-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/50 focus-visible:ring-offset-2 focus-visible:ring-offset-background active:scale-95","aria-haspopup":"menu","aria-expanded":e,children:[l.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-brand/15 text-sm font-semibold uppercase text-brand",children:o?A:l.jsx(WI,{className:"h-4 w-4"})}),l.jsx("span",{className:"hidden max-w-[8.5rem] truncate text-left md:block",children:c})]}),e&&l.jsx("div",{role:"menu",className:"absolute right-0 mt-2 w-52 overflow-hidden rounded-2xl border border-border/70 bg-surface-1 text-sm shadow-lg focus:outline-none",children:o?l.jsxs(l.Fragment,{children:[l.jsxs("button",{type:"button",onClick:()=>f("/profile"),className:"flex w-full items-center gap-2 px-4 py-2 text-left text-text transition hover:bg-surface-2 focus-visible:outline-none focus-visible:bg-surface-2",role:"menuitem",children:[l.jsx(WI,{className:"h-4 w-4"}),"Profil Saya"]}),l.jsxs("button",{type:"button",onClick:()=>f("/settings"),className:"flex w-full items-center gap-2 px-4 py-2 text-left text-text transition hover:bg-surface-2 focus-visible:outline-none focus-visible:bg-surface-2",role:"menuitem",children:[l.jsx($h,{className:"h-4 w-4"}),"Pengaturan"]}),l.jsxs("button",{type:"button",onClick:h,className:"flex w-full items-center gap-2 px-4 py-2 text-left text-danger transition hover:bg-danger/10 focus-visible:outline-none focus-visible:bg-danger/10",role:"menuitem",children:[l.jsx(L$,{className:"h-4 w-4"}),"Keluar"]})]}):l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-3",children:[l.jsx("p",{className:"text-sm text-muted",children:"Kamu belum login. Masuk untuk mengakses profil dan pengaturan."}),l.jsxs("button",{type:"button",onClick:()=>{t(!1),s("/auth")},className:"inline-flex items-center justify-center gap-2 rounded-xl border border-brand/40 bg-brand/10 px-3 py-2 text-sm font-semibold text-brand transition-colors duration-200 hover:border-brand/60 hover:bg-brand/15 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background",role:"menuitem",children:[l.jsx(D$,{className:"h-4 w-4"}),"Masuk"]})]})})]})]})]})})}function s1({open:e,title:t,children:r,onClose:n}){if(!e)return null;const a=i=>i.stopPropagation();return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-6",onClick:n,children:l.jsxs("div",{className:"card w-full max-w-lg overflow-hidden p-0 shadow-[0_30px_80px_-40px_rgb(15_23_42/0.55)]",onClick:a,children:[l.jsxs("div",{className:"sticky top-0 flex items-center justify-between gap-3 border-b border-border-subtle bg-surface px-6 py-4",children:[l.jsx("h2",{className:"text-base font-semibold text-text",children:t}),l.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:n,children:""})]}),l.jsx("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-5",children:r})]})})}function gie({color:e="#64748b",className:t=""}){return l.jsx("span",{className:tt("inline-block h-3 w-3 rounded-full border",t),style:{backgroundColor:e}})}const bie={blue:"#3898f8",emerald:"#10b981",violet:"#8b5cf6",amber:"#f59e0b"};function yie({open:e,onClose:t,value:r,onChange:n}){const[a,i]=B.useState(r);B.useEffect(()=>{i(r)},[r,e]);const s=()=>{n(a),t()};return l.jsx(s1,{open:e,onClose:t,title:"Settings",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Tampilan"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm mb-1",children:"Theme"}),l.jsx("div",{className:"flex gap-2",children:[["system","System"],["light","Light"],["dark","Dark"]].map(([o,c])=>l.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[l.jsx("input",{type:"radio",name:"theme",value:o,checked:a.theme===o,onChange:A=>i(f=>({...f,theme:A.target.value}))}),c]},o))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm mb-1",children:"Density"}),l.jsx("div",{className:"flex gap-2",children:[["comfortable","Comfortable"],["compact","Compact"]].map(([o,c])=>l.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[l.jsx("input",{type:"radio",name:"density",value:o,checked:a.density===o,onChange:A=>i(f=>({...f,density:A.target.value}))}),c]},o))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm mb-1",children:"Accent Color"}),l.jsx("div",{className:"flex gap-2",children:Object.entries(bie).map(([o,c])=>l.jsxs("label",{className:"flex items-center gap-1 text-sm capitalize",children:[l.jsx("input",{type:"radio",name:"accent",value:o,checked:a.accent===o,onChange:A=>i(f=>({...f,accent:A.target.value}))}),l.jsx(gie,{color:c}),o]},o))})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Preferensi Data"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"block text-sm",children:[l.jsx("div",{className:"mb-1",children:"Default Bulan"}),l.jsxs("select",{className:"input",value:a.defaultMonth,onChange:o=>i(c=>({...c,defaultMonth:o.target.value})),children:[l.jsx("option",{value:"current",children:"Current"}),l.jsx("option",{value:"last",children:"Last"}),l.jsx("option",{value:"none",children:"None"})]})]}),l.jsxs("label",{className:"block text-sm",children:[l.jsx("div",{className:"mb-1",children:"Format Mata Uang"}),l.jsxs("select",{className:"input",value:a.currency,onChange:o=>i(c=>({...c,currency:o.target.value})),children:[l.jsx("option",{value:"IDR",children:"IDR"}),l.jsx("option",{value:"USD",children:"USD"})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Dompet Virtual"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:a.walletSound,onChange:o=>i(c=>({...c,walletSound:o.target.checked}))}),"Efek suara"]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm mb-1",children:"Sensitivitas Threshold"}),l.jsx("div",{className:"flex gap-2",children:["low","default","high"].map(o=>l.jsxs("label",{className:"flex items-center gap-1 text-sm capitalize",children:[l.jsx("input",{type:"radio",name:"walletSensitivity",value:o,checked:a.walletSensitivity===o,onChange:c=>i(A=>({...A,walletSensitivity:c.target.value}))}),o]},o))})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:a.walletShowTips,onChange:o=>i(c=>({...c,walletShowTips:o.target.checked}))}),"Tampilkan tips"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Uang Bicara"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:a.moneyTalkEnabled,onChange:o=>i(c=>({...c,moneyTalkEnabled:o.target.checked}))}),"Aktifkan"]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm mb-1",children:"Intensitas"}),l.jsx("div",{className:"flex gap-2",children:["jarang","normal","ramai"].map(o=>l.jsxs("label",{className:"flex items-center gap-1 text-sm capitalize",children:[l.jsx("input",{type:"radio",name:"moneyTalkIntensity",value:o,checked:a.moneyTalkIntensity===o,onChange:c=>i(A=>({...A,moneyTalkIntensity:c.target.value}))}),o]},o))})]}),l.jsxs("label",{className:"block text-sm",children:[l.jsx("div",{className:"mb-1",children:"Bahasa"}),l.jsxs("select",{className:"input",value:a.moneyTalkLang,onChange:o=>i(c=>({...c,moneyTalkLang:o.target.value})),children:[l.jsx("option",{value:"id",children:"Indonesia"}),l.jsx("option",{value:"en",children:"English"})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Tanggal Tua Mode"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"block text-sm",children:[l.jsx("div",{className:"mb-1",children:"Mode"}),l.jsxs("select",{className:"input",value:a.lateMode,onChange:o=>i(c=>({...c,lateMode:o.target.value})),children:[l.jsx("option",{value:"auto",children:"Auto"}),l.jsx("option",{value:"on",children:"Always On"}),l.jsx("option",{value:"off",children:"Disabled"})]})]}),l.jsxs("label",{className:"block text-sm",children:[l.jsx("div",{className:"mb-1",children:"Tanggal mulai"}),l.jsx("input",{type:"number",min:"1",max:"31",className:"input",value:a.lateModeDay,onChange:o=>i(c=>({...c,lateModeDay:Number(o.target.value)}))})]}),l.jsxs("label",{className:"block text-sm",children:[l.jsx("div",{className:"mb-1",children:"Saldo menipis < % pengeluaran bulanan"}),l.jsx("input",{type:"number",min:"1",max:"100",className:"input",value:Math.round(a.lateModeBalance*100),onChange:o=>i(c=>({...c,lateModeBalance:Number(o.target.value)/100}))})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{className:"btn btn-secondary",onClick:t,children:"Batal"}),l.jsx("button",{className:"btn btn-primary",onClick:s,children:"Simpan"})]})]})})}const vie="hw:lastRoute:global",xie="hw:lastRoute:uid:";function wie(){if(typeof window>"u")return;const e=window.localStorage;if(e)try{e.removeItem(vie);const t=[];for(let r=0;r<e.length;r+=1){const n=e.key(r);n&&n.startsWith(xie)&&t.push(n)}for(const r of t)e.removeItem(r)}catch{}}function _ie({children:e}){const{mode:t}=UE(),[r,n]=B.useState(!1);return B.useEffect(()=>{wie()},[]),B.useEffect(()=>{let a=!0;return Ne.auth.getSession().catch(()=>null).finally(()=>{a&&n(!0)}),()=>{a=!1}},[]),!r||!t?l.jsx("div",{className:"grid min-h-screen place-items-center bg-bg text-text",children:l.jsxs("div",{className:"space-y-2 text-center",children:[l.jsx("div",{className:"text-2xl font-semibold",children:"HematWoi"}),l.jsx("p",{className:"text-sm text-muted",children:"Menyiapkan dasbor"})]})}):l.jsx(l.Fragment,{children:e})}function Vl({className:e="",children:t}){return l.jsx("div",{className:tt("card relative isolate overflow-hidden text-sm text-text",e),children:t})}function vf({title:e,subtext:t,actions:r,className:n=""}){return l.jsxs("div",{className:tt("mb-4 flex flex-wrap items-start justify-between gap-3 text-left",n),children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[e&&l.jsx("h3",{className:"text-lg font-semibold text-text",children:e}),t&&l.jsx("p",{className:"text-sm text-muted",children:t})]}),r&&l.jsx("div",{className:"flex-shrink-0",children:r})]})}function Gc({className:e="",children:t}){return l.jsx("div",{className:tt("space-y-3",e),children:t})}function Bie({className:e="",children:t}){return l.jsx("div",{className:tt("mt-4 border-t border-border-subtle pt-4",e),children:t})}const Sie="group relative flex min-h-[92px] items-center gap-4 rounded-xl border border-white/10 bg-white/5 p-4 text-left transition-colors duration-200 hover:bg-white/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent sm:p-5",Nie="flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-brand/10 text-brand ring-1 ring-inset ring-white/20",_9=B.forwardRef(({icon:e,title:t,hint:r,to:n,onClick:a,className:i="","aria-label":s,children:o,...c},A)=>{const f=n?Gw:"button";return l.jsxs(f,{ref:A,to:n,onClick:a,"aria-label":s||t,className:tt(Sie,i),...c,children:[e&&l.jsx("span",{className:Nie,"aria-hidden":"true",children:l.jsx(e,{className:"h-5 w-5"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-base font-medium text-text dark:text-slate-100",children:t}),r&&l.jsx("p",{className:"mt-1 text-xs text-muted/80",children:r}),o]}),l.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl ring-1 ring-inset ring-white/10 transition group-hover:ring-white/20","aria-hidden":"true"})]})});_9.displayName="QuickActionCard";function Cie(){const e=[{to:"/transaction/add",label:"Tambah Transaksi",icon:$Z,shortcut:"Ctrl/Cmd + T"},{to:"/budgets",label:"Tambah Budget",icon:rl,shortcut:"Ctrl/Cmd + B"},{to:"/subscriptions",label:"Tambah Subscription",icon:I$,shortcut:"Ctrl/Cmd + S"}];return l.jsxs(Vl,{className:"h-full",children:[l.jsx(vf,{title:"Quick Actions",subtext:"Akses cepat ke aksi favoritmu"}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(t=>l.jsx(_9,{to:t.to,icon:t.icon,title:t.label,hint:t.shortcut},t.to))})]})}function jie({title:e,description:t,children:r}){return l.jsxs("header",{className:"flex flex-wrap items-end justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h2",{className:"text-xl font-bold tracking-tight text-text sm:text-2xl",children:e}),t&&l.jsx("p",{className:"mt-1 text-sm text-muted/90",children:t})]}),r&&l.jsx("div",{className:"flex-shrink-0",children:r})]})}var z_,UU;function rs(){if(UU)return z_;UU=1;var e=Array.isArray;return z_=e,z_}var G_,FU;function B9(){if(FU)return G_;FU=1;var e=typeof dA=="object"&&dA&&dA.Object===Object&&dA;return G_=e,G_}var V_,DU;function tc(){if(DU)return V_;DU=1;var e=B9(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return V_=r,V_}var W_,LU;function yy(){if(LU)return W_;LU=1;var e=tc(),t=e.Symbol;return W_=t,W_}var Y_,MU;function kie(){if(MU)return Y_;MU=1;var e=yy(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(s){var o=r.call(s,a),c=s[a];try{s[a]=void 0;var A=!0}catch{}var f=n.call(s);return A&&(o?s[a]=c:delete s[a]),f}return Y_=i,Y_}var X_,PU;function Eie(){if(PU)return X_;PU=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return X_=r,X_}var J_,QU;function su(){if(QU)return J_;QU=1;var e=yy(),t=kie(),r=Eie(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?a:n:i&&i in Object(o)?t(o):r(o)}return J_=s,J_}var Z_,RU;function ou(){if(RU)return Z_;RU=1;function e(t){return t!=null&&typeof t=="object"}return Z_=e,Z_}var eB,HU;function cp(){if(HU)return eB;HU=1;var e=su(),t=ou(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return eB=n,eB}var tB,$U;function FE(){if($U)return tB;$U=1;var e=rs(),t=cp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(e(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return tB=a,tB}var rB,qU;function DA(){if(qU)return rB;qU=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return rB=e,rB}var nB,KU;function DE(){if(KU)return nB;KU=1;var e=su(),t=DA(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!t(o))return!1;var c=e(o);return c==n||c==a||c==r||c==i}return nB=s,nB}var aB,zU;function Tie(){if(zU)return aB;zU=1;var e=tc(),t=e["__core-js_shared__"];return aB=t,aB}var iB,GU;function Oie(){if(GU)return iB;GU=1;var e=Tie(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return iB=r,iB}var sB,VU;function S9(){if(VU)return sB;VU=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return sB=r,sB}var oB,WU;function Iie(){if(WU)return oB;WU=1;var e=DE(),t=Oie(),r=DA(),n=S9(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,c=s.toString,A=o.hasOwnProperty,f=RegExp("^"+c.call(A).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!r(p)||t(p))return!1;var g=e(p)?f:i;return g.test(n(p))}return oB=h,oB}var lB,YU;function Uie(){if(YU)return lB;YU=1;function e(t,r){return t?.[r]}return lB=e,lB}var cB,XU;function xf(){if(XU)return cB;XU=1;var e=Iie(),t=Uie();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return cB=r,cB}var uB,JU;function o1(){if(JU)return uB;JU=1;var e=xf(),t=e(Object,"create");return uB=t,uB}var AB,ZU;function Fie(){if(ZU)return AB;ZU=1;var e=o1();function t(){this.__data__=e?e(null):{},this.size=0}return AB=t,AB}var dB,eF;function Die(){if(eF)return dB;eF=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return dB=e,dB}var fB,tF;function Lie(){if(tF)return fB;tF=1;var e=o1(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(e){var o=s[i];return o===t?void 0:o}return n.call(s,i)?s[i]:void 0}return fB=a,fB}var hB,rF;function Mie(){if(rF)return hB;rF=1;var e=o1(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return hB=n,hB}var mB,nF;function Pie(){if(nF)return mB;nF=1;var e=o1(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return mB=r,mB}var pB,aF;function Qie(){if(aF)return pB;aF=1;var e=Fie(),t=Die(),r=Lie(),n=Mie(),a=Pie();function i(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var A=s[o];this.set(A[0],A[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,pB=i,pB}var gB,iF;function Rie(){if(iF)return gB;iF=1;function e(){this.__data__=[],this.size=0}return gB=e,gB}var bB,sF;function LE(){if(sF)return bB;sF=1;function e(t,r){return t===r||t!==t&&r!==r}return bB=e,bB}var yB,oF;function l1(){if(oF)return yB;oF=1;var e=LE();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return yB=t,yB}var vB,lF;function Hie(){if(lF)return vB;lF=1;var e=l1(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,s=e(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return vB=n,vB}var xB,cF;function $ie(){if(cF)return xB;cF=1;var e=l1();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return xB=t,xB}var wB,uF;function qie(){if(uF)return wB;uF=1;var e=l1();function t(r){return e(this.__data__,r)>-1}return wB=t,wB}var _B,AF;function Kie(){if(AF)return _B;AF=1;var e=l1();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return _B=t,_B}var BB,dF;function c1(){if(dF)return BB;dF=1;var e=Rie(),t=Hie(),r=$ie(),n=qie(),a=Kie();function i(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var A=s[o];this.set(A[0],A[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,BB=i,BB}var SB,fF;function ME(){if(fF)return SB;fF=1;var e=xf(),t=tc(),r=e(t,"Map");return SB=r,SB}var NB,hF;function zie(){if(hF)return NB;hF=1;var e=Qie(),t=c1(),r=ME();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return NB=n,NB}var CB,mF;function Gie(){if(mF)return CB;mF=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return CB=e,CB}var jB,pF;function u1(){if(pF)return jB;pF=1;var e=Gie();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return jB=t,jB}var kB,gF;function Vie(){if(gF)return kB;gF=1;var e=u1();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return kB=t,kB}var EB,bF;function Wie(){if(bF)return EB;bF=1;var e=u1();function t(r){return e(this,r).get(r)}return EB=t,EB}var TB,yF;function Yie(){if(yF)return TB;yF=1;var e=u1();function t(r){return e(this,r).has(r)}return TB=t,TB}var OB,vF;function Xie(){if(vF)return OB;vF=1;var e=u1();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return OB=t,OB}var IB,xF;function PE(){if(xF)return IB;xF=1;var e=zie(),t=Vie(),r=Wie(),n=Yie(),a=Xie();function i(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var A=s[o];this.set(A[0],A[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,IB=i,IB}var UB,wF;function N9(){if(wF)return UB;wF=1;var e=PE(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],c=i.cache;if(c.has(o))return c.get(o);var A=n.apply(this,s);return i.cache=c.set(o,A)||c,A};return i.cache=new(r.Cache||e),i}return r.Cache=e,UB=r,UB}var FB,_F;function Jie(){if(_F)return FB;_F=1;var e=N9(),t=500;function r(n){var a=e(n,function(s){return i.size===t&&i.clear(),s}),i=a.cache;return a}return FB=r,FB}var DB,BF;function Zie(){if(BF)return DB;BF=1;var e=Jie(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(s,o,c,A){i.push(c?A.replace(r,"$1"):o||s)}),i});return DB=n,DB}var LB,SF;function QE(){if(SF)return LB;SF=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return LB=e,LB}var MB,NF;function ese(){if(NF)return MB;NF=1;var e=yy(),t=QE(),r=rs(),n=cp(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return t(o,s)+"";if(n(o))return i?i.call(o):"";var c=o+"";return c=="0"&&1/o==-1/0?"-0":c}return MB=s,MB}var PB,CF;function C9(){if(CF)return PB;CF=1;var e=ese();function t(r){return r==null?"":e(r)}return PB=t,PB}var QB,jF;function j9(){if(jF)return QB;jF=1;var e=rs(),t=FE(),r=Zie(),n=C9();function a(i,s){return e(i)?i:t(i,s)?[i]:r(n(i))}return QB=a,QB}var RB,kF;function A1(){if(kF)return RB;kF=1;var e=cp();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return RB=t,RB}var HB,EF;function RE(){if(EF)return HB;EF=1;var e=j9(),t=A1();function r(n,a){a=e(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[t(a[i++])];return i&&i==s?n:void 0}return HB=r,HB}var $B,TF;function k9(){if(TF)return $B;TF=1;var e=RE();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return $B=t,$B}var tse=k9();const Ss=Jr(tse);var qB,OF;function rse(){if(OF)return qB;OF=1;function e(t){return t==null}return qB=e,qB}var nse=rse();const br=Jr(nse);var KB,IF;function ase(){if(IF)return KB;IF=1;var e=su(),t=rs(),r=ou(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return KB=a,KB}var ise=ase();const cf=Jr(ise);var sse=DE();const cr=Jr(sse);var ose=DA();const up=Jr(ose);var zB={exports:{}},en={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UF;function lse(){if(UF)return en;UF=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function b(x){if(typeof x=="object"&&x!==null){var w=x.$$typeof;switch(w){case e:switch(x=x.type,x){case r:case a:case n:case A:case f:return x;default:switch(x=x&&x.$$typeof,x){case o:case s:case c:case p:case h:case i:return x;default:return w}}case t:return w}}}return en.ContextConsumer=s,en.ContextProvider=i,en.Element=e,en.ForwardRef=c,en.Fragment=r,en.Lazy=p,en.Memo=h,en.Portal=t,en.Profiler=a,en.StrictMode=n,en.Suspense=A,en.SuspenseList=f,en.isAsyncMode=function(){return!1},en.isConcurrentMode=function(){return!1},en.isContextConsumer=function(x){return b(x)===s},en.isContextProvider=function(x){return b(x)===i},en.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},en.isForwardRef=function(x){return b(x)===c},en.isFragment=function(x){return b(x)===r},en.isLazy=function(x){return b(x)===p},en.isMemo=function(x){return b(x)===h},en.isPortal=function(x){return b(x)===t},en.isProfiler=function(x){return b(x)===a},en.isStrictMode=function(x){return b(x)===n},en.isSuspense=function(x){return b(x)===A},en.isSuspenseList=function(x){return b(x)===f},en.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===a||x===n||x===A||x===f||x===g||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===h||x.$$typeof===i||x.$$typeof===s||x.$$typeof===c||x.$$typeof===v||x.getModuleId!==void 0)},en.typeOf=b,en}var FF;function cse(){return FF||(FF=1,zB.exports=lse()),zB.exports}var use=cse(),GB,DF;function E9(){if(DF)return GB;DF=1;var e=su(),t=ou(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return GB=n,GB}var VB,LF;function Ase(){if(LF)return VB;LF=1;var e=E9();function t(r){return e(r)&&r!=+r}return VB=t,VB}var dse=Ase();const Ap=Jr(dse);var fse=E9();const hse=Jr(fse);var Fi=function(t){return t===0?0:t>0?1:-1},zd=function(t){return cf(t)&&t.indexOf("%")===t.length-1},kt=function(t){return hse(t)&&!Ap(t)},mse=function(t){return br(t)},Oa=function(t){return kt(t)||cf(t)},pse=0,wf=function(t){var r=++pse;return"".concat(t||"").concat(r)},Di=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!kt(t)&&!cf(t))return n;var i;if(zd(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Ap(i)&&(i=n),a&&i>r&&(i=r),i},AA=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},gse=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ea=function(t,r){return kt(t)&&kt(r)?function(n){return t+n*(r-t)}:function(){return r}};function vx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ss(n,t))===r})}var bse=function(t,r){return kt(t)&&kt(r)?t-r:cf(t)&&cf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function cm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Tj(e){"@babel/helpers - typeof";return Tj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tj(e)}var yse=["viewBox","children"],vse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MF=["points","pathLength"],WB={svg:yse,polygon:MF,polyline:MF},HE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(B.isValidElement(t)&&(n=t.props),!up(n))return null;var a={};return Object.keys(n).forEach(function(i){HE.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},xse=function(t,r,n){return function(a){return t(r,n,a),null}},uf=function(t,r,n){if(!up(t)||Tj(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];HE.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=xse(s,r,n))}),a},wse=["children"],_se=["children"];function PF(e,t){if(e==null)return{};var r=Bse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oj(e){"@babel/helpers - typeof";return Oj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oj(e)}var QF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},RF=null,YB=null,$E=function e(t){if(t===RF&&Array.isArray(YB))return YB;var r=[];return B.Children.forEach(t,function(n){br(n)||(use.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),YB=r,RF=t,r};function Ns(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Vc(a)}):n=[Vc(t)],$E(e).forEach(function(a){var i=Ss(a,"type.displayName")||Ss(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ws(e,t){var r=Ns(e,t);return r&&r[0]}var HF=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!kt(n)||n<=0||!kt(a)||a<=0)},Sse=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Nse=function(t){return t&&t.type&&cf(t.type)&&Sse.indexOf(t.type)>=0},T9=function(t){return t&&Oj(t)==="object"&&"clipDot"in t},Cse=function(t,r,n,a){var i,s=(i=WB?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!cr(t)&&(a&&s.includes(r)||vse.includes(r))||n&&HE.includes(r)},Zt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(B.isValidElement(t)&&(a=t.props),!up(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;Cse((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},Ij=function e(t,r){if(t===r)return!0;var n=B.Children.count(t);if(n!==B.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $F(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!$F(i,s))return!1}return!0},$F=function(t,r){if(br(t)&&br(r))return!0;if(!br(t)&&!br(r)){var n=t.props||{},a=n.children,i=PF(n,wse),s=r.props||{},o=s.children,c=PF(s,_se);return a&&o?cm(i,c)&&Ij(a,o):!a&&!o?cm(i,c):!1}return!1},qF=function(t,r){var n=[],a={};return $E(t).forEach(function(i,s){if(Nse(i))n.push(i);else if(i){var o=Vc(i.type),c=r[o]||{},A=c.handler,f=c.once;if(A&&(!f||!a[o])){var h=A(i,o,s);n.push(h),a[o]=!0}}}),n},jse=function(t){var r=t&&t.type;return r&&QF[r]?QF[r]:null},kse=function(t,r){return $E(r).indexOf(t)},Ese=["children","width","height","viewBox","className","style","title","desc"];function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uj.apply(this,arguments)}function Tse(e,t){if(e==null)return{};var r=Ose(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ose(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fj(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,c=e.desc,A=Tse(e,Ese),f=a||{width:r,height:n,x:0,y:0},h=tt("recharts-surface",i);return xe.createElement("svg",Uj({},Zt(A,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),xe.createElement("title",null,o),xe.createElement("desc",null,c),t)}var Ise=["children","className"];function Dj(){return Dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dj.apply(this,arguments)}function Use(e,t){if(e==null)return{};var r=Fse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dr=xe.forwardRef(function(e,t){var r=e.children,n=e.className,a=Use(e,Ise),i=tt("recharts-layer",n);return xe.createElement("g",Dj({className:i},Zt(a,!0),{ref:t}),r)}),nl=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},XB,KF;function Dse(){if(KF)return XB;KF=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=t[a+r];return s}return XB=e,XB}var JB,zF;function Lse(){if(zF)return JB;zF=1;var e=Dse();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return JB=t,JB}var ZB,GF;function O9(){if(GF)return ZB;GF=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+e+a+i+"]");function c(A){return o.test(A)}return ZB=c,ZB}var eS,VF;function Mse(){if(VF)return eS;VF=1;function e(t){return t.split("")}return eS=e,eS}var tS,WF;function Pse(){if(WF)return tS;WF=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="["+e+"]",o="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",A="(?:"+o+"|"+c+")",f="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",v=A+"?",b="["+i+"]?",x="(?:"+g+"(?:"+[f,h,p].join("|")+")"+b+v+")*",w=b+v+x,S="(?:"+[f+o+"?",o,h,p,s].join("|")+")",N=RegExp(c+"(?="+c+")|"+S+w,"g");function k(C){return C.match(N)||[]}return tS=k,tS}var rS,YF;function Qse(){if(YF)return rS;YF=1;var e=Mse(),t=O9(),r=Pse();function n(a){return t(a)?r(a):e(a)}return rS=n,rS}var nS,XF;function Rse(){if(XF)return nS;XF=1;var e=Lse(),t=O9(),r=Qse(),n=C9();function a(i){return function(s){s=n(s);var o=t(s)?r(s):void 0,c=o?o[0]:s.charAt(0),A=o?e(o,1).join(""):s.slice(1);return c[i]()+A}}return nS=a,nS}var aS,JF;function Hse(){if(JF)return aS;JF=1;var e=Rse(),t=e("toUpperCase");return aS=t,aS}var $se=Hse();const d1=Jr($se);function Nn(e){return function(){return e}}const I9=Math.cos,wx=Math.sin,sl=Math.sqrt,_x=Math.PI,f1=2*_x,Lj=Math.PI,Mj=2*Lj,Ud=1e-6,qse=Mj-Ud;function U9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Kse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return U9;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class zse{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?U9:Kse(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,A=a-r,f=s-t,h=o-r,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ud)if(!(Math.abs(h*c-A*f)>Ud)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-s,v=a-o,b=c*c+A*A,x=g*g+v*v,w=Math.sqrt(b),S=Math.sqrt(p),N=i*Math.tan((Lj-Math.acos((b+p-x)/(2*w*S)))/2),k=N/S,C=N/w;Math.abs(k-1)>Ud&&this._append`L${t+k*f},${r+k*h}`,this._append`A${i},${i},0,0,${+(h*g>f*v)},${this._x1=t+C*c},${this._y1=r+C*A}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),A=t+o,f=r+c,h=1^s,p=s?a-i:i-a;this._x1===null?this._append`M${A},${f}`:(Math.abs(this._x1-A)>Ud||Math.abs(this._y1-f)>Ud)&&this._append`L${A},${f}`,n&&(p<0&&(p=p%Mj+Mj),p>qse?this._append`A${n},${n},0,1,${h},${t-o},${r-c}A${n},${n},0,1,${h},${this._x1=A},${this._y1=f}`:p>Ud&&this._append`A${n},${n},0,${+(p>=Lj)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new zse(t)}function KE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function F9(e){this._context=e}F9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function h1(e){return new F9(e)}function D9(e){return e[0]}function L9(e){return e[1]}function M9(e,t){var r=Nn(!0),n=null,a=h1,i=null,s=qE(o);e=typeof e=="function"?e:e===void 0?D9:Nn(e),t=typeof t=="function"?t:t===void 0?L9:Nn(t);function o(c){var A,f=(c=KE(c)).length,h,p=!1,g;for(n==null&&(i=a(g=s())),A=0;A<=f;++A)!(A<f&&r(h=c[A],A,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(h,A,c),+t(h,A,c));if(g)return i=null,g+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nn(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nn(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nn(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function Gv(e,t,r){var n=null,a=Nn(!0),i=null,s=h1,o=null,c=qE(A);e=typeof e=="function"?e:e===void 0?D9:Nn(+e),t=typeof t=="function"?t:Nn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?L9:Nn(+r);function A(h){var p,g,v,b=(h=KE(h)).length,x,w=!1,S,N=new Array(b),k=new Array(b);for(i==null&&(o=s(S=c())),p=0;p<=b;++p){if(!(p<b&&a(x=h[p],p,h))===w)if(w=!w)g=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=g;--v)o.point(N[v],k[v]);o.lineEnd(),o.areaEnd()}w&&(N[p]=+e(x,p,h),k[p]=+t(x,p,h),o.point(n?+n(x,p,h):N[p],r?+r(x,p,h):k[p]))}if(S)return o=null,S+""||null}function f(){return M9().defined(a).curve(s).context(i)}return A.x=function(h){return arguments.length?(e=typeof h=="function"?h:Nn(+h),n=null,A):e},A.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Nn(+h),A):e},A.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Nn(+h),A):n},A.y=function(h){return arguments.length?(t=typeof h=="function"?h:Nn(+h),r=null,A):t},A.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Nn(+h),A):t},A.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Nn(+h),A):r},A.lineX0=A.lineY0=function(){return f().x(e).y(t)},A.lineY1=function(){return f().x(e).y(r)},A.lineX1=function(){return f().x(n).y(t)},A.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Nn(!!h),A):a},A.curve=function(h){return arguments.length?(s=h,i!=null&&(o=s(i)),A):s},A.context=function(h){return arguments.length?(h==null?i=o=null:o=s(i=h),A):i},A}class P9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Gse(e){return new P9(e,!0)}function Vse(e){return new P9(e,!1)}const zE={draw(e,t){const r=sl(t/_x);e.moveTo(r,0),e.arc(0,0,r,0,f1)}},Wse={draw(e,t){const r=sl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Q9=sl(1/3),Yse=Q9*2,Xse={draw(e,t){const r=sl(t/Yse),n=r*Q9;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Jse={draw(e,t){const r=sl(t),n=-r/2;e.rect(n,n,r,r)}},Zse=.8908130915292852,R9=wx(_x/10)/wx(7*_x/10),eoe=wx(f1/10)*R9,toe=-I9(f1/10)*R9,roe={draw(e,t){const r=sl(t*Zse),n=eoe*r,a=toe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=f1*i/5,o=I9(s),c=wx(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},iS=sl(3),noe={draw(e,t){const r=-sl(t/(iS*3));e.moveTo(0,r*2),e.lineTo(-iS*r,-r),e.lineTo(iS*r,-r),e.closePath()}},Ys=-.5,Xs=sl(3)/2,Pj=1/sl(12),aoe=(Pj/2+1)*3,ioe={draw(e,t){const r=sl(t/aoe),n=r/2,a=r*Pj,i=n,s=r*Pj+r,o=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(Ys*n-Xs*a,Xs*n+Ys*a),e.lineTo(Ys*i-Xs*s,Xs*i+Ys*s),e.lineTo(Ys*o-Xs*c,Xs*o+Ys*c),e.lineTo(Ys*n+Xs*a,Ys*a-Xs*n),e.lineTo(Ys*i+Xs*s,Ys*s-Xs*i),e.lineTo(Ys*o+Xs*c,Ys*c-Xs*o),e.closePath()}};function soe(e,t){let r=null,n=qE(a);e=typeof e=="function"?e:Nn(e||zE),t=typeof t=="function"?t:Nn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Nn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Nn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Bx(){}function Sx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function H9(e){this._context=e}H9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ooe(e){return new H9(e)}function $9(e){this._context=e}$9.prototype={areaStart:Bx,areaEnd:Bx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function loe(e){return new $9(e)}function q9(e){this._context=e}q9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function coe(e){return new q9(e)}function K9(e){this._context=e}K9.prototype={areaStart:Bx,areaEnd:Bx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function uoe(e){return new K9(e)}function ZF(e){return e<0?-1:1}function eD(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(ZF(i)+ZF(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function tD(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function sS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Nx(e){this._context=e}Nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sS(this,this._t0,tD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sS(this,tD(this,r=eD(this,e,t)),r);break;default:sS(this,this._t0,r=eD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function z9(e){this._context=new G9(e)}(z9.prototype=Object.create(Nx.prototype)).point=function(e,t){Nx.prototype.point.call(this,t,e)};function G9(e){this._context=e}G9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Aoe(e){return new Nx(e)}function doe(e){return new z9(e)}function V9(e){this._context=e}V9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=rD(e),a=rD(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rD(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function foe(e){return new V9(e)}function m1(e,t){this._context=e,this._t=t}m1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function hoe(e){return new m1(e,.5)}function moe(e){return new m1(e,0)}function poe(e){return new m1(e,1)}function jm(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Qj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function goe(e,t){return e[t]}function boe(e){const t=[];return t.key=e,t}function yoe(){var e=Nn([]),t=Qj,r=jm,n=goe;function a(i){var s=Array.from(e.apply(this,arguments),boe),o,c=s.length,A=-1,f;for(const h of i)for(o=0,++A;o<c;++o)(s[o][A]=[0,+n(h,s[o].key,A,i)]).data=h;for(o=0,f=KE(t(s));o<c;++o)s[f[o]].index=o;return r(s,f),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Nn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Nn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Qj:typeof i=="function"?i:Nn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??jm,a):r},a}function voe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}jm(e,t)}}function xoe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}jm(e,t)}}function woe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,A=0;o<s;++o){for(var f=e[t[o]],h=f[n][1]||0,p=f[n-1][1]||0,g=(h-p)/2,v=0;v<o;++v){var b=e[t[v]],x=b[n][1]||0,w=b[n-1][1]||0;g+=x-w}c+=h,A+=g*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=A/c)}a[n-1][1]+=a[n-1][0]=r,jm(e,t)}}function _b(e){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_b(e)}var _oe=["type","size","sizeType"];function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rj.apply(this,arguments)}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(n){Boe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Boe(e,t,r){return t=Soe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Soe(e){var t=Noe(e,"string");return _b(t)=="symbol"?t:t+""}function Noe(e,t){if(_b(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_b(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Coe(e,t){if(e==null)return{};var r=joe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function joe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var W9={symbolCircle:zE,symbolCross:Wse,symbolDiamond:Xse,symbolSquare:Jse,symbolStar:roe,symbolTriangle:noe,symbolWye:ioe},koe=Math.PI/180,Eoe=function(t){var r="symbol".concat(d1(t));return W9[r]||zE},Toe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*koe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ooe=function(t,r){W9["symbol".concat(d1(t))]=r},GE=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,c=Coe(t,_oe),A=aD(aD({},c),{},{type:n,size:i,sizeType:o}),f=function(){var x=Eoe(n),w=soe().type(x).size(Toe(i,o,n));return w()},h=A.className,p=A.cx,g=A.cy,v=Zt(A,!0);return p===+p&&g===+g&&i===+i?xe.createElement("path",Rj({},v,{className:tt("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(g,")"),d:f()})):null};GE.registerSymbol=Ooe;function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hj.apply(this,arguments)}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ioe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){Bb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Foe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X9(n.key),n)}}function Doe(e,t,r){return t&&Foe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Loe(e,t,r){return t=Cx(t),Moe(e,Y9()?Reflect.construct(t,r||[],Cx(e).constructor):t.apply(e,r))}function Moe(e,t){if(t&&(km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Poe(e)}function Poe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y9=function(){return!!e})()}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cx(e)}function Qoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$j(e,t)}function $j(e,t){return $j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$j(e,t)}function Bb(e,t,r){return t=X9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X9(e){var t=Roe(e,"string");return km(t)=="symbol"?t:t+""}function Roe(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Js=32,VE=(function(e){function t(){return Uoe(this,t),Loe(this,t,arguments)}return Qoe(t,e),Doe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Js/2,s=Js/6,o=Js/3,c=n.inactive?a:n.color;if(n.type==="plainline")return xe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Js,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return xe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Js,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return xe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Js/8,"h").concat(Js,"v").concat(Js*3/4,"h").concat(-Js,"z"),className:"recharts-legend-icon"});if(xe.isValidElement(n.legendIcon)){var A=Ioe({},n);return delete A.legendIcon,xe.cloneElement(n.legendIcon,A)}return xe.createElement(GE,{fill:c,cx:i,cy:i,size:Js,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,c=a.formatter,A=a.inactiveColor,f={x:0,y:0,width:Js,height:Js},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,v){var b=g.formatter||c,x=tt(Bb(Bb({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=cr(g.value)?null:g.value;nl(!cr(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=g.inactive?A:g.color;return xe.createElement("li",Hj({className:x,style:h,key:"legend-item-".concat(v)},uf(n.props,g,v)),xe.createElement(Fj,{width:s,height:s,viewBox:f,style:p},n.renderIcon(g)),xe.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(w,g,v):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return xe.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(B.PureComponent);Bb(VE,"displayName","Legend");Bb(VE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oS,sD;function Hoe(){if(sD)return oS;sD=1;var e=c1();function t(){this.__data__=new e,this.size=0}return oS=t,oS}var lS,oD;function $oe(){if(oD)return lS;oD=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return lS=e,lS}var cS,lD;function qoe(){if(lD)return cS;lD=1;function e(t){return this.__data__.get(t)}return cS=e,cS}var uS,cD;function Koe(){if(cD)return uS;cD=1;function e(t){return this.__data__.has(t)}return uS=e,uS}var AS,uD;function zoe(){if(uD)return AS;uD=1;var e=c1(),t=ME(),r=PE(),n=200;function a(i,s){var o=this.__data__;if(o instanceof e){var c=o.__data__;if(!t||c.length<n-1)return c.push([i,s]),this.size=++o.size,this;o=this.__data__=new r(c)}return o.set(i,s),this.size=o.size,this}return AS=a,AS}var dS,AD;function J9(){if(AD)return dS;AD=1;var e=c1(),t=Hoe(),r=$oe(),n=qoe(),a=Koe(),i=zoe();function s(o){var c=this.__data__=new e(o);this.size=c.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,dS=s,dS}var fS,dD;function Goe(){if(dD)return fS;dD=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return fS=t,fS}var hS,fD;function Voe(){if(fD)return hS;fD=1;function e(t){return this.__data__.has(t)}return hS=e,hS}var mS,hD;function Z9(){if(hD)return mS;hD=1;var e=PE(),t=Goe(),r=Voe();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new e;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,mS=n,mS}var pS,mD;function eq(){if(mD)return pS;mD=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return pS=e,pS}var gS,pD;function tq(){if(pD)return gS;pD=1;function e(t,r){return t.has(r)}return gS=e,gS}var bS,gD;function rq(){if(gD)return bS;gD=1;var e=Z9(),t=eq(),r=tq(),n=1,a=2;function i(s,o,c,A,f,h){var p=c&n,g=s.length,v=o.length;if(g!=v&&!(p&&v>g))return!1;var b=h.get(s),x=h.get(o);if(b&&x)return b==o&&x==s;var w=-1,S=!0,N=c&a?new e:void 0;for(h.set(s,o),h.set(o,s);++w<g;){var k=s[w],C=o[w];if(A)var T=p?A(C,k,w,o,s,h):A(k,C,w,s,o,h);if(T!==void 0){if(T)continue;S=!1;break}if(N){if(!t(o,function(O,D){if(!r(N,D)&&(k===O||f(k,O,c,A,h)))return N.push(D)})){S=!1;break}}else if(!(k===C||f(k,C,c,A,h))){S=!1;break}}return h.delete(s),h.delete(o),S}return bS=i,bS}var yS,bD;function Woe(){if(bD)return yS;bD=1;var e=tc(),t=e.Uint8Array;return yS=t,yS}var vS,yD;function Yoe(){if(yD)return vS;yD=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return vS=e,vS}var xS,vD;function WE(){if(vD)return xS;vD=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return xS=e,xS}var wS,xD;function Xoe(){if(xD)return wS;xD=1;var e=yy(),t=Woe(),r=LE(),n=rq(),a=Yoe(),i=WE(),s=1,o=2,c="[object Boolean]",A="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",g="[object RegExp]",v="[object Set]",b="[object String]",x="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",N=e?e.prototype:void 0,k=N?N.valueOf:void 0;function C(T,O,D,R,q,U,I){switch(D){case S:if(T.byteLength!=O.byteLength||T.byteOffset!=O.byteOffset)return!1;T=T.buffer,O=O.buffer;case w:return!(T.byteLength!=O.byteLength||!U(new t(T),new t(O)));case c:case A:case p:return r(+T,+O);case f:return T.name==O.name&&T.message==O.message;case g:case b:return T==O+"";case h:var Q=a;case v:var H=R&s;if(Q||(Q=i),T.size!=O.size&&!H)return!1;var Y=I.get(T);if(Y)return Y==O;R|=o,I.set(T,O);var K=n(Q(T),Q(O),R,q,U,I);return I.delete(T),K;case x:if(k)return k.call(T)==k.call(O)}return!1}return wS=C,wS}var _S,wD;function nq(){if(wD)return _S;wD=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return _S=e,_S}var BS,_D;function Joe(){if(_D)return BS;_D=1;var e=nq(),t=rs();function r(n,a,i){var s=a(n);return t(n)?s:e(s,i(n))}return BS=r,BS}var SS,BD;function Zoe(){if(BD)return SS;BD=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,s=[];++n<a;){var o=t[n];r(o,n,t)&&(s[i++]=o)}return s}return SS=e,SS}var NS,SD;function ele(){if(SD)return NS;SD=1;function e(){return[]}return NS=e,NS}var CS,ND;function tle(){if(ND)return CS;ND=1;var e=Zoe(),t=ele(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),e(a(s),function(o){return n.call(s,o)}))}:t;return CS=i,CS}var jS,CD;function rle(){if(CD)return jS;CD=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return jS=e,jS}var kS,jD;function nle(){if(jD)return kS;jD=1;var e=su(),t=ou(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return kS=n,kS}var ES,kD;function YE(){if(kD)return ES;kD=1;var e=nle(),t=ou(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(s){return t(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return ES=i,ES}var Rg={exports:{}},TS,ED;function ale(){if(ED)return TS;ED=1;function e(){return!1}return TS=e,TS}Rg.exports;var TD;function aq(){return TD||(TD=1,(function(e,t){var r=tc(),n=ale(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,A=c||n;e.exports=A})(Rg,Rg.exports)),Rg.exports}var OS,OD;function XE(){if(OD)return OS;OD=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return OS=r,OS}var IS,ID;function JE(){if(ID)return IS;ID=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return IS=t,IS}var US,UD;function ile(){if(UD)return US;UD=1;var e=su(),t=JE(),r=ou(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",c="[object Function]",A="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",v="[object String]",b="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",N="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",R="[object Uint16Array]",q="[object Uint32Array]",U={};U[S]=U[N]=U[k]=U[C]=U[T]=U[O]=U[D]=U[R]=U[q]=!0,U[n]=U[a]=U[x]=U[i]=U[w]=U[s]=U[o]=U[c]=U[A]=U[f]=U[h]=U[p]=U[g]=U[v]=U[b]=!1;function I(Q){return r(Q)&&t(Q.length)&&!!U[e(Q)]}return US=I,US}var FS,FD;function iq(){if(FD)return FS;FD=1;function e(t){return function(r){return t(r)}}return FS=e,FS}var Hg={exports:{}};Hg.exports;var DD;function sle(){return DD||(DD=1,(function(e,t){var r=B9(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=(function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();e.exports=o})(Hg,Hg.exports)),Hg.exports}var DS,LD;function sq(){if(LD)return DS;LD=1;var e=ile(),t=iq(),r=sle(),n=r&&r.isTypedArray,a=n?t(n):e;return DS=a,DS}var LS,MD;function ole(){if(MD)return LS;MD=1;var e=rle(),t=YE(),r=rs(),n=aq(),a=XE(),i=sq(),s=Object.prototype,o=s.hasOwnProperty;function c(A,f){var h=r(A),p=!h&&t(A),g=!h&&!p&&n(A),v=!h&&!p&&!g&&i(A),b=h||p||g||v,x=b?e(A.length,String):[],w=x.length;for(var S in A)(f||o.call(A,S))&&!(b&&(S=="length"||g&&(S=="offset"||S=="parent")||v&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||a(S,w)))&&x.push(S);return x}return LS=c,LS}var MS,PD;function lle(){if(PD)return MS;PD=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return MS=t,MS}var PS,QD;function oq(){if(QD)return PS;QD=1;function e(t,r){return function(n){return t(r(n))}}return PS=e,PS}var QS,RD;function cle(){if(RD)return QS;RD=1;var e=oq(),t=e(Object.keys,Object);return QS=t,QS}var RS,HD;function ule(){if(HD)return RS;HD=1;var e=lle(),t=cle(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var s=[];for(var o in Object(i))n.call(i,o)&&o!="constructor"&&s.push(o);return s}return RS=a,RS}var HS,$D;function vy(){if($D)return HS;$D=1;var e=DE(),t=JE();function r(n){return n!=null&&t(n.length)&&!e(n)}return HS=r,HS}var $S,qD;function p1(){if(qD)return $S;qD=1;var e=ole(),t=ule(),r=vy();function n(a){return r(a)?e(a):t(a)}return $S=n,$S}var qS,KD;function Ale(){if(KD)return qS;KD=1;var e=Joe(),t=tle(),r=p1();function n(a){return e(a,r,t)}return qS=n,qS}var KS,zD;function dle(){if(zD)return KS;zD=1;var e=Ale(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o,c,A,f){var h=o&t,p=e(i),g=p.length,v=e(s),b=v.length;if(g!=b&&!h)return!1;for(var x=g;x--;){var w=p[x];if(!(h?w in s:n.call(s,w)))return!1}var S=f.get(i),N=f.get(s);if(S&&N)return S==s&&N==i;var k=!0;f.set(i,s),f.set(s,i);for(var C=h;++x<g;){w=p[x];var T=i[w],O=s[w];if(c)var D=h?c(O,T,w,s,i,f):c(T,O,w,i,s,f);if(!(D===void 0?T===O||A(T,O,o,c,f):D)){k=!1;break}C||(C=w=="constructor")}if(k&&!C){var R=i.constructor,q=s.constructor;R!=q&&"constructor"in i&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof q=="function"&&q instanceof q)&&(k=!1)}return f.delete(i),f.delete(s),k}return KS=a,KS}var zS,GD;function fle(){if(GD)return zS;GD=1;var e=xf(),t=tc(),r=e(t,"DataView");return zS=r,zS}var GS,VD;function hle(){if(VD)return GS;VD=1;var e=xf(),t=tc(),r=e(t,"Promise");return GS=r,GS}var VS,WD;function lq(){if(WD)return VS;WD=1;var e=xf(),t=tc(),r=e(t,"Set");return VS=r,VS}var WS,YD;function mle(){if(YD)return WS;YD=1;var e=xf(),t=tc(),r=e(t,"WeakMap");return WS=r,WS}var YS,XD;function ple(){if(XD)return YS;XD=1;var e=fle(),t=ME(),r=hle(),n=lq(),a=mle(),i=su(),s=S9(),o="[object Map]",c="[object Object]",A="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=s(e),v=s(t),b=s(r),x=s(n),w=s(a),S=i;return(e&&S(new e(new ArrayBuffer(1)))!=p||t&&S(new t)!=o||r&&S(r.resolve())!=A||n&&S(new n)!=f||a&&S(new a)!=h)&&(S=function(N){var k=i(N),C=k==c?N.constructor:void 0,T=C?s(C):"";if(T)switch(T){case g:return p;case v:return o;case b:return A;case x:return f;case w:return h}return k}),YS=S,YS}var XS,JD;function gle(){if(JD)return XS;JD=1;var e=J9(),t=rq(),r=Xoe(),n=dle(),a=ple(),i=rs(),s=aq(),o=sq(),c=1,A="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function v(b,x,w,S,N,k){var C=i(b),T=i(x),O=C?f:a(b),D=T?f:a(x);O=O==A?h:O,D=D==A?h:D;var R=O==h,q=D==h,U=O==D;if(U&&s(b)){if(!s(x))return!1;C=!0,R=!1}if(U&&!R)return k||(k=new e),C||o(b)?t(b,x,w,S,N,k):r(b,x,O,w,S,N,k);if(!(w&c)){var I=R&&g.call(b,"__wrapped__"),Q=q&&g.call(x,"__wrapped__");if(I||Q){var H=I?b.value():b,Y=Q?x.value():x;return k||(k=new e),N(H,Y,w,S,k)}}return U?(k||(k=new e),n(b,x,w,S,N,k)):!1}return XS=v,XS}var JS,ZD;function ZE(){if(ZD)return JS;ZD=1;var e=gle(),t=ou();function r(n,a,i,s,o){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,s,r,o)}return JS=r,JS}var ZS,eL;function ble(){if(eL)return ZS;eL=1;var e=J9(),t=ZE(),r=1,n=2;function a(i,s,o,c){var A=o.length,f=A,h=!c;if(i==null)return!f;for(i=Object(i);A--;){var p=o[A];if(h&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++A<f;){p=o[A];var g=p[0],v=i[g],b=p[1];if(h&&p[2]){if(v===void 0&&!(g in i))return!1}else{var x=new e;if(c)var w=c(v,b,g,i,s,x);if(!(w===void 0?t(b,v,r|n,c,x):w))return!1}}return!0}return ZS=a,ZS}var eN,tL;function cq(){if(tL)return eN;tL=1;var e=DA();function t(r){return r===r&&!e(r)}return eN=t,eN}var tN,rL;function yle(){if(rL)return tN;rL=1;var e=cq(),t=p1();function r(n){for(var a=t(n),i=a.length;i--;){var s=a[i],o=n[s];a[i]=[s,o,e(o)]}return a}return tN=r,tN}var rN,nL;function uq(){if(nL)return rN;nL=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return rN=e,rN}var nN,aL;function vle(){if(aL)return nN;aL=1;var e=ble(),t=yle(),r=uq();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||e(s,a,i)}}return nN=n,nN}var aN,iL;function xle(){if(iL)return aN;iL=1;function e(t,r){return t!=null&&r in Object(t)}return aN=e,aN}var iN,sL;function wle(){if(sL)return iN;sL=1;var e=j9(),t=YE(),r=rs(),n=XE(),a=JE(),i=A1();function s(o,c,A){c=e(c,o);for(var f=-1,h=c.length,p=!1;++f<h;){var g=i(c[f]);if(!(p=o!=null&&A(o,g)))break;o=o[g]}return p||++f!=h?p:(h=o==null?0:o.length,!!h&&a(h)&&n(g,h)&&(r(o)||t(o)))}return iN=s,iN}var sN,oL;function _le(){if(oL)return sN;oL=1;var e=xle(),t=wle();function r(n,a){return n!=null&&t(n,a,e)}return sN=r,sN}var oN,lL;function Ble(){if(lL)return oN;lL=1;var e=ZE(),t=k9(),r=_le(),n=FE(),a=cq(),i=uq(),s=A1(),o=1,c=2;function A(f,h){return n(f)&&a(h)?i(s(f),h):function(p){var g=t(p,f);return g===void 0&&g===h?r(p,f):e(h,g,o|c)}}return oN=A,oN}var lN,cL;function dp(){if(cL)return lN;cL=1;function e(t){return t}return lN=e,lN}var cN,uL;function Sle(){if(uL)return cN;uL=1;function e(t){return function(r){return r?.[t]}}return cN=e,cN}var uN,AL;function Nle(){if(AL)return uN;AL=1;var e=RE();function t(r){return function(n){return e(n,r)}}return uN=t,uN}var AN,dL;function Cle(){if(dL)return AN;dL=1;var e=Sle(),t=Nle(),r=FE(),n=A1();function a(i){return r(i)?e(n(i)):t(i)}return AN=a,AN}var dN,fL;function rc(){if(fL)return dN;fL=1;var e=vle(),t=Ble(),r=dp(),n=rs(),a=Cle();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):a(s)}return dN=i,dN}var fN,hL;function Aq(){if(hL)return fN;hL=1;function e(t,r,n,a){for(var i=t.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(t[s],s,t))return s;return-1}return fN=e,fN}var hN,mL;function jle(){if(mL)return hN;mL=1;function e(t){return t!==t}return hN=e,hN}var mN,pL;function kle(){if(pL)return mN;pL=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return mN=e,mN}var pN,gL;function Ele(){if(gL)return pN;gL=1;var e=Aq(),t=jle(),r=kle();function n(a,i,s){return i===i?r(a,i,s):e(a,t,s)}return pN=n,pN}var gN,bL;function Tle(){if(bL)return gN;bL=1;var e=Ele();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return gN=t,gN}var bN,yL;function Ole(){if(yL)return bN;yL=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return bN=e,bN}var yN,vL;function Ile(){if(vL)return yN;vL=1;function e(){}return yN=e,yN}var vN,xL;function Ule(){if(xL)return vN;xL=1;var e=lq(),t=Ile(),r=WE(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return vN=a,vN}var xN,wL;function Fle(){if(wL)return xN;wL=1;var e=Z9(),t=Tle(),r=Ole(),n=tq(),a=Ule(),i=WE(),s=200;function o(c,A,f){var h=-1,p=t,g=c.length,v=!0,b=[],x=b;if(f)v=!1,p=r;else if(g>=s){var w=A?null:a(c);if(w)return i(w);v=!1,p=n,x=new e}else x=A?[]:b;e:for(;++h<g;){var S=c[h],N=A?A(S):S;if(S=f||S!==0?S:0,v&&N===N){for(var k=x.length;k--;)if(x[k]===N)continue e;A&&x.push(N),b.push(S)}else p(x,N,f)||(x!==b&&x.push(N),b.push(S))}return b}return xN=o,xN}var wN,_L;function Dle(){if(_L)return wN;_L=1;var e=rc(),t=Fle();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return wN=r,wN}var Lle=Dle();const BL=Jr(Lle);function dq(e,t,r){return t===!0?BL(e,r):cr(t)?BL(e,t):e}function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}var Mle=["ref"];function SL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(r),!0).forEach(function(n){g1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ple(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hq(n.key),n)}}function Qle(e,t,r){return t&&NL(e.prototype,t),r&&NL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rle(e,t,r){return t=jx(t),Hle(e,fq()?Reflect.construct(t,r||[],jx(e).constructor):t.apply(e,r))}function Hle(e,t){if(t&&(Em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $le(e)}function $le(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fq=function(){return!!e})()}function jx(e){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(e)}function qle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qj(e,t)}function qj(e,t){return qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qj(e,t)}function g1(e,t,r){return t=hq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=Kle(e,"string");return Em(t)=="symbol"?t:t+""}function Kle(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zle(e,t){if(e==null)return{};var r=Gle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vle(e){return e.value}function Wle(e,t){if(xe.isValidElement(e))return xe.cloneElement(e,t);if(typeof e=="function")return xe.createElement(e,t);t.ref;var r=zle(t,Mle);return xe.createElement(VE,r)}var CL=1,um=(function(e){function t(){var r;Ple(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Rle(this,t,[].concat(a)),g1(r,"lastBoundingBox",{width:-1,height:-1}),r}return qle(t,e),Qle(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>CL||Math.abs(a.height-this.lastBoundingBox.height)>CL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ic({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,c=a.margin,A=a.chartWidth,f=a.chartHeight,h,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();h={left:((A||0)-g.width)/2}}else h=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();p={top:((f||0)-v.height)/2}}else p=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ic(Ic({},h),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,c=a.wrapperStyle,A=a.payloadUniqBy,f=a.payload,h=Ic(Ic({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return xe.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},Wle(i,Ic(Ic({},this.props),{},{payload:dq(f,A,Vle)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ic(Ic({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&kt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(B.PureComponent);g1(um,"displayName","Legend");g1(um,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _N,jL;function Yle(){if(jL)return _N;jL=1;var e=yy(),t=YE(),r=rs(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return _N=a,_N}var BN,kL;function mq(){if(kL)return BN;kL=1;var e=nq(),t=Yle();function r(n,a,i,s,o){var c=-1,A=n.length;for(i||(i=t),o||(o=[]);++c<A;){var f=n[c];a>0&&i(f)?a>1?r(f,a-1,i,s,o):e(o,f):s||(o[o.length]=f)}return o}return BN=r,BN}var SN,EL;function Xle(){if(EL)return SN;EL=1;function e(t){return function(r,n,a){for(var i=-1,s=Object(r),o=a(r),c=o.length;c--;){var A=o[t?c:++i];if(n(s[A],A,s)===!1)break}return r}}return SN=e,SN}var NN,TL;function Jle(){if(TL)return NN;TL=1;var e=Xle(),t=e();return NN=t,NN}var CN,OL;function pq(){if(OL)return CN;OL=1;var e=Jle(),t=p1();function r(n,a){return n&&e(n,a,t)}return CN=r,CN}var jN,IL;function Zle(){if(IL)return jN;IL=1;var e=vy();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var s=a.length,o=n?s:-1,c=Object(a);(n?o--:++o<s)&&i(c[o],o,c)!==!1;);return a}}return jN=t,jN}var kN,UL;function eT(){if(UL)return kN;UL=1;var e=pq(),t=Zle(),r=t(e);return kN=r,kN}var EN,FL;function gq(){if(FL)return EN;FL=1;var e=eT(),t=vy();function r(n,a){var i=-1,s=t(n)?Array(n.length):[];return e(n,function(o,c,A){s[++i]=a(o,c,A)}),s}return EN=r,EN}var TN,DL;function ece(){if(DL)return TN;DL=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return TN=e,TN}var ON,LL;function tce(){if(LL)return ON;LL=1;var e=cp();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,o=e(r),c=n!==void 0,A=n===null,f=n===n,h=e(n);if(!A&&!h&&!o&&r>n||o&&c&&f&&!A&&!h||i&&c&&f||!a&&f||!s)return 1;if(!i&&!o&&!h&&r<n||h&&a&&s&&!i&&!o||A&&a&&s||!c&&s||!f)return-1}return 0}return ON=t,ON}var IN,ML;function rce(){if(ML)return IN;ML=1;var e=tce();function t(r,n,a){for(var i=-1,s=r.criteria,o=n.criteria,c=s.length,A=a.length;++i<c;){var f=e(s[i],o[i]);if(f){if(i>=A)return f;var h=a[i];return f*(h=="desc"?-1:1)}}return r.index-n.index}return IN=t,IN}var UN,PL;function nce(){if(PL)return UN;PL=1;var e=QE(),t=RE(),r=rc(),n=gq(),a=ece(),i=iq(),s=rce(),o=dp(),c=rs();function A(f,h,p){h.length?h=e(h,function(b){return c(b)?function(x){return t(x,b.length===1?b[0]:b)}:b}):h=[o];var g=-1;h=e(h,i(r));var v=n(f,function(b,x,w){var S=e(h,function(N){return N(b)});return{criteria:S,index:++g,value:b}});return a(v,function(b,x){return s(b,x,p)})}return UN=A,UN}var FN,QL;function ace(){if(QL)return FN;QL=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return FN=e,FN}var DN,RL;function ice(){if(RL)return DN;RL=1;var e=ace(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var s=arguments,o=-1,c=t(s.length-a,0),A=Array(c);++o<c;)A[o]=s[a+o];o=-1;for(var f=Array(a+1);++o<a;)f[o]=s[o];return f[a]=i(A),e(n,this,f)}}return DN=r,DN}var LN,HL;function sce(){if(HL)return LN;HL=1;function e(t){return function(){return t}}return LN=e,LN}var MN,$L;function bq(){if($L)return MN;$L=1;var e=xf(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return MN=t,MN}var PN,qL;function oce(){if(qL)return PN;qL=1;var e=sce(),t=bq(),r=dp(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return PN=n,PN}var QN,KL;function lce(){if(KL)return QN;KL=1;var e=800,t=16,r=Date.now;function n(a){var i=0,s=0;return function(){var o=r(),c=t-(o-s);if(s=o,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return QN=n,QN}var RN,zL;function cce(){if(zL)return RN;zL=1;var e=oce(),t=lce(),r=t(e);return RN=r,RN}var HN,GL;function uce(){if(GL)return HN;GL=1;var e=dp(),t=ice(),r=cce();function n(a,i){return r(t(a,i,e),a+"")}return HN=n,HN}var $N,VL;function b1(){if(VL)return $N;VL=1;var e=LE(),t=vy(),r=XE(),n=DA();function a(i,s,o){if(!n(o))return!1;var c=typeof s;return(c=="number"?t(o)&&r(s,o.length):c=="string"&&s in o)?e(o[s],i):!1}return $N=a,$N}var qN,WL;function Ace(){if(WL)return qN;WL=1;var e=mq(),t=nce(),r=uce(),n=b1(),a=r(function(i,s){if(i==null)return[];var o=s.length;return o>1&&n(i,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(i,e(s,1),[])});return qN=a,qN}var dce=Ace();const tT=Jr(dce);function Sb(e){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sb(e)}function Kj(){return Kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kj.apply(this,arguments)}function fce(e,t){return gce(e)||pce(e,t)||mce(e,t)||hce()}function hce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(e,t){if(e){if(typeof e=="string")return YL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YL(e,t)}}function YL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function gce(e){if(Array.isArray(e))return e}function XL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(r),!0).forEach(function(n){bce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bce(e,t,r){return t=yce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yce(e){var t=vce(e,"string");return Sb(t)=="symbol"?t:t+""}function vce(e,t){if(Sb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xce(e){return Array.isArray(e)&&Oa(e[0])&&Oa(e[1])?e.join(" ~ "):e}var wce=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,c=t.labelStyle,A=c===void 0?{}:c,f=t.payload,h=t.formatter,p=t.itemSorter,g=t.wrapperClassName,v=t.labelClassName,b=t.label,x=t.labelFormatter,w=t.accessibilityLayer,S=w===void 0?!1:w,N=function(){if(f&&f.length){var I={padding:0,margin:0},Q=(p?tT(f,p):f).map(function(H,Y){if(H.type==="none")return null;var K=KN({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},o),J=H.formatter||h||xce,re=H.value,oe=H.name,V=re,W=oe;if(J&&V!=null&&W!=null){var P=J(re,oe,H,Y,f);if(Array.isArray(P)){var $=fce(P,2);V=$[0],W=$[1]}else V=P}return xe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:K},Oa(W)?xe.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Oa(W)?xe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,xe.createElement("span",{className:"recharts-tooltip-item-value"},V),xe.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return xe.createElement("ul",{className:"recharts-tooltip-item-list",style:I},Q)}return null},k=KN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=KN({margin:0},A),T=!br(b),O=T?b:"",D=tt("recharts-default-tooltip",g),R=tt("recharts-tooltip-label",v);T&&x&&f!==void 0&&f!==null&&(O=x(b,f));var q=S?{role:"status","aria-live":"assertive"}:{};return xe.createElement("div",Kj({className:D,style:k},q),xe.createElement("p",{className:R,style:C},xe.isValidElement(O)?O:"".concat(O)),N())};function Nb(e){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nb(e)}function Vv(e,t,r){return t=_ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ce(e){var t=Bce(e,"string");return Nb(t)=="symbol"?t:t+""}function Bce(e,t){if(Nb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gg="recharts-tooltip-wrapper",Sce={visibility:"hidden"};function Nce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return tt(gg,Vv(Vv(Vv(Vv({},"".concat(gg,"-right"),kt(r)&&t&&kt(t.x)&&r>=t.x),"".concat(gg,"-left"),kt(r)&&t&&kt(t.x)&&r<t.x),"".concat(gg,"-bottom"),kt(n)&&t&&kt(t.y)&&n>=t.y),"".concat(gg,"-top"),kt(n)&&t&&kt(t.y)&&n<t.y))}function JL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,A=e.viewBoxDimension;if(i&&kt(i[n]))return i[n];var f=r[n]-o-a,h=r[n]+a;if(t[n])return s[n]?f:h;if(s[n]){var p=f,g=c[n];return p<g?Math.max(h,c[n]):Math.max(f,c[n])}var v=h+o,b=c[n]+A;return v>b?Math.max(f,c[n]):Math.max(h,c[n])}function Cce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jce(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,A,f,h;return s.height>0&&s.width>0&&r?(f=JL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),h=JL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),A=Cce({translateX:f,translateY:h,useTranslate3d:o})):A=Sce,{cssProperties:A,cssClasses:Nce({translateX:f,translateY:h,coordinate:r})}}function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function ZL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(r),!0).forEach(function(n){Gj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ece(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vq(n.key),n)}}function Tce(e,t,r){return t&&Ece(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oce(e,t,r){return t=kx(t),Ice(e,yq()?Reflect.construct(t,r||[],kx(e).constructor):t.apply(e,r))}function Ice(e,t){if(t&&(Tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uce(e)}function Uce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!e})()}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(e)}function Fce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zj(e,t)}function zj(e,t){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zj(e,t)}function Gj(e,t,r){return t=vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=Dce(e,"string");return Tm(t)=="symbol"?t:t+""}function Dce(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t6=1,Lce=(function(e){function t(){var r;kce(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Oce(this,t,[].concat(a)),Gj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Gj(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,A,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(A=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&A!==void 0?A:0}})}}),r}return Fce(t,e),Tce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>t6||Math.abs(n.height-this.state.lastBoundingBox.height)>t6)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,A=a.children,f=a.coordinate,h=a.hasPayload,p=a.isAnimationActive,g=a.offset,v=a.position,b=a.reverseDirection,x=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,N=jce({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:g,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),k=N.cssClasses,C=N.cssProperties,T=e6(e6({transition:p&&i?"transform ".concat(o,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return xe.createElement("div",{tabIndex:-1,className:k,style:T,ref:function(D){n.wrapperNode=D}},A)}}])})(B.PureComponent),Mce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},LA={isSsr:Mce()};function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function r6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(r),!0).forEach(function(n){rT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wq(n.key),n)}}function Rce(e,t,r){return t&&Qce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hce(e,t,r){return t=Ex(t),$ce(e,xq()?Reflect.construct(t,r||[],Ex(e).constructor):t.apply(e,r))}function $ce(e,t){if(t&&(Om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qce(e)}function qce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xq=function(){return!!e})()}function Ex(e){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ex(e)}function Kce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vj(e,t)}function Vj(e,t){return Vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vj(e,t)}function rT(e,t,r){return t=wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=zce(e,"string");return Om(t)=="symbol"?t:t+""}function zce(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gce(e){return e.dataKey}function Vce(e,t){return xe.isValidElement(e)?xe.cloneElement(e,t):typeof e=="function"?xe.createElement(e,t):xe.createElement(wce,t)}var Yo=(function(e){function t(){return Pce(this,t),Hce(this,t,arguments)}return Kce(t,e),Rce(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,A=a.content,f=a.coordinate,h=a.filterNull,p=a.isAnimationActive,g=a.offset,v=a.payload,b=a.payloadUniqBy,x=a.position,w=a.reverseDirection,S=a.useTranslate3d,N=a.viewBox,k=a.wrapperStyle,C=v??[];h&&C.length&&(C=dq(v.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),b,Gce));var T=C.length>0;return xe.createElement(Lce,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:p,active:i,coordinate:f,hasPayload:T,offset:g,position:x,reverseDirection:w,useTranslate3d:S,viewBox:N,wrapperStyle:k},Vce(A,n6(n6({},this.props),{},{payload:C})))}}])})(B.PureComponent);rT(Yo,"displayName","Tooltip");rT(Yo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!LA.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zN,a6;function Wce(){if(a6)return zN;a6=1;var e=tc(),t=function(){return e.Date.now()};return zN=t,zN}var GN,i6;function Yce(){if(i6)return GN;i6=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return GN=t,GN}var VN,s6;function Xce(){if(s6)return VN;s6=1;var e=Yce(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return VN=r,VN}var WN,o6;function _q(){if(o6)return WN;o6=1;var e=Xce(),t=DA(),r=cp(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function c(A){if(typeof A=="number")return A;if(r(A))return n;if(t(A)){var f=typeof A.valueOf=="function"?A.valueOf():A;A=t(f)?f+"":f}if(typeof A!="string")return A===0?A:+A;A=e(A);var h=i.test(A);return h||s.test(A)?o(A.slice(2),h?2:8):a.test(A)?n:+A}return WN=c,WN}var YN,l6;function Jce(){if(l6)return YN;l6=1;var e=DA(),t=Wce(),r=_q(),n="Expected a function",a=Math.max,i=Math.min;function s(o,c,A){var f,h,p,g,v,b,x=0,w=!1,S=!1,N=!0;if(typeof o!="function")throw new TypeError(n);c=r(c)||0,e(A)&&(w=!!A.leading,S="maxWait"in A,p=S?a(r(A.maxWait)||0,c):p,N="trailing"in A?!!A.trailing:N);function k(Q){var H=f,Y=h;return f=h=void 0,x=Q,g=o.apply(Y,H),g}function C(Q){return x=Q,v=setTimeout(D,c),w?k(Q):g}function T(Q){var H=Q-b,Y=Q-x,K=c-H;return S?i(K,p-Y):K}function O(Q){var H=Q-b,Y=Q-x;return b===void 0||H>=c||H<0||S&&Y>=p}function D(){var Q=t();if(O(Q))return R(Q);v=setTimeout(D,T(Q))}function R(Q){return v=void 0,N&&f?k(Q):(f=h=void 0,g)}function q(){v!==void 0&&clearTimeout(v),x=0,f=b=h=v=void 0}function U(){return v===void 0?g:R(t())}function I(){var Q=t(),H=O(Q);if(f=arguments,h=this,b=Q,H){if(v===void 0)return C(b);if(S)return clearTimeout(v),v=setTimeout(D,c),k(b)}return v===void 0&&(v=setTimeout(D,c)),g}return I.cancel=q,I.flush=U,I}return YN=s,YN}var XN,c6;function Zce(){if(c6)return XN;c6=1;var e=Jce(),t=DA(),r="Expected a function";function n(a,i,s){var o=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return t(s)&&(o="leading"in s?!!s.leading:o,c="trailing"in s?!!s.trailing:c),e(a,i,{leading:o,maxWait:i,trailing:c})}return XN=n,XN}var eue=Zce();const Bq=Jr(eue);function Cb(e){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cb(e)}function u6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u6(Object(r),!0).forEach(function(n){tue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tue(e,t,r){return t=rue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return Cb(t)=="symbol"?t:t+""}function nue(e,t){if(Cb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aue(e,t){return lue(e)||oue(e,t)||sue(e,t)||iue()}function iue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sue(e,t){if(e){if(typeof e=="string")return A6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A6(e,t)}}function A6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function lue(e){if(Array.isArray(e))return e}var y1=B.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,c=o===void 0?"100%":o,A=e.minWidth,f=A===void 0?0:A,h=e.minHeight,p=e.maxHeight,g=e.children,v=e.debounce,b=v===void 0?0:v,x=e.id,w=e.className,S=e.onResize,N=e.style,k=N===void 0?{}:N,C=B.useRef(null),T=B.useRef();T.current=S,B.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var O=B.useState({containerWidth:a.width,containerHeight:a.height}),D=aue(O,2),R=D[0],q=D[1],U=B.useCallback(function(Q,H){q(function(Y){var K=Math.round(Q),J=Math.round(H);return Y.containerWidth===K&&Y.containerHeight===J?Y:{containerWidth:K,containerHeight:J}})},[]);B.useEffect(function(){var Q=function(oe){var V,W=oe[0].contentRect,P=W.width,$=W.height;U(P,$),(V=T.current)===null||V===void 0||V.call(T,P,$)};b>0&&(Q=Bq(Q,b,{trailing:!0,leading:!1}));var H=new ResizeObserver(Q),Y=C.current.getBoundingClientRect(),K=Y.width,J=Y.height;return U(K,J),H.observe(C.current),function(){H.disconnect()}},[U,b]);var I=B.useMemo(function(){var Q=R.containerWidth,H=R.containerHeight;if(Q<0||H<0)return null;nl(zd(s)||zd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),nl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=zd(s)?Q:s,K=zd(c)?H:c;r&&r>0&&(Y?K=Y/r:K&&(Y=K*r),p&&K>p&&(K=p)),nl(Y>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,K,s,c,f,h,r);var J=!Array.isArray(g)&&Vc(g.type).endsWith("Chart");return xe.Children.map(g,function(re){return xe.isValidElement(re)?B.cloneElement(re,Wv({width:Y,height:K},J?{style:Wv({height:"100%",width:"100%",maxHeight:K,maxWidth:Y},re.props.style)}:{})):re})},[r,g,c,p,h,f,R,s]);return xe.createElement("div",{id:x?"".concat(x):void 0,className:tt("recharts-responsive-container",w),style:Wv(Wv({},k),{},{width:s,height:c,minWidth:f,minHeight:h,maxHeight:p}),ref:C},I)}),v1=function(t){return null};v1.displayName="Cell";function jb(e){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jb(e)}function d6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(r),!0).forEach(function(n){cue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cue(e,t,r){return t=uue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uue(e){var t=Aue(e,"string");return jb(t)=="symbol"?t:t+""}function Aue(e,t){if(jb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bh={widthCache:{},cacheCount:0},due=2e3,fue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},f6="recharts_measurement_span";function hue(e){var t=Wj({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var tb=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||LA.isSsr)return{width:0,height:0};var n=hue(r),a=JSON.stringify({text:t,copyStyle:n});if(Bh.widthCache[a])return Bh.widthCache[a];try{var i=document.getElementById(f6);i||(i=document.createElement("span"),i.setAttribute("id",f6),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=Wj(Wj({},fue),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return Bh.widthCache[a]=c,++Bh.cacheCount>due&&(Bh.cacheCount=0,Bh.widthCache={}),c}catch{return{width:0,height:0}}},mue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function kb(e){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kb(e)}function Tx(e,t){return yue(e)||bue(e,t)||gue(e,t)||pue()}function pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gue(e,t){if(e){if(typeof e=="string")return h6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h6(e,t)}}function h6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function yue(e){if(Array.isArray(e))return e}function vue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wue(n.key),n)}}function xue(e,t,r){return t&&m6(e.prototype,t),r&&m6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wue(e){var t=_ue(e,"string");return kb(t)=="symbol"?t:t+""}function _ue(e,t){if(kb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var p6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Sue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nue=Object.keys(Sq),Zh="NaN";function Cue(e,t){return e*Sq[t]}var Yv=(function(){function e(t,r){vue(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Bue.test(r)&&(this.num=NaN,this.unit=""),Nue.includes(r)&&(this.num=Cue(t,r),this.unit="px")}return xue(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Sue.exec(r))!==null&&n!==void 0?n:[],i=Tx(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])})();function Nq(e){if(e.includes(Zh))return Zh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=p6.exec(t))!==null&&r!==void 0?r:[],a=Tx(n,4),i=a[1],s=a[2],o=a[3],c=Yv.parse(i??""),A=Yv.parse(o??""),f=s==="*"?c.multiply(A):c.divide(A);if(f.isNaN())return Zh;t=t.replace(p6,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,p=(h=g6.exec(t))!==null&&h!==void 0?h:[],g=Tx(p,4),v=g[1],b=g[2],x=g[3],w=Yv.parse(v??""),S=Yv.parse(x??""),N=b==="+"?w.add(S):w.subtract(S);if(N.isNaN())return Zh;t=t.replace(g6,N.toString())}return t}var b6=/\(([^()]*)\)/;function jue(e){for(var t=e;t.includes("(");){var r=b6.exec(t),n=Tx(r,2),a=n[1];t=t.replace(b6,Nq(a))}return t}function kue(e){var t=e.replace(/\s+/g,"");return t=jue(t),t=Nq(t),t}function Eue(e){try{return kue(e)}catch{return Zh}}function JN(e){var t=Eue(e.slice(5,-1));return t===Zh?"":t}var Tue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Oue=["dx","dy","angle","className","breakAll"];function Yj(){return Yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yj.apply(this,arguments)}function y6(e,t){if(e==null)return{};var r=Iue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v6(e,t){return Lue(e)||Due(e,t)||Fue(e,t)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fue(e,t){if(e){if(typeof e=="string")return x6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x6(e,t)}}function x6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Due(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function Lue(e){if(Array.isArray(e))return e}var Cq=/[ \f\n\r\t\v\u2028\u2029]+/,jq=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];br(r)||(n?i=r.toString().split(""):i=r.toString().split(Cq));var s=i.map(function(c){return{word:c,width:tb(c,a).width}}),o=n?0:tb("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Mue=function(t,r,n,a,i){var s=t.maxLines,o=t.children,c=t.style,A=t.breakAll,f=kt(s),h=o,p=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(K,J){var re=J.word,oe=J.width,V=K[K.length-1];if(V&&(a==null||i||V.width+oe+n<Number(a)))V.words.push(re),V.width+=oe+n;else{var W={words:[re],width:oe};K.push(W)}return K},[])},g=p(r),v=function(Y){return Y.reduce(function(K,J){return K.width>J.width?K:J})};if(!f)return g;for(var b="",x=function(Y){var K=h.slice(0,Y),J=jq({breakAll:A,style:c,children:K+b}).wordsWithComputedWidth,re=p(J),oe=re.length>s||v(re).width>Number(a);return[oe,re]},w=0,S=h.length-1,N=0,k;w<=S&&N<=h.length-1;){var C=Math.floor((w+S)/2),T=C-1,O=x(T),D=v6(O,2),R=D[0],q=D[1],U=x(C),I=v6(U,1),Q=I[0];if(!R&&!Q&&(w=C+1),R&&Q&&(S=C-1),!R&&Q){k=q;break}N++}return k||g},w6=function(t){var r=br(t)?[]:t.toString().split(Cq);return[{words:r}]},Pue=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!LA.isSsr){var c,A,f=jq({breakAll:s,children:a,style:i});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;c=h,A=p}else return w6(a);return Mue({breakAll:s,children:a,maxLines:o,style:i},c,A,r,n)}return w6(a)},_6="#808080",Af=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,c=t.capHeight,A=c===void 0?"0.71em":c,f=t.scaleToFit,h=f===void 0?!1:f,p=t.textAnchor,g=p===void 0?"start":p,v=t.verticalAnchor,b=v===void 0?"end":v,x=t.fill,w=x===void 0?_6:x,S=y6(t,Tue),N=B.useMemo(function(){return Pue({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),k=S.dx,C=S.dy,T=S.angle,O=S.className,D=S.breakAll,R=y6(S,Oue);if(!Oa(n)||!Oa(i))return null;var q=n+(kt(k)?k:0),U=i+(kt(C)?C:0),I;switch(b){case"start":I=JN("calc(".concat(A,")"));break;case"middle":I=JN("calc(".concat((N.length-1)/2," * -").concat(o," + (").concat(A," / 2))"));break;default:I=JN("calc(".concat(N.length-1," * -").concat(o,")"));break}var Q=[];if(h){var H=N[0].width,Y=S.width;Q.push("scale(".concat((kt(Y)?Y/H:1)/H,")"))}return T&&Q.push("rotate(".concat(T,", ").concat(q,", ").concat(U,")")),Q.length&&(R.transform=Q.join(" ")),xe.createElement("text",Yj({},Zt(R,!0),{x:q,y:U,className:tt("recharts-text",O),textAnchor:g,fill:w.includes("url")?_6:w}),N.map(function(K,J){var re=K.words.join(D?"":" ");return xe.createElement("tspan",{x:q,dy:J===0?I:o,key:"".concat(re,"-").concat(J)},re)}))};function SA(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Que(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nT(e){let t,r,n;e.length!==2?(t=SA,r=(o,c)=>SA(e(o),c),n=(o,c)=>e(o)-c):(t=e===SA||e===Que?e:Rue,r=e,n=e);function a(o,c,A=0,f=o.length){if(A<f){if(t(c,c)!==0)return f;do{const h=A+f>>>1;r(o[h],c)<0?A=h+1:f=h}while(A<f)}return A}function i(o,c,A=0,f=o.length){if(A<f){if(t(c,c)!==0)return f;do{const h=A+f>>>1;r(o[h],c)<=0?A=h+1:f=h}while(A<f)}return A}function s(o,c,A=0,f=o.length){const h=a(o,c,A,f-1);return h>A&&n(o[h-1],c)>-n(o[h],c)?h-1:h}return{left:a,center:s,right:i}}function Rue(){return 0}function kq(e){return e===null?NaN:+e}function*Hue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const $ue=nT(SA),xy=$ue.right;nT(kq).center;class B6 extends Map{constructor(t,r=zue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(S6(this,t))}has(t){return super.has(S6(this,t))}set(t,r){return super.set(que(this,t),r)}delete(t){return super.delete(Kue(this,t))}}function S6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function que({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Kue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function zue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Gue(e=SA){if(e===SA)return Eq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Eq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Vue=Math.sqrt(50),Wue=Math.sqrt(10),Yue=Math.sqrt(2);function Ox(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Vue?10:i>=Wue?5:i>=Yue?2:1;let o,c,A;return a<0?(A=Math.pow(10,-a)/s,o=Math.round(e*A),c=Math.round(t*A),o/A<e&&++o,c/A>t&&--c,A=-A):(A=Math.pow(10,a)*s,o=Math.round(e/A),c=Math.round(t/A),o*A<e&&++o,c*A>t&&--c),c<o&&.5<=r&&r<2?Ox(e,t,r*2):[o,c,A]}function Xj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Ox(t,e,r):Ox(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let A=0;A<o;++A)c[A]=(i-A)/-s;else for(let A=0;A<o;++A)c[A]=(i-A)*s;else if(s<0)for(let A=0;A<o;++A)c[A]=(a+A)/-s;else for(let A=0;A<o;++A)c[A]=(a+A)*s;return c}function Jj(e,t,r){return t=+t,e=+e,r=+r,Ox(e,t,r)[2]}function Zj(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Jj(t,e,r):Jj(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function N6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function C6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Tq(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Eq:Gue(a);n>r;){if(n-r>600){const c=n-r+1,A=t-r+1,f=Math.log(c),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(c-h)/c)*(A-c/2<0?-1:1),g=Math.max(r,Math.floor(t-A*h/c+p)),v=Math.min(n,Math.floor(t+(c-A)*h/c+p));Tq(e,t,g,v,a)}const i=e[t];let s=r,o=n;for(bg(e,r,t),a(e[n],i)>0&&bg(e,r,n);s<o;){for(bg(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?bg(e,r,o):(++o,bg(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function bg(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Xue(e,t,r){if(e=Float64Array.from(Hue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return C6(e);if(t>=1)return N6(e);var n,a=(n-1)*t,i=Math.floor(a),s=N6(Tq(e,i).subarray(0,i+1)),o=C6(e.subarray(i+1));return s+(o-s)*(a-i)}}function Jue(e,t,r=kq){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function Zue(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ao(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function lu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ek=Symbol("implicit");function aT(){var e=new B6,t=[],r=[],n=ek;function a(i){let s=e.get(i);if(s===void 0){if(n!==ek)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new B6;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return aT(t,r).unknown(n)},Ao.apply(a,arguments),a}function Eb(){var e=aT().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,A=0,f=.5;delete e.unknown;function h(){var p=t().length,g=a<n,v=g?a:n,b=g?n:a;i=(b-v)/Math.max(1,p-c+A*2),o&&(i=Math.floor(i)),v+=(b-v-i*(p-c))*f,s=i*(1-c),o&&(v=Math.round(v),s=Math.round(s));var x=Zue(p).map(function(w){return v+i*w});return r(g?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,o=!0,h()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(p){return arguments.length?(o=!!p,h()):o},e.padding=function(p){return arguments.length?(c=Math.min(1,A=+p),h()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},e.paddingOuter=function(p){return arguments.length?(A=+p,h()):A},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},e.copy=function(){return Eb(t(),[n,a]).round(o).paddingInner(c).paddingOuter(A).align(f)},Ao.apply(h(),arguments)}function Oq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Oq(t())},e}function rb(){return Oq(Eb.apply(null,arguments).paddingInner(1))}function iT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Iq(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function wy(){}var Tb=.7,Ix=1/Tb,Am="\\s*([+-]?\\d+)\\s*",Ob="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eAe=/^#([0-9a-f]{3,8})$/,tAe=new RegExp(`^rgb\\(${Am},${Am},${Am}\\)$`),rAe=new RegExp(`^rgb\\(${Wl},${Wl},${Wl}\\)$`),nAe=new RegExp(`^rgba\\(${Am},${Am},${Am},${Ob}\\)$`),aAe=new RegExp(`^rgba\\(${Wl},${Wl},${Wl},${Ob}\\)$`),iAe=new RegExp(`^hsl\\(${Ob},${Wl},${Wl}\\)$`),sAe=new RegExp(`^hsla\\(${Ob},${Wl},${Wl},${Ob}\\)$`),j6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iT(wy,Ib,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k6,formatHex:k6,formatHex8:oAe,formatHsl:lAe,formatRgb:E6,toString:E6});function k6(){return this.rgb().formatHex()}function oAe(){return this.rgb().formatHex8()}function lAe(){return Uq(this).formatHsl()}function E6(){return this.rgb().formatRgb()}function Ib(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eAe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?T6(t):r===3?new Zi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tAe.exec(e))?new Zi(t[1],t[2],t[3],1):(t=rAe.exec(e))?new Zi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nAe.exec(e))?Xv(t[1],t[2],t[3],t[4]):(t=aAe.exec(e))?Xv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iAe.exec(e))?U6(t[1],t[2]/100,t[3]/100,1):(t=sAe.exec(e))?U6(t[1],t[2]/100,t[3]/100,t[4]):j6.hasOwnProperty(e)?T6(j6[e]):e==="transparent"?new Zi(NaN,NaN,NaN,0):null}function T6(e){return new Zi(e>>16&255,e>>8&255,e&255,1)}function Xv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Zi(e,t,r,n)}function cAe(e){return e instanceof wy||(e=Ib(e)),e?(e=e.rgb(),new Zi(e.r,e.g,e.b,e.opacity)):new Zi}function tk(e,t,r,n){return arguments.length===1?cAe(e):new Zi(e,t,r,n??1)}function Zi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}iT(Zi,tk,Iq(wy,{brighter(e){return e=e==null?Ix:Math.pow(Ix,e),new Zi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tb:Math.pow(Tb,e),new Zi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zi(Jd(this.r),Jd(this.g),Jd(this.b),Ux(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O6,formatHex:O6,formatHex8:uAe,formatRgb:I6,toString:I6}));function O6(){return`#${Gd(this.r)}${Gd(this.g)}${Gd(this.b)}`}function uAe(){return`#${Gd(this.r)}${Gd(this.g)}${Gd(this.b)}${Gd((isNaN(this.opacity)?1:this.opacity)*255)}`}function I6(){const e=Ux(this.opacity);return`${e===1?"rgb(":"rgba("}${Jd(this.r)}, ${Jd(this.g)}, ${Jd(this.b)}${e===1?")":`, ${e})`}`}function Ux(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gd(e){return e=Jd(e),(e<16?"0":"")+e.toString(16)}function U6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new el(e,t,r,n)}function Uq(e){if(e instanceof el)return new el(e.h,e.s,e.l,e.opacity);if(e instanceof wy||(e=Ib(e)),!e)return new el;if(e instanceof el)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new el(s,o,c,e.opacity)}function AAe(e,t,r,n){return arguments.length===1?Uq(e):new el(e,t,r,n??1)}function el(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}iT(el,AAe,Iq(wy,{brighter(e){return e=e==null?Ix:Math.pow(Ix,e),new el(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tb:Math.pow(Tb,e),new el(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Zi(ZN(e>=240?e-240:e+120,a,n),ZN(e,a,n),ZN(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new el(F6(this.h),Jv(this.s),Jv(this.l),Ux(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ux(this.opacity);return`${e===1?"hsl(":"hsla("}${F6(this.h)}, ${Jv(this.s)*100}%, ${Jv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function F6(e){return e=(e||0)%360,e<0?e+360:e}function Jv(e){return Math.max(0,Math.min(1,e||0))}function ZN(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sT=e=>()=>e;function dAe(e,t){return function(r){return e+r*t}}function fAe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hAe(e){return(e=+e)==1?Fq:function(t,r){return r-t?fAe(t,r,e):sT(isNaN(t)?r:t)}}function Fq(e,t){var r=t-e;return r?dAe(e,r):sT(isNaN(e)?t:e)}const D6=(function e(t){var r=hAe(t);function n(a,i){var s=r((a=tk(a)).r,(i=tk(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),A=Fq(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=c(f),a.opacity=A(f),a+""}}return n.gamma=e,n})(1);function mAe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function pAe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gAe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=fp(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function bAe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Fx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yAe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=fp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var rk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,e5=new RegExp(rk.source,"g");function vAe(e){return function(){return e}}function xAe(e){return function(t){return e(t)+""}}function wAe(e,t){var r=rk.lastIndex=e5.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=rk.exec(e))&&(a=e5.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:Fx(n,a)})),r=e5.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?xAe(c[0].x):vAe(t):(t=c.length,function(A){for(var f=0,h;f<t;++f)o[(h=c[f]).i]=h.x(A);return o.join("")})}function fp(e,t){var r=typeof t,n;return t==null||r==="boolean"?sT(t):(r==="number"?Fx:r==="string"?(n=Ib(t))?(t=n,D6):wAe:t instanceof Ib?D6:t instanceof Date?bAe:pAe(t)?mAe:Array.isArray(t)?gAe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yAe:Fx)(e,t)}function oT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function _Ae(e,t){t===void 0&&(t=e,e=fp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function BAe(e){return function(){return e}}function Dx(e){return+e}var L6=[0,1];function Li(e){return e}function nk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:BAe(isNaN(t)?NaN:.5)}function SAe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function NAe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=nk(a,n),i=r(s,i)):(n=nk(n,a),i=r(i,s)),function(o){return i(n(o))}}function CAe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=nk(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=xy(e,o,1,n)-1;return i[c](a[c](o))}}function _y(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function x1(){var e=L6,t=L6,r=fp,n,a,i,s=Li,o,c,A;function f(){var p=Math.min(e.length,t.length);return s!==Li&&(s=SAe(e[0],e[p-1])),o=p>2?CAe:NAe,c=A=null,h}function h(p){return p==null||isNaN(p=+p)?i:(c||(c=o(e.map(n),t,r)))(n(s(p)))}return h.invert=function(p){return s(a((A||(A=o(t,e.map(n),Fx)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,Dx),f()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),r=oT,f()},h.clamp=function(p){return arguments.length?(s=p?!0:Li,f()):s!==Li},h.interpolate=function(p){return arguments.length?(r=p,f()):r},h.unknown=function(p){return arguments.length?(i=p,h):i},function(p,g){return n=p,a=g,f()}}function lT(){return x1()(Li,Li)}function jAe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Im(e){return e=Lx(Math.abs(e)),e?e[1]:NaN}function kAe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function EAe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var TAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ub(e){if(!(t=TAe.exec(e)))throw new Error("invalid format: "+e);var t;return new cT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ub.prototype=cT.prototype;function cT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OAe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Dq;function IAe(e,t){var r=Lx(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Dq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Lx(e,Math.max(0,t+i-1))[0]}function M6(e,t){var r=Lx(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const P6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jAe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>M6(e*100,t),r:M6,s:IAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Q6(e){return e}var R6=Array.prototype.map,H6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function UAe(e){var t=e.grouping===void 0||e.thousands===void 0?Q6:kAe(R6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Q6:EAe(R6.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function A(h){h=Ub(h);var p=h.fill,g=h.align,v=h.sign,b=h.symbol,x=h.zero,w=h.width,S=h.comma,N=h.precision,k=h.trim,C=h.type;C==="n"?(S=!0,C="g"):P6[C]||(N===void 0&&(N=12),k=!0,C="g"),(x||p==="0"&&g==="=")&&(x=!0,p="0",g="=");var T=b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",O=b==="$"?n:/[%p]/.test(C)?s:"",D=P6[C],R=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function q(U){var I=T,Q=O,H,Y,K;if(C==="c")Q=D(U)+Q,U="";else{U=+U;var J=U<0||1/U<0;if(U=isNaN(U)?c:D(Math.abs(U),N),k&&(U=OAe(U)),J&&+U==0&&v!=="+"&&(J=!1),I=(J?v==="("?v:o:v==="-"||v==="("?"":v)+I,Q=(C==="s"?H6[8+Dq/3]:"")+Q+(J&&v==="("?")":""),R){for(H=-1,Y=U.length;++H<Y;)if(K=U.charCodeAt(H),48>K||K>57){Q=(K===46?a+U.slice(H+1):U.slice(H))+Q,U=U.slice(0,H);break}}}S&&!x&&(U=t(U,1/0));var re=I.length+U.length+Q.length,oe=re<w?new Array(w-re+1).join(p):"";switch(S&&x&&(U=t(oe+U,oe.length?w-Q.length:1/0),oe=""),g){case"<":U=I+U+Q+oe;break;case"=":U=I+oe+U+Q;break;case"^":U=oe.slice(0,re=oe.length>>1)+I+U+Q+oe.slice(re);break;default:U=oe+I+U+Q;break}return i(U)}return q.toString=function(){return h+""},q}function f(h,p){var g=A((h=Ub(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Im(p)/3)))*3,b=Math.pow(10,-v),x=H6[8+v/3];return function(w){return g(b*w)+x}}return{format:A,formatPrefix:f}}var Zv,uT,Lq;FAe({thousands:",",grouping:[3],currency:["$",""]});function FAe(e){return Zv=UAe(e),uT=Zv.format,Lq=Zv.formatPrefix,Zv}function DAe(e){return Math.max(0,-Im(Math.abs(e)))}function LAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Im(t)/3)))*3-Im(Math.abs(e)))}function MAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Im(t)-Im(e))+1}function Mq(e,t,r,n){var a=Zj(e,t,r),i;switch(n=Ub(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=LAe(a,s))&&(n.precision=i),Lq(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=MAe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=DAe(a))&&(n.precision=i-(n.type==="%")*2);break}}return uT(n)}function MA(e){var t=e.domain;return e.ticks=function(r){var n=t();return Xj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Mq(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,A,f=10;for(o<s&&(A=s,s=o,o=A,A=a,a=i,i=A);f-- >0;){if(A=Jj(s,o,r),A===c)return n[a]=s,n[i]=o,t(n);if(A>0)s=Math.floor(s/A)*A,o=Math.ceil(o/A)*A;else if(A<0)s=Math.ceil(s*A)/A,o=Math.floor(o*A)/A;else break;c=A}return e},e}function Mx(){var e=lT();return e.copy=function(){return _y(e,Mx())},Ao.apply(e,arguments),MA(e)}function Pq(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Dx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Pq(e).unknown(t)},e=arguments.length?Array.from(e,Dx):[0,1],MA(r)}function Qq(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function $6(e){return Math.log(e)}function q6(e){return Math.exp(e)}function PAe(e){return-Math.log(-e)}function QAe(e){return-Math.exp(-e)}function RAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HAe(e){return e===10?RAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $Ae(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function K6(e){return(t,r)=>-e(-t,r)}function AT(e){const t=e($6,q6),r=t.domain;let n=10,a,i;function s(){return a=$Ae(n),i=HAe(n),r()[0]<0?(a=K6(a),i=K6(i),e(PAe,QAe)):e($6,q6),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let A=c[0],f=c[c.length-1];const h=f<A;h&&([A,f]=[f,A]);let p=a(A),g=a(f),v,b;const x=o==null?10:+o;let w=[];if(!(n%1)&&g-p<x){if(p=Math.floor(p),g=Math.ceil(g),A>0){for(;p<=g;++p)for(v=1;v<n;++v)if(b=p<0?v/i(-p):v*i(p),!(b<A)){if(b>f)break;w.push(b)}}else for(;p<=g;++p)for(v=n-1;v>=1;--v)if(b=p>0?v/i(-p):v*i(p),!(b<A)){if(b>f)break;w.push(b)}w.length*2<x&&(w=Xj(A,f,x))}else w=Xj(p,g,Math.min(g-p,x)).map(i);return h?w.reverse():w},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ub(c)).precision==null&&(c.trim=!0),c=uT(c)),o===1/0)return c;const A=Math.max(1,n*o/t.ticks().length);return f=>{let h=f/i(Math.round(a(f)));return h*n<n-.5&&(h*=n),h<=A?c(f):""}},t.nice=()=>r(Qq(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function Rq(){const e=AT(x1()).domain([1,10]);return e.copy=()=>_y(e,Rq()).base(e.base()),Ao.apply(e,arguments),e}function z6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function G6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dT(e){var t=1,r=e(z6(t),G6(t));return r.constant=function(n){return arguments.length?e(z6(t=+n),G6(t)):t},MA(r)}function Hq(){var e=dT(x1());return e.copy=function(){return _y(e,Hq()).constant(e.constant())},Ao.apply(e,arguments)}function V6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qAe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KAe(e){return e<0?-e*e:e*e}function fT(e){var t=e(Li,Li),r=1;function n(){return r===1?e(Li,Li):r===.5?e(qAe,KAe):e(V6(r),V6(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},MA(t)}function hT(){var e=fT(x1());return e.copy=function(){return _y(e,hT()).exponent(e.exponent())},Ao.apply(e,arguments),e}function zAe(){return hT.apply(null,arguments).exponent(.5)}function W6(e){return Math.sign(e)*e*e}function GAe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $q(){var e=lT(),t=[0,1],r=!1,n;function a(i){var s=GAe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(W6(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Dx)).map(W6)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return $q(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ao.apply(a,arguments),MA(a)}function qq(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=Jue(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[xy(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(SA),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return qq().domain(e).range(t).unknown(n)},Ao.apply(i,arguments)}function Kq(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[xy(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var A=a.indexOf(c);return A<0?[NaN,NaN]:A<1?[e,n[0]]:A>=r?[n[r-1],t]:[n[A-1],n[A]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Kq().domain([e,t]).range(a).unknown(i)},Ao.apply(MA(s),arguments)}function zq(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[xy(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return zq().domain(e).range(t).unknown(r)},Ao.apply(a,arguments)}const t5=new Date,r5=new Date;function Ia(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let A;do c.push(A=new Date(+i)),t(i,o),e(i);while(A<i&&i<s);return c},a.filter=i=>Ia(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(t5.setTime(+i),r5.setTime(+s),e(t5),e(r5),Math.floor(r(t5,r5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Px=Ia(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Px.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ia(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Px);Px.range;const $c=1e3,io=$c*60,qc=io*60,Zc=qc*24,mT=Zc*7,Y6=Zc*30,n5=Zc*365,Vd=Ia(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$c)},(e,t)=>(t-e)/$c,e=>e.getUTCSeconds());Vd.range;const pT=Ia(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$c)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getMinutes());pT.range;const gT=Ia(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getUTCMinutes());gT.range;const bT=Ia(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$c-e.getMinutes()*io)},(e,t)=>{e.setTime(+e+t*qc)},(e,t)=>(t-e)/qc,e=>e.getHours());bT.range;const yT=Ia(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qc)},(e,t)=>(t-e)/qc,e=>e.getUTCHours());yT.range;const By=Ia(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*io)/Zc,e=>e.getDate()-1);By.range;const w1=Ia(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zc,e=>e.getUTCDate()-1);w1.range;const Gq=Ia(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zc,e=>Math.floor(e/Zc));Gq.range;function _f(e){return Ia(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*io)/mT)}const _1=_f(0),Qx=_f(1),VAe=_f(2),WAe=_f(3),Um=_f(4),YAe=_f(5),XAe=_f(6);_1.range;Qx.range;VAe.range;WAe.range;Um.range;YAe.range;XAe.range;function Bf(e){return Ia(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mT)}const B1=Bf(0),Rx=Bf(1),JAe=Bf(2),ZAe=Bf(3),Fm=Bf(4),ede=Bf(5),tde=Bf(6);B1.range;Rx.range;JAe.range;ZAe.range;Fm.range;ede.range;tde.range;const vT=Ia(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vT.range;const xT=Ia(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xT.range;const eu=Ia(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());eu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ia(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});eu.range;const tu=Ia(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());tu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ia(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});tu.range;function Vq(e,t,r,n,a,i){const s=[[Vd,1,$c],[Vd,5,5*$c],[Vd,15,15*$c],[Vd,30,30*$c],[i,1,io],[i,5,5*io],[i,15,15*io],[i,30,30*io],[a,1,qc],[a,3,3*qc],[a,6,6*qc],[a,12,12*qc],[n,1,Zc],[n,2,2*Zc],[r,1,mT],[t,1,Y6],[t,3,3*Y6],[e,1,n5]];function o(A,f,h){const p=f<A;p&&([A,f]=[f,A]);const g=h&&typeof h.range=="function"?h:c(A,f,h),v=g?g.range(A,+f+1):[];return p?v.reverse():v}function c(A,f,h){const p=Math.abs(f-A)/h,g=nT(([,,x])=>x).right(s,p);if(g===s.length)return e.every(Zj(A/n5,f/n5,h));if(g===0)return Px.every(Math.max(Zj(A,f,h),1));const[v,b]=s[p/s[g-1][2]<s[g][2]/p?g-1:g];return v.every(b)}return[o,c]}const[rde,nde]=Vq(tu,xT,B1,Gq,yT,gT),[ade,ide]=Vq(eu,vT,_1,By,bT,pT);function a5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function sde(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,A=vg(a),f=xg(a),h=vg(i),p=xg(i),g=vg(s),v=xg(s),b=vg(o),x=xg(o),w=vg(c),S=xg(c),N={a:J,A:re,b:oe,B:V,c:null,d:rM,e:rM,f:kde,g:Pde,G:Rde,H:Nde,I:Cde,j:jde,L:Wq,m:Ede,M:Tde,p:W,q:P,Q:iM,s:sM,S:Ode,u:Ide,U:Ude,V:Fde,w:Dde,W:Lde,x:null,X:null,y:Mde,Y:Qde,Z:Hde,"%":aM},k={a:$,A:G,b:ne,B:se,c:null,d:nM,e:nM,f:zde,g:rfe,G:afe,H:$de,I:qde,j:Kde,L:Xq,m:Gde,M:Vde,p:ve,q:he,Q:iM,s:sM,S:Wde,u:Yde,U:Xde,V:Jde,w:Zde,W:efe,x:null,X:null,y:tfe,Y:nfe,Z:ife,"%":aM},C={a:q,A:U,b:I,B:Q,c:H,d:eM,e:eM,f:wde,g:Z6,G:J6,H:tM,I:tM,j:bde,L:xde,m:gde,M:yde,p:R,q:pde,Q:Bde,s:Sde,S:vde,u:Ade,U:dde,V:fde,w:ude,W:hde,x:Y,X:K,y:Z6,Y:J6,Z:mde,"%":_de};N.x=T(r,N),N.X=T(n,N),N.c=T(t,N),k.x=T(r,k),k.X=T(n,k),k.c=T(t,k);function T(fe,Qe){return function($e){var de=[],ze=-1,nt=0,Se=fe.length,Z,Ke,st;for($e instanceof Date||($e=new Date(+$e));++ze<Se;)fe.charCodeAt(ze)===37&&(de.push(fe.slice(nt,ze)),(Ke=X6[Z=fe.charAt(++ze)])!=null?Z=fe.charAt(++ze):Ke=Z==="e"?" ":"0",(st=Qe[Z])&&(Z=st($e,Ke)),de.push(Z),nt=ze+1);return de.push(fe.slice(nt,ze)),de.join("")}}function O(fe,Qe){return function($e){var de=yg(1900,void 0,1),ze=D(de,fe,$e+="",0),nt,Se;if(ze!=$e.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Qe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(nt=i5(yg(de.y,0,1)),Se=nt.getUTCDay(),nt=Se>4||Se===0?Rx.ceil(nt):Rx(nt),nt=w1.offset(nt,(de.V-1)*7),de.y=nt.getUTCFullYear(),de.m=nt.getUTCMonth(),de.d=nt.getUTCDate()+(de.w+6)%7):(nt=a5(yg(de.y,0,1)),Se=nt.getDay(),nt=Se>4||Se===0?Qx.ceil(nt):Qx(nt),nt=By.offset(nt,(de.V-1)*7),de.y=nt.getFullYear(),de.m=nt.getMonth(),de.d=nt.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Se="Z"in de?i5(yg(de.y,0,1)).getUTCDay():a5(yg(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Se+5)%7:de.w+de.U*7-(Se+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,i5(de)):a5(de)}}function D(fe,Qe,$e,de){for(var ze=0,nt=Qe.length,Se=$e.length,Z,Ke;ze<nt;){if(de>=Se)return-1;if(Z=Qe.charCodeAt(ze++),Z===37){if(Z=Qe.charAt(ze++),Ke=C[Z in X6?Qe.charAt(ze++):Z],!Ke||(de=Ke(fe,$e,de))<0)return-1}else if(Z!=$e.charCodeAt(de++))return-1}return de}function R(fe,Qe,$e){var de=A.exec(Qe.slice($e));return de?(fe.p=f.get(de[0].toLowerCase()),$e+de[0].length):-1}function q(fe,Qe,$e){var de=g.exec(Qe.slice($e));return de?(fe.w=v.get(de[0].toLowerCase()),$e+de[0].length):-1}function U(fe,Qe,$e){var de=h.exec(Qe.slice($e));return de?(fe.w=p.get(de[0].toLowerCase()),$e+de[0].length):-1}function I(fe,Qe,$e){var de=w.exec(Qe.slice($e));return de?(fe.m=S.get(de[0].toLowerCase()),$e+de[0].length):-1}function Q(fe,Qe,$e){var de=b.exec(Qe.slice($e));return de?(fe.m=x.get(de[0].toLowerCase()),$e+de[0].length):-1}function H(fe,Qe,$e){return D(fe,t,Qe,$e)}function Y(fe,Qe,$e){return D(fe,r,Qe,$e)}function K(fe,Qe,$e){return D(fe,n,Qe,$e)}function J(fe){return s[fe.getDay()]}function re(fe){return i[fe.getDay()]}function oe(fe){return c[fe.getMonth()]}function V(fe){return o[fe.getMonth()]}function W(fe){return a[+(fe.getHours()>=12)]}function P(fe){return 1+~~(fe.getMonth()/3)}function $(fe){return s[fe.getUTCDay()]}function G(fe){return i[fe.getUTCDay()]}function ne(fe){return c[fe.getUTCMonth()]}function se(fe){return o[fe.getUTCMonth()]}function ve(fe){return a[+(fe.getUTCHours()>=12)]}function he(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Qe=T(fe+="",N);return Qe.toString=function(){return fe},Qe},parse:function(fe){var Qe=O(fe+="",!1);return Qe.toString=function(){return fe},Qe},utcFormat:function(fe){var Qe=T(fe+="",k);return Qe.toString=function(){return fe},Qe},utcParse:function(fe){var Qe=O(fe+="",!0);return Qe.toString=function(){return fe},Qe}}}var X6={"-":"",_:" ",0:"0"},Wa=/^\s*\d+/,ode=/^%/,lde=/[\\^$*+?|[\]().{}]/g;function Wr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function cde(e){return e.replace(lde,"\\$&")}function vg(e){return new RegExp("^(?:"+e.map(cde).join("|")+")","i")}function xg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ude(e,t,r){var n=Wa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ade(e,t,r){var n=Wa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function dde(e,t,r){var n=Wa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fde(e,t,r){var n=Wa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function hde(e,t,r){var n=Wa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function J6(e,t,r){var n=Wa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Z6(e,t,r){var n=Wa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mde(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pde(e,t,r){var n=Wa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function gde(e,t,r){var n=Wa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function eM(e,t,r){var n=Wa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function bde(e,t,r){var n=Wa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function tM(e,t,r){var n=Wa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function yde(e,t,r){var n=Wa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function vde(e,t,r){var n=Wa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xde(e,t,r){var n=Wa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function wde(e,t,r){var n=Wa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _de(e,t,r){var n=ode.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Bde(e,t,r){var n=Wa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Sde(e,t,r){var n=Wa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function rM(e,t){return Wr(e.getDate(),t,2)}function Nde(e,t){return Wr(e.getHours(),t,2)}function Cde(e,t){return Wr(e.getHours()%12||12,t,2)}function jde(e,t){return Wr(1+By.count(eu(e),e),t,3)}function Wq(e,t){return Wr(e.getMilliseconds(),t,3)}function kde(e,t){return Wq(e,t)+"000"}function Ede(e,t){return Wr(e.getMonth()+1,t,2)}function Tde(e,t){return Wr(e.getMinutes(),t,2)}function Ode(e,t){return Wr(e.getSeconds(),t,2)}function Ide(e){var t=e.getDay();return t===0?7:t}function Ude(e,t){return Wr(_1.count(eu(e)-1,e),t,2)}function Yq(e){var t=e.getDay();return t>=4||t===0?Um(e):Um.ceil(e)}function Fde(e,t){return e=Yq(e),Wr(Um.count(eu(e),e)+(eu(e).getDay()===4),t,2)}function Dde(e){return e.getDay()}function Lde(e,t){return Wr(Qx.count(eu(e)-1,e),t,2)}function Mde(e,t){return Wr(e.getFullYear()%100,t,2)}function Pde(e,t){return e=Yq(e),Wr(e.getFullYear()%100,t,2)}function Qde(e,t){return Wr(e.getFullYear()%1e4,t,4)}function Rde(e,t){var r=e.getDay();return e=r>=4||r===0?Um(e):Um.ceil(e),Wr(e.getFullYear()%1e4,t,4)}function Hde(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wr(t/60|0,"0",2)+Wr(t%60,"0",2)}function nM(e,t){return Wr(e.getUTCDate(),t,2)}function $de(e,t){return Wr(e.getUTCHours(),t,2)}function qde(e,t){return Wr(e.getUTCHours()%12||12,t,2)}function Kde(e,t){return Wr(1+w1.count(tu(e),e),t,3)}function Xq(e,t){return Wr(e.getUTCMilliseconds(),t,3)}function zde(e,t){return Xq(e,t)+"000"}function Gde(e,t){return Wr(e.getUTCMonth()+1,t,2)}function Vde(e,t){return Wr(e.getUTCMinutes(),t,2)}function Wde(e,t){return Wr(e.getUTCSeconds(),t,2)}function Yde(e){var t=e.getUTCDay();return t===0?7:t}function Xde(e,t){return Wr(B1.count(tu(e)-1,e),t,2)}function Jq(e){var t=e.getUTCDay();return t>=4||t===0?Fm(e):Fm.ceil(e)}function Jde(e,t){return e=Jq(e),Wr(Fm.count(tu(e),e)+(tu(e).getUTCDay()===4),t,2)}function Zde(e){return e.getUTCDay()}function efe(e,t){return Wr(Rx.count(tu(e)-1,e),t,2)}function tfe(e,t){return Wr(e.getUTCFullYear()%100,t,2)}function rfe(e,t){return e=Jq(e),Wr(e.getUTCFullYear()%100,t,2)}function nfe(e,t){return Wr(e.getUTCFullYear()%1e4,t,4)}function afe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Fm(e):Fm.ceil(e),Wr(e.getUTCFullYear()%1e4,t,4)}function ife(){return"+0000"}function aM(){return"%"}function iM(e){return+e}function sM(e){return Math.floor(+e/1e3)}var Sh,Zq,eK;sfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sfe(e){return Sh=sde(e),Zq=Sh.format,Sh.parse,eK=Sh.utcFormat,Sh.utcParse,Sh}function ofe(e){return new Date(e)}function lfe(e){return e instanceof Date?+e:+new Date(+e)}function wT(e,t,r,n,a,i,s,o,c,A){var f=lT(),h=f.invert,p=f.domain,g=A(".%L"),v=A(":%S"),b=A("%I:%M"),x=A("%I %p"),w=A("%a %d"),S=A("%b %d"),N=A("%B"),k=A("%Y");function C(T){return(c(T)<T?g:o(T)<T?v:s(T)<T?b:i(T)<T?x:n(T)<T?a(T)<T?w:S:r(T)<T?N:k)(T)}return f.invert=function(T){return new Date(h(T))},f.domain=function(T){return arguments.length?p(Array.from(T,lfe)):p().map(ofe)},f.ticks=function(T){var O=p();return e(O[0],O[O.length-1],T??10)},f.tickFormat=function(T,O){return O==null?C:A(O)},f.nice=function(T){var O=p();return(!T||typeof T.range!="function")&&(T=t(O[0],O[O.length-1],T??10)),T?p(Qq(O,T)):f},f.copy=function(){return _y(f,wT(e,t,r,n,a,i,s,o,c,A))},f}function cfe(){return Ao.apply(wT(ade,ide,eu,vT,_1,By,bT,pT,Vd,Zq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ufe(){return Ao.apply(wT(rde,nde,tu,xT,B1,w1,yT,gT,Vd,eK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function S1(){var e=0,t=1,r,n,a,i,s=Li,o=!1,c;function A(h){return h==null||isNaN(h=+h)?c:s(a===0?.5:(h=(i(h)-r)*a,o?Math.max(0,Math.min(1,h)):h))}A.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),A):[e,t]},A.clamp=function(h){return arguments.length?(o=!!h,A):o},A.interpolator=function(h){return arguments.length?(s=h,A):s};function f(h){return function(p){var g,v;return arguments.length?([g,v]=p,s=h(g,v),A):[s(0),s(1)]}}return A.range=f(fp),A.rangeRound=f(oT),A.unknown=function(h){return arguments.length?(c=h,A):c},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),A}}function PA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tK(){var e=MA(S1()(Li));return e.copy=function(){return PA(e,tK())},lu.apply(e,arguments)}function rK(){var e=AT(S1()).domain([1,10]);return e.copy=function(){return PA(e,rK()).base(e.base())},lu.apply(e,arguments)}function nK(){var e=dT(S1());return e.copy=function(){return PA(e,nK()).constant(e.constant())},lu.apply(e,arguments)}function _T(){var e=fT(S1());return e.copy=function(){return PA(e,_T()).exponent(e.exponent())},lu.apply(e,arguments)}function Afe(){return _T.apply(null,arguments).exponent(.5)}function aK(){var e=[],t=Li;function r(n){if(n!=null&&!isNaN(n=+n))return t((xy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(SA),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Xue(e,i/n))},r.copy=function(){return aK(t).domain(e)},lu.apply(r,arguments)}function N1(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,A=Li,f,h=!1,p;function g(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-i)*(n*b<n*i?o:c),A(h?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,r]=b,a=f(e=+e),i=f(t=+t),s=f(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,g):[e,t,r]},g.clamp=function(b){return arguments.length?(h=!!b,g):h},g.interpolator=function(b){return arguments.length?(A=b,g):A};function v(b){return function(x){var w,S,N;return arguments.length?([w,S,N]=x,A=_Ae(b,[w,S,N]),g):[A(0),A(.5),A(1)]}}return g.range=v(fp),g.rangeRound=v(oT),g.unknown=function(b){return arguments.length?(p=b,g):p},function(b){return f=b,a=b(e),i=b(t),s=b(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,g}}function iK(){var e=MA(N1()(Li));return e.copy=function(){return PA(e,iK())},lu.apply(e,arguments)}function sK(){var e=AT(N1()).domain([.1,1,10]);return e.copy=function(){return PA(e,sK()).base(e.base())},lu.apply(e,arguments)}function oK(){var e=dT(N1());return e.copy=function(){return PA(e,oK()).constant(e.constant())},lu.apply(e,arguments)}function BT(){var e=fT(N1());return e.copy=function(){return PA(e,BT()).exponent(e.exponent())},lu.apply(e,arguments)}function dfe(){return BT.apply(null,arguments).exponent(.5)}const oM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Eb,scaleDiverging:iK,scaleDivergingLog:sK,scaleDivergingPow:BT,scaleDivergingSqrt:dfe,scaleDivergingSymlog:oK,scaleIdentity:Pq,scaleImplicit:ek,scaleLinear:Mx,scaleLog:Rq,scaleOrdinal:aT,scalePoint:rb,scalePow:hT,scaleQuantile:qq,scaleQuantize:Kq,scaleRadial:$q,scaleSequential:tK,scaleSequentialLog:rK,scaleSequentialPow:_T,scaleSequentialQuantile:aK,scaleSequentialSqrt:Afe,scaleSequentialSymlog:nK,scaleSqrt:zAe,scaleSymlog:Hq,scaleThreshold:zq,scaleTime:cfe,scaleUtc:ufe,tickFormat:Mq},Symbol.toStringTag,{value:"Module"}));var s5,lM;function C1(){if(lM)return s5;lM=1;var e=cp();function t(r,n,a){for(var i=-1,s=r.length;++i<s;){var o=r[i],c=n(o);if(c!=null&&(A===void 0?c===c&&!e(c):a(c,A)))var A=c,f=o}return f}return s5=t,s5}var o5,cM;function lK(){if(cM)return o5;cM=1;function e(t,r){return t>r}return o5=e,o5}var l5,uM;function ffe(){if(uM)return l5;uM=1;var e=C1(),t=lK(),r=dp();function n(a){return a&&a.length?e(a,r,t):void 0}return l5=n,l5}var hfe=ffe();const mA=Jr(hfe);var c5,AM;function cK(){if(AM)return c5;AM=1;function e(t,r){return t<r}return c5=e,c5}var u5,dM;function mfe(){if(dM)return u5;dM=1;var e=C1(),t=cK(),r=dp();function n(a){return a&&a.length?e(a,r,t):void 0}return u5=n,u5}var pfe=mfe();const j1=Jr(pfe);var A5,fM;function gfe(){if(fM)return A5;fM=1;var e=QE(),t=rc(),r=gq(),n=rs();function a(i,s){var o=n(i)?e:r;return o(i,t(s,3))}return A5=a,A5}var d5,hM;function bfe(){if(hM)return d5;hM=1;var e=mq(),t=gfe();function r(n,a){return e(t(n,a),1)}return d5=r,d5}var yfe=bfe();const vfe=Jr(yfe);var f5,mM;function xfe(){if(mM)return f5;mM=1;var e=ZE();function t(r,n){return e(r,n)}return f5=t,f5}var wfe=xfe();const df=Jr(wfe);var hp=1e9,_fe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NT,Mn=!0,lo="[DecimalError] ",Zd=lo+"Invalid argument: ",ST=lo+"Exponent out of range: ",mp=Math.floor,Fd=Math.pow,Bfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_s,za=1e7,Tn=7,uK=9007199254740991,Hx=mp(uK/Tn),Gt={};Gt.absoluteValue=Gt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Gt.comparedTo=Gt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Gt.decimalPlaces=Gt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Tn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Gt.dividedBy=Gt.div=function(e){return Wc(this,new this.constructor(e))};Gt.dividedToIntegerBy=Gt.idiv=function(e){var t=this,r=t.constructor;return bn(Wc(t,new r(e),0,1),r.precision)};Gt.equals=Gt.eq=function(e){return!this.cmp(e)};Gt.exponent=function(){return va(this)};Gt.greaterThan=Gt.gt=function(e){return this.cmp(e)>0};Gt.greaterThanOrEqualTo=Gt.gte=function(e){return this.cmp(e)>=0};Gt.isInteger=Gt.isint=function(){return this.e>this.d.length-2};Gt.isNegative=Gt.isneg=function(){return this.s<0};Gt.isPositive=Gt.ispos=function(){return this.s>0};Gt.isZero=function(){return this.s===0};Gt.lessThan=Gt.lt=function(e){return this.cmp(e)<0};Gt.lessThanOrEqualTo=Gt.lte=function(e){return this.cmp(e)<1};Gt.logarithm=Gt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_s))throw Error(lo+"NaN");if(r.s<1)throw Error(lo+(r.s?"NaN":"-Infinity"));return r.eq(_s)?new n(0):(Mn=!1,t=Wc(Fb(r,i),Fb(e,i),i),Mn=!0,bn(t,a))};Gt.minus=Gt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fK(t,e):AK(t,(e.s=-e.s,e))};Gt.modulo=Gt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(lo+"NaN");return r.s?(Mn=!1,t=Wc(r,e,0,1).times(e),Mn=!0,r.minus(t)):bn(new n(r),a)};Gt.naturalExponential=Gt.exp=function(){return dK(this)};Gt.naturalLogarithm=Gt.ln=function(){return Fb(this)};Gt.negated=Gt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Gt.plus=Gt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AK(t,e):fK(t,(e.s=-e.s,e))};Gt.precision=Gt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zd+e);if(t=va(a)+1,n=a.d.length-1,r=n*Tn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Gt.squareRoot=Gt.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(lo+"NaN")}for(e=va(o),Mn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=ql(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=mp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Wc(o,i,s+2)).times(.5),ql(i.d).slice(0,s)===(t=ql(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(bn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Mn=!0,bn(n,r)};Gt.times=Gt.mul=function(e){var t,r,n,a,i,s,o,c,A,f=this,h=f.constructor,p=f.d,g=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,c=p.length,A=g.length,c<A&&(i=p,p=g,g=i,s=c,c=A,A=s),i=[],s=c+A,n=s;n--;)i.push(0);for(n=A;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+g[n]*p[a-n-1]+t,i[a--]=o%za|0,t=o/za|0;i[a]=(i[a]+t)%za|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Mn?bn(e,h.precision):e};Gt.toDecimalPlaces=Gt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Zl(e,0,hp),t===void 0?t=n.rounding:Zl(t,0,8),bn(r,e+va(r)+1,t))};Gt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ff(n,!0):(Zl(e,0,hp),t===void 0?t=a.rounding:Zl(t,0,8),n=bn(new a(n),e+1,t),r=ff(n,!0,e+1)),r};Gt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ff(a):(Zl(e,0,hp),t===void 0?t=i.rounding:Zl(t,0,8),n=bn(new i(a),e+va(a)+1,t),r=ff(n.abs(),!1,e+va(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Gt.toInteger=Gt.toint=function(){var e=this,t=e.constructor;return bn(new t(e),va(e)+1,t.rounding)};Gt.toNumber=function(){return+this};Gt.toPower=Gt.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,A=12,f=+(e=new c(e));if(!e.s)return new c(_s);if(o=new c(o),!o.s){if(e.s<1)throw Error(lo+"Infinity");return o}if(o.eq(_s))return o;if(n=c.precision,e.eq(_s))return bn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=f<0?-f:f)<=uK){for(a=new c(_s),t=Math.ceil(n/Tn+4),Mn=!1;r%2&&(a=a.times(o),gM(a.d,t)),r=mp(r/2),r!==0;)o=o.times(o),gM(o.d,t);return Mn=!0,e.s<0?new c(_s).div(a):bn(a,n)}}else if(i<0)throw Error(lo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Mn=!1,a=e.times(Fb(o,n+A)),Mn=!0,a=dK(a),a.s=i,a};Gt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=va(a),n=ff(a,r<=i.toExpNeg||r>=i.toExpPos)):(Zl(e,1,hp),t===void 0?t=i.rounding:Zl(t,0,8),a=bn(new i(a),e,t),r=va(a),n=ff(a,e<=r||r<=i.toExpNeg,e)),n};Gt.toSignificantDigits=Gt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Zl(e,1,hp),t===void 0?t=n.rounding:Zl(t,0,8)),bn(new n(r),e,t)};Gt.toString=Gt.valueOf=Gt.val=Gt.toJSON=Gt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=va(e),r=e.constructor;return ff(e,t<=r.toExpNeg||t>=r.toExpPos)};function AK(e,t){var r,n,a,i,s,o,c,A,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Mn?bn(t,h):t;if(c=e.d,A=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=A.length):(n=A,a=s,o=c.length),s=Math.ceil(h/Tn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=A.length,o-i<0&&(i=o,n=A,A=c,c=n),r=0;i;)r=(c[--i]=c[i]+A[i]+r)/za|0,c[i]%=za;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,Mn?bn(t,h):t}function Zl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Zd+e)}function ql(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Tn-n.length,r&&(i+=oA(r)),i+=n;s=e[t],n=s+"",r=Tn-n.length,r&&(i+=oA(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Wc=(function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%za|0,s=i/za|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*za+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,A,f,h,p,g,v,b,x,w,S,N,k,C,T,O,D,R=n.constructor,q=n.s==a.s?1:-1,U=n.d,I=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(lo+"Division by zero");for(c=n.e-a.e,O=I.length,C=U.length,g=new R(q),v=g.d=[],A=0;I[A]==(U[A]||0);)++A;if(I[A]>(U[A]||0)&&--c,i==null?S=i=R.precision:s?S=i+(va(n)-va(a))+1:S=i,S<0)return new R(0);if(S=S/Tn+2|0,A=0,O==1)for(f=0,I=I[0],S++;(A<C||f)&&S--;A++)N=f*za+(U[A]||0),v[A]=N/I|0,f=N%I|0;else{for(f=za/(I[0]+1)|0,f>1&&(I=e(I,f),U=e(U,f),O=I.length,C=U.length),k=O,b=U.slice(0,O),x=b.length;x<O;)b[x++]=0;D=I.slice(),D.unshift(0),T=I[0],I[1]>=za/2&&++T;do f=0,o=t(I,b,O,x),o<0?(w=b[0],O!=x&&(w=w*za+(b[1]||0)),f=w/T|0,f>1?(f>=za&&(f=za-1),h=e(I,f),p=h.length,x=b.length,o=t(h,b,p,x),o==1&&(f--,r(h,O<p?D:I,p))):(f==0&&(o=f=1),h=I.slice()),p=h.length,p<x&&h.unshift(0),r(b,h,x),o==-1&&(x=b.length,o=t(I,b,O,x),o<1&&(f++,r(b,O<x?D:I,x))),x=b.length):o===0&&(f++,b=[0]),v[A++]=f,o&&b[0]?b[x++]=U[k]||0:(b=[U[k]],x=1);while((k++<C||b[0]!==void 0)&&S--)}return v[0]||v.shift(),g.e=c,bn(g,s?i+va(g)+1:i)}})();function dK(e,t){var r,n,a,i,s,o,c=0,A=0,f=e.constructor,h=f.precision;if(va(e)>16)throw Error(ST+va(e));if(!e.s)return new f(_s);for(Mn=!1,o=h,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),A+=5;for(n=Math.log(Fd(2,A))/Math.LN10*2+5|0,o+=n,r=a=i=new f(_s),f.precision=o;;){if(a=bn(a.times(e),o),r=r.times(++c),s=i.plus(Wc(a,r,o)),ql(s.d).slice(0,o)===ql(i.d).slice(0,o)){for(;A--;)i=bn(i.times(i),o);return f.precision=h,t==null?(Mn=!0,bn(i,h)):i}i=s}}function va(e){for(var t=e.e*Tn,r=e.d[0];r>=10;r/=10)t++;return t}function h5(e,t,r){if(t>e.LN10.sd())throw Mn=!0,r&&(e.precision=r),Error(lo+"LN10 precision limit exceeded");return bn(new e(e.LN10),t)}function oA(e){for(var t="";e--;)t+="0";return t}function Fb(e,t){var r,n,a,i,s,o,c,A,f,h=1,p=10,g=e,v=g.d,b=g.constructor,x=b.precision;if(g.s<1)throw Error(lo+(g.s?"NaN":"-Infinity"));if(g.eq(_s))return new b(0);if(t==null?(Mn=!1,A=x):A=t,g.eq(10))return t==null&&(Mn=!0),h5(b,A);if(A+=p,b.precision=A,r=ql(v),n=r.charAt(0),i=va(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=ql(g.d),n=r.charAt(0),h++;i=va(g),n>1?(g=new b("0."+r),i++):g=new b(n+"."+r.slice(1))}else return c=h5(b,A+2,x).times(i+""),g=Fb(new b(n+"."+r.slice(1)),A-p).plus(c),b.precision=x,t==null?(Mn=!0,bn(g,x)):g;for(o=s=g=Wc(g.minus(_s),g.plus(_s),A),f=bn(g.times(g),A),a=3;;){if(s=bn(s.times(f),A),c=o.plus(Wc(s,new b(a),A)),ql(c.d).slice(0,A)===ql(o.d).slice(0,A))return o=o.times(2),i!==0&&(o=o.plus(h5(b,A+2,x).times(i+""))),o=Wc(o,new b(h),A),b.precision=x,t==null?(Mn=!0,bn(o,x)):o;o=c,a+=2}}function pM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=mp(r/Tn),e.d=[],n=(r+1)%Tn,r<0&&(n+=Tn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Tn;n<a;)e.d.push(+t.slice(n,n+=Tn));t=t.slice(n),n=Tn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Mn&&(e.e>Hx||e.e<-Hx))throw Error(ST+r)}else e.s=0,e.e=0,e.d=[0];return e}function bn(e,t,r){var n,a,i,s,o,c,A,f,h=e.d;for(s=1,i=h[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Tn,a=t,A=h[f=0];else{if(f=Math.ceil((n+1)/Tn),i=h.length,f>=i)return e;for(A=i=h[f],s=1;i>=10;i/=10)s++;n%=Tn,a=n-Tn+s}if(r!==void 0&&(i=Fd(10,s-a-1),o=A/i%10|0,c=t<0||h[f+1]!==void 0||A%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?A/Fd(10,s-a):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=va(e),h.length=1,t=t-i-1,h[0]=Fd(10,(Tn-t%Tn)%Tn),e.e=mp(-t/Tn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=f,i=1,f--):(h.length=f+1,i=Fd(10,Tn-n),h[f]=a>0?(A/Fd(10,s-a)%Fd(10,a)|0)*i:0),c)for(;;)if(f==0){(h[0]+=i)==za&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=za)break;h[f--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Mn&&(e.e>Hx||e.e<-Hx))throw Error(ST+va(e));return e}function fK(e,t){var r,n,a,i,s,o,c,A,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Mn?bn(t,g):t;if(c=e.d,h=t.d,n=t.e,A=e.e,c=c.slice(),s=A-n,s){for(f=s<0,f?(r=c,s=-s,o=h.length):(r=h,n=A,o=c.length),a=Math.max(Math.ceil(g/Tn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=h.length,f=a<o,f&&(o=a),a=0;a<o;a++)if(c[a]!=h[a]){f=c[a]<h[a];break}s=0}for(f&&(r=c,c=h,h=r,t.s=-t.s),o=c.length,a=h.length-o;a>0;--a)c[o++]=0;for(a=h.length;a>s;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=za-1;--c[i],c[a]+=za}c[a]-=h[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Mn?bn(t,g):t):new p(0)}function ff(e,t,r){var n,a=va(e),i=ql(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+oA(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+oA(-a-1)+i,r&&(n=r-s)>0&&(i+=oA(n))):a>=s?(i+=oA(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+oA(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=oA(n))),e.s<0?"-"+i:i}function gM(e,t){if(e.length>t)return e.length=t,!0}function hK(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Zd+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return pM(s,i.toString())}else if(typeof i!="string")throw Error(Zd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Bfe.test(i))pM(s,i);else throw Error(Zd+i)}if(a.prototype=Gt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=hK,a.config=a.set=Sfe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Sfe(e){if(!e||typeof e!="object")throw Error(lo+"Object expected");var t,r,n,a=["precision",1,hp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(mp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Zd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zd+r+": "+n);return this}var NT=hK(_fe);_s=new NT(1);const fn=NT;function Nfe(e){return Efe(e)||kfe(e)||jfe(e)||Cfe()}function Cfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jfe(e,t){if(e){if(typeof e=="string")return ak(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ak(e,t)}}function kfe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Efe(e){if(Array.isArray(e))return ak(e)}function ak(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tfe=function(t){return t},mK={},pK=function(t){return t===mK},bM=function(t){return function r(){return arguments.length===0||arguments.length===1&&pK(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Ofe=function e(t,r){return t===1?r:bM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==mK}).length;return s>=t?r.apply(void 0,a):e(t-s,bM(function(){for(var o=arguments.length,c=new Array(o),A=0;A<o;A++)c[A]=arguments[A];var f=a.map(function(h){return pK(h)?c.shift():h});return r.apply(void 0,Nfe(f).concat(c))}))})},k1=function(t){return Ofe(t.length,t)},ik=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Ife=k1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Ufe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Tfe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},sk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},gK=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,c){return o===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Ffe(e){var t;return e===0?t=1:t=Math.floor(new fn(e).abs().log(10).toNumber())+1,t}function Dfe(e,t,r){for(var n=new fn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Lfe=k1(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Mfe=k1(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Pfe=k1(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const E1={rangeStep:Dfe,getDigitCount:Ffe,interpolateNumber:Lfe,uninterpolateNumber:Mfe,uninterpolateTruncation:Pfe};function ok(e){return Hfe(e)||Rfe(e)||bK(e)||Qfe()}function Qfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rfe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Hfe(e){if(Array.isArray(e))return lk(e)}function Db(e,t){return Kfe(e)||qfe(e,t)||bK(e,t)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bK(e,t){if(e){if(typeof e=="string")return lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(e,t)}}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qfe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Kfe(e){if(Array.isArray(e))return e}function yK(e){var t=Db(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function vK(e,t,r){if(e.lte(0))return new fn(0);var n=E1.getDigitCount(e.toNumber()),a=new fn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new fn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?c:new fn(Math.ceil(c))}function zfe(e,t,r){var n=1,a=new fn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new fn(10).pow(E1.getDigitCount(e)-1),a=new fn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new fn(Math.floor(e)))}else e===0?a=new fn(Math.floor((t-1)/2)):r||(a=new fn(Math.floor(e)));var s=Math.floor((t-1)/2),o=Ufe(Ife(function(c){return a.add(new fn(c-s).mul(n)).toNumber()}),ik);return o(0,t)}function xK(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new fn(0),tickMin:new fn(0),tickMax:new fn(0)};var i=vK(new fn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new fn(0):(s=new fn(e).add(t).div(2),s=s.sub(new fn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new fn(t).sub(s).div(i).toNumber()),A=o+c+1;return A>r?xK(e,t,r,n,a+1):(A<r&&(c=t>0?c+(r-A):c,o=t>0?o:o+(r-A)),{step:i,tickMin:s.sub(new fn(o).mul(i)),tickMax:s.add(new fn(c).mul(i))})}function Gfe(e){var t=Db(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=yK([r,n]),c=Db(o,2),A=c[0],f=c[1];if(A===-1/0||f===1/0){var h=f===1/0?[A].concat(ok(ik(0,a-1).map(function(){return 1/0}))):[].concat(ok(ik(0,a-1).map(function(){return-1/0})),[f]);return r>n?sk(h):h}if(A===f)return zfe(A,a,i);var p=xK(A,f,s,i),g=p.step,v=p.tickMin,b=p.tickMax,x=E1.rangeStep(v,b.add(new fn(.1).mul(g)),g);return r>n?sk(x):x}function Vfe(e,t){var r=Db(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=yK([n,a]),o=Db(s,2),c=o[0],A=o[1];if(c===-1/0||A===1/0)return[n,a];if(c===A)return[c];var f=Math.max(t,2),h=vK(new fn(A).sub(c).div(f-1),i,0),p=[].concat(ok(E1.rangeStep(new fn(c),new fn(A).sub(new fn(.99).mul(h)),h)),[A]);return n>a?sk(p):p}var Wfe=gK(Gfe),Yfe=gK(Vfe),Xfe="Invariant failed";function hf(e,t){throw new Error(Xfe)}var Jfe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(this,arguments)}function Zfe(e,t){return nhe(e)||rhe(e,t)||the(e,t)||ehe()}function ehe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function the(e,t){if(e){if(typeof e=="string")return yM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yM(e,t)}}function yM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function nhe(e){if(Array.isArray(e))return e}function ahe(e,t){if(e==null)return{};var r=ihe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ihe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function she(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ohe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BK(n.key),n)}}function lhe(e,t,r){return t&&ohe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function che(e,t,r){return t=qx(t),uhe(e,wK()?Reflect.construct(t,r||[],qx(e).constructor):t.apply(e,r))}function uhe(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ahe(e)}function Ahe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wK=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qx(e)}function dhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ck(e,t)}function _K(e,t,r){return t=BK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BK(e){var t=fhe(e,"string");return Dm(t)=="symbol"?t:t+""}function fhe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sy=(function(e){function t(){return she(this,t),che(this,t,arguments)}return dhe(t,e),lhe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,c=n.data,A=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,p=ahe(n,Jfe),g=Zt(p,!1);this.props.direction==="x"&&f.type!=="number"&&hf();var v=c.map(function(b){var x=A(b,o),w=x.x,S=x.y,N=x.value,k=x.errorVal;if(!k)return null;var C=[],T,O;if(Array.isArray(k)){var D=Zfe(k,2);T=D[0],O=D[1]}else T=O=k;if(i==="vertical"){var R=f.scale,q=S+a,U=q+s,I=q-s,Q=R(N-T),H=R(N+O);C.push({x1:H,y1:U,x2:H,y2:I}),C.push({x1:Q,y1:q,x2:H,y2:q}),C.push({x1:Q,y1:U,x2:Q,y2:I})}else if(i==="horizontal"){var Y=h.scale,K=w+a,J=K-s,re=K+s,oe=Y(N-T),V=Y(N+O);C.push({x1:J,y1:V,x2:re,y2:V}),C.push({x1:K,y1:oe,x2:K,y2:V}),C.push({x1:J,y1:oe,x2:re,y2:oe})}return xe.createElement(Dr,$x({className:"recharts-errorBar",key:"bar-".concat(C.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},g),C.map(function(W){return xe.createElement("line",$x({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return xe.createElement(Dr,{className:"recharts-errorBars"},v)}}])})(xe.Component);_K(Sy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_K(Sy,"displayName","ErrorBar");function Lb(e){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lb(e)}function vM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(r),!0).forEach(function(n){hhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hhe(e,t,r){return t=mhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mhe(e){var t=phe(e,"string");return Lb(t)=="symbol"?t:t+""}function phe(e,t){if(Lb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SK=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=ws(r,um);if(!s)return null;var o=um.defaultProps,c=o!==void 0?Bd(Bd({},o),s.props):{},A;return s.props&&s.props.payload?A=s.props&&s.props.payload:i==="children"?A=(n||[]).reduce(function(f,h){var p=h.item,g=h.props,v=g.sectors||g.data||[];return f.concat(v.map(function(b){return{type:s.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):A=(n||[]).map(function(f){var h=f.item,p=h.type.defaultProps,g=p!==void 0?Bd(Bd({},p),h.props):{},v=g.dataKey,b=g.name,x=g.legendType,w=g.hide;return{inactive:w,dataKey:v,type:c.iconType||x||"square",color:CT(h),value:b||v,payload:g}}),Bd(Bd(Bd({},c),um.getWithHeight(s,a)),{},{payload:A,item:s})};function Mb(e){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mb(e)}function xM(e){return vhe(e)||yhe(e)||bhe(e)||ghe()}function ghe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bhe(e,t){if(e){if(typeof e=="string")return uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uk(e,t)}}function yhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vhe(e){if(Array.isArray(e))return uk(e)}function uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(r),!0).forEach(function(n){dm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dm(e,t,r){return t=xhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xhe(e){var t=whe(e,"string");return Mb(t)=="symbol"?t:t+""}function whe(e,t){if(Mb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aa(e,t,r){return br(e)||br(t)?r:Oa(t)?Ss(e,t,r):cr(t)?t(e):r}function nb(e,t,r,n){var a=vfe(e,function(o){return Aa(o,t)});if(r==="number"){var i=a.filter(function(o){return kt(o)||parseFloat(o)});return i.length?[j1(i),mA(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!br(o)}):a;return s.map(function(o){return Oa(o)||o instanceof Date?o:""})}var _he=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n?.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,A=0;A<o;A++){var f=A>0?a[A-1].coordinate:a[o-1].coordinate,h=a[A].coordinate,p=A>=o-1?a[0].coordinate:a[A+1].coordinate,g=void 0;if(Fi(h-f)!==Fi(p-h)){var v=[];if(Fi(p-h)===Fi(c[1]-c[0])){g=p;var b=h+c[1]-c[0];v[0]=Math.min(b,(b+f)/2),v[1]=Math.max(b,(b+f)/2)}else{g=f;var x=p+c[1]-c[0];v[0]=Math.min(h,(x+h)/2),v[1]=Math.max(h,(x+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(t>w[0]&&t<=w[1]||t>=v[0]&&t<=v[1]){s=a[A].index;break}}else{var S=Math.min(f,p),N=Math.max(f,p);if(t>(S+h)/2&&t<=(N+h)/2){s=a[A].index;break}}}else for(var k=0;k<o;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<o-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===o-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){s=n[k].index;break}return s},CT=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Xn(Xn({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},Bhe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),c=0,A=o.length;c<A;c++)for(var f=i[o[c]].stackGroups,h=Object.keys(f),p=0,g=h.length;p<g;p++){var v=f[h[p]],b=v.items,x=v.cateAxisId,w=b.filter(function(O){return Vc(O.type).indexOf("Bar")>=0});if(w&&w.length){var S=w[0].type.defaultProps,N=S!==void 0?Xn(Xn({},S),w[0].props):w[0].props,k=N.barSize,C=N[x];s[C]||(s[C]=[]);var T=br(k)?r:k;s[C].push({item:w[0],stackList:w.slice(1),barSize:br(T)?void 0:Di(T,n,0)})}}return s},She=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,c=s.length;if(c<1)return null;var A=Di(r,a,0,!0),f,h=[];if(s[0].barSize===+s[0].barSize){var p=!1,g=a/c,v=s.reduce(function(k,C){return k+C.barSize||0},0);v+=(c-1)*A,v>=a&&(v-=(c-1)*A,A=0),v>=a&&g>0&&(p=!0,g*=.9,v=c*g);var b=(a-v)/2>>0,x={offset:b-A,size:0};f=s.reduce(function(k,C){var T={item:C.item,position:{offset:x.offset+x.size+A,size:p?g:C.barSize}},O=[].concat(xM(k),[T]);return x=O[O.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(D){O.push({item:D,position:x})}),O},h)}else{var w=Di(n,a,0,!0);a-2*w-(c-1)*A<=0&&(A=0);var S=(a-2*w-(c-1)*A)/c;S>1&&(S>>=0);var N=o===+o?Math.min(S,o):S;f=s.reduce(function(k,C,T){var O=[].concat(xM(k),[{item:C.item,position:{offset:w+(S+A)*T+(S-N)/2,size:N}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(D){O.push({item:D,position:O[O.length-1].position})}),O},h)}return f},Nhe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),A=SK({children:i,legendWidth:c});if(A){var f=a||{},h=f.width,p=f.height,g=A.align,v=A.verticalAlign,b=A.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&g!=="center"&&kt(t[g]))return Xn(Xn({},t),{},dm({},g,t[g]+(h||0)));if((b==="horizontal"||b==="vertical"&&g==="center")&&v!=="middle"&&kt(t[v]))return Xn(Xn({},t),{},dm({},v,t[v]+(p||0)))}return t},Che=function(t,r,n){return br(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},NK=function(t,r,n,a,i){var s=r.props.children,o=Ns(s,Sy).filter(function(A){return Che(a,i,A.props.direction)});if(o&&o.length){var c=o.map(function(A){return A.props.dataKey});return t.reduce(function(A,f){var h=Aa(f,n);if(br(h))return A;var p=Array.isArray(h)?[j1(h),mA(h)]:[h,h],g=c.reduce(function(v,b){var x=Aa(f,b,0),w=p[0]-Math.abs(Array.isArray(x)?x[0]:x),S=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,v[0]),Math.max(S,v[1])]},[1/0,-1/0]);return[Math.min(g[0],A[0]),Math.max(g[1],A[1])]},[1/0,-1/0])}return null},jhe=function(t,r,n,a,i){var s=r.map(function(o){return NK(t,o,n,i,a)}).filter(function(o){return!br(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},CK=function(t,r,n,a,i){var s=r.map(function(c){var A=c.props.dataKey;return n==="number"&&A&&NK(t,c,A,a)||nb(t,A,n,i)});if(n==="number")return s.reduce(function(c,A){return[Math.min(c[0],A[0]),Math.max(c[1],A[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,A){for(var f=0,h=A.length;f<h;f++)o[A[f]]||(o[A[f]]=!0,c.push(A[f]));return c},[])},jK=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},kK=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,o=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||o.push(r),s||o.push(n),o},Kc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,A=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(A=t.axisType==="angleAxis"&&o?.length>=2?Fi(o[0]-o[1])*2*A:A,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(h){var p=i?i.indexOf(h):h;return{coordinate:a(p)+A,value:h,offset:A}});return f.filter(function(h){return!Ap(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,p){return{coordinate:a(h)+A,value:h,index:p,offset:A}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+A,value:h,offset:A}}):a.domain().map(function(h,p){return{coordinate:a(h)+A,value:i?i[h]:h,index:p,offset:A}})},m5=new WeakMap,e0=function(t,r){if(typeof r!="function")return t;m5.has(t)||m5.set(t,new WeakMap);var n=m5.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},EK=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Eb(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Mx(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:rb(),realScaleType:"point"}:i==="category"?{scale:Eb(),realScaleType:"band"}:{scale:Mx(),realScaleType:"linear"};if(cf(a)){var c="scale".concat(d1(a));return{scale:(oM[c]||rb)(),realScaleType:oM[c]?c:"point"}}return cr(a)?{scale:a}:{scale:rb(),realScaleType:"point"}},_M=1e-4,TK=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-_M,s=Math.max(a[0],a[1])+_M,o=t(r[0]),c=t(r[n-1]);(o<i||o>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},khe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Ehe=function(t,r){if(!r||r.length!==2||!kt(r[0])||!kt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!kt(t[0])||t[0]<n)&&(i[0]=n),(!kt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},The=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var c=Ap(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1])}},Ohe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Ap(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Ihe={sign:The,expand:voe,none:jm,silhouette:xoe,wiggle:woe,positive:Ohe},Uhe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=Ihe[n],s=yoe().keys(a).value(function(o,c){return+Aa(o,c,0)}).order(Qj).offset(i);return s(t)},Fhe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,c={},A=o.reduce(function(h,p){var g,v=(g=p.type)!==null&&g!==void 0&&g.defaultProps?Xn(Xn({},p.type.defaultProps),p.props):p.props,b=v.stackId,x=v.hide;if(x)return h;var w=v[n],S=h[w]||{hasStack:!1,stackGroups:{}};if(Oa(b)){var N=S.stackGroups[b]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(p),S.hasStack=!0,S.stackGroups[b]=N}else S.stackGroups[wf("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return Xn(Xn({},h),{},dm({},w,S))},c),f={};return Object.keys(A).reduce(function(h,p){var g=A[p];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(b,x){var w=g.stackGroups[x];return Xn(Xn({},b),{},dm({},x,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:Uhe(t,w.items,i)}))},v)}return Xn(Xn({},h),{},dm({},p,g))},f)},OK=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var A=t.domain();if(!A.length)return null;var f=Wfe(A,i,o);return t.domain([j1(f),mA(f)]),{niceTicks:f}}if(i&&a==="number"){var h=t.domain(),p=Yfe(h,i,o);return{niceTicks:p}}return null};function Kx(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!br(a[t.dataKey])){var o=vx(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Aa(a,br(s)?t.dataKey:s);return br(c)?null:t.scale(c)}var BM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var c=Aa(s,r.dataKey,r.domain[o]);return br(c)?null:r.scale(c)-i/2+a},Dhe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Lhe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Xn(Xn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Oa(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},Mhe=function(t){return t.reduce(function(r,n){return[j1(n.concat([r[0]]).filter(kt)),mA(n.concat([r[1]]).filter(kt))]},[1/0,-1/0])},IK=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,c=o.reduce(function(A,f){var h=Mhe(f.slice(r,n+1));return[Math.min(A[0],h[0]),Math.max(A[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},SM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ak=function(t,r,n){if(cr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(kt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(SM.test(t[0])){var i=+SM.exec(t[0])[1];a[0]=r[0]-i}else cr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(kt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(NM.test(t[1])){var s=+NM.exec(t[1])[1];a[1]=r[1]+s}else cr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},zx=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=tT(r,function(h){return h.coordinate}),s=1/0,o=1,c=i.length;o<c;o++){var A=i[o],f=i[o-1];s=Math.min((A.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},CM=function(t,r,n){return!t||!t.length||df(t,Ss(n,"type.defaultProps.domain"))?r:t},UK=function(t,r){var n=t.type.defaultProps?Xn(Xn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,A=n.chartType,f=n.hide;return Xn(Xn({},Zt(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:CT(t),value:Aa(r,a),type:c,payload:r,chartType:A,hide:f})};function Pb(e){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(e)}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){FK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FK(e,t,r){return t=Phe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Phe(e){var t=Qhe(e,"string");return Pb(t)=="symbol"?t:t+""}function Qhe(e,t){if(Pb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rhe(e,t){return Khe(e)||qhe(e,t)||$he(e,t)||Hhe()}function Hhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $he(e,t){if(e){if(typeof e=="string")return kM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kM(e,t)}}function kM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function Khe(e){if(Array.isArray(e))return e}var Gx=Math.PI/180,zhe=function(t){return t*180/Math.PI},jn=function(t,r,n,a){return{x:t+Math.cos(-Gx*a)*n,y:r+Math.sin(-Gx*a)*n}},DK=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Ghe=function(t,r,n,a,i){var s=t.width,o=t.height,c=t.startAngle,A=t.endAngle,f=Di(t.cx,s,s/2),h=Di(t.cy,o,o/2),p=DK(s,o,n),g=Di(t.innerRadius,p,0),v=Di(t.outerRadius,p,p*.8),b=Object.keys(r);return b.reduce(function(x,w){var S=r[w],N=S.domain,k=S.reversed,C;if(br(S.range))a==="angleAxis"?C=[c,A]:a==="radiusAxis"&&(C=[g,v]),k&&(C=[C[1],C[0]]);else{C=S.range;var T=C,O=Rhe(T,2);c=O[0],A=O[1]}var D=EK(S,i),R=D.realScaleType,q=D.scale;q.domain(N).range(C),TK(q);var U=OK(q,Hc(Hc({},S),{},{realScaleType:R})),I=Hc(Hc(Hc({},S),U),{},{range:C,radius:v,realScaleType:R,scale:q,cx:f,cy:h,innerRadius:g,outerRadius:v,startAngle:c,endAngle:A});return Hc(Hc({},x),{},FK({},w,I))},{})},Vhe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Whe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=Vhe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var c=(n-i)/o,A=Math.acos(c);return a>s&&(A=2*Math.PI-A),{radius:o,angle:zhe(A),angleInRadian:A}},Yhe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Xhe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},EM=function(t,r){var n=t.x,a=t.y,i=Whe({x:n,y:a},r),s=i.radius,o=i.angle,c=r.innerRadius,A=r.outerRadius;if(s<c||s>A)return!1;if(s===0)return!0;var f=Yhe(r),h=f.startAngle,p=f.endAngle,g=o,v;if(h<=p){for(;g>p;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=p}else{for(;g>h;)g-=360;for(;g<p;)g+=360;v=g>=p&&g<=h}return v?Hc(Hc({},r),{},{radius:s,angle:Xhe(g,r)}):null},LK=function(t){return!B.isValidElement(t)&&!cr(t)&&typeof t!="boolean"?t.className:""};function Qb(e){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(e)}var Jhe=["offset"];function Zhe(e){return nme(e)||rme(e)||tme(e)||eme()}function eme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tme(e,t){if(e){if(typeof e=="string")return dk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dk(e,t)}}function rme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nme(e){if(Array.isArray(e))return dk(e)}function dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ame(e,t){if(e==null)return{};var r=ime(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ime(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){sme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sme(e,t,r){return t=ome(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ome(e){var t=lme(e,"string");return Qb(t)=="symbol"?t:t+""}function lme(e,t){if(Qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}var cme=function(t){var r=t.value,n=t.formatter,a=br(t.children)?r:t.children;return cr(n)?n(a):a},ume=function(t,r){var n=Fi(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Ame=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,c=i,A=c.cx,f=c.cy,h=c.innerRadius,p=c.outerRadius,g=c.startAngle,v=c.endAngle,b=c.clockWise,x=(h+p)/2,w=ume(g,v),S=w>=0?1:-1,N,k;a==="insideStart"?(N=g+S*s,k=b):a==="insideEnd"?(N=v-S*s,k=!b):a==="end"&&(N=v+S*s,k=b),k=w<=0?k:!k;var C=jn(A,f,x,N),T=jn(A,f,x,N+(k?1:-1)*359),O="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(T.x,",").concat(T.y),D=br(t.id)?wf("recharts-radial-line-"):t.id;return xe.createElement("text",Rb({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",o)}),xe.createElement("defs",null,xe.createElement("path",{id:D,d:O})),xe.createElement("textPath",{xlinkHref:"#".concat(D)},r))},dme=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,c=i.innerRadius,A=i.outerRadius,f=i.startAngle,h=i.endAngle,p=(f+h)/2;if(a==="outside"){var g=jn(s,o,A+n,p),v=g.x,b=g.y;return{x:v,y:b,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(c+A)/2,w=jn(s,o,x,p),S=w.x,N=w.y;return{x:S,y:N,textAnchor:"middle",verticalAnchor:"middle"}},fme=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,c=s.y,A=s.width,f=s.height,h=f>=0?1:-1,p=h*a,g=h>0?"end":"start",v=h>0?"start":"end",b=A>=0?1:-1,x=b*a,w=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var N={x:o+A/2,y:c-h*a,textAnchor:"middle",verticalAnchor:g};return Na(Na({},N),n?{height:Math.max(c-n.y,0),width:A}:{})}if(i==="bottom"){var k={x:o+A/2,y:c+f+p,textAnchor:"middle",verticalAnchor:v};return Na(Na({},k),n?{height:Math.max(n.y+n.height-(c+f),0),width:A}:{})}if(i==="left"){var C={x:o-x,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return Na(Na({},C),n?{width:Math.max(C.x-n.x,0),height:f}:{})}if(i==="right"){var T={x:o+A+x,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return Na(Na({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:f}:{})}var O=n?{width:A,height:f}:{};return i==="insideLeft"?Na({x:o+x,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},O):i==="insideRight"?Na({x:o+A-x,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},O):i==="insideTop"?Na({x:o+A/2,y:c+p,textAnchor:"middle",verticalAnchor:v},O):i==="insideBottom"?Na({x:o+A/2,y:c+f-p,textAnchor:"middle",verticalAnchor:g},O):i==="insideTopLeft"?Na({x:o+x,y:c+p,textAnchor:S,verticalAnchor:v},O):i==="insideTopRight"?Na({x:o+A-x,y:c+p,textAnchor:w,verticalAnchor:v},O):i==="insideBottomLeft"?Na({x:o+x,y:c+f-p,textAnchor:S,verticalAnchor:g},O):i==="insideBottomRight"?Na({x:o+A-x,y:c+f-p,textAnchor:w,verticalAnchor:g},O):up(i)&&(kt(i.x)||zd(i.x))&&(kt(i.y)||zd(i.y))?Na({x:o+Di(i.x,A),y:c+Di(i.y,f),textAnchor:"end",verticalAnchor:"end"},O):Na({x:o+A/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},hme=function(t){return"cx"in t&&kt(t.cx)};function Va(e){var t=e.offset,r=t===void 0?5:t,n=ame(e,Jhe),a=Na({offset:r},n),i=a.viewBox,s=a.position,o=a.value,c=a.children,A=a.content,f=a.className,h=f===void 0?"":f,p=a.textBreakAll;if(!i||br(o)&&br(c)&&!B.isValidElement(A)&&!cr(A))return null;if(B.isValidElement(A))return B.cloneElement(A,a);var g;if(cr(A)){if(g=B.createElement(A,a),B.isValidElement(g))return g}else g=cme(a);var v=hme(i),b=Zt(a,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ame(a,g,b);var x=v?dme(a):fme(a);return xe.createElement(Af,Rb({className:tt("recharts-label",h)},b,x,{breakAll:p}),g)}Va.displayName="Label";var MK=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,c=t.radius,A=t.innerRadius,f=t.outerRadius,h=t.x,p=t.y,g=t.top,v=t.left,b=t.width,x=t.height,w=t.clockWise,S=t.labelViewBox;if(S)return S;if(kt(b)&&kt(x)){if(kt(h)&&kt(p))return{x:h,y:p,width:b,height:x};if(kt(g)&&kt(v))return{x:g,y:v,width:b,height:x}}return kt(h)&&kt(p)?{x:h,y:p,width:0,height:0}:kt(r)&&kt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:A||0,outerRadius:f||c||o||0,clockWise:w}:t.viewBox?t.viewBox:{}},mme=function(t,r){return t?t===!0?xe.createElement(Va,{key:"label-implicit",viewBox:r}):Oa(t)?xe.createElement(Va,{key:"label-implicit",viewBox:r,value:t}):B.isValidElement(t)?t.type===Va?B.cloneElement(t,{key:"label-implicit",viewBox:r}):xe.createElement(Va,{key:"label-implicit",content:t,viewBox:r}):cr(t)?xe.createElement(Va,{key:"label-implicit",content:t,viewBox:r}):up(t)?xe.createElement(Va,Rb({viewBox:r},t,{key:"label-implicit"})):null:null},pme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=MK(t),s=Ns(a,Va).map(function(c,A){return B.cloneElement(c,{viewBox:r||i,key:"label-".concat(A)})});if(!n)return s;var o=mme(t.label,r||i);return[o].concat(Zhe(s))};Va.parseViewBox=MK;Va.renderCallByParent=pme;var p5,OM;function gme(){if(OM)return p5;OM=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return p5=e,p5}var bme=gme();const yme=Jr(bme);function Hb(e){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hb(e)}var vme=["valueAccessor"],xme=["data","dataKey","clockWise","id","textBreakAll"];function wme(e){return Nme(e)||Sme(e)||Bme(e)||_me()}function _me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bme(e,t){if(e){if(typeof e=="string")return fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(e,t)}}function Sme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nme(e){if(Array.isArray(e))return fk(e)}function fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(this,arguments)}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){Cme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cme(e,t,r){return t=jme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jme(e){var t=kme(e,"string");return Hb(t)=="symbol"?t:t+""}function kme(e,t){if(Hb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FM(e,t){if(e==null)return{};var r=Eme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Tme=function(t){return Array.isArray(t.value)?yme(t.value):t.value};function Yl(e){var t=e.valueAccessor,r=t===void 0?Tme:t,n=FM(e,vme),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,A=FM(n,xme);return!a||!a.length?null:xe.createElement(Dr,{className:"recharts-label-list"},a.map(function(f,h){var p=br(i)?r(f,h):Aa(f&&f.payload,i),g=br(o)?{}:{id:"".concat(o,"-").concat(h)};return xe.createElement(Va,Vx({},Zt(f,!0),A,g,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:Va.parseViewBox(br(s)?f:UM(UM({},f),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}Yl.displayName="LabelList";function Ome(e,t){return e?e===!0?xe.createElement(Yl,{key:"labelList-implicit",data:t}):xe.isValidElement(e)||cr(e)?xe.createElement(Yl,{key:"labelList-implicit",data:t,content:e}):up(e)?xe.createElement(Yl,Vx({data:t},e,{key:"labelList-implicit"})):null:null}function Ime(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ns(n,Yl).map(function(s,o){return B.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=Ome(e.label,t);return[i].concat(wme(a))}Yl.renderCallByParent=Ime;function $b(e){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$b(e)}function hk(){return hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hk.apply(this,arguments)}function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(n){Ume(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ume(e,t,r){return t=Fme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fme(e){var t=Dme(e,"string");return $b(t)=="symbol"?t:t+""}function Dme(e,t){if($b(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($b(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lme=function(t,r){var n=Fi(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},t0=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,c=t.cornerRadius,A=t.cornerIsExternal,f=c*(o?1:-1)+a,h=Math.asin(c/f)/Gx,p=A?i:i+s*h,g=jn(r,n,f,p),v=jn(r,n,a,p),b=A?i-s*h:i,x=jn(r,n,f*Math.cos(h*Gx),b);return{center:g,circleTangency:v,lineTangency:x,theta:h}},PK=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,c=Lme(s,o),A=s+c,f=jn(r,n,i,s),h=jn(r,n,i,A),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>A),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=jn(r,n,a,s),v=jn(r,n,a,A);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=A),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Mme=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,A=t.startAngle,f=t.endAngle,h=Fi(f-A),p=t0({cx:r,cy:n,radius:i,angle:A,sign:h,cornerRadius:s,cornerIsExternal:c}),g=p.circleTangency,v=p.lineTangency,b=p.theta,x=t0({cx:r,cy:n,radius:i,angle:f,sign:-h,cornerRadius:s,cornerIsExternal:c}),w=x.circleTangency,S=x.lineTangency,N=x.theta,k=c?Math.abs(A-f):Math.abs(A-f)-b-N;if(k<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):PK({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:A,endAngle:f});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(a>0){var T=t0({cx:r,cy:n,radius:a,angle:A,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),O=T.circleTangency,D=T.lineTangency,R=T.theta,q=t0({cx:r,cy:n,radius:a,angle:f,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),U=q.circleTangency,I=q.lineTangency,Q=q.theta,H=c?Math.abs(A-f):Math.abs(A-f)-R-Q;if(H<0&&s===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},Pme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QK=function(t){var r=LM(LM({},Pme),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,A=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,p=r.className;if(s<i||f===h)return null;var g=tt("recharts-sector",p),v=s-i,b=Di(o,v,0,!0),x;return b>0&&Math.abs(f-h)<360?x=Mme({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:c,cornerIsExternal:A,startAngle:f,endAngle:h}):x=PK({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:h}),xe.createElement("path",hk({},Zt(r,!0),{className:g,d:x,role:"img"}))};function qb(e){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qb(e)}function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mk.apply(this,arguments)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){Qme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qme(e,t,r){return t=Rme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rme(e){var t=Hme(e,"string");return qb(t)=="symbol"?t:t+""}function Hme(e,t){if(qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QM={curveBasisClosed:loe,curveBasisOpen:coe,curveBasis:ooe,curveBumpX:Gse,curveBumpY:Vse,curveLinearClosed:uoe,curveLinear:h1,curveMonotoneX:Aoe,curveMonotoneY:doe,curveNatural:foe,curveStep:hoe,curveStepAfter:poe,curveStepBefore:moe},r0=function(t){return t.x===+t.x&&t.y===+t.y},wg=function(t){return t.x},_g=function(t){return t.y},$me=function(t,r){if(cr(t))return t;var n="curve".concat(d1(t));return(n==="curveMonotone"||n==="curveBump")&&r?QM["".concat(n).concat(r==="vertical"?"Y":"X")]:QM[n]||h1},qme=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,c=t.connectNulls,A=c===void 0?!1:c,f=$me(n,o),h=A?i.filter(function(b){return r0(b)}):i,p;if(Array.isArray(s)){var g=A?s.filter(function(b){return r0(b)}):s,v=h.map(function(b,x){return PM(PM({},b),{},{base:g[x]})});return o==="vertical"?p=Gv().y(_g).x1(wg).x0(function(b){return b.base.x}):p=Gv().x(wg).y1(_g).y0(function(b){return b.base.y}),p.defined(r0).curve(f),p(v)}return o==="vertical"&&kt(s)?p=Gv().y(_g).x1(wg).x0(s):kt(s)?p=Gv().x(wg).y1(_g).y0(s):p=M9().x(wg).y(_g),p.defined(r0).curve(f),p(h)},ef=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?qme(t):a;return B.createElement("path",mk({},Zt(t,!1),xx(t),{className:tt("recharts-curve",r),d:s,ref:i}))},g5={exports:{}},b5,RM;function Kme(){if(RM)return b5;RM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return b5=e,b5}var y5,HM;function zme(){if(HM)return y5;HM=1;var e=Kme();function t(){}function r(){}return r.resetWarningCache=t,y5=function(){function n(s,o,c,A,f,h){if(h!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},y5}var $M;function Gme(){return $M||($M=1,g5.exports=zme()()),g5.exports}var Vme=Gme();const tn=Jr(Vme);var Wme=Object.getOwnPropertyNames,Yme=Object.getOwnPropertySymbols,Xme=Object.prototype.hasOwnProperty;function qM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function n0(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function KM(e){return Wme(e).concat(Yme(e))}var Jme=Object.hasOwn||(function(e,t){return Xme.call(e,t)});function Sf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Zme="__v",epe="__o",tpe="_owner",zM=Object.getOwnPropertyDescriptor,GM=Object.keys;function rpe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function npe(e,t){return Sf(e.getTime(),t.getTime())}function ape(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ipe(e,t){return e===t}function VM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,c=0;(s=i.next())&&!s.done;){for(var A=t.entries(),f=!1,h=0;(o=A.next())&&!o.done;){if(a[h]){h++;continue}var p=s.value,g=o.value;if(r.equals(p[0],g[0],c,h,e,t,r)&&r.equals(p[1],g[1],p[0],g[0],e,t,r)){f=a[h]=!0;break}h++}if(!f)return!1;c++}return!0}var spe=Sf;function ope(e,t,r){var n=GM(e),a=n.length;if(GM(t).length!==a)return!1;for(;a-- >0;)if(!RK(e,t,r,n[a]))return!1;return!0}function Bg(e,t,r){var n=KM(e),a=n.length;if(KM(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!RK(e,t,r,i)||(s=zM(e,i),o=zM(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function lpe(e,t){return Sf(e.valueOf(),t.valueOf())}function cpe(e,t){return e.source===t.source&&e.flags===t.flags}function WM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var c=t.values(),A=!1,f=0;(o=c.next())&&!o.done;){if(!a[f]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){A=a[f]=!0;break}f++}if(!A)return!1}return!0}function upe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Ape(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function RK(e,t,r,n){return(n===tpe||n===epe||n===Zme)&&(e.$$typeof||t.$$typeof)?!0:Jme(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var dpe="[object Arguments]",fpe="[object Boolean]",hpe="[object Date]",mpe="[object Error]",ppe="[object Map]",gpe="[object Number]",bpe="[object Object]",ype="[object RegExp]",vpe="[object Set]",xpe="[object String]",wpe="[object URL]",_pe=Array.isArray,YM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,XM=Object.assign,Bpe=Object.prototype.toString.call.bind(Object.prototype.toString);function Spe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,A=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(v,b,x){if(v===b)return!0;if(v==null||b==null)return!1;var w=typeof v;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?s(v,b,x):w==="function"?a(v,b,x):!1;var S=v.constructor;if(S!==b.constructor)return!1;if(S===Object)return o(v,b,x);if(_pe(v))return t(v,b,x);if(YM!=null&&YM(v))return h(v,b,x);if(S===Date)return r(v,b,x);if(S===RegExp)return A(v,b,x);if(S===Map)return i(v,b,x);if(S===Set)return f(v,b,x);var N=Bpe(v);return N===hpe?r(v,b,x):N===ype?A(v,b,x):N===ppe?i(v,b,x):N===vpe?f(v,b,x):N===bpe?typeof v.then!="function"&&typeof b.then!="function"&&o(v,b,x):N===wpe?p(v,b,x):N===mpe?n(v,b,x):N===dpe?o(v,b,x):N===fpe||N===gpe||N===xpe?c(v,b,x):!1}}function Npe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Bg:rpe,areDatesEqual:npe,areErrorsEqual:ape,areFunctionsEqual:ipe,areMapsEqual:n?qM(VM,Bg):VM,areNumbersEqual:spe,areObjectsEqual:n?Bg:ope,arePrimitiveWrappersEqual:lpe,areRegExpsEqual:cpe,areSetsEqual:n?qM(WM,Bg):WM,areTypedArraysEqual:n?Bg:upe,areUrlsEqual:Ape};if(r&&(a=XM({},a,r(a))),t){var i=n0(a.areArraysEqual),s=n0(a.areMapsEqual),o=n0(a.areObjectsEqual),c=n0(a.areSetsEqual);a=XM({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return a}function Cpe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function jpe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,A){var f=n(),h=f.cache,p=h===void 0?t?new WeakMap:void 0:h,g=f.meta;return r(c,A,{cache:p,equals:a,meta:g,strict:i})};if(t)return function(c,A){return r(c,A,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,A){return r(c,A,s)}}var kpe=QA();QA({strict:!0});QA({circular:!0});QA({circular:!0,strict:!0});QA({createInternalComparator:function(){return Sf}});QA({strict:!0,createInternalComparator:function(){return Sf}});QA({circular:!0,createInternalComparator:function(){return Sf}});QA({circular:!0,createInternalComparator:function(){return Sf},strict:!0});function QA(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=Npe(e),c=Spe(o),A=n?n(c):Cpe(c);return jpe({circular:r,comparator:c,createState:a,equals:A,strict:s})}function Epe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function JM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Epe(a)};requestAnimationFrame(n)}function pk(e){"@babel/helpers - typeof";return pk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pk(e)}function Tpe(e){return Fpe(e)||Upe(e)||Ipe(e)||Ope()}function Ope(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ipe(e,t){if(e){if(typeof e=="string")return ZM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZM(e,t)}}function ZM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Upe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fpe(e){if(Array.isArray(e))return e}function Dpe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=Tpe(s),c=o[0],A=o.slice(1);if(typeof c=="number"){JM(a.bind(null,A),c);return}a(c),JM(a.bind(null,A));return}pk(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Kb(e){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kb(e)}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){HK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t,r){return t=Lpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lpe(e){var t=Mpe(e,"string");return Kb(t)==="symbol"?t:String(t)}function Mpe(e,t){if(Kb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ppe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Qpe=function(t){return t},Rpe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ab=function(t,r){return Object.keys(r).reduce(function(n,a){return tP(tP({},n),{},HK({},a,t(a,r[a])))},{})},rP=function(t,r,n){return t.map(function(a){return"".concat(Rpe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Hpe(e,t){return Kpe(e)||qpe(e,t)||$K(e,t)||$pe()}function $pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function Kpe(e){if(Array.isArray(e))return e}function zpe(e){return Wpe(e)||Vpe(e)||$K(e)||Gpe()}function Gpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $K(e,t){if(e){if(typeof e=="string")return gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gk(e,t)}}function Vpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wpe(e){if(Array.isArray(e))return gk(e)}function gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wx=1e-4,qK=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},KK=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},nP=function(t,r){return function(n){var a=qK(t,r);return KK(a,n)}},Ype=function(t,r){return function(n){var a=qK(t,r),i=[].concat(zpe(a.map(function(s,o){return s*o}).slice(1)),[0]);return KK(i,n)}},aP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var A=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=Hpe(A,4);a=f[0],i=f[1],s=f[2],o=f[3]}}}var h=nP(a,s),p=nP(i,o),g=Ype(a,s),v=function(w){return w>1?1:w<0?0:w},b=function(w){for(var S=w>1?1:w,N=S,k=0;k<8;++k){var C=h(N)-S,T=g(N);if(Math.abs(C-S)<Wx||T<Wx)return p(N);N=v(N-C/T)}return p(N)};return b.isStepper=!1,b},Xpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,c=function(f,h,p){var g=-(f-h)*n,v=p*i,b=p+(g-v)*o/1e3,x=p*o/1e3+f;return Math.abs(x-h)<Wx&&Math.abs(b)<Wx?[h,0]:[x,b]};return c.isStepper=!0,c.dt=o,c},Jpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aP(a);case"spring":return Xpe();default:if(a.split("(")[0]==="cubic-bezier")return aP(a)}return typeof a=="function"?a:null};function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}function iP(e){return tge(e)||ege(e)||zK(e)||Zpe()}function Zpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ege(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tge(e){if(Array.isArray(e))return yk(e)}function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(n){bk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bk(e,t,r){return t=rge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rge(e){var t=nge(e,"string");return zb(t)==="symbol"?t:String(t)}function nge(e,t){if(zb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function age(e,t){return oge(e)||sge(e,t)||zK(e,t)||ige()}function ige(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zK(e,t){if(e){if(typeof e=="string")return yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yk(e,t)}}function yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function oge(e){if(Array.isArray(e))return e}var Yx=function(t,r,n){return t+(r-t)*n},vk=function(t){var r=t.from,n=t.to;return r!==n},lge=function e(t,r,n){var a=ab(function(i,s){if(vk(s)){var o=t(s.from,s.to,s.velocity),c=age(o,2),A=c[0],f=c[1];return si(si({},s),{},{from:A,velocity:f})}return s},r);return n<1?ab(function(i,s){return vk(s)?si(si({},s),{},{velocity:Yx(s.velocity,a[i].velocity,n),from:Yx(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const cge=(function(e,t,r,n,a){var i=Ppe(e,t),s=i.reduce(function(x,w){return si(si({},x),{},bk({},w,[e[w],t[w]]))},{}),o=i.reduce(function(x,w){return si(si({},x),{},bk({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,A,f,h=function(){return null},p=function(){return ab(function(w,S){return S.from},o)},g=function(){return!Object.values(o).filter(vk).length},v=function(w){A||(A=w);var S=w-A,N=S/r.dt;o=lge(r,o,N),a(si(si(si({},e),t),p())),A=w,g()||(c=requestAnimationFrame(h))},b=function(w){f||(f=w);var S=(w-f)/n,N=ab(function(C,T){return Yx.apply(void 0,iP(T).concat([r(S)]))},s);if(a(si(si(si({},e),t),N)),S<1)c=requestAnimationFrame(h);else{var k=ab(function(C,T){return Yx.apply(void 0,iP(T).concat([r(1)]))},s);a(si(si(si({},e),t),k))}};return h=r.isStepper?v:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}var uge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Age(e,t){if(e==null)return{};var r=dge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dge(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function v5(e){return pge(e)||mge(e)||hge(e)||fge()}function fge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hge(e,t){if(e){if(typeof e=="string")return xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(e,t)}}function mge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pge(e){if(Array.isArray(e))return xk(e)}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){$g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $g(e,t,r){return t=GK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GK(n.key),n)}}function yge(e,t,r){return t&&bge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GK(e){var t=vge(e,"string");return Lm(t)==="symbol"?t:String(t)}function vge(e,t){if(Lm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}function wk(e,t){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wk(e,t)}function wge(e){var t=_ge();return function(){var n=Xx(e),a;if(t){var i=Xx(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _k(this,a)}}function _k(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bk(e)}function Bk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}var al=(function(e){xge(r,e);var t=wge(r);function r(n,a){var i;gge(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,c=s.attributeName,A=s.from,f=s.to,h=s.steps,p=s.children,g=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Bk(i)),i.changeStyle=i.changeStyle.bind(Bk(i)),!o||g<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:f}),_k(i);if(h&&h.length)i.state={style:h[0].style};else if(A){if(typeof p=="function")return i.state={style:A},_k(i);i.state={style:c?$g({},c,A):A}}else i.state={style:{}};return i}return yge(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,c=i.attributeName,A=i.shouldReAnimate,f=i.to,h=i.from,p=this.state.style;if(o){if(!s){var g={style:c?$g({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(g);return}if(!(kpe(a.to,f)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||A?h:a.to;if(this.state&&p){var x={style:c?$g({},c,b):b};(c&&p[c]!==b||!c&&p!==b)&&this.setState(x)}this.runAnimation(Ro(Ro({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,c=a.duration,A=a.easing,f=a.begin,h=a.onAnimationEnd,p=a.onAnimationStart,g=cge(s,o,Jpe(A),c,this.changeStyle),v=function(){i.stopJSAnimation=g()};this.manager.start([p,f,v,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,c=a.onAnimationStart,A=s[0],f=A.style,h=A.duration,p=h===void 0?0:h,g=function(b,x,w){if(w===0)return b;var S=x.duration,N=x.easing,k=N===void 0?"ease":N,C=x.style,T=x.properties,O=x.onAnimationEnd,D=w>0?s[w-1]:x,R=T||Object.keys(C);if(typeof k=="function"||k==="spring")return[].concat(v5(b),[i.runJSAnimation.bind(i,{from:D.style,to:C,duration:S,easing:k}),S]);var q=rP(R,S,k),U=Ro(Ro(Ro({},D.style),C),{},{transition:q});return[].concat(v5(b),[U,S,O]).filter(Qpe)};return this.manager.start([c].concat(v5(s.reduce(g,[f,Math.max(p,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Dpe());var i=a.begin,s=a.duration,o=a.attributeName,c=a.to,A=a.easing,f=a.onAnimationStart,h=a.onAnimationEnd,p=a.steps,g=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof A=="function"||typeof g=="function"||A==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var b=o?$g({},o,c):c,x=rP(Object.keys(b),s,A);v.start([f,i,Ro(Ro({},b),{},{transition:x}),s,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Age(a,uge),A=B.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!o||A===0||s<=0)return i;var h=function(g){var v=g.props,b=v.style,x=b===void 0?{}:b,w=v.className,S=B.cloneElement(g,Ro(Ro({},c),{},{style:Ro(Ro({},x),f),className:w}));return S};return A===1?h(B.Children.only(i)):xe.createElement("div",null,B.Children.map(i,function(p){return h(p)}))}}]),r})(B.PureComponent);al.displayName="Animate";al.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};al.propTypes={from:tn.oneOfType([tn.object,tn.string]),to:tn.oneOfType([tn.object,tn.string]),attributeName:tn.string,duration:tn.number,begin:tn.number,easing:tn.oneOfType([tn.string,tn.func]),steps:tn.arrayOf(tn.shape({duration:tn.number.isRequired,style:tn.object.isRequired,easing:tn.oneOfType([tn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tn.func]),properties:tn.arrayOf("string"),onAnimationEnd:tn.func})),children:tn.oneOfType([tn.node,tn.func]),isActive:tn.bool,canBegin:tn.bool,onAnimationEnd:tn.func,shouldReAnimate:tn.bool,onAnimationStart:tn.func,onAnimationReStart:tn.func};function Gb(e){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gb(e)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(this,arguments)}function Bge(e,t){return jge(e)||Cge(e,t)||Nge(e,t)||Sge()}function Sge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nge(e,t){if(e){if(typeof e=="string")return lP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lP(e,t)}}function lP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function jge(e){if(Array.isArray(e))return e}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){kge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kge(e,t,r){return t=Ege(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ege(e){var t=Tge(e,"string");return Gb(t)=="symbol"?t:t+""}function Tge(e,t){if(Gb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AP=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,c=n>=0?1:-1,A=a>=0&&n>=0||a<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=i[p]>s?s:i[p];f="M".concat(t,",").concat(r+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(A,",").concat(t+c*h[0],",").concat(r)),f+="L ".concat(t+n-c*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(A,`,
        `).concat(t+n,",").concat(r+o*h[1])),f+="L ".concat(t+n,",").concat(r+a-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(A,`,
        `).concat(t+n-c*h[2],",").concat(r+a)),f+="L ".concat(t+c*h[3],",").concat(r+a),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(r+a-o*h[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);f="M ".concat(t,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(A,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(A,",").concat(t+n,",").concat(r+o*v,`
            L `).concat(t+n,",").concat(r+a-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(A,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(A,",").concat(t,",").concat(r+a-o*v," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},Oge=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var A=Math.min(i,i+o),f=Math.max(i,i+o),h=Math.min(s,s+c),p=Math.max(s,s+c);return n>=A&&n<=f&&a>=h&&a<=p}return!1},Ige={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jT=function(t){var r=uP(uP({},Ige),t),n=B.useRef(),a=B.useState(-1),i=Bge(a,2),s=i[0],o=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&o(k)}catch{}},[]);var c=r.x,A=r.y,f=r.width,h=r.height,p=r.radius,g=r.className,v=r.animationEasing,b=r.animationDuration,x=r.animationBegin,w=r.isAnimationActive,S=r.isUpdateAnimationActive;if(c!==+c||A!==+A||f!==+f||h!==+h||f===0||h===0)return null;var N=tt("recharts-rectangle",g);return S?xe.createElement(al,{canBegin:s>0,from:{width:f,height:h,x:c,y:A},to:{width:f,height:h,x:c,y:A},duration:b,animationEasing:v,isActive:S},function(k){var C=k.width,T=k.height,O=k.x,D=k.y;return xe.createElement(al,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:w,easing:v},xe.createElement("path",Jx({},Zt(r,!0),{className:N,d:AP(O,D,C,T,p),ref:n})))}):xe.createElement("path",Jx({},Zt(r,!0),{className:N,d:AP(c,A,f,h,p)}))},Uge=["points","className","baseLinePoints","connectNulls"];function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(this,arguments)}function Fge(e,t){if(e==null)return{};var r=Dge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dP(e){return Qge(e)||Pge(e)||Mge(e)||Lge()}function Lge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mge(e,t){if(e){if(typeof e=="string")return Sk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sk(e,t)}}function Pge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qge(e){if(Array.isArray(e))return Sk(e)}function Sk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fP=function(t){return t&&t.x===+t.x&&t.y===+t.y},Rge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){fP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),fP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ib=function(t,r){var n=Rge(t);r&&(n=[n.reduce(function(i,s){return[].concat(dP(i),dP(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Hge=function(t,r,n){var a=ib(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ib(r.reverse(),n).slice(1))},$ge=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=Fge(t,Uge);if(!r||!r.length)return null;var o=tt("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",A=Hge(r,a,i);return xe.createElement("g",{className:o},xe.createElement("path",em({},Zt(s,!0),{fill:A.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:A})),c?xe.createElement("path",em({},Zt(s,!0),{fill:"none",d:ib(r,i)})):null,c?xe.createElement("path",em({},Zt(s,!0),{fill:"none",d:ib(a,i)})):null)}var f=ib(r,i);return xe.createElement("path",em({},Zt(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:o,d:f}))};function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}var Ny=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=tt("recharts-dot",i);return r===+r&&n===+n&&a===+a?B.createElement("circle",Nk({},Zt(t,!1),xx(t),{className:s,cx:r,cy:n,r:a})):null};function Vb(e){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(e)}var qge=["x","y","top","left","width","height","className"];function Ck(){return Ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ck.apply(this,arguments)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){zge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zge(e,t,r){return t=Gge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gge(e){var t=Vge(e,"string");return Vb(t)=="symbol"?t:t+""}function Vge(e,t){if(Vb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wge(e,t){if(e==null)return{};var r=Yge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xge=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Jge=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,c=t.left,A=c===void 0?0:c,f=t.width,h=f===void 0?0:f,p=t.height,g=p===void 0?0:p,v=t.className,b=Wge(t,qge),x=Kge({x:n,y:i,top:o,left:A,width:h,height:g},b);return!kt(n)||!kt(i)||!kt(h)||!kt(g)||!kt(o)||!kt(A)?null:xe.createElement("path",Ck({},Zt(x,!0),{className:tt("recharts-cross",v),d:Xge(n,i,h,g,o,A)}))},x5,mP;function Zge(){if(mP)return x5;mP=1;var e=C1(),t=lK(),r=rc();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return x5=n,x5}var ebe=Zge();const tbe=Jr(ebe);var w5,pP;function rbe(){if(pP)return w5;pP=1;var e=C1(),t=rc(),r=cK();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return w5=n,w5}var nbe=rbe();const abe=Jr(nbe);var ibe=["cx","cy","angle","ticks","axisLine"],sbe=["ticks","tick","angle","tickFormatter","stroke"];function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sb.apply(this,arguments)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){T1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bP(e,t){if(e==null)return{};var r=obe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function obe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WK(n.key),n)}}function cbe(e,t,r){return t&&yP(e.prototype,t),r&&yP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ube(e,t,r){return t=Zx(t),Abe(e,VK()?Reflect.construct(t,r||[],Zx(e).constructor):t.apply(e,r))}function Abe(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dbe(e)}function dbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VK=function(){return!!e})()}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(e)}function fbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jk(e,t)}function jk(e,t){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jk(e,t)}function T1(e,t,r){return t=WK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=hbe(e,"string");return Mm(t)=="symbol"?t:t+""}function hbe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O1=(function(e){function t(){return lbe(this,t),ube(this,t,arguments)}return fbe(t,e),cbe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,c=i.cy;return jn(o,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=tbe(o,function(f){return f.coordinate||0}),A=abe(o,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:A.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,A=bP(n,ibe),f=o.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),h=jn(a,i,f[0],s),p=jn(a,i,f[1],s),g=Sd(Sd(Sd({},Zt(A,!1)),{},{fill:"none"},Zt(c,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return xe.createElement("line",sb({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,c=a.tickFormatter,A=a.stroke,f=bP(a,sbe),h=this.getTickTextAnchor(),p=Zt(f,!1),g=Zt(s,!1),v=i.map(function(b,x){var w=n.getTickValueCoord(b),S=Sd(Sd(Sd(Sd({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(w.x,", ").concat(w.y,")")},p),{},{stroke:"none",fill:A},g),{},{index:x},w),{},{payload:b});return xe.createElement(Dr,sb({className:tt("recharts-polar-radius-axis-tick",LK(s)),key:"tick-".concat(b.coordinate)},uf(n.props,b,x)),t.renderTickItem(s,S,c?c(b.value,x):b.value))});return xe.createElement(Dr,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:xe.createElement(Dr,{className:tt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Va.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return xe.isValidElement(n)?s=xe.cloneElement(n,a):cr(n)?s=n(a):s=xe.createElement(Af,sb({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])})(B.PureComponent);T1(O1,"displayName","PolarRadiusAxis");T1(O1,"axisType","radiusAxis");T1(O1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qd.apply(this,arguments)}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){I1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XK(n.key),n)}}function pbe(e,t,r){return t&&xP(e.prototype,t),r&&xP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gbe(e,t,r){return t=ew(t),bbe(e,YK()?Reflect.construct(t,r||[],ew(e).constructor):t.apply(e,r))}function bbe(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ybe(e)}function ybe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YK=function(){return!!e})()}function ew(e){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(e)}function vbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kk(e,t)}function kk(e,t){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(e,t)}function I1(e,t,r){return t=XK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=xbe(e,"string");return Pm(t)=="symbol"?t:t+""}function xbe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wbe=Math.PI/180,wP=1e-5,U1=(function(e){function t(){return mbe(this,t),gbe(this,t,arguments)}return vbe(t,e),pbe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,c=a.orientation,A=a.tickSize,f=A||8,h=jn(i,s,o,n.coordinate),p=jn(i,s,o+(c==="inner"?-1:1)*f,n.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*wbe),s;return i>wP?s=a==="outer"?"start":"end":i<-wP?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,A=Nd(Nd({},Zt(this.props,!1)),{},{fill:"none"},Zt(o,!1));if(c==="circle")return xe.createElement(Ny,Qd({className:"recharts-polar-angle-axis-line"},A,{cx:a,cy:i,r:s}));var f=this.props.ticks,h=f.map(function(p){return jn(a,i,s,p.coordinate)});return xe.createElement($ge,Qd({className:"recharts-polar-angle-axis-line"},A,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,c=a.tickFormatter,A=a.stroke,f=Zt(this.props,!1),h=Zt(s,!1),p=Nd(Nd({},f),{},{fill:"none"},Zt(o,!1)),g=i.map(function(v,b){var x=n.getTickLineCoord(v),w=n.getTickTextAnchor(v),S=Nd(Nd(Nd({textAnchor:w},f),{},{stroke:"none",fill:A},h),{},{index:b,payload:v,x:x.x2,y:x.y2});return xe.createElement(Dr,Qd({className:tt("recharts-polar-angle-axis-tick",LK(s)),key:"tick-".concat(v.coordinate)},uf(n.props,v,b)),o&&xe.createElement("line",Qd({className:"recharts-polar-angle-axis-tick-line"},p,x)),s&&t.renderTickItem(s,S,c?c(v.value,b):v.value))});return xe.createElement(Dr,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:xe.createElement(Dr,{className:tt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return xe.isValidElement(n)?s=xe.cloneElement(n,a):cr(n)?s=n(a):s=xe.createElement(Af,Qd({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])})(B.PureComponent);I1(U1,"displayName","PolarAngleAxis");I1(U1,"axisType","angleAxis");I1(U1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var _5,_P;function _be(){if(_P)return _5;_P=1;var e=oq(),t=e(Object.getPrototypeOf,Object);return _5=t,_5}var B5,BP;function Bbe(){if(BP)return B5;BP=1;var e=su(),t=_be(),r=ou(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,o=i.hasOwnProperty,c=s.call(Object);function A(f){if(!r(f)||e(f)!=n)return!1;var h=t(f);if(h===null)return!0;var p=o.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==c}return B5=A,B5}var Sbe=Bbe();const Nbe=Jr(Sbe);var S5,SP;function Cbe(){if(SP)return S5;SP=1;var e=su(),t=ou(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return S5=n,S5}var jbe=Cbe();const kbe=Jr(jbe);function Wb(e){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wb(e)}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(this,arguments)}function Ebe(e,t){return Ube(e)||Ibe(e,t)||Obe(e,t)||Tbe()}function Tbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obe(e,t){if(e){if(typeof e=="string")return NP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NP(e,t)}}function NP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ibe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function Ube(e){if(Array.isArray(e))return e}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){Fbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fbe(e,t,r){return t=Dbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dbe(e){var t=Lbe(e,"string");return Wb(t)=="symbol"?t:t+""}function Lbe(e,t){if(Wb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kP=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},Mbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pbe=function(t){var r=jP(jP({},Mbe),t),n=B.useRef(),a=B.useState(-1),i=Ebe(a,2),s=i[0],o=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&o(N)}catch{}},[]);var c=r.x,A=r.y,f=r.upperWidth,h=r.lowerWidth,p=r.height,g=r.className,v=r.animationEasing,b=r.animationDuration,x=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||A!==+A||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var S=tt("recharts-trapezoid",g);return w?xe.createElement(al,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:A},to:{upperWidth:f,lowerWidth:h,height:p,x:c,y:A},duration:b,animationEasing:v,isActive:w},function(N){var k=N.upperWidth,C=N.lowerWidth,T=N.height,O=N.x,D=N.y;return xe.createElement(al,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},xe.createElement("path",tw({},Zt(r,!0),{className:S,d:kP(O,D,k,C,T),ref:n})))}):xe.createElement("g",null,xe.createElement("path",tw({},Zt(r,!0),{className:S,d:kP(c,A,f,h,p)})))},Qbe=["option","shapeType","propTransformer","activeClassName","isActive"];function Yb(e){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yb(e)}function Rbe(e,t){if(e==null)return{};var r=Hbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){$be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $be(e,t,r){return t=qbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qbe(e){var t=Kbe(e,"string");return Yb(t)=="symbol"?t:t+""}function Kbe(e,t){if(Yb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zbe(e,t){return rw(rw({},t),e)}function Gbe(e,t){return e==="symbols"}function TP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return xe.createElement(jT,r);case"trapezoid":return xe.createElement(Pbe,r);case"sector":return xe.createElement(QK,r);case"symbols":if(Gbe(t))return xe.createElement(GE,r);break;default:return null}}function Vbe(e){return B.isValidElement(e)?e.props:e}function JK(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?zbe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,c=Rbe(e,Qbe),A;if(B.isValidElement(t))A=B.cloneElement(t,rw(rw({},c),Vbe(t)));else if(cr(t))A=t(c);else if(Nbe(t)&&!kbe(t)){var f=a(t,c);A=xe.createElement(TP,{shapeType:r,elementProps:f})}else{var h=c;A=xe.createElement(TP,{shapeType:r,elementProps:h})}return o?xe.createElement(Dr,{className:s},A):A}function F1(e,t){return t!=null&&"trapezoids"in e.props}function D1(e,t){return t!=null&&"sectors"in e.props}function Xb(e,t){return t!=null&&"points"in e.props}function Wbe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Ybe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Xbe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Jbe(e,t){var r;return F1(e,t)?r=Wbe:D1(e,t)?r=Ybe:Xb(e,t)&&(r=Xbe),r}function Zbe(e,t){var r;return F1(e,t)?r="trapezoids":D1(e,t)?r="sectors":Xb(e,t)&&(r="points"),r}function eye(e,t){if(F1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(D1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xb(e,t)?t.payload:{}}function tye(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Zbe(r,t),i=eye(r,t),s=n.filter(function(c,A){var f=df(i,c),h=r.props[a].filter(function(v){var b=Jbe(r,t);return b(v,t)}),p=r.props[a].indexOf(h[h.length-1]),g=A===p;return f&&g}),o=n.indexOf(s[s.length-1]);return o}var V0;function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){no(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ez(n.key),n)}}function nye(e,t,r){return t&&IP(e.prototype,t),r&&IP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aye(e,t,r){return t=nw(t),iye(e,ZK()?Reflect.construct(t,r||[],nw(e).constructor):t.apply(e,r))}function iye(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sye(e)}function sye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZK=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(e)}function oye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ek(e,t)}function Ek(e,t){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ek(e,t)}function no(e,t,r){return t=ez(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ez(e){var t=lye(e,"string");return Qm(t)=="symbol"?t:t+""}function lye(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cu=(function(e){function t(r){var n;return rye(this,t),n=aye(this,t,[r]),no(n,"pieRef",null),no(n,"sectorRefs",[]),no(n,"id",wf("recharts-pie-")),no(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),cr(a)&&a()}),no(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),cr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return oye(t,e),nye(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,c=i.dataKey,A=i.valueKey,f=Zt(this.props,!1),h=Zt(s,!1),p=Zt(o,!1),g=s&&s.offsetRadius||20,v=n.map(function(b,x){var w=(b.startAngle+b.endAngle)/2,S=jn(b.cx,b.cy,b.outerRadius+g,w),N=Sn(Sn(Sn(Sn({},f),b),{},{stroke:"none"},h),{},{index:x,textAnchor:t.getTextAnchor(S.x,b.cx)},S),k=Sn(Sn(Sn(Sn({},f),b),{},{fill:"none",stroke:b.fill},p),{},{index:x,points:[jn(b.cx,b.cy,b.outerRadius,w),S]}),C=c;return br(c)&&br(A)?C="value":br(c)&&(C=A),xe.createElement(Dr,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},o&&t.renderLabelLineItem(o,k,"line"),t.renderLabelItem(s,N,Aa(b,C)))});return xe.createElement(Dr,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,c=i.inactiveShape;return n.map(function(A,f){if(A?.startAngle===0&&A?.endAngle===0&&n.length!==1)return null;var h=a.isActiveIndex(f),p=c&&a.hasActiveIndex()?c:null,g=h?s:p,v=Sn(Sn({},A),{},{stroke:o?A.fill:A.stroke,tabIndex:-1});return xe.createElement(Dr,tm({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},uf(a.props,A,f),{key:"sector-".concat(A?.startAngle,"-").concat(A?.endAngle,"-").concat(A.midAngle,"-").concat(f)}),xe.createElement(JK,tm({option:g,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,c=a.animationDuration,A=a.animationEasing,f=a.animationId,h=this.state,p=h.prevSectors,g=h.prevIsAnimationActive;return xe.createElement(al,{begin:o,duration:c,isActive:s,easing:A,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],w=i&&i[0],S=w.startAngle;return i.forEach(function(N,k){var C=p&&p[k],T=k>0?Ss(N,"paddingAngle",0):0;if(C){var O=Ea(C.endAngle-C.startAngle,N.endAngle-N.startAngle),D=Sn(Sn({},N),{},{startAngle:S+T,endAngle:S+O(b)+T});x.push(D),S=D.endAngle}else{var R=N.endAngle,q=N.startAngle,U=Ea(0,R-q),I=U(b),Q=Sn(Sn({},N),{},{startAngle:S+T,endAngle:S+I+T});x.push(Q),S=Q.endAngle}}),xe.createElement(Dr,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!df(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,c=a.label,A=a.cx,f=a.cy,h=a.innerRadius,p=a.outerRadius,g=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!s||!s.length||!kt(A)||!kt(f)||!kt(h)||!kt(p))return null;var b=tt("recharts-pie",o);return xe.createElement(Dr,{tabIndex:this.props.rootTabIndex,className:b,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(s),Va.renderCallByParent(this.props,null,!1),(!g||v)&&Yl.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(xe.isValidElement(n))return xe.cloneElement(n,a);if(cr(n))return n(a);var s=tt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return xe.createElement(ef,tm({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(xe.isValidElement(n))return xe.cloneElement(n,a);var s=i;if(cr(n)&&(s=n(a),xe.isValidElement(s)))return s;var o=tt("recharts-pie-label-text",typeof n!="boolean"&&!cr(n)?n.className:"");return xe.createElement(Af,tm({},a,{alignmentBaseline:"middle",className:o}),s)}}])})(B.PureComponent);V0=cu;no(cu,"displayName","Pie");no(cu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!LA.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});no(cu,"parseDeltaAngle",function(e,t){var r=Fi(t-e),n=Math.min(Math.abs(t-e),360);return r*n});no(cu,"getRealPieData",function(e){var t=e.data,r=e.children,n=Zt(e,!1),a=Ns(r,v1);return t&&t.length?t.map(function(i,s){return Sn(Sn(Sn({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Sn(Sn({},n),i.props)}):[]});no(cu,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=DK(a,i),o=n+Di(e.cx,a,a/2),c=r+Di(e.cy,i,i/2),A=Di(e.innerRadius,s,0),f=Di(e.outerRadius,s,s*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:c,innerRadius:A,outerRadius:f,maxRadius:h}});no(cu,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Sn(Sn({},t.type.defaultProps),t.props):t.props,a=V0.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,A=n.dataKey,f=n.nameKey,h=n.valueKey,p=n.tooltipType,g=Math.abs(n.minAngle),v=V0.parseCoordinateOfPie(n,r),b=V0.parseDeltaAngle(s,o),x=Math.abs(b),w=A;br(A)&&br(h)?(nl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):br(A)&&(nl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var S=a.filter(function(D){return Aa(D,w,0)!==0}).length,N=(x>=360?S:S-1)*c,k=x-S*g-N,C=a.reduce(function(D,R){var q=Aa(R,w,0);return D+(kt(q)?q:0)},0),T;if(C>0){var O;T=a.map(function(D,R){var q=Aa(D,w,0),U=Aa(D,f,R),I=(kt(q)?q:0)/C,Q;R?Q=O.endAngle+Fi(b)*c*(q!==0?1:0):Q=s;var H=Q+Fi(b)*((q!==0?g:0)+I*k),Y=(Q+H)/2,K=(v.innerRadius+v.outerRadius)/2,J=[{name:U,value:q,payload:D,dataKey:w,type:p}],re=jn(v.cx,v.cy,K,Y);return O=Sn(Sn(Sn({percent:I,cornerRadius:i,name:U,tooltipPayload:J,midAngle:Y,middleRadius:K,tooltipPosition:re},D),v),{},{value:Aa(D,w),startAngle:Q,endAngle:H,payload:D,paddingAngle:Fi(b)*c}),O})}return Sn(Sn({},v),{},{sectors:T,data:a})});var N5,UP;function cye(){if(UP)return N5;UP=1;var e=Math.ceil,t=Math.max;function r(n,a,i,s){for(var o=-1,c=t(e((a-n)/(i||1)),0),A=Array(c);c--;)A[s?c:++o]=n,n+=i;return A}return N5=r,N5}var C5,FP;function tz(){if(FP)return C5;FP=1;var e=_q(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return C5=n,C5}var j5,DP;function uye(){if(DP)return j5;DP=1;var e=cye(),t=b1(),r=tz();function n(a){return function(i,s,o){return o&&typeof o!="number"&&t(i,s,o)&&(s=o=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),o=o===void 0?i<s?1:-1:r(o),e(i,s,o,a)}}return j5=n,j5}var k5,LP;function Aye(){if(LP)return k5;LP=1;var e=uye(),t=e();return k5=t,k5}var dye=Aye();const aw=Jr(dye);function Jb(e){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(e)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rz(e,t,r){return t=fye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fye(e){var t=hye(e,"string");return Jb(t)=="symbol"?t:t+""}function hye(e,t){if(Jb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mye=["Webkit","Moz","O","ms"],pye=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=mye.reduce(function(i,s){return PP(PP({},i),{},rz({},s+n,r))},{});return a[t]=r,a};function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(this,arguments)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,az(n.key),n)}}function bye(e,t,r){return t&&RP(e.prototype,t),r&&RP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yye(e,t,r){return t=sw(t),vye(e,nz()?Reflect.construct(t,r||[],sw(e).constructor):t.apply(e,r))}function vye(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xye(e)}function xye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nz=function(){return!!e})()}function sw(e){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(e)}function wye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tk(e,t)}function Tk(e,t){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tk(e,t)}function xs(e,t,r){return t=az(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e){var t=_ye(e,"string");return Rm(t)=="symbol"?t:t+""}function _ye(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bye=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,A=rb().domain(aw(0,c)).range([i,i+s-o]),f=A.domain().map(function(h){return A(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:A(n),endX:A(a),scale:A,scaleValues:f}},HP=function(t){return t.changedTouches&&!!t.changedTouches.length},Hm=(function(e){function t(r){var n;return gye(this,t),n=yye(this,t,[r]),xs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),xs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),xs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s?.({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),xs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xs(n,"handleSlideDragStart",function(a){var i=HP(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return wye(t,e),bye(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,A=o.data,f=A.length-1,h=Math.min(a,i),p=Math.max(a,i),g=t.getIndexInRange(s,h),v=t.getIndexInRange(s,p);return{startIndex:g-g%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,c=Aa(i[n],o,n);return cr(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,c=this.props,A=c.x,f=c.width,h=c.travellerWidth,p=c.startIndex,g=c.endIndex,v=c.onChange,b=n.pageX-i;b>0?b=Math.min(b,A+f-h-o,A+f-h-s):b<0&&(b=Math.max(b,A-s,A-o));var x=this.getIndex({startX:s+b,endX:o+b});(x.startIndex!==p||x.endIndex!==g)&&v&&v(x),this.setState({startX:s+b,endX:o+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=HP(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,c=a.startX,A=this.state[s],f=this.props,h=f.x,p=f.width,g=f.travellerWidth,v=f.onChange,b=f.gap,x=f.data,w={startX:this.state.startX,endX:this.state.endX},S=n.pageX-i;S>0?S=Math.min(S,h+p-g-A):S<0&&(S=Math.max(S,h-A)),w[s]=A+S;var N=this.getIndex(w),k=N.startIndex,C=N.endIndex,T=function(){var D=x.length-1;return s==="startX"&&(o>c?k%b===0:C%b===0)||o<c&&C===D||s==="endX"&&(o>c?C%b===0:k%b===0)||o>c&&C===D};this.setState(xs(xs({},s,A+S),"brushMoveStartX",n.pageX),function(){v&&T()&&v(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,c=s.startX,A=s.endX,f=this.state[a],h=o.indexOf(f);if(h!==-1){var p=h+n;if(!(p===-1||p>=o.length)){var g=o[p];a==="startX"&&g>=A||a==="endX"&&g<=c||this.setState(xs({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.fill,A=n.stroke;return xe.createElement("rect",{stroke:A,fill:c,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.data,A=n.children,f=n.padding,h=B.Children.only(A);return h?xe.cloneElement(h,{x:a,y:i,width:s,height:o,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,c=this.props,A=c.y,f=c.travellerWidth,h=c.height,p=c.traveller,g=c.ariaLabel,v=c.data,b=c.startIndex,x=c.endIndex,w=Math.max(n,this.props.x),S=E5(E5({},Zt(this.props,!1)),{},{x:w,y:A,width:f,height:h}),N=g||"Min value: ".concat((i=v[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return xe.createElement(Dr,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),o.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,S))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,c=i.stroke,A=i.travellerWidth,f=Math.min(n,a)+A,h=Math.max(Math.abs(a-n)-A,0);return xe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:s,width:h,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,A=n.stroke,f=this.state,h=f.startX,p=f.endX,g=5,v={pointerEvents:"none",fill:A};return xe.createElement(Dr,{className:"recharts-brush-texts"},xe.createElement(Af,iw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-g,y:s+o/2},v),this.getTextOfTick(a)),xe.createElement(Af,iw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+g,y:s+o/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,c=n.y,A=n.width,f=n.height,h=n.alwaysShowText,p=this.state,g=p.startX,v=p.endX,b=p.isTextActive,x=p.isSlideMoving,w=p.isTravellerMoving,S=p.isTravellerFocused;if(!a||!a.length||!kt(o)||!kt(c)||!kt(A)||!kt(f)||A<=0||f<=0)return null;var N=tt("recharts-brush",i),k=xe.Children.count(s)===1,C=pye("userSelect","none");return xe.createElement(Dr,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||w||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,c=n.stroke,A=Math.floor(i+o/2)-1;return xe.createElement(xe.Fragment,null,xe.createElement("rect",{x:a,y:i,width:s,height:o,fill:c,stroke:"none"}),xe.createElement("line",{x1:a+1,y1:A,x2:a+s-1,y2:A,fill:"none",stroke:"#fff"}),xe.createElement("line",{x1:a+1,y1:A+2,x2:a+s-1,y2:A+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return xe.isValidElement(n)?i=xe.cloneElement(n,a):cr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,c=n.travellerWidth,A=n.updateId,f=n.startIndex,h=n.endIndex;if(i!==a.prevData||A!==a.prevUpdateId)return E5({prevData:i,prevTravellerWidth:c,prevUpdateId:A,prevX:o,prevWidth:s},i&&i.length?Bye({data:i,width:s,x:o,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([o,o+s-c]);var p=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:A,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>a?o=c:s=c}return a>=n[o]?o:s}}])})(B.PureComponent);xs(Hm,"displayName","Brush");xs(Hm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var T5,$P;function Sye(){if($P)return T5;$P=1;var e=eT();function t(r,n){var a;return e(r,function(i,s,o){return a=n(i,s,o),!a}),!!a}return T5=t,T5}var O5,qP;function Nye(){if(qP)return O5;qP=1;var e=eq(),t=rc(),r=Sye(),n=rs(),a=b1();function i(s,o,c){var A=n(s)?e:r;return c&&a(s,o,c)&&(o=void 0),A(s,t(o,3))}return O5=i,O5}var Cye=Nye();const jye=Jr(Cye);var Xl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},I5,KP;function kye(){if(KP)return I5;KP=1;var e=bq();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return I5=t,I5}var U5,zP;function Eye(){if(zP)return U5;zP=1;var e=kye(),t=pq(),r=rc();function n(a,i){var s={};return i=r(i,3),t(a,function(o,c,A){e(s,c,i(o,c,A))}),s}return U5=n,U5}var Tye=Eye();const Oye=Jr(Tye);var F5,GP;function Iye(){if(GP)return F5;GP=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return F5=e,F5}var D5,VP;function Uye(){if(VP)return D5;VP=1;var e=eT();function t(r,n){var a=!0;return e(r,function(i,s,o){return a=!!n(i,s,o),a}),a}return D5=t,D5}var L5,WP;function Fye(){if(WP)return L5;WP=1;var e=Iye(),t=Uye(),r=rc(),n=rs(),a=b1();function i(s,o,c){var A=n(s)?e:t;return c&&a(s,o,c)&&(o=void 0),A(s,r(o,3))}return L5=i,L5}var Dye=Fye();const iz=Jr(Dye);var Lye=["x","y"];function Zb(e){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(e)}function Ok(){return Ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ok.apply(this,arguments)}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){Mye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mye(e,t,r){return t=Pye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pye(e){var t=Qye(e,"string");return Zb(t)=="symbol"?t:t+""}function Qye(e,t){if(Zb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rye(e,t){if(e==null)return{};var r=Hye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $ye(e,t){var r=e.x,n=e.y,a=Rye(e,Lye),i="".concat(r),s=parseInt(i,10),o="".concat(n),c=parseInt(o,10),A="".concat(t.height||a.height),f=parseInt(A,10),h="".concat(t.width||a.width),p=parseInt(h,10);return Sg(Sg(Sg(Sg(Sg({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function XP(e){return xe.createElement(JK,Ok({shapeType:"rectangle",propTransformer:$ye,activeClassName:"recharts-active-bar"},e))}var qye=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=kt(n)||mse(n);return i?t(n,a):(i||hf(),r)}},Kye=["value","background"],sz;function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function zye(e,t){if(e==null)return{};var r=Gye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(this,arguments)}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){pA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lz(n.key),n)}}function Wye(e,t,r){return t&&ZP(e.prototype,t),r&&ZP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yye(e,t,r){return t=lw(t),Xye(e,oz()?Reflect.construct(t,r||[],lw(e).constructor):t.apply(e,r))}function Xye(e,t){if(t&&($m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jye(e)}function Jye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oz=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(e)}function Zye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ik(e,t)}function Ik(e,t){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ik(e,t)}function pA(e,t,r){return t=lz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lz(e){var t=eve(e,"string");return $m(t)=="symbol"?t:t+""}function eve(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cy=(function(e){function t(){var r;Vye(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Yye(this,t,[].concat(a)),pA(r,"state",{isAnimationFinished:!1}),pA(r,"id",wf("recharts-bar-")),pA(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),pA(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Zye(t,e),Wye(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,c=i.activeIndex,A=i.activeBar,f=Zt(this.props,!1);return n&&n.map(function(h,p){var g=p===c,v=g?A:s,b=ba(ba(ba({},f),h),{},{isActive:g,option:v,index:p,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return xe.createElement(Dr,ow({className:"recharts-bar-rectangle"},uf(a.props,h,p),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(p)}),xe.createElement(XP,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,c=a.animationBegin,A=a.animationDuration,f=a.animationEasing,h=a.animationId,p=this.state.prevData;return xe.createElement(al,{begin:c,duration:A,isActive:o,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,b=i.map(function(x,w){var S=p&&p[w];if(S){var N=Ea(S.x,x.x),k=Ea(S.y,x.y),C=Ea(S.width,x.width),T=Ea(S.height,x.height);return ba(ba({},x),{},{x:N(v),y:k(v),width:C(v),height:T(v)})}if(s==="horizontal"){var O=Ea(0,x.height),D=O(v);return ba(ba({},x),{},{y:x.y+x.height-D,height:D})}var R=Ea(0,x.width),q=R(v);return ba(ba({},x),{},{width:q})});return xe.createElement(Dr,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!df(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,c=Zt(this.props.background,!1);return i.map(function(A,f){A.value;var h=A.background,p=zye(A,Kye);if(!h)return null;var g=ba(ba(ba(ba(ba({},p),{},{fill:"#eee"},h),c),uf(n.props,A,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return xe.createElement(XP,ow({key:"background-bar-".concat(f),option:n.props.background,isActive:f===o},g))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,c=i.yAxis,A=i.layout,f=i.children,h=Ns(f,Sy);if(!h)return null;var p=A==="vertical"?s[0].height/2:s[0].width/2,g=function(x,w){var S=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:S,errorVal:Aa(x,w)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return xe.createElement(Dr,v,h.map(function(b){return xe.cloneElement(b,{key:"error-bar-".concat(a,"-").concat(b.props.dataKey),data:s,xAxis:o,yAxis:c,layout:A,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,c=n.yAxis,A=n.left,f=n.top,h=n.width,p=n.height,g=n.isAnimationActive,v=n.background,b=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,w=tt("recharts-bar",s),S=o&&o.allowDataOverflow,N=c&&c.allowDataOverflow,k=S||N,C=br(b)?this.id:b;return xe.createElement(Dr,{className:w},S||N?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(C)},xe.createElement("rect",{x:S?A:A-h/2,y:N?f:f-p/2,width:S?h:h*2,height:N?p:p*2}))):null,xe.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(C,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,C),(!g||x)&&Yl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(B.PureComponent);sz=Cy;pA(Cy,"displayName","Bar");pA(Cy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!LA.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pA(Cy,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,A=e.stackedData,f=e.dataStartIndex,h=e.displayedData,p=e.offset,g=khe(n,r);if(!g)return null;var v=t.layout,b=r.type.defaultProps,x=b!==void 0?ba(ba({},b),r.props):r.props,w=x.dataKey,S=x.children,N=x.minPointSize,k=v==="horizontal"?s:i,C=A?k.scale.domain():null,T=Dhe({numericAxis:k}),O=Ns(S,v1),D=h.map(function(R,q){var U,I,Q,H,Y,K;A?U=Ehe(A[f+q],C):(U=Aa(R,w),Array.isArray(U)||(U=[T,U]));var J=qye(N,sz.defaultProps.minPointSize)(U[1],q);if(v==="horizontal"){var re,oe=[s.scale(U[0]),s.scale(U[1])],V=oe[0],W=oe[1];I=BM({axis:i,ticks:o,bandSize:a,offset:g.offset,entry:R,index:q}),Q=(re=W??V)!==null&&re!==void 0?re:void 0,H=g.size;var P=V-W;if(Y=Number.isNaN(P)?0:P,K={x:I,y:s.y,width:H,height:s.height},Math.abs(J)>0&&Math.abs(Y)<Math.abs(J)){var $=Fi(Y||J)*(Math.abs(J)-Math.abs(Y));Q-=$,Y+=$}}else{var G=[i.scale(U[0]),i.scale(U[1])],ne=G[0],se=G[1];if(I=ne,Q=BM({axis:s,ticks:c,bandSize:a,offset:g.offset,entry:R,index:q}),H=se-ne,Y=g.size,K={x:i.x,y:Q,width:i.width,height:Y},Math.abs(J)>0&&Math.abs(H)<Math.abs(J)){var ve=Fi(H||J)*(Math.abs(J)-Math.abs(H));H+=ve}}return ba(ba(ba({},R),{},{x:I,y:Q,width:H,height:Y,value:A?U:U[1],payload:R,background:K},O&&O[q]&&O[q].props),{},{tooltipPayload:[UK(r,R)],tooltipPosition:{x:I+H/2,y:Q+Y/2}})});return ba({data:D,layout:v},p)});function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function tve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cz(n.key),n)}}function rve(e,t,r){return t&&eQ(e.prototype,t),r&&eQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tQ(Object(r),!0).forEach(function(n){L1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1(e,t,r){return t=cz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cz(e){var t=nve(e,"string");return ey(t)=="symbol"?t:t+""}function nve(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uz=function(t,r,n,a,i){var s=t.width,o=t.height,c=t.layout,A=t.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!ws(A,Cy);return f.reduce(function(g,v){var b=r[v],x=b.orientation,w=b.domain,S=b.padding,N=S===void 0?{}:S,k=b.mirror,C=b.reversed,T="".concat(x).concat(k?"Mirror":""),O,D,R,q,U;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var I=w[1]-w[0],Q=1/0,H=b.categoricalDomain.sort(bse);if(H.forEach(function(G,ne){ne>0&&(Q=Math.min((G||0)-(H[ne-1]||0),Q))}),Number.isFinite(Q)){var Y=Q/I,K=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(O=Y*K/2),b.padding==="no-gap"){var J=Di(t.barCategoryGap,Y*K),re=Y*K/2;O=re-J-(re-J)/K*J}}}a==="xAxis"?D=[n.left+(N.left||0)+(O||0),n.left+n.width-(N.right||0)-(O||0)]:a==="yAxis"?D=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(O||0),n.top+n.height-(N.bottom||0)-(O||0)]:D=b.range,C&&(D=[D[1],D[0]]);var oe=EK(b,i,p),V=oe.scale,W=oe.realScaleType;V.domain(w).range(D),TK(V);var P=OK(V,Xo(Xo({},b),{},{realScaleType:W}));a==="xAxis"?(U=x==="top"&&!k||x==="bottom"&&k,R=n.left,q=h[T]-U*b.height):a==="yAxis"&&(U=x==="left"&&!k||x==="right"&&k,R=h[T]-U*b.width,q=n.top);var $=Xo(Xo(Xo({},b),P),{},{realScaleType:W,x:R,y:q,scale:V,width:a==="xAxis"?n.width:b.width,height:a==="yAxis"?n.height:b.height});return $.bandSize=zx($,P),!b.hide&&a==="xAxis"?h[T]+=(U?-1:1)*$.height:b.hide||(h[T]+=(U?-1:1)*$.width),Xo(Xo({},g),{},L1({},v,$))},{})},Az=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},ave=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Az({x:r,y:n},{x:a,y:i})},dz=(function(){function e(t){tve(this,e),this.scale=t}return rve(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();L1(dz,"EPS",1e-4);var kT=function(t){var r=Object.keys(t).reduce(function(n,a){return Xo(Xo({},n),{},L1({},a,dz.create(t[a])))},{});return Xo(Xo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return Oye(a,function(c,A){return r[A].apply(c,{bandAware:s,position:o})})},isInRange:function(a){return iz(a,function(i,s){return r[s].isInRange(i)})}})};function ive(e){return(e%180+180)%180}var sve=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ive(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},M5,rQ;function ove(){if(rQ)return M5;rQ=1;var e=rc(),t=vy(),r=p1();function n(a){return function(i,s,o){var c=Object(i);if(!t(i)){var A=e(s,3);i=r(i),s=function(h){return A(c[h],h,c)}}var f=a(i,s,o);return f>-1?c[A?i[f]:f]:void 0}}return M5=n,M5}var P5,nQ;function lve(){if(nQ)return P5;nQ=1;var e=tz();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return P5=t,P5}var Q5,aQ;function cve(){if(aQ)return Q5;aQ=1;var e=Aq(),t=rc(),r=lve(),n=Math.max;function a(i,s,o){var c=i==null?0:i.length;if(!c)return-1;var A=o==null?0:r(o);return A<0&&(A=n(c+A,0)),e(i,t(s,3),A)}return Q5=a,Q5}var R5,iQ;function uve(){if(iQ)return R5;iQ=1;var e=ove(),t=cve(),r=e(t);return R5=r,R5}var Ave=uve();const dve=Jr(Ave);var fve=N9();const hve=Jr(fve);var mve=hve(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),ET=B.createContext(void 0),TT=B.createContext(void 0),fz=B.createContext(void 0),hz=B.createContext({}),mz=B.createContext(void 0),pz=B.createContext(0),gz=B.createContext(0),sQ=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,c=t.width,A=t.height,f=mve(i);return xe.createElement(ET.Provider,{value:n},xe.createElement(TT.Provider,{value:a},xe.createElement(hz.Provider,{value:i},xe.createElement(fz.Provider,{value:f},xe.createElement(mz.Provider,{value:s},xe.createElement(pz.Provider,{value:A},xe.createElement(gz.Provider,{value:c},o)))))))},pve=function(){return B.useContext(mz)},bz=function(t){var r=B.useContext(ET);r==null&&hf();var n=r[t];return n==null&&hf(),n},gve=function(){var t=B.useContext(ET);return AA(t)},bve=function(){var t=B.useContext(TT),r=dve(t,function(n){return iz(n.domain,Number.isFinite)});return r||AA(t)},yz=function(t){var r=B.useContext(TT);r==null&&hf();var n=r[t];return n==null&&hf(),n},yve=function(){var t=B.useContext(fz);return t},vve=function(){return B.useContext(hz)},OT=function(){return B.useContext(gz)},IT=function(){return B.useContext(pz)};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function xve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xz(n.key),n)}}function _ve(e,t,r){return t&&wve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bve(e,t,r){return t=cw(t),Sve(e,vz()?Reflect.construct(t,r||[],cw(e).constructor):t.apply(e,r))}function Sve(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nve(e)}function Nve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vz=function(){return!!e})()}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(e)}function Cve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uk(e,t)}function Uk(e,t){return Uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uk(e,t)}function oQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oQ(Object(r),!0).forEach(function(n){UT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UT(e,t,r){return t=xz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xz(e){var t=jve(e,"string");return qm(t)=="symbol"?t:t+""}function jve(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kve(e,t){return Ive(e)||Ove(e,t)||Tve(e,t)||Eve()}function Eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tve(e,t){if(e){if(typeof e=="string")return cQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cQ(e,t)}}function cQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ove(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function Ive(e){if(Array.isArray(e))return e}function Fk(){return Fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fk.apply(this,arguments)}var Uve=function(t,r){var n;return xe.isValidElement(t)?n=xe.cloneElement(t,r):cr(t)?n=t(r):n=xe.createElement("line",Fk({},r,{className:"recharts-reference-line-line"})),n},Fve=function(t,r,n,a,i,s,o,c,A){var f=i.x,h=i.y,p=i.width,g=i.height;if(n){var v=A.y,b=t.y.apply(v,{position:s});if(Xl(A,"discard")&&!t.y.isInRange(b))return null;var x=[{x:f+p,y:b},{x:f,y:b}];return c==="left"?x.reverse():x}if(r){var w=A.x,S=t.x.apply(w,{position:s});if(Xl(A,"discard")&&!t.x.isInRange(S))return null;var N=[{x:S,y:h+g},{x:S,y:h}];return o==="top"?N.reverse():N}if(a){var k=A.segment,C=k.map(function(T){return t.apply(T,{position:s})});return Xl(A,"discard")&&jye(C,function(T){return!t.isInRange(T)})?null:C}return null};function Dve(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,c=e.alwaysShow,A=pve(),f=bz(a),h=yz(i),p=yve();if(!A||!p)return null;nl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=kT({x:f.scale,y:h.scale}),v=Oa(t),b=Oa(r),x=n&&n.length===2,w=Fve(g,v,b,x,p,e.position,f.orientation,h.orientation,e);if(!w)return null;var S=kve(w,2),N=S[0],k=N.x,C=N.y,T=S[1],O=T.x,D=T.y,R=Xl(e,"hidden")?"url(#".concat(A,")"):void 0,q=lQ(lQ({clipPath:R},Zt(e,!0)),{},{x1:k,y1:C,x2:O,y2:D});return xe.createElement(Dr,{className:tt("recharts-reference-line",o)},Uve(s,q),Va.renderCallByParent(e,ave({x1:k,y1:C,x2:O,y2:D})))}var FT=(function(e){function t(){return xve(this,t),Bve(this,t,arguments)}return Cve(t,e),_ve(t,[{key:"render",value:function(){return xe.createElement(Dve,this.props)}}])})(xe.Component);UT(FT,"displayName","ReferenceLine");UT(FT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dk.apply(this,arguments)}function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function uQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uQ(Object(r),!0).forEach(function(n){M1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_z(n.key),n)}}function Pve(e,t,r){return t&&Mve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qve(e,t,r){return t=uw(t),Rve(e,wz()?Reflect.construct(t,r||[],uw(e).constructor):t.apply(e,r))}function Rve(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hve(e)}function Hve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wz=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(e)}function $ve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lk(e,t)}function Lk(e,t){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lk(e,t)}function M1(e,t,r){return t=_z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=qve(e,"string");return Km(t)=="symbol"?t:t+""}function qve(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kve=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=kT({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Xl(t,"discard")&&!s.isInRange(o)?null:o},P1=(function(e){function t(){return Lve(this,t),Qve(this,t,arguments)}return $ve(t,e),Pve(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,A=Oa(a),f=Oa(i);if(nl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!A||!f)return null;var h=Kve(this.props);if(!h)return null;var p=h.x,g=h.y,v=this.props,b=v.shape,x=v.className,w=Xl(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=AQ(AQ({clipPath:w},Zt(this.props,!0)),{},{cx:p,cy:g});return xe.createElement(Dr,{className:tt("recharts-reference-dot",x)},t.renderDot(b,S),Va.renderCallByParent(this.props,{x:p-s,y:g-s,width:2*s,height:2*s}))}}])})(xe.Component);M1(P1,"displayName","ReferenceDot");M1(P1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});M1(P1,"renderDot",function(e,t){var r;return xe.isValidElement(e)?r=xe.cloneElement(e,t):cr(e)?r=e(t):r=xe.createElement(Ny,Dk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mk.apply(this,arguments)}function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function dQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dQ(Object(r),!0).forEach(function(n){Q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sz(n.key),n)}}function Vve(e,t,r){return t&&Gve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wve(e,t,r){return t=Aw(t),Yve(e,Bz()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function Yve(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xve(e)}function Xve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bz=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function Jve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pk(e,t)}function Pk(e,t){return Pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pk(e,t)}function Q1(e,t,r){return t=Sz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sz(e){var t=Zve(e,"string");return zm(t)=="symbol"?t:t+""}function Zve(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var e0e=function(t,r,n,a,i){var s=i.x1,o=i.x2,c=i.y1,A=i.y2,f=i.xAxis,h=i.yAxis;if(!f||!h)return null;var p=kT({x:f.scale,y:h.scale}),g={x:t?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(A,{position:"end"}):p.y.rangeMax};return Xl(i,"discard")&&(!p.isInRange(g)||!p.isInRange(v))?null:Az(g,v)},R1=(function(e){function t(){return zve(this,t),Wve(this,t,arguments)}return Jve(t,e),Vve(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,c=n.className,A=n.alwaysShow,f=n.clipPathId;nl(A===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Oa(a),p=Oa(i),g=Oa(s),v=Oa(o),b=this.props.shape;if(!h&&!p&&!g&&!v&&!b)return null;var x=e0e(h,p,g,v,this.props);if(!x&&!b)return null;var w=Xl(this.props,"hidden")?"url(#".concat(f,")"):void 0;return xe.createElement(Dr,{className:tt("recharts-reference-area",c)},t.renderRect(b,fQ(fQ({clipPath:w},Zt(this.props,!0)),x)),Va.renderCallByParent(this.props,x))}}])})(xe.Component);Q1(R1,"displayName","ReferenceArea");Q1(R1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Q1(R1,"renderRect",function(e,t){var r;return xe.isValidElement(e)?r=xe.cloneElement(e,t):cr(e)?r=e(t):r=xe.createElement(jT,Mk({},t,{className:"recharts-reference-area-rect"})),r});function Nz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function t0e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return sve(n,r)}function r0e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function dw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function n0e(e,t){return Nz(e,t+1)}function a0e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,c=0,A=1,f=s,h=function(){var v=n?.[c];if(v===void 0)return{v:Nz(n,A)};var b=c,x,w=function(){return x===void 0&&(x=r(v,b)),x},S=v.coordinate,N=c===0||dw(e,S,w,f,o);N||(c=0,f=s,A+=1),N&&(f=S+e*(w()/2+a),c+=A)},p;A<=i.length;)if(p=h(),p)return p.v;return[]}function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function hQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hQ(Object(r),!0).forEach(function(n){i0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i0e(e,t,r){return t=s0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s0e(e){var t=o0e(e,"string");return ty(t)=="symbol"?t:t+""}function o0e(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l0e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,c=t.end,A=function(p){var g=i[p],v,b=function(){return v===void 0&&(v=r(g,p)),v};if(p===s-1){var x=e*(g.coordinate+e*b()/2-c);i[p]=g=_i(_i({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate})}else i[p]=g=_i(_i({},g),{},{tickCoord:g.coordinate});var w=dw(e,g.tickCoord,b,o,c);w&&(c=g.tickCoord-e*(b()/2+a),i[p]=_i(_i({},g),{},{isShow:!0}))},f=s-1;f>=0;f--)A(f);return i}function c0e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,c=t.start,A=t.end;if(i){var f=n[o-1],h=r(f,o-1),p=e*(f.coordinate+e*h/2-A);s[o-1]=f=_i(_i({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate});var g=dw(e,f.tickCoord,function(){return h},c,A);g&&(A=f.tickCoord-e*(h/2+a),s[o-1]=_i(_i({},f),{},{isShow:!0}))}for(var v=i?o-1:o,b=function(S){var N=s[S],k,C=function(){return k===void 0&&(k=r(N,S)),k};if(S===0){var T=e*(N.coordinate-e*C()/2-c);s[S]=N=_i(_i({},N),{},{tickCoord:T<0?N.coordinate-T*e:N.coordinate})}else s[S]=N=_i(_i({},N),{},{tickCoord:N.coordinate});var O=dw(e,N.tickCoord,C,c,A);O&&(c=N.tickCoord+e*(C()/2+a),s[S]=_i(_i({},N),{},{isShow:!0}))},x=0;x<v;x++)b(x);return s}function DT(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,c=e.interval,A=e.tickFormatter,f=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(kt(c)||LA.isSsr)return n0e(a,typeof c=="number"&&kt(c)?c:0);var p=[],g=o==="top"||o==="bottom"?"width":"height",v=f&&g==="width"?tb(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(N,k){var C=cr(A)?A(N.value,k):N.value;return g==="width"?t0e(tb(C,{fontSize:t,letterSpacing:r}),v,h):tb(C,{fontSize:t,letterSpacing:r})[g]},x=a.length>=2?Fi(a[1].coordinate-a[0].coordinate):1,w=r0e(i,x,g);return c==="equidistantPreserveStart"?a0e(x,w,b,a,s):(c==="preserveStart"||c==="preserveStartEnd"?p=c0e(x,w,b,a,s,c==="preserveStartEnd"):p=l0e(x,w,b,a,s),p.filter(function(S){return S.isShow}))}var u0e=["viewBox"],A0e=["viewBox"],d0e=["ticks"];function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rm.apply(this,arguments)}function mQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mQ(Object(r),!0).forEach(function(n){LT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H5(e,t){if(e==null)return{};var r=f0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jz(n.key),n)}}function m0e(e,t,r){return t&&pQ(e.prototype,t),r&&pQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p0e(e,t,r){return t=fw(t),g0e(e,Cz()?Reflect.construct(t,r||[],fw(e).constructor):t.apply(e,r))}function g0e(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b0e(e)}function b0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!e})()}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(e)}function y0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qk(e,t)}function Qk(e,t){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qk(e,t)}function LT(e,t,r){return t=jz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jz(e){var t=v0e(e,"string");return Gm(t)=="symbol"?t:t+""}function v0e(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pp=(function(e){function t(r){var n;return h0e(this,t),n=p0e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return y0e(t,e),m0e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=H5(n,u0e),o=this.props,c=o.viewBox,A=H5(o,A0e);return!cm(i,c)||!cm(s,A)||!cm(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,c=a.height,A=a.orientation,f=a.tickSize,h=a.mirror,p=a.tickMargin,g,v,b,x,w,S,N=h?-1:1,k=n.tickSize||f,C=kt(n.tickCoord)?n.tickCoord:n.coordinate;switch(A){case"top":g=v=n.coordinate,x=s+ +!h*c,b=x-N*k,S=b-N*p,w=C;break;case"left":b=x=n.coordinate,v=i+ +!h*o,g=v-N*k,w=g-N*p,S=C;break;case"right":b=x=n.coordinate,v=i+ +h*o,g=v+N*k,w=g+N*p,S=C;break;default:g=v=n.coordinate,x=s+ +h*c,b=x+N*k,S=b+N*p,w=C;break}return{line:{x1:g,y1:b,x2:v,y2:x},tick:{x:w,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.orientation,A=n.mirror,f=n.axisLine,h=Sa(Sa(Sa({},Zt(this.props,!1)),Zt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!A||c==="bottom"&&A);h=Sa(Sa({},h),{},{x1:a,y1:i+p*o,x2:a+s,y2:i+p*o})}else{var g=+(c==="left"&&!A||c==="right"&&A);h=Sa(Sa({},h),{},{x1:a+g*s,y1:i,x2:a+g*s,y2:i+o})}return xe.createElement("line",rm({},h,{className:tt("recharts-cartesian-axis-line",Ss(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,c=o.tickLine,A=o.stroke,f=o.tick,h=o.tickFormatter,p=o.unit,g=DT(Sa(Sa({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=Zt(this.props,!1),w=Zt(f,!1),S=Sa(Sa({},x),{},{fill:"none"},Zt(c,!1)),N=g.map(function(k,C){var T=s.getTickLineCoord(k),O=T.line,D=T.tick,R=Sa(Sa(Sa(Sa({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:A},w),D),{},{index:C,payload:k,visibleTicksCount:g.length,tickFormatter:h});return xe.createElement(Dr,rm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},uf(s.props,k,C)),c&&xe.createElement("line",rm({},S,O,{className:tt("recharts-cartesian-axis-tick-line",Ss(c,"className"))})),f&&t.renderTickItem(f,R,"".concat(cr(h)?h(k.value,C):k.value).concat(p||"")))});return xe.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,c=a.ticksGenerator,A=a.className,f=a.hide;if(f)return null;var h=this.props,p=h.ticks,g=H5(h,d0e),v=p;return cr(c)&&(v=p&&p.length>0?c(this.props):c(g)),s<=0||o<=0||!v||!v.length?null:xe.createElement(Dr,{className:tt("recharts-cartesian-axis",A),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Va.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=tt(a.className,"recharts-cartesian-axis-tick-value");return xe.isValidElement(n)?s=xe.cloneElement(n,Sa(Sa({},a),{},{className:o})):cr(n)?s=n(Sa(Sa({},a),{},{className:o})):s=xe.createElement(Af,rm({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(B.Component);LT(pp,"displayName","CartesianAxis");LT(pp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var x0e=["x1","y1","x2","y2","key"],w0e=["offset"];function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function gQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gQ(Object(r),!0).forEach(function(n){_0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _0e(e,t,r){return t=B0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B0e(e){var t=S0e(e,"string");return mf(t)=="symbol"?t:t+""}function S0e(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(this,arguments)}function bQ(e,t){if(e==null)return{};var r=N0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var C0e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,c=t.ry;return xe.createElement("rect",{x:a,y:i,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kz(e,t){var r;if(xe.isValidElement(e))r=xe.cloneElement(e,t);else if(cr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,c=bQ(t,x0e),A=Zt(c,!1);A.offset;var f=bQ(A,w0e);r=xe.createElement("line",Wd({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function j0e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var A=Si(Si({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return kz(a,A)});return xe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function k0e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var A=Si(Si({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return kz(a,A)});return xe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function E0e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,c=e.horizontal,A=c===void 0?!0:c;if(!A||!t||!t.length)return null;var f=o.map(function(p){return Math.round(p+a-a)}).sort(function(p,g){return p-g});a!==f[0]&&f.unshift(0);var h=f.map(function(p,g){var v=!f[g+1],b=v?a+s-p:f[g+1]-p;if(b<=0)return null;var x=g%t.length;return xe.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:b,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function T0e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,c=e.height,A=e.verticalPoints;if(!r||!n||!n.length)return null;var f=A.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==f[0]&&f.unshift(0);var h=f.map(function(p,g){var v=!f[g+1],b=v?i+o-p:f[g+1]-p;if(b<=0)return null;var x=g%n.length;return xe.createElement("rect",{key:"react-".concat(g),x:p,y:s,width:b,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var O0e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return kK(DT(Si(Si(Si({},pp.defaultProps),n),{},{ticks:Kc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},I0e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return kK(DT(Si(Si(Si({},pp.defaultProps),n),{},{ticks:Kc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Nh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ez(e){var t,r,n,a,i,s,o=OT(),c=IT(),A=vve(),f=Si(Si({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Nh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Nh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Nh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Nh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Nh.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Nh.verticalFill,x:kt(e.x)?e.x:A.left,y:kt(e.y)?e.y:A.top,width:kt(e.width)?e.width:A.width,height:kt(e.height)?e.height:A.height}),h=f.x,p=f.y,g=f.width,v=f.height,b=f.syncWithTicks,x=f.horizontalValues,w=f.verticalValues,S=gve(),N=bve();if(!kt(g)||g<=0||!kt(v)||v<=0||!kt(h)||h!==+h||!kt(p)||p!==+p)return null;var k=f.verticalCoordinatesGenerator||O0e,C=f.horizontalCoordinatesGenerator||I0e,T=f.horizontalPoints,O=f.verticalPoints;if((!T||!T.length)&&cr(C)){var D=x&&x.length,R=C({yAxis:N?Si(Si({},N),{},{ticks:D?x:N.ticks}):void 0,width:o,height:c,offset:A},D?!0:b);nl(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(mf(R),"]")),Array.isArray(R)&&(T=R)}if((!O||!O.length)&&cr(k)){var q=w&&w.length,U=k({xAxis:S?Si(Si({},S),{},{ticks:q?w:S.ticks}):void 0,width:o,height:c,offset:A},q?!0:b);nl(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(mf(U),"]")),Array.isArray(U)&&(O=U)}return xe.createElement("g",{className:"recharts-cartesian-grid"},xe.createElement(C0e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),xe.createElement(j0e,Wd({},f,{offset:A,horizontalPoints:T,xAxis:S,yAxis:N})),xe.createElement(k0e,Wd({},f,{offset:A,verticalPoints:O,xAxis:S,yAxis:N})),xe.createElement(E0e,Wd({},f,{horizontalPoints:T})),xe.createElement(T0e,Wd({},f,{verticalPoints:O})))}Ez.displayName="CartesianGrid";var U0e=["type","layout","connectNulls","ref"],F0e=["key"];function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function yQ(e,t){if(e==null)return{};var r=D0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(this,arguments)}function vQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vQ(Object(r),!0).forEach(function(n){Jo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ch(e){return Q0e(e)||P0e(e)||M0e(e)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M0e(e,t){if(e){if(typeof e=="string")return Rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(e,t)}}function P0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q0e(e){if(Array.isArray(e))return Rk(e)}function Rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oz(n.key),n)}}function H0e(e,t,r){return t&&xQ(e.prototype,t),r&&xQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $0e(e,t,r){return t=hw(t),q0e(e,Tz()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function q0e(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K0e(e)}function K0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tz=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function z0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hk(e,t)}function Hk(e,t){return Hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hk(e,t)}function Jo(e,t,r){return t=Oz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oz(e){var t=G0e(e,"string");return Vm(t)=="symbol"?t:t+""}function G0e(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jy=(function(e){function t(){var r;R0e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=$0e(this,t,[].concat(a)),Jo(r,"state",{isAnimationFinished:!0,totalLength:0}),Jo(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Jo(r,"getStrokeDasharray",function(s,o,c){var A=c.reduce(function(w,S){return w+S});if(!A)return r.generateSimpleStrokeDasharray(o,s);for(var f=Math.floor(s/A),h=s%A,p=o-s,g=[],v=0,b=0;v<c.length;b+=c[v],++v)if(b+c[v]>h){g=[].concat(Ch(c.slice(0,v)),[h-b]);break}var x=g.length%2===0?[0,p]:[p];return[].concat(Ch(t.repeat(c,f)),Ch(g),x).map(function(w){return"".concat(w,"px")}).join(", ")}),Jo(r,"id",wf("recharts-line-")),Jo(r,"pathRef",function(s){r.mainCurve=s}),Jo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Jo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return z0e(t,e),H0e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,c=i.yAxis,A=i.layout,f=i.children,h=Ns(f,Sy);if(!h)return null;var p=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:Aa(b.payload,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return xe.createElement(Dr,g,h.map(function(v){return xe.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:o,yAxis:c,layout:A,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,A=o.points,f=o.dataKey,h=Zt(this.props,!1),p=Zt(c,!0),g=A.map(function(b,x){var w=ys(ys(ys({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:f,payload:b.payload,points:A});return t.renderDotItem(c,w)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return xe.createElement(Dr,ob({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,c=o.type,A=o.layout,f=o.connectNulls;o.ref;var h=yQ(o,U0e),p=ys(ys(ys({},Zt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:A,connectNulls:f});return xe.createElement(ef,ob({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,c=s.strokeDasharray,A=s.isAnimationActive,f=s.animationBegin,h=s.animationDuration,p=s.animationEasing,g=s.animationId,v=s.animateNewValues,b=s.width,x=s.height,w=this.state,S=w.prevPoints,N=w.totalLength;return xe.createElement(al,{begin:f,duration:h,isActive:A,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var C=k.t;if(S){var T=S.length/o.length,O=o.map(function(I,Q){var H=Math.floor(Q*T);if(S[H]){var Y=S[H],K=Ea(Y.x,I.x),J=Ea(Y.y,I.y);return ys(ys({},I),{},{x:K(C),y:J(C)})}if(v){var re=Ea(b*2,I.x),oe=Ea(x/2,I.y);return ys(ys({},I),{},{x:re(C),y:oe(C)})}return ys(ys({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(O,n,a)}var D=Ea(0,N),R=D(C),q;if(c){var U="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});q=i.getStrokeDasharray(R,N,U)}else q=i.generateSimpleStrokeDasharray(N,R);return i.renderCurveStatically(o,n,a,{strokeDasharray:q})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,c=this.state,A=c.prevPoints,f=c.totalLength;return o&&s&&s.length&&(!A&&f>0||!df(A,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,c=a.className,A=a.xAxis,f=a.yAxis,h=a.top,p=a.left,g=a.width,v=a.height,b=a.isAnimationActive,x=a.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,S=o.length===1,N=tt("recharts-line",c),k=A&&A.allowDataOverflow,C=f&&f.allowDataOverflow,T=k||C,O=br(x)?this.id:x,D=(n=Zt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=D.r,q=R===void 0?3:R,U=D.strokeWidth,I=U===void 0?2:U,Q=T9(s)?s:{},H=Q.clipDot,Y=H===void 0?!0:H,K=q*2+I;return xe.createElement(Dr,{className:N},k||C?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(O)},xe.createElement("rect",{x:k?p:p-g/2,y:C?h:h-v/2,width:k?g:g*2,height:C?v:v*2})),!Y&&xe.createElement("clipPath",{id:"clipPath-dots-".concat(O)},xe.createElement("rect",{x:p-K/2,y:h-K/2,width:g+K,height:v+K}))):null,!S&&this.renderCurve(T,O),this.renderErrorBar(T,O),(S||s)&&this.renderDots(T,Y,O),(!b||w)&&Yl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Ch(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Ch(s),Ch(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(xe.isValidElement(n))i=xe.cloneElement(n,a);else if(cr(n))i=n(a);else{var s=a.key,o=yQ(a,F0e),c=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=xe.createElement(Ny,ob({key:s},o,{className:c}))}return i}}])})(B.PureComponent);Jo(jy,"displayName","Line");Jo(jy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!LA.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Jo(jy,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,c=e.displayedData,A=e.offset,f=t.layout,h=c.map(function(p,g){var v=Aa(p,s);return f==="horizontal"?{x:Kx({axis:r,ticks:a,bandSize:o,entry:p,index:g}),y:br(v)?null:n.scale(v),value:v,payload:p}:{x:br(v)?null:r.scale(v),y:Kx({axis:n,ticks:i,bandSize:o,entry:p,index:g}),value:v,payload:p}});return ys({points:h,layout:f},A)});var V0e=["layout","type","stroke","connectNulls","isRange","ref"],W0e=["key"],Iz;function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function Uz(e,t){if(e==null)return{};var r=Y0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(this,arguments)}function wQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wQ(Object(r),!0).forEach(function(n){Kl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dz(n.key),n)}}function J0e(e,t,r){return t&&_Q(e.prototype,t),r&&_Q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z0e(e,t,r){return t=mw(t),exe(e,Fz()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function exe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return txe(e)}function txe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fz=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function rxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$k(e,t)}function $k(e,t){return $k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$k(e,t)}function Kl(e,t,r){return t=Dz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=nxe(e,"string");return Wm(t)=="symbol"?t:t+""}function nxe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RA=(function(e){function t(){var r;X0e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Z0e(this,t,[].concat(a)),Kl(r,"state",{isAnimationFinished:!0}),Kl(r,"id",wf("recharts-area-")),Kl(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),cr(s)&&s()}),Kl(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),cr(s)&&s()}),r}return rxe(t,e),J0e(t,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var c=this.props,A=c.dot,f=c.points,h=c.dataKey,p=Zt(this.props,!1),g=Zt(A,!0),v=f.map(function(x,w){var S=aA(aA(aA({key:"dot-".concat(w),r:3},p),g),{},{index:w,cx:x.x,cy:x.y,dataKey:h,value:x.value,payload:x.payload,points:f});return t.renderDotItem(A,S)}),b={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return xe.createElement(Dr,Yd({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,c=s[0].x,A=s[s.length-1].x,f=n*Math.abs(c-A),h=mA(s.map(function(p){return p.y||0}));return kt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(mA(i.map(function(p){return p.y||0})),h)),kt(h)?xe.createElement("rect",{x:c<A?c:c-f,y:0,width:f,height:Math.floor(h+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,c=s[0].y,A=s[s.length-1].y,f=n*Math.abs(c-A),h=mA(s.map(function(p){return p.x||0}));return kt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(mA(i.map(function(p){return p.x||0})),h)),kt(h)?xe.createElement("rect",{x:0,y:c<A?c:c-f,width:h+(o?parseInt("".concat(o),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var o=this.props,c=o.layout,A=o.type,f=o.stroke,h=o.connectNulls,p=o.isRange;o.ref;var g=Uz(o,V0e);return xe.createElement(Dr,{clipPath:i?"url(#clipPath-".concat(s,")"):null},xe.createElement(ef,Yd({},Zt(g,!0),{points:n,connectNulls:h,type:A,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&xe.createElement(ef,Yd({},Zt(this.props,!1),{className:"recharts-area-curve",layout:c,type:A,connectNulls:h,fill:"none",points:n})),f!=="none"&&p&&xe.createElement(ef,Yd({},Zt(this.props,!1),{className:"recharts-area-curve",layout:c,type:A,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,c=s.baseLine,A=s.isAnimationActive,f=s.animationBegin,h=s.animationDuration,p=s.animationEasing,g=s.animationId,v=this.state,b=v.prevPoints,x=v.prevBaseLine;return xe.createElement(al,{begin:f,duration:h,isActive:A,easing:p,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var S=w.t;if(b){var N=b.length/o.length,k=o.map(function(D,R){var q=Math.floor(R*N);if(b[q]){var U=b[q],I=Ea(U.x,D.x),Q=Ea(U.y,D.y);return aA(aA({},D),{},{x:I(S),y:Q(S)})}return D}),C;if(kt(c)&&typeof c=="number"){var T=Ea(x,c);C=T(S)}else if(br(c)||Ap(c)){var O=Ea(x,0);C=O(S)}else C=c.map(function(D,R){var q=Math.floor(R*N);if(x[q]){var U=x[q],I=Ea(U.x,D.x),Q=Ea(U.y,D.y);return aA(aA({},D),{},{x:I(S),y:Q(S)})}return D});return i.renderAreaStatically(k,C,n,a)}return xe.createElement(Dr,null,xe.createElement("defs",null,xe.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(S))),xe.createElement(Dr,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(o,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,o=i.baseLine,c=i.isAnimationActive,A=this.state,f=A.prevPoints,h=A.prevBaseLine,p=A.totalLength;return c&&s&&s.length&&(!f&&p>0||!df(f,s)||!df(h,o))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,c=a.className,A=a.top,f=a.left,h=a.xAxis,p=a.yAxis,g=a.width,v=a.height,b=a.isAnimationActive,x=a.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,S=o.length===1,N=tt("recharts-area",c),k=h&&h.allowDataOverflow,C=p&&p.allowDataOverflow,T=k||C,O=br(x)?this.id:x,D=(n=Zt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=D.r,q=R===void 0?3:R,U=D.strokeWidth,I=U===void 0?2:U,Q=T9(s)?s:{},H=Q.clipDot,Y=H===void 0?!0:H,K=q*2+I;return xe.createElement(Dr,{className:N},k||C?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(O)},xe.createElement("rect",{x:k?f:f-g/2,y:C?A:A-v/2,width:k?g:g*2,height:C?v:v*2})),!Y&&xe.createElement("clipPath",{id:"clipPath-dots-".concat(O)},xe.createElement("rect",{x:f-K/2,y:A-K/2,width:g+K,height:v+K}))):null,S?null:this.renderArea(T,O),(s||S)&&this.renderDots(T,Y,O),(!b||w)&&Yl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(B.PureComponent);Iz=RA;Kl(RA,"displayName","Area");Kl(RA,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!LA.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Kl(RA,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,s=t.props.baseValue,o=s??i;if(kt(o)&&typeof o=="number")return o;var c=a==="horizontal"?n:r,A=c.scale.domain();if(c.type==="number"){var f=Math.max(A[0],A[1]),h=Math.min(A[0],A[1]);return o==="dataMin"?h:o==="dataMax"||f<0?f:Math.max(Math.min(A[0],A[1]),0)}return o==="dataMin"?A[0]:o==="dataMax"?A[1]:A[0]});Kl(RA,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.bandSize,c=e.dataKey,A=e.stackedData,f=e.dataStartIndex,h=e.displayedData,p=e.offset,g=t.layout,v=A&&A.length,b=Iz.getBaseValue(t,r,n,a),x=g==="horizontal",w=!1,S=h.map(function(k,C){var T;v?T=A[f+C]:(T=Aa(k,c),Array.isArray(T)?w=!0:T=[b,T]);var O=T[1]==null||v&&Aa(k,c)==null;return x?{x:Kx({axis:n,ticks:i,bandSize:o,entry:k,index:C}),y:O?null:a.scale(T[1]),value:T,payload:k}:{x:O?null:n.scale(T[1]),y:Kx({axis:a,ticks:s,bandSize:o,entry:k,index:C}),value:T,payload:k}}),N;return v||w?N=S.map(function(k){var C=Array.isArray(k.value)?k.value[0]:null;return x?{x:k.x,y:C!=null&&k.y!=null?a.scale(C):null}:{x:C!=null?n.scale(C):null,y:k.y}}):N=x?a.scale(b):n.scale(b),aA({points:S,baseLine:N,layout:g,isRange:w},p)});Kl(RA,"renderDotItem",function(e,t){var r;if(xe.isValidElement(e))r=xe.cloneElement(e,t);else if(cr(e))r=e(t);else{var n=tt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=Uz(t,W0e);r=xe.createElement(Ny,Yd({},i,{key:a,className:n}))}return r});function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function axe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ixe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pz(n.key),n)}}function sxe(e,t,r){return t&&ixe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oxe(e,t,r){return t=pw(t),lxe(e,Lz()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function lxe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cxe(e)}function cxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lz=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(e)}function uxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qk(e,t)}function qk(e,t){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qk(e,t)}function Mz(e,t,r){return t=Pz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=Axe(e,"string");return Ym(t)=="symbol"?t:t+""}function Axe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kk.apply(this,arguments)}function dxe(e){var t=e.xAxisId,r=OT(),n=IT(),a=bz(t);return a==null?null:B.createElement(pp,Kk({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Kc(s,!0)}}))}var gp=(function(e){function t(){return axe(this,t),oxe(this,t,arguments)}return uxe(t,e),sxe(t,[{key:"render",value:function(){return B.createElement(dxe,this.props)}}])})(B.Component);Mz(gp,"displayName","XAxis");Mz(gp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function fxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hz(n.key),n)}}function mxe(e,t,r){return t&&hxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pxe(e,t,r){return t=gw(t),gxe(e,Qz()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function gxe(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bxe(e)}function bxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qz=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function yxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zk(e,t)}function zk(e,t){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zk(e,t)}function Rz(e,t,r){return t=Hz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hz(e){var t=vxe(e,"string");return Xm(t)=="symbol"?t:t+""}function vxe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gk.apply(this,arguments)}var xxe=function(t){var r=t.yAxisId,n=OT(),a=IT(),i=yz(r);return i==null?null:B.createElement(pp,Gk({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Kc(o,!0)}}))},bp=(function(e){function t(){return fxe(this,t),pxe(this,t,arguments)}return yxe(t,e),mxe(t,[{key:"render",value:function(){return B.createElement(xxe,this.props)}}])})(B.Component);Rz(bp,"displayName","YAxis");Rz(bp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function BQ(e){return Sxe(e)||Bxe(e)||_xe(e)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _xe(e,t){if(e){if(typeof e=="string")return Vk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vk(e,t)}}function Bxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sxe(e){if(Array.isArray(e))return Vk(e)}function Vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wk=function(t,r,n,a,i){var s=Ns(t,FT),o=Ns(t,P1),c=[].concat(BQ(s),BQ(o)),A=Ns(t,R1),f="".concat(a,"Id"),h=a[0],p=r;if(c.length&&(p=c.reduce(function(b,x){if(x.props[f]===n&&Xl(x.props,"extendDomain")&&kt(x.props[h])){var w=x.props[h];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},p)),A.length){var g="".concat(h,"1"),v="".concat(h,"2");p=A.reduce(function(b,x){if(x.props[f]===n&&Xl(x.props,"extendDomain")&&kt(x.props[g])&&kt(x.props[v])){var w=x.props[g],S=x.props[v];return[Math.min(b[0],w,S),Math.max(b[1],w,S)]}return b},p)}return i&&i.length&&(p=i.reduce(function(b,x){return kt(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},p)),p},$5={exports:{}},SQ;function Nxe(){return SQ||(SQ=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,A,f){this.fn=c,this.context=A,this.once=f||!1}function i(c,A,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new a(f,h||c,p),v=r?r+A:A;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function s(c,A){--c._eventsCount===0?c._events=new n:delete c._events[A]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var A=[],f,h;if(this._eventsCount===0)return A;for(h in f=this._events)t.call(f,h)&&A.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(f)):A},o.prototype.listeners=function(A){var f=r?r+A:A,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,v=new Array(g);p<g;p++)v[p]=h[p].fn;return v},o.prototype.listenerCount=function(A){var f=r?r+A:A,h=this._events[f];return h?h.fn?1:h.length:0},o.prototype.emit=function(A,f,h,p,g,v){var b=r?r+A:A;if(!this._events[b])return!1;var x=this._events[b],w=arguments.length,S,N;if(x.fn){switch(x.once&&this.removeListener(A,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,h),!0;case 4:return x.fn.call(x.context,f,h,p),!0;case 5:return x.fn.call(x.context,f,h,p,g),!0;case 6:return x.fn.call(x.context,f,h,p,g,v),!0}for(N=1,S=new Array(w-1);N<w;N++)S[N-1]=arguments[N];x.fn.apply(x.context,S)}else{var k=x.length,C;for(N=0;N<k;N++)switch(x[N].once&&this.removeListener(A,x[N].fn,void 0,!0),w){case 1:x[N].fn.call(x[N].context);break;case 2:x[N].fn.call(x[N].context,f);break;case 3:x[N].fn.call(x[N].context,f,h);break;case 4:x[N].fn.call(x[N].context,f,h,p);break;default:if(!S)for(C=1,S=new Array(w-1);C<w;C++)S[C-1]=arguments[C];x[N].fn.apply(x[N].context,S)}}return!0},o.prototype.on=function(A,f,h){return i(this,A,f,h,!1)},o.prototype.once=function(A,f,h){return i(this,A,f,h,!0)},o.prototype.removeListener=function(A,f,h,p){var g=r?r+A:A;if(!this._events[g])return this;if(!f)return s(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!p||v.once)&&(!h||v.context===h)&&s(this,g);else{for(var b=0,x=[],w=v.length;b<w;b++)(v[b].fn!==f||p&&!v[b].once||h&&v[b].context!==h)&&x.push(v[b]);x.length?this._events[g]=x.length===1?x[0]:x:s(this,g)}return this},o.prototype.removeAllListeners=function(A){var f;return A?(f=r?r+A:A,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})($5)),$5.exports}var Cxe=Nxe();const jxe=Jr(Cxe);var q5=new jxe,K5="recharts.syncMouseEvents";function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ry(e)}function kxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Exe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$z(n.key),n)}}function Txe(e,t,r){return t&&Exe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z5(e,t,r){return t=$z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=Oxe(e,"string");return ry(t)=="symbol"?t:t+""}function Oxe(e,t){if(ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ixe=(function(){function e(){kxe(this,e),z5(this,"activeIndex",0),z5(this,"coordinateList",[]),z5(this,"layout","horizontal")}return Txe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,c=r.layout,A=c===void 0?null:c,f=r.offset,h=f===void 0?null:f,p=r.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=A??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,c=this.coordinateList[this.activeIndex].coordinate,A=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+A,p=s+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])})();function Uxe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&kt(n)&&kt(a))return!0}return!1}function Fxe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function qz(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=jn(t,r,n,a),o=jn(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Dxe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,A=t.innerRadius,f=t.outerRadius,h=t.angle,p=jn(o,c,A,h),g=jn(o,c,f,h);n=p.x,a=p.y,i=g.x,s=g.y}else return qz(t);return[{x:n,y:a},{x:i,y:s}]}function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function NQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NQ(Object(r),!0).forEach(function(n){Lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lxe(e,t,r){return t=Mxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mxe(e){var t=Pxe(e,"string");return ny(t)=="symbol"?t:t+""}function Pxe(e,t){if(ny(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qxe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,c=e.offset,A=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!i||!s||p!=="ScatterChart"&&a!=="axis")return null;var v,b=ef;if(p==="ScatterChart")v=s,b=Jge;else if(p==="BarChart")v=Fxe(h,s,c,f),b=jT;else if(h==="radial"){var x=qz(s),w=x.cx,S=x.cy,N=x.radius,k=x.startAngle,C=x.endAngle;v={cx:w,cy:S,startAngle:k,endAngle:C,innerRadius:N,outerRadius:N},b=QK}else v={points:Dxe(h,s,c)},b=ef;var T=a0(a0(a0(a0({stroke:"#ccc",pointerEvents:"none"},c),v),Zt(g,!1)),{},{payload:o,payloadIndex:A,className:tt("recharts-tooltip-cursor",g.className)});return B.isValidElement(g)?B.cloneElement(g,T):B.createElement(b,T)}var Rxe=["item"],Hxe=["children","className","width","height","style","compact","title","desc"];function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nm.apply(this,arguments)}function CQ(e,t){return Kxe(e)||qxe(e,t)||zz(e,t)||$xe()}function $xe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){A=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw a}}return o}}function Kxe(e){if(Array.isArray(e))return e}function jQ(e,t){if(e==null)return{};var r=zxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gz(n.key),n)}}function Wxe(e,t,r){return t&&Vxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yxe(e,t,r){return t=bw(t),Xxe(e,Kz()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function Xxe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jxe(e)}function Jxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kz=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function Zxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yk(e,t)}function Yk(e,t){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yk(e,t)}function Zm(e){return rwe(e)||twe(e)||zz(e)||ewe()}function ewe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zz(e,t){if(e){if(typeof e=="string")return Xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(e,t)}}function twe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rwe(e){if(Array.isArray(e))return Xk(e)}function Xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kQ(Object(r),!0).forEach(function(n){or(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function or(e,t,r){return t=Gz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gz(e){var t=nwe(e,"string");return Jm(t)=="symbol"?t:t+""}function nwe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var awe={xAxis:["bottom","top"],yAxis:["left","right"]},iwe={width:"100%",height:"100%"},Vz={x:0,y:0};function i0(e){return e}var swe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},owe=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return ft(ft(ft({},a),jn(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var c=i.coordinate,A=a.angle;return ft(ft(ft({},a),jn(a.cx,a.cy,c,A)),{},{angle:A,radius:c})}return Vz},H1=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var A=c.props.data;return A&&A.length?[].concat(Zm(o),Zm(A)):o},[]);return s.length>0?s:t&&t.length&&kt(a)&&kt(i)?t.slice(a,i+1):[]};function Wz(e){return e==="number"?[0,"auto"]:void 0}var Jk=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=H1(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(c,A){var f,h=(f=A.props.data)!==null&&f!==void 0?f:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var g=h===void 0?o:h;p=vx(g,s.dataKey,a)}else p=h&&h[n]||o[n];return p?[].concat(Zm(c),[UK(A,p)]):c},[])},EQ=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=swe(i,n),o=t.orderedTooltipTicks,c=t.tooltipAxis,A=t.tooltipTicks,f=_he(s,o,A,c);if(f>=0&&A){var h=A[f]&&A[f].value,p=Jk(t,r,f,h),g=owe(n,o,f,i);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:g}}return null},lwe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,A=r.dataEndIndex,f=t.layout,h=t.children,p=t.stackOffset,g=jK(f,i);return n.reduce(function(v,b){var x,w=b.type.defaultProps!==void 0?ft(ft({},b.type.defaultProps),b.props):b.props,S=w.type,N=w.dataKey,k=w.allowDataOverflow,C=w.allowDuplicatedCategory,T=w.scale,O=w.ticks,D=w.includeHidden,R=w[s];if(v[R])return v;var q=H1(t.data,{graphicalItems:a.filter(function(P){var $,G=s in P.props?P.props[s]:($=P.type.defaultProps)===null||$===void 0?void 0:$[s];return G===R}),dataStartIndex:c,dataEndIndex:A}),U=q.length,I,Q,H;Uxe(w.domain,k,S)&&(I=Ak(w.domain,null,k),g&&(S==="number"||T!=="auto")&&(H=nb(q,N,"category")));var Y=Wz(S);if(!I||I.length===0){var K,J=(K=w.domain)!==null&&K!==void 0?K:Y;if(N){if(I=nb(q,N,S),S==="category"&&g){var re=gse(I);C&&re?(Q=I,I=aw(0,U)):C||(I=CM(J,I,b).reduce(function(P,$){return P.indexOf($)>=0?P:[].concat(Zm(P),[$])},[]))}else if(S==="category")C?I=I.filter(function(P){return P!==""&&!br(P)}):I=CM(J,I,b).reduce(function(P,$){return P.indexOf($)>=0||$===""||br($)?P:[].concat(Zm(P),[$])},[]);else if(S==="number"){var oe=jhe(q,a.filter(function(P){var $,G,ne=s in P.props?P.props[s]:($=P.type.defaultProps)===null||$===void 0?void 0:$[s],se="hide"in P.props?P.props.hide:(G=P.type.defaultProps)===null||G===void 0?void 0:G.hide;return ne===R&&(D||!se)}),N,i,f);oe&&(I=oe)}g&&(S==="number"||T!=="auto")&&(H=nb(q,N,"category"))}else g?I=aw(0,U):o&&o[R]&&o[R].hasStack&&S==="number"?I=p==="expand"?[0,1]:IK(o[R].stackGroups,c,A):I=CK(q,a.filter(function(P){var $=s in P.props?P.props[s]:P.type.defaultProps[s],G="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return $===R&&(D||!G)}),S,f,!0);if(S==="number")I=Wk(h,I,R,i,O),J&&(I=Ak(J,I,k));else if(S==="category"&&J){var V=J,W=I.every(function(P){return V.indexOf(P)>=0});W&&(I=V)}}return ft(ft({},v),{},or({},R,ft(ft({},w),{},{axisType:i,domain:I,categoricalDomain:H,duplicateDomain:Q,originalDomain:(x=w.domain)!==null&&x!==void 0?x:Y,isCategorical:g,layout:f})))},{})},cwe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,A=r.dataEndIndex,f=t.layout,h=t.children,p=H1(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:A}),g=p.length,v=jK(f,i),b=-1;return n.reduce(function(x,w){var S=w.type.defaultProps!==void 0?ft(ft({},w.type.defaultProps),w.props):w.props,N=S[s],k=Wz("number");if(!x[N]){b++;var C;return v?C=aw(0,g):o&&o[N]&&o[N].hasStack?(C=IK(o[N].stackGroups,c,A),C=Wk(h,C,N,i)):(C=Ak(k,CK(p,n.filter(function(T){var O,D,R=s in T.props?T.props[s]:(O=T.type.defaultProps)===null||O===void 0?void 0:O[s],q="hide"in T.props?T.props.hide:(D=T.type.defaultProps)===null||D===void 0?void 0:D.hide;return R===N&&!q}),"number",f),a.defaultProps.allowDataOverflow),C=Wk(h,C,N,i)),ft(ft({},x),{},or({},N,ft(ft({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ss(awe,"".concat(i,".").concat(b%2),null),domain:C,originalDomain:k,isCategorical:v,layout:f})))}return x},{})},uwe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,A=r.dataEndIndex,f=t.children,h="".concat(a,"Id"),p=Ns(f,i),g={};return p&&p.length?g=lwe(t,{axes:p,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:o,dataStartIndex:c,dataEndIndex:A}):s&&s.length&&(g=cwe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:o,dataStartIndex:c,dataEndIndex:A})),g},Awe=function(t){var r=AA(t),n=Kc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tT(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:zx(r,n)}},TQ=function(t){var r=t.children,n=t.defaultShowTooltip,a=ws(r,Hm),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},dwe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Vc(r&&r.type);return n&&n.indexOf("Bar")>=0})},OQ=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fwe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,c=o===void 0?{}:o,A=n.width,f=n.height,h=n.children,p=n.margin||{},g=ws(h,Hm),v=ws(h,um),b=Object.keys(c).reduce(function(C,T){var O=c[T],D=O.orientation;return!O.mirror&&!O.hide?ft(ft({},C),{},or({},D,C[D]+O.width)):C},{left:p.left||0,right:p.right||0}),x=Object.keys(s).reduce(function(C,T){var O=s[T],D=O.orientation;return!O.mirror&&!O.hide?ft(ft({},C),{},or({},D,Ss(C,"".concat(D))+O.height)):C},{top:p.top||0,bottom:p.bottom||0}),w=ft(ft({},x),b),S=w.bottom;g&&(w.bottom+=g.props.height||Hm.defaultProps.height),v&&r&&(w=Nhe(w,a,n,r));var N=A-w.left-w.right,k=f-w.top-w.bottom;return ft(ft({brushBottom:S},w),{},{width:Math.max(N,0),height:Math.max(k,0)})},hwe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},MT=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=t.axisComponents,A=t.legendContent,f=t.formatAxisMap,h=t.defaultProps,p=function(w,S){var N=S.graphicalItems,k=S.stackGroups,C=S.offset,T=S.updateId,O=S.dataStartIndex,D=S.dataEndIndex,R=w.barSize,q=w.layout,U=w.barGap,I=w.barCategoryGap,Q=w.maxBarSize,H=OQ(q),Y=H.numericAxisName,K=H.cateAxisName,J=dwe(N),re=[];return N.forEach(function(oe,V){var W=H1(w.data,{graphicalItems:[oe],dataStartIndex:O,dataEndIndex:D}),P=oe.type.defaultProps!==void 0?ft(ft({},oe.type.defaultProps),oe.props):oe.props,$=P.dataKey,G=P.maxBarSize,ne=P["".concat(Y,"Id")],se=P["".concat(K,"Id")],ve={},he=c.reduce(function(Ve,ge){var je=S["".concat(ge.axisType,"Map")],we=P["".concat(ge.axisType,"Id")];je&&je[we]||ge.axisType==="zAxis"||hf();var Xe=je[we];return ft(ft({},Ve),{},or(or({},ge.axisType,Xe),"".concat(ge.axisType,"Ticks"),Kc(Xe)))},ve),fe=he[K],Qe=he["".concat(K,"Ticks")],$e=k&&k[ne]&&k[ne].hasStack&&Lhe(oe,k[ne].stackGroups),de=Vc(oe.type).indexOf("Bar")>=0,ze=zx(fe,Qe),nt=[],Se=J&&Bhe({barSize:R,stackGroups:k,totalSize:hwe(he,K)});if(de){var Z,Ke,st=br(G)?Q:G,ye=(Z=(Ke=zx(fe,Qe,!0))!==null&&Ke!==void 0?Ke:st)!==null&&Z!==void 0?Z:0;nt=She({barGap:U,barCategoryGap:I,bandSize:ye!==ze?ye:ze,sizeList:Se[se],maxBarSize:st}),ye!==ze&&(nt=nt.map(function(Ve){return ft(ft({},Ve),{},{position:ft(ft({},Ve.position),{},{offset:Ve.position.offset-ye/2})})}))}var He=oe&&oe.type&&oe.type.getComposedData;He&&re.push({props:ft(ft({},He(ft(ft({},he),{},{displayedData:W,props:w,dataKey:$,item:oe,bandSize:ze,barPosition:nt,offset:C,stackedData:$e,layout:q,dataStartIndex:O,dataEndIndex:D}))),{},or(or(or({key:oe.key||"item-".concat(V)},Y,he[Y]),K,he[K]),"animationId",T)),childIndex:kse(oe,w.children),item:oe})}),re},g=function(w,S){var N=w.props,k=w.dataStartIndex,C=w.dataEndIndex,T=w.updateId;if(!HF({props:N}))return null;var O=N.children,D=N.layout,R=N.stackOffset,q=N.data,U=N.reverseStackOrder,I=OQ(D),Q=I.numericAxisName,H=I.cateAxisName,Y=Ns(O,n),K=Fhe(q,Y,"".concat(Q,"Id"),"".concat(H,"Id"),R,U),J=c.reduce(function(P,$){var G="".concat($.axisType,"Map");return ft(ft({},P),{},or({},G,uwe(N,ft(ft({},$),{},{graphicalItems:Y,stackGroups:$.axisType===Q&&K,dataStartIndex:k,dataEndIndex:C}))))},{}),re=fwe(ft(ft({},J),{},{props:N,graphicalItems:Y}),S?.legendBBox);Object.keys(J).forEach(function(P){J[P]=f(N,J[P],re,P.replace("Map",""),r)});var oe=J["".concat(H,"Map")],V=Awe(oe),W=p(N,ft(ft({},J),{},{dataStartIndex:k,dataEndIndex:C,updateId:T,graphicalItems:Y,stackGroups:K,offset:re}));return ft(ft({formattedGraphicalItems:W,graphicalItems:Y,offset:re,stackGroups:K},V),J)},v=(function(x){function w(S){var N,k,C;return Gxe(this,w),C=Yxe(this,w,[S]),or(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),or(C,"accessibilityManager",new Ixe),or(C,"handleLegendBBoxUpdate",function(T){if(T){var O=C.state,D=O.dataStartIndex,R=O.dataEndIndex,q=O.updateId;C.setState(ft({legendBBox:T},g({props:C.props,dataStartIndex:D,dataEndIndex:R,updateId:q},ft(ft({},C.state),{},{legendBBox:T}))))}}),or(C,"handleReceiveSyncEvent",function(T,O,D){if(C.props.syncId===T){if(D===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(O)}}),or(C,"handleBrushChange",function(T){var O=T.startIndex,D=T.endIndex;if(O!==C.state.dataStartIndex||D!==C.state.dataEndIndex){var R=C.state.updateId;C.setState(function(){return ft({dataStartIndex:O,dataEndIndex:D},g({props:C.props,dataStartIndex:O,dataEndIndex:D,updateId:R},C.state))}),C.triggerSyncEvent({dataStartIndex:O,dataEndIndex:D})}}),or(C,"handleMouseEnter",function(T){var O=C.getMouseInfo(T);if(O){var D=ft(ft({},O),{},{isTooltipActive:!0});C.setState(D),C.triggerSyncEvent(D);var R=C.props.onMouseEnter;cr(R)&&R(D,T)}}),or(C,"triggeredAfterMouseMove",function(T){var O=C.getMouseInfo(T),D=O?ft(ft({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(D),C.triggerSyncEvent(D);var R=C.props.onMouseMove;cr(R)&&R(D,T)}),or(C,"handleItemMouseEnter",function(T){C.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),or(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),or(C,"handleMouseMove",function(T){T.persist(),C.throttleTriggeredAfterMouseMove(T)}),or(C,"handleMouseLeave",function(T){C.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};C.setState(O),C.triggerSyncEvent(O);var D=C.props.onMouseLeave;cr(D)&&D(O,T)}),or(C,"handleOuterEvent",function(T){var O=jse(T),D=Ss(C.props,"".concat(O));if(O&&cr(D)){var R,q;/.*touch.*/i.test(O)?q=C.getMouseInfo(T.changedTouches[0]):q=C.getMouseInfo(T),D((R=q)!==null&&R!==void 0?R:{},T)}}),or(C,"handleClick",function(T){var O=C.getMouseInfo(T);if(O){var D=ft(ft({},O),{},{isTooltipActive:!0});C.setState(D),C.triggerSyncEvent(D);var R=C.props.onClick;cr(R)&&R(D,T)}}),or(C,"handleMouseDown",function(T){var O=C.props.onMouseDown;if(cr(O)){var D=C.getMouseInfo(T);O(D,T)}}),or(C,"handleMouseUp",function(T){var O=C.props.onMouseUp;if(cr(O)){var D=C.getMouseInfo(T);O(D,T)}}),or(C,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),or(C,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&C.handleMouseDown(T.changedTouches[0])}),or(C,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&C.handleMouseUp(T.changedTouches[0])}),or(C,"handleDoubleClick",function(T){var O=C.props.onDoubleClick;if(cr(O)){var D=C.getMouseInfo(T);O(D,T)}}),or(C,"handleContextMenu",function(T){var O=C.props.onContextMenu;if(cr(O)){var D=C.getMouseInfo(T);O(D,T)}}),or(C,"triggerSyncEvent",function(T){C.props.syncId!==void 0&&q5.emit(K5,C.props.syncId,T,C.eventEmitterSymbol)}),or(C,"applySyncEvent",function(T){var O=C.props,D=O.layout,R=O.syncMethod,q=C.state.updateId,U=T.dataStartIndex,I=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)C.setState(ft({dataStartIndex:U,dataEndIndex:I},g({props:C.props,dataStartIndex:U,dataEndIndex:I,updateId:q},C.state)));else if(T.activeTooltipIndex!==void 0){var Q=T.chartX,H=T.chartY,Y=T.activeTooltipIndex,K=C.state,J=K.offset,re=K.tooltipTicks;if(!J)return;if(typeof R=="function")Y=R(re,T);else if(R==="value"){Y=-1;for(var oe=0;oe<re.length;oe++)if(re[oe].value===T.activeLabel){Y=oe;break}}var V=ft(ft({},J),{},{x:J.left,y:J.top}),W=Math.min(Q,V.x+V.width),P=Math.min(H,V.y+V.height),$=re[Y]&&re[Y].value,G=Jk(C.state,C.props.data,Y),ne=re[Y]?{x:D==="horizontal"?re[Y].coordinate:W,y:D==="horizontal"?P:re[Y].coordinate}:Vz;C.setState(ft(ft({},T),{},{activeLabel:$,activeCoordinate:ne,activePayload:G,activeTooltipIndex:Y}))}else C.setState(T)}),or(C,"renderCursor",function(T){var O,D=C.state,R=D.isTooltipActive,q=D.activeCoordinate,U=D.activePayload,I=D.offset,Q=D.activeTooltipIndex,H=D.tooltipAxisBandSize,Y=C.getTooltipEventType(),K=(O=T.props.active)!==null&&O!==void 0?O:R,J=C.props.layout,re=T.key||"_recharts-cursor";return xe.createElement(Qxe,{key:re,activeCoordinate:q,activePayload:U,activeTooltipIndex:Q,chartName:r,element:T,isActive:K,layout:J,offset:I,tooltipAxisBandSize:H,tooltipEventType:Y})}),or(C,"renderPolarAxis",function(T,O,D){var R=Ss(T,"type.axisType"),q=Ss(C.state,"".concat(R,"Map")),U=T.type.defaultProps,I=U!==void 0?ft(ft({},U),T.props):T.props,Q=q&&q[I["".concat(R,"Id")]];return B.cloneElement(T,ft(ft({},Q),{},{className:tt(R,Q.className),key:T.key||"".concat(O,"-").concat(D),ticks:Kc(Q,!0)}))}),or(C,"renderPolarGrid",function(T){var O=T.props,D=O.radialLines,R=O.polarAngles,q=O.polarRadius,U=C.state,I=U.radiusAxisMap,Q=U.angleAxisMap,H=AA(I),Y=AA(Q),K=Y.cx,J=Y.cy,re=Y.innerRadius,oe=Y.outerRadius;return B.cloneElement(T,{polarAngles:Array.isArray(R)?R:Kc(Y,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(q)?q:Kc(H,!0).map(function(V){return V.coordinate}),cx:K,cy:J,innerRadius:re,outerRadius:oe,key:T.key||"polar-grid",radialLines:D})}),or(C,"renderLegend",function(){var T=C.state.formattedGraphicalItems,O=C.props,D=O.children,R=O.width,q=O.height,U=C.props.margin||{},I=R-(U.left||0)-(U.right||0),Q=SK({children:D,formattedGraphicalItems:T,legendWidth:I,legendContent:A});if(!Q)return null;var H=Q.item,Y=jQ(Q,Rxe);return B.cloneElement(H,ft(ft({},Y),{},{chartWidth:R,chartHeight:q,margin:U,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),or(C,"renderTooltip",function(){var T,O=C.props,D=O.children,R=O.accessibilityLayer,q=ws(D,Yo);if(!q)return null;var U=C.state,I=U.isTooltipActive,Q=U.activeCoordinate,H=U.activePayload,Y=U.activeLabel,K=U.offset,J=(T=q.props.active)!==null&&T!==void 0?T:I;return B.cloneElement(q,{viewBox:ft(ft({},K),{},{x:K.left,y:K.top}),active:J,label:Y,payload:J?H:[],coordinate:Q,accessibilityLayer:R})}),or(C,"renderBrush",function(T){var O=C.props,D=O.margin,R=O.data,q=C.state,U=q.offset,I=q.dataStartIndex,Q=q.dataEndIndex,H=q.updateId;return B.cloneElement(T,{key:T.key||"_recharts-brush",onChange:e0(C.handleBrushChange,T.props.onChange),data:R,x:kt(T.props.x)?T.props.x:U.left,y:kt(T.props.y)?T.props.y:U.top+U.height+U.brushBottom-(D.bottom||0),width:kt(T.props.width)?T.props.width:U.width,startIndex:I,endIndex:Q,updateId:"brush-".concat(H)})}),or(C,"renderReferenceElement",function(T,O,D){if(!T)return null;var R=C,q=R.clipPathId,U=C.state,I=U.xAxisMap,Q=U.yAxisMap,H=U.offset,Y=T.type.defaultProps||{},K=T.props,J=K.xAxisId,re=J===void 0?Y.xAxisId:J,oe=K.yAxisId,V=oe===void 0?Y.yAxisId:oe;return B.cloneElement(T,{key:T.key||"".concat(O,"-").concat(D),xAxis:I[re],yAxis:Q[V],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:q})}),or(C,"renderActivePoints",function(T){var O=T.item,D=T.activePoint,R=T.basePoint,q=T.childIndex,U=T.isRange,I=[],Q=O.props.key,H=O.item.type.defaultProps!==void 0?ft(ft({},O.item.type.defaultProps),O.item.props):O.item.props,Y=H.activeDot,K=H.dataKey,J=ft(ft({index:q,dataKey:K,cx:D.x,cy:D.y,r:4,fill:CT(O.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Zt(Y,!1)),xx(Y));return I.push(w.renderActiveDot(Y,J,"".concat(Q,"-activePoint-").concat(q))),R?I.push(w.renderActiveDot(Y,ft(ft({},J),{},{cx:R.x,cy:R.y}),"".concat(Q,"-basePoint-").concat(q))):U&&I.push(null),I}),or(C,"renderGraphicChild",function(T,O,D){var R=C.filterFormatItem(T,O,D);if(!R)return null;var q=C.getTooltipEventType(),U=C.state,I=U.isTooltipActive,Q=U.tooltipAxis,H=U.activeTooltipIndex,Y=U.activeLabel,K=C.props.children,J=ws(K,Yo),re=R.props,oe=re.points,V=re.isRange,W=re.baseLine,P=R.item.type.defaultProps!==void 0?ft(ft({},R.item.type.defaultProps),R.item.props):R.item.props,$=P.activeDot,G=P.hide,ne=P.activeBar,se=P.activeShape,ve=!!(!G&&I&&J&&($||ne||se)),he={};q!=="axis"&&J&&J.props.trigger==="click"?he={onClick:e0(C.handleItemMouseEnter,T.props.onClick)}:q!=="axis"&&(he={onMouseLeave:e0(C.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:e0(C.handleItemMouseEnter,T.props.onMouseEnter)});var fe=B.cloneElement(T,ft(ft({},R.props),he));function Qe(ge){return typeof Q.dataKey=="function"?Q.dataKey(ge.payload):null}if(ve)if(H>=0){var $e,de;if(Q.dataKey&&!Q.allowDuplicatedCategory){var ze=typeof Q.dataKey=="function"?Qe:"payload.".concat(Q.dataKey.toString());$e=vx(oe,ze,Y),de=V&&W&&vx(W,ze,Y)}else $e=oe?.[H],de=V&&W&&W[H];if(se||ne){var nt=T.props.activeIndex!==void 0?T.props.activeIndex:H;return[B.cloneElement(T,ft(ft(ft({},R.props),he),{},{activeIndex:nt})),null,null]}if(!br($e))return[fe].concat(Zm(C.renderActivePoints({item:R,activePoint:$e,basePoint:de,childIndex:H,isRange:V})))}else{var Se,Z=(Se=C.getItemByXY(C.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:fe},Ke=Z.graphicalItem,st=Ke.item,ye=st===void 0?T:st,He=Ke.childIndex,Ve=ft(ft(ft({},R.props),he),{},{activeIndex:He});return[B.cloneElement(ye,Ve),null,null]}return V?[fe,null,null]:[fe,null]}),or(C,"renderCustomized",function(T,O,D){return B.cloneElement(T,ft(ft({key:"recharts-customized-".concat(D)},C.props),C.state))}),or(C,"renderMap",{CartesianGrid:{handler:i0,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:i0},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:i0},YAxis:{handler:i0},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((N=S.id)!==null&&N!==void 0?N:wf("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Bq(C.triggeredAfterMouseMove,(k=S.throttleDelay)!==null&&k!==void 0?k:1e3/60),C.state={},C}return Zxe(w,x),Wxe(w,[{key:"componentDidMount",value:function(){var N,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,k=N.children,C=N.data,T=N.height,O=N.layout,D=ws(k,Yo);if(D){var R=D.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,U=Jk(this.state,C,R,q),I=this.state.tooltipTicks[R].coordinate,Q=(this.state.offset.top+T)/2,H=O==="horizontal",Y=H?{x:I,y:Q}:{y:I,x:Q},K=this.state.formattedGraphicalItems.find(function(re){var oe=re.item;return oe.type.name==="Scatter"});K&&(Y=ft(ft({},Y),K.props.points[R].tooltipPosition),U=K.props.points[R].tooltipPayload);var J={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:q,activePayload:U,activeCoordinate:Y};this.setState(J),this.renderCursor(D),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var C,T;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(N){Ij([ws(N.children,Yo)],[ws(this.props.children,Yo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=ws(this.props.children,Yo);if(N&&typeof N.props.shared=="boolean"){var k=N.props.shared?"axis":"item";return o.indexOf(k)>=0?k:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var k=this.container,C=k.getBoundingClientRect(),T=mue(C),O={chartX:Math.round(N.pageX-T.left),chartY:Math.round(N.pageY-T.top)},D=C.width/k.offsetWidth||1,R=this.inRange(O.chartX,O.chartY,D);if(!R)return null;var q=this.state,U=q.xAxisMap,I=q.yAxisMap,Q=this.getTooltipEventType(),H=EQ(this.state,this.props.data,this.props.layout,R);if(Q!=="axis"&&U&&I){var Y=AA(U).scale,K=AA(I).scale,J=Y&&Y.invert?Y.invert(O.chartX):null,re=K&&K.invert?K.invert(O.chartY):null;return ft(ft({},O),{},{xValue:J,yValue:re},H)}return H?ft(ft({},O),H):null}},{key:"inRange",value:function(N,k){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,O=N/C,D=k/C;if(T==="horizontal"||T==="vertical"){var R=this.state.offset,q=O>=R.left&&O<=R.left+R.width&&D>=R.top&&D<=R.top+R.height;return q?{x:O,y:D}:null}var U=this.state,I=U.angleAxisMap,Q=U.radiusAxisMap;if(I&&Q){var H=AA(I);return EM({x:O,y:D},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,k=this.getTooltipEventType(),C=ws(N,Yo),T={};C&&k==="axis"&&(C.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=xx(this.props,this.handleOuterEvent);return ft(ft({},O),T)}},{key:"addListener",value:function(){q5.on(K5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){q5.removeListener(K5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,k,C){for(var T=this.state.formattedGraphicalItems,O=0,D=T.length;O<D;O++){var R=T[O];if(R.item===N||R.props.key===N.key||k===Vc(R.item.type)&&C===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,k=this.state.offset,C=k.left,T=k.top,O=k.height,D=k.width;return xe.createElement("defs",null,xe.createElement("clipPath",{id:N},xe.createElement("rect",{x:C,y:T,height:O,width:D})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(k,C){var T=CQ(C,2),O=T[0],D=T[1];return ft(ft({},k),{},or({},O,D.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(k,C){var T=CQ(C,2),O=T[0],D=T[1];return ft(ft({},k),{},or({},O,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[N])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(N){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[N])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(N){var k=this.state,C=k.formattedGraphicalItems,T=k.activeItem;if(C&&C.length)for(var O=0,D=C.length;O<D;O++){var R=C[O],q=R.props,U=R.item,I=U.type.defaultProps!==void 0?ft(ft({},U.type.defaultProps),U.props):U.props,Q=Vc(U.type);if(Q==="Bar"){var H=(q.data||[]).find(function(re){return Oge(N,re)});if(H)return{graphicalItem:R,payload:H}}else if(Q==="RadialBar"){var Y=(q.data||[]).find(function(re){return EM(N,re)});if(Y)return{graphicalItem:R,payload:Y}}else if(F1(R,T)||D1(R,T)||Xb(R,T)){var K=tye({graphicalItem:R,activeTooltipItem:T,itemData:I.data}),J=I.activeIndex===void 0?K:I.activeIndex;return{graphicalItem:ft(ft({},R),{},{childIndex:J}),payload:Xb(R,T)?I.data[K]:R.props.data[K]}}}return null}},{key:"render",value:function(){var N=this;if(!HF(this))return null;var k=this.props,C=k.children,T=k.className,O=k.width,D=k.height,R=k.style,q=k.compact,U=k.title,I=k.desc,Q=jQ(k,Hxe),H=Zt(Q,!1);if(q)return xe.createElement(sQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement(Fj,nm({},H,{width:O,height:D,title:U,desc:I}),this.renderClipPath(),qF(C,this.renderMap)));if(this.props.accessibilityLayer){var Y,K;H.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,H.role=(K=this.props.role)!==null&&K!==void 0?K:"application",H.onKeyDown=function(re){N.accessibilityManager.keyboardEvent(re)},H.onFocus=function(){N.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return xe.createElement(sQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement("div",nm({className:tt("recharts-wrapper",T),style:ft({position:"relative",cursor:"default",width:O,height:D},R)},J,{ref:function(oe){N.container=oe}}),xe.createElement(Fj,nm({},H,{width:O,height:D,title:U,desc:I,style:iwe}),this.renderClipPath(),qF(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(B.Component);or(v,"displayName",r),or(v,"defaultProps",ft({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),or(v,"getDerivedStateFromProps",function(x,w){var S=x.dataKey,N=x.data,k=x.children,C=x.width,T=x.height,O=x.layout,D=x.stackOffset,R=x.margin,q=w.dataStartIndex,U=w.dataEndIndex;if(w.updateId===void 0){var I=TQ(x);return ft(ft(ft({},I),{},{updateId:0},g(ft(ft({props:x},I),{},{updateId:0}),w)),{},{prevDataKey:S,prevData:N,prevWidth:C,prevHeight:T,prevLayout:O,prevStackOffset:D,prevMargin:R,prevChildren:k})}if(S!==w.prevDataKey||N!==w.prevData||C!==w.prevWidth||T!==w.prevHeight||O!==w.prevLayout||D!==w.prevStackOffset||!cm(R,w.prevMargin)){var Q=TQ(x),H={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},Y=ft(ft({},EQ(w,N,O)),{},{updateId:w.updateId+1}),K=ft(ft(ft({},Q),H),Y);return ft(ft(ft({},K),g(ft({props:x},K),w)),{},{prevDataKey:S,prevData:N,prevWidth:C,prevHeight:T,prevLayout:O,prevStackOffset:D,prevMargin:R,prevChildren:k})}if(!Ij(k,w.prevChildren)){var J,re,oe,V,W=ws(k,Hm),P=W&&(J=(re=W.props)===null||re===void 0?void 0:re.startIndex)!==null&&J!==void 0?J:q,$=W&&(oe=(V=W.props)===null||V===void 0?void 0:V.endIndex)!==null&&oe!==void 0?oe:U,G=P!==q||$!==U,ne=!br(N),se=ne&&!G?w.updateId:w.updateId+1;return ft(ft({updateId:se},g(ft(ft({props:x},w),{},{updateId:se,dataStartIndex:P,dataEndIndex:$}),w)),{},{prevChildren:k,dataStartIndex:P,dataEndIndex:$})}return null}),or(v,"renderActiveDot",function(x,w,S){var N;return B.isValidElement(x)?N=B.cloneElement(x,w):cr(x)?N=x(w):N=xe.createElement(Ny,w),xe.createElement(Dr,{className:"recharts-active-dot",key:S},N)});var b=B.forwardRef(function(w,S){return xe.createElement(v,nm({},w,{ref:S}))});return b.displayName=v.displayName,b},mwe=MT({chartName:"LineChart",GraphicalChild:jy,axisComponents:[{axisType:"xAxis",AxisComp:gp},{axisType:"yAxis",AxisComp:bp}],formatAxisMap:uz}),pwe=MT({chartName:"PieChart",GraphicalChild:cu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:U1},{axisType:"radiusAxis",AxisComp:O1}],formatAxisMap:Ghe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),gwe=MT({chartName:"AreaChart",GraphicalChild:RA,axisComponents:[{axisType:"xAxis",AxisComp:gp},{axisType:"yAxis",AxisComp:bp}],formatAxisMap:uz});function bwe({height:e}){return l.jsxs("div",{className:"flex h-full flex-col justify-center gap-4 rounded-xl bg-white/5 p-6 dark:bg-white/5",style:{minHeight:e},children:[l.jsx("div",{className:"h-3 w-1/3 rounded-full bg-white/20"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-32 rounded-xl bg-white/10"}),l.jsx("div",{className:"h-4 w-3/4 rounded-full bg-white/10"})]})]})}function ywe({message:e}){return l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 text-center text-sm text-muted/90",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/10 text-brand",children:l.jsx(Ko,{className:"h-5 w-5"})}),l.jsx("p",{className:"font-medium text-text/80 dark:text-slate-100/80",children:e})]})}function Yz({title:e,subtext:t,actions:r,children:n,footer:a,height:i=320,isEmpty:s=!1,emptyMessage:o="Belum ada data bulan ini.",className:c=""}){const A=B.useRef(null),[f,h]=B.useState(!1);return B.useEffect(()=>{const p=A.current;if(!p)return;let g;const v=new ResizeObserver(b=>{const x=b[0];clearTimeout(g),g=setTimeout(()=>{h(x?.contentRect?.width>0)},160)});return v.observe(p),h(p.getBoundingClientRect().width>0),()=>{v.disconnect(),clearTimeout(g)}},[]),l.jsxs(Vl,{className:tt("flex min-h-[360px] flex-col",c),children:[(e||t||r)&&l.jsx(vf,{title:e,subtext:t,actions:r}),l.jsx("div",{ref:A,className:"relative mt-2 flex-1 rounded-2xl bg-gradient-to-br from-white/4 via-transparent to-white/0 p-2",style:{minHeight:i},children:s?l.jsx(ywe,{message:o}):f&&typeof n=="function"?n({height:i}):l.jsx(bwe,{height:i})}),a&&l.jsx("div",{className:"mt-6",children:a})]})}function IQ(e=0){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)}const UQ=["#dc2626","#f97316","#eab308","#16a34a","#0ea5e9","#6366f1","#d946ef","#475569"];function FQ(e,t){return typeof e?.color=="string"&&e.color?e.color:UQ[t%UQ.length]}function Xz({data:e=[]}){const t=({payload:r})=>{if(!r?.length)return null;const n=r[0];return l.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/95 px-3 py-2 text-xs text-text shadow-lg dark:bg-slate-900/90",children:[l.jsx("div",{className:"font-medium text-text",children:n.name}),l.jsx("div",{className:"text-brand",children:IQ(n.value)})]})};return l.jsx(Yz,{title:"Distribusi Kategori",subtext:"Persentase pengeluaran per kategori",isEmpty:!e.length,footer:e.length?l.jsx("ul",{className:"flex flex-wrap items-center gap-3 text-xs text-muted/90",children:e.map((r,n)=>l.jsxs("li",{className:"flex min-w-0 items-center gap-2",children:[l.jsx("span",{className:"h-3 w-3 flex-shrink-0 rounded-full",style:{backgroundColor:FQ(r,n)}}),l.jsxs("span",{className:"truncate",children:[r.name,"  ",IQ(r.value)]})]},r.name))}):null,children:({height:r})=>l.jsx(y1,{width:"100%",height:r,children:l.jsxs(pwe,{children:[l.jsx(cu,{data:e,dataKey:"value",nameKey:"name",innerRadius:"55%",outerRadius:"80%",paddingAngle:4,children:e.map((n,a)=>l.jsx(v1,{fill:FQ(n,a)},n.name||a))}),l.jsx(Yo,{content:t})]})})})}function DQ(e=0){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)}function vwe(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"short",year:"numeric"}).format(t)}function Jz({data:e=[],onSelect:t}){const[r,n]=B.useState("desc"),a=B.useMemo(()=>e.filter(h=>h&&h.type==="expense").map(h=>({...h,amount:Math.abs(Number(h.amount)||0)})),[e]),i=B.useMemo(()=>[...a].sort((h,p)=>r==="asc"?h.amount-p.amount:p.amount-h.amount),[a,r]),s=i.slice(0,5),o=i[0],c=i.length,A=B.useMemo(()=>a.reduce((h,p)=>h+p.amount,0),[a]),f=()=>n(h=>h==="asc"?"desc":"asc");return l.jsxs(Vl,{className:"flex min-h-[360px] flex-col",children:[l.jsx(vf,{title:"Top Pengeluaran",subtext:"Pengeluaran terbesar dalam periode ini",actions:l.jsxs("button",{type:"button",onClick:f,className:"inline-flex items-center gap-1 rounded-full border border-border-subtle px-3 py-1 text-xs font-medium text-text transition hover:border-border hover:bg-surface-alt/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":"Urutkan pengeluaran",children:["Sortir ",r==="asc"?"":""]})}),l.jsxs(Gc,{className:"flex-1 space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[l.jsx("span",{className:"inline-flex w-fit items-center rounded-xl bg-danger/10 px-3 py-1 text-xs font-semibold text-danger",children:r==="asc"?"Terkecil":"Terbesar"}),o?l.jsxs("div",{className:"rounded-xl bg-surface-alt/70 px-3 py-2 text-xs text-muted",children:[l.jsx("span",{className:"font-semibold text-text",children:r==="asc"?"Nominal terkecil":"Nominal terbesar"})," ",l.jsxs("span",{className:"text-muted/90",children:[DQ(o.amount),"  ",o.note||o.category||"Tanpa catatan"]})]}):null]}),s.length>0?l.jsx("ul",{className:"space-y-4",children:s.map((h,p)=>{const g=A?Math.min(100,Math.round(h.amount/A*100)):0;return l.jsx("li",{children:l.jsx("button",{type:"button",onClick:()=>t?.(h),className:"group w-full rounded-2xl border border-transparent bg-surface-alt/40 p-4 text-left transition hover:border-border hover:bg-surface-alt/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:ring-[color:var(--brand-ring)]",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-danger/10 text-sm font-semibold text-danger",children:["#",p+1]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"max-w-[16ch] truncate text-sm font-semibold text-text dark:text-slate-100",children:h.note||h.category||"Tanpa catatan"}),l.jsxs("p",{className:"text-xs text-muted",children:[h.category||"Lainnya","  ",vwe(h.date)]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-semibold text-danger",children:DQ(h.amount)}),l.jsxs("p",{className:"text-xs text-muted/80",children:[g,"% dari total"]})]})]})})},h.id||`${h.note}-${h.date}-${p}`)})}):l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 rounded-2xl border border-dashed border-border-subtle/60 p-6 text-center",children:[l.jsx("p",{className:"text-sm font-medium text-text/80",children:"Belum ada pengeluaran pada periode ini."}),l.jsx("p",{className:"text-xs text-muted",children:"Catat transaksi untuk melihat daftar pengeluaran teratas."})]}),c>s.length?l.jsxs("p",{className:"text-xs text-muted",children:["Menampilkan ",s.length," dari ",c," pengeluaran. Ubah urutan untuk melihat nominal lainnya."]}):null]})]})}function xwe({value:e,onChange:t,options:r=[]}){return l.jsx("div",{className:"inline-flex items-stretch gap-1 rounded-xl border border-border bg-surface-alt/60 p-1",children:r.map(n=>l.jsx("button",{type:"button",className:tt("flex-1 rounded-lg px-3 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",e===n.value?"bg-brand text-brand-foreground shadow-sm":"bg-transparent text-muted hover:bg-surface-alt"),onClick:()=>t(n.value),children:n.label},n.value))})}function wwe(e=0){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)}function _we(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"short",year:"numeric"}).format(t)}const LQ={income:{icon:oZ,iconClass:"bg-success/10 text-success",amountClass:"text-success"},expense:{icon:dE,iconClass:"bg-danger/10 text-danger",amountClass:"text-danger"},transfer:{icon:Vw,iconClass:"bg-info/10 text-info",amountClass:"text-muted"}};function Bwe({txs:e=[]}){const[t,r]=B.useState("week"),[n,a]=B.useState(1),[i,s]=B.useState(5),o=B.useMemo(()=>{const p=new Date;return e.filter(g=>{const v=new Date(g.date),b=(p-v)/(1e3*60*60*24);return t==="day"?b<1:t==="week"?b<7:b<30}).sort((g,v)=>new Date(v.date)-new Date(g.date))},[e,t]);B.useEffect(()=>{a(1)},[t,i]),B.useEffect(()=>{const p=Math.max(1,Math.ceil(o.length/i));n>p&&a(p)},[o.length,n,i]);const c=Math.max(1,Math.ceil(o.length/i)),A=(n-1)*i,f=o.slice(A,A+i),h=t==="day"?"24 jam":t==="week"?"7 hari":"30 hari";return l.jsxs(Vl,{className:"flex min-h-[360px] flex-col",children:[l.jsx(vf,{title:"Transaksi Terbaru",subtext:`Ringkasan transaksi ${h} terakhir`,actions:l.jsx(xwe,{value:t,onChange:r,options:[{label:"Hari",value:"day"},{label:"Minggu",value:"week"},{label:"Bulan",value:"month"}]})}),l.jsxs(Gc,{className:"flex-1 space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl bg-surface-alt/60 px-4 py-3 text-xs text-muted sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zZ,{className:"h-4 w-4","aria-hidden":"true"}),l.jsxs("span",{children:["Menampilkan ",o.length===0?0:`${A+1}-${Math.min(A+f.length,o.length)}`," dari ",o.length," transaksi ",h," terakhir"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("label",{htmlFor:"recent-tx-page-size",className:"text-muted",children:"Tampilkan"}),l.jsx("select",{id:"recent-tx-page-size",value:i,onChange:p=>{const g=Number(p.target.value);s(g),a(1)},className:"rounded-lg border border-border-subtle bg-transparent px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[5,10,20].map(p=>l.jsx("option",{value:p,children:p},p))}),l.jsx("span",{children:"per halaman"})]})]}),f.length>0?l.jsx("ul",{className:"space-y-3",children:f.map(p=>{const g=Math.abs(Number(p.amount)||0),v=LQ[p.type]||LQ.transfer,b=v.icon;return l.jsx("li",{children:l.jsxs("div",{className:"group flex items-start justify-between gap-4 rounded-2xl border border-transparent bg-surface-alt/40 p-4 transition hover:border-border hover:bg-surface-alt/70",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:tt("mt-1 flex h-9 w-9 items-center justify-center rounded-xl",v.iconClass),"aria-hidden":"true",children:l.jsx(b,{className:"h-4 w-4"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-semibold text-text dark:text-slate-100",children:p.note||p.category||"Transaksi"}),l.jsx("p",{className:"text-xs text-muted",children:p.category||"Lainnya"}),l.jsx("p",{className:"text-xs text-muted/80",children:_we(p.date)})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("p",{className:tt("text-sm font-semibold",v.amountClass),children:wwe(g)})})]})},p.id||`${p.note}-${p.date}-${p.amount}`)})}):l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 rounded-2xl border border-dashed border-border-subtle/60 p-6 text-center",children:[l.jsx("p",{className:"text-sm font-medium text-text/80",children:"Belum ada transaksi pada periode ini."}),l.jsx("p",{className:"text-xs text-muted",children:"Coba pilih rentang waktu yang berbeda untuk melihat transaksi lainnya."})]}),o.length>0?l.jsxs("div",{className:"flex items-center justify-between gap-4 pt-2 text-xs text-muted",children:[l.jsx("button",{type:"button",onClick:()=>a(p=>Math.max(1,p-1)),disabled:n===1,className:"inline-flex items-center gap-1 rounded-full border border-border-subtle px-3 py-1 font-medium text-text transition disabled:cursor-not-allowed disabled:opacity-40 hover:border-border hover:bg-surface-alt/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:"Sebelumnya"}),l.jsxs("span",{children:["Halaman ",n," dari ",c]}),l.jsx("button",{type:"button",onClick:()=>a(p=>Math.min(c,p+1)),disabled:n>=c,className:"inline-flex items-center gap-1 rounded-full border border-border-subtle px-3 py-1 font-medium text-text transition disabled:cursor-not-allowed disabled:opacity-40 hover:border-border hover:bg-surface-alt/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:"Selanjutnya"})]}):null]})]})}const Swe="Asia/Jakarta",Nwe=new Intl.DateTimeFormat("en-CA",{timeZone:Swe,year:"numeric",month:"2-digit",day:"2-digit"});function yw(e){const t=new Date(e);if(Number.isNaN(t.getTime()))return null;const r=Nwe.formatToParts(t),n=Object.create(null);for(const o of r)(o.type==="year"||o.type==="month"||o.type==="day")&&(n[o.type]=o.value);const a=Number.parseInt(n.year??"",10),i=n.month,s=Number.parseInt(n.day??"",10);return!a||!i||!s?null:{year:a,month:i,day:s}}function MQ(e){const t=yw(e);return t?`${t.year}-${t.month}`:null}function Cwe(e=new Date){const t=yw(e);return t?t.year*12+(Number.parseInt(t.month,10)-1):null}function jwe(e=[],t=new Date){const r=Cwe(t);if(r==null)return{kpis:{income:0,expense:0,net:0,avgDaily:0},trend:[],categories:[],topSpends:[]};const n=MQ(t),a=e.filter(w=>MQ(w.date)===n),i=a.filter(w=>w.type==="income").reduce((w,S)=>w+Number(S.amount||0),0),s=a.filter(w=>w.type==="expense").reduce((w,S)=>w+Number(S.amount||0),0),o=i-s,A=yw(t)?.day??0,f=A?s/A:0,h=new Map,p=r-5;for(const w of e){const S=yw(w.date);if(!S||w.type!=="income"&&w.type!=="expense")continue;const N=S.year*12+(Number.parseInt(S.month,10)-1);if(N<p||N>r)continue;const k=`${S.year}-${S.month}`,C=h.get(k)??{month:k,income:0,expense:0};C[w.type]+=Number(w.amount||0),h.set(k,C)}const g=Array.from({length:6}).map((w,S)=>{const N=p+S,k=Math.floor(N/12),C=String(N%12+1).padStart(2,"0"),T=`${k}-${C}`,O=h.get(T)||{income:0,expense:0};return{month:T,net:O.income-O.expense}}),v=a.filter(w=>w.type==="expense").reduce((w,S)=>{const N=S.category||"Lainnya",k=Number(S.amount||0);if(!k)return w;const C=w.get(N)??{name:N,value:0,color:void 0};return C.value+=k,!C.color&&typeof S.category_color=="string"&&S.category_color&&(C.color=S.category_color),w.set(N,C),w},new Map).values(),b=Array.from(v,w=>({name:w.name,value:w.value,color:w.color})),x=a.filter(w=>w.type==="expense").sort((w,S)=>Number(S.amount||0)-Number(w.amount||0));return{kpis:{income:i,expense:s,net:o,avgDaily:f},trend:g,categories:b,topSpends:x}}const G5=new Map;function kwe(e=[]){const t=e.map(r=>`${r.id||r.date}-${r.amount}-${r.type}`).join("|");return B.useMemo(()=>{if(G5.has(t))return G5.get(t);const r=jwe(e);return G5.set(t,r),r},[t,e])}const fm={};function Ewe(e,t){return fm[e]=fm[e]||[],fm[e].push(t),()=>Zz(e,t)}function Zz(e,t){fm[e]=(fm[e]||[]).filter(r=>r!==t)}function Twe(e,t){(fm[e]||[]).forEach(r=>r(t))}const eG={on:Ewe,off:Zz,emit:Twe};function hn(e=0,t="IDR"){return new Intl.NumberFormat(t==="USD"?"en-US":"id-ID",{style:"currency",currency:t,maximumFractionDigits:0}).format(e??0)}const Owe=[{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Custom",value:"custom"}],PQ=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"];function QQ(e){if(!e)return null;const[t,r,n]=e.split("-").map(a=>Number.parseInt(a,10));return[t,r,n].some(a=>Number.isNaN(a))?null:{year:t,month:r,day:n}}function Zk(e){const{start:t,end:r}=e;return t&&r&&t>r?{start:r,end:t}:e}const Iwe=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Jakarta"});function Uwe(e=new Date){const t=e.getTime()+e.getTimezoneOffset()*6e4;return new Date(t+420*6e4)}function tG(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Fwe(e){const t=tG(e),r=t.getUTCDay()===0?7:t.getUTCDay();return t.setUTCDate(t.getUTCDate()-(r-1)),t}function Dwe(e){const t=tG(e);return t.setUTCDate(1),t}function V5(e){return Iwe.format(e)}function rG(e,t=new Date){const r=Uwe(t),n=V5(r);if(e==="today")return{start:n,end:n};if(e==="week"){const a=Fwe(r);return{start:V5(a),end:n}}if(e==="month"){const a=Dwe(r);return{start:V5(a),end:n}}return Zk({start:n,end:n})}function Lwe(e){const t=QQ(e.start),r=QQ(e.end);if(!t||!r)return"";const n=e.start===e.end,a=n||t.year===r.year&&t.month===r.month,i=t.year===r.year,s=PQ[t.month-1]??"",o=PQ[r.month-1]??"";return n?`${t.day} ${s} ${t.year}`:a?`${t.day}${r.day} ${o} ${r.year}`:i?`${t.day} ${s}  ${r.day} ${o} ${r.year}`:`${t.day} ${s} ${t.year}  ${r.day} ${o} ${r.year}`}function Mwe({value:e,preset:t,onChange:r,className:n}){const a=B.useMemo(()=>Zk(e),[e]),i=o=>{if(o==="custom"){r(a,"custom");return}r(rG(o),o)},s=o=>c=>{const A=Zk({...a,[o]:c.target.value});r(A,"custom")};return l.jsxs("div",{className:n,children:[l.jsx("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-border/80 bg-card/60 p-1.5 text-xs shadow-sm backdrop-blur sm:rounded-2xl sm:p-2 sm:text-sm max-[400px]:gap-1.5",children:Owe.map(o=>{const c=t===o.value;return l.jsx("button",{type:"button",onClick:()=>i(o.value),className:`inline-flex min-h-[40px] flex-1 items-center justify-center rounded-lg px-3 py-1.5 font-medium transition sm:flex-none sm:rounded-2xl sm:px-4 sm:py-2 ${c?"bg-primary text-primary-foreground shadow":"text-muted-foreground hover:bg-primary/5"}`,"aria-pressed":c,"aria-label":`Pilih periode ${o.label}`,children:o.label},o.value)})}),t==="custom"?l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs sm:text-sm",children:[l.jsxs("label",{className:"flex min-w-[140px] flex-1 flex-col gap-1 sm:min-w-[180px]",children:[l.jsx("span",{className:"text-[11px] font-medium text-muted-foreground sm:text-xs",children:"Start"}),l.jsx("input",{type:"date",value:a.start,onChange:s("start"),className:"h-10 rounded-xl border border-transparent bg-muted/40 px-3 text-sm shadow-inner ring-2 ring-transparent transition focus:border-primary/40 focus:bg-background focus:outline-none focus:ring-primary/20 sm:h-11 sm:px-4 sm:text-base"})]}),l.jsxs("label",{className:"flex min-w-[140px] flex-1 flex-col gap-1 sm:min-w-[180px]",children:[l.jsx("span",{className:"text-[11px] font-medium text-muted-foreground sm:text-xs",children:"End"}),l.jsx("input",{type:"date",value:a.end,onChange:s("end"),className:"h-10 rounded-xl border border-transparent bg-muted/40 px-3 text-sm shadow-inner ring-2 ring-transparent transition focus:border-primary/40 focus:bg-background focus:outline-none focus:ring-primary/20 sm:h-11 sm:px-4 sm:text-base"})]})]}):null]})}function s0({title:e,children:t}){return l.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-xl bg-primary/10 text-primary sm:h-10 sm:w-10",title:e,"aria-hidden":"true",children:t})}function Ng(){return l.jsx("div",{className:"h-6 w-24 animate-pulse rounded-lg bg-muted/60 sm:h-7 sm:w-28"})}function jh(e){return hn(Math.trunc(e??0),"IDR")}function Pwe(e){if(!e.length)return"";const t=120,r=48,n=Math.min(...e),i=Math.max(...e)-n||1,s=e.length>1?t/(e.length-1):t;return e.map((o,c)=>{const A=c*s,f=(o-n)/i,h=r-f*(r-10)-5;return`${A.toFixed(1)},${h.toFixed(1)}`}).join(" ")}function Qwe({income:e,expense:t,cashBalance:r,nonCashBalance:n,totalBalance:a,period:i,loading:s=!1,error:o}){const c=B.useMemo(()=>Lwe(i)||"",[i]),A=e-t,f=A>=0,h=f?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":"bg-rose-500/10 text-rose-600 dark:text-rose-400",p=B.useMemo(()=>{const v=Math.max(e,t,Math.abs(A),1);return Array.from({length:8},(x,w)=>w/7).map(x=>{const w=Math.sin(x*Math.PI),S=f?x:1-x;return v*(.4+w*.35)+Math.abs(A)*.2*S})},[e,t,A,f]),g=B.useMemo(()=>Pwe(p),[p]);return l.jsxs("section",{className:"space-y-3 md:space-y-4 max-[400px]:space-y-2",children:[l.jsxs("div",{className:"grid gap-3 sm:gap-4 min-[420px]:grid-cols-2 xl:grid-cols-4",children:[l.jsx("article",{className:"group min-h-fit rounded-xl border border-white/10 bg-gradient-to-b from-white/80 to-white/40 p-3 shadow-sm transition hover:border-primary/20 hover:shadow-md dark:from-zinc-900/60 dark:to-zinc-900/30 sm:p-4 md:p-5",children:l.jsxs("div",{className:"flex items-start justify-between gap-2.5 sm:gap-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground max-[400px]:text-xs",children:"Pemasukan"}),s?l.jsx(Ng,{}):l.jsx("p",{className:"break-words whitespace-normal text-lg font-bold tracking-tight text-emerald-600 tabular-nums dark:text-emerald-400 sm:text-xl md:text-2xl max-[400px]:text-base",children:jh(e)}),l.jsxs("p",{className:"text-[11px] text-muted-foreground sm:text-xs md:text-sm",children:["Periode ",c]})]}),l.jsx(s0,{title:"Total pemasukan",children:l.jsx(Vo,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})}),l.jsx("article",{className:"group min-h-fit rounded-xl border border-white/10 bg-gradient-to-b from-white/80 to-white/40 p-3 shadow-sm transition hover:border-primary/20 hover:shadow-md dark:from-zinc-900/60 dark:to-zinc-900/30 sm:p-4 md:p-5",children:l.jsxs("div",{className:"flex items-start justify-between gap-2.5 sm:gap-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground max-[400px]:text-xs",children:"Pengeluaran"}),s?l.jsx(Ng,{}):l.jsx("p",{className:"break-words whitespace-normal text-lg font-bold tracking-tight text-rose-600 tabular-nums dark:text-rose-400 sm:text-xl md:text-2xl max-[400px]:text-base",children:jh(t)}),l.jsxs("p",{className:"text-[11px] text-muted-foreground sm:text-xs md:text-sm",children:["Periode ",c]})]}),l.jsx(s0,{title:"Total pengeluaran",children:l.jsx(my,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})}),l.jsx("article",{className:"group min-h-fit rounded-xl border border-white/10 bg-gradient-to-b from-white/80 to-white/40 p-3 shadow-sm transition hover:border-primary/20 hover:shadow-md dark:from-zinc-900/60 dark:to-zinc-900/30 sm:p-4 md:p-5",children:l.jsxs("div",{className:"flex items-start justify-between gap-2.5 sm:gap-3",children:[l.jsxs("div",{className:"w-full",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground max-[400px]:text-xs",children:"Saldo"}),l.jsxs("div",{className:"mt-3 flex flex-col gap-3",children:[l.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-amber-500/10 text-amber-600 dark:text-amber-400",title:"Saldo cash",children:l.jsx(rl,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),l.jsxs("div",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"text-[11px] font-medium text-muted-foreground sm:text-xs md:text-sm",children:"Cash"}),s?l.jsx(Ng,{}):l.jsx("span",{className:"break-words whitespace-normal text-lg font-semibold text-amber-600 tabular-nums dark:text-amber-400 sm:text-xl md:text-2xl max-[400px]:text-base",children:jh(r)})]})]})}),l.jsx("div",{className:"flex flex-col gap-2 border-t border-border/60 pt-3 sm:flex-row sm:items-center sm:justify-between",children:l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-sky-500/10 text-sky-600 dark:text-sky-400",title:"Saldo non-cash",children:l.jsx(I$,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),l.jsxs("div",{className:"flex min-w-0 flex-col",children:[l.jsx("span",{className:"text-[11px] font-medium text-muted-foreground sm:text-xs md:text-sm",children:"Non-Cash"}),s?l.jsx(Ng,{}):l.jsx("span",{className:"break-words whitespace-normal text-lg font-semibold text-sky-600 tabular-nums dark:text-sky-400 sm:text-xl md:text-2xl max-[400px]:text-base",children:jh(n)})]})]})})]})]}),l.jsx(s0,{title:"Ringkasan saldo",children:l.jsx(rl,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})}),l.jsxs("article",{className:"group min-h-fit rounded-xl border border-white/10 bg-gradient-to-b from-white/80 to-white/40 p-3 shadow-sm transition hover:border-primary/20 hover:shadow-md dark:from-zinc-900/60 dark:to-zinc-900/30 sm:p-4 md:p-5",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2.5 sm:gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground max-[400px]:text-xs",children:"Total Saldo"}),s?l.jsx(Ng,{}):l.jsx("p",{className:"break-words whitespace-normal text-lg font-bold tracking-tight text-foreground tabular-nums sm:text-xl md:text-2xl max-[400px]:text-base",children:jh(a)}),l.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-[11px] font-semibold sm:px-3 sm:text-xs md:text-sm ${h}`,children:[f?l.jsx(dE,{className:"h-3.5 w-3.5"}):l.jsx(S$,{className:"h-3.5 w-3.5"}),l.jsxs("span",{children:["Net ",f?"+":"-",jh(Math.abs(A))]})]})]}),l.jsx(s0,{title:"Total saldo",children:l.jsx(fj,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),l.jsx("div",{className:"mt-5 h-20 rounded-xl bg-gradient-to-t from-primary/5 to-transparent sm:mt-6",children:s?l.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-primary/10"}):l.jsx("svg",{viewBox:"0 0 120 48",className:"h-full w-full text-primary/70",children:l.jsx("polyline",{points:g,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),o?l.jsx("div",{className:"rounded-xl border border-rose-500/30 bg-rose-500/5 px-3 py-2 text-sm text-rose-600 dark:text-rose-300 sm:px-4 sm:py-3",children:o.message}):null]})}const W5={income:0,expense:0,cashBalance:0,nonCashBalance:0,totalBalance:0};function RQ(e){if(!e)return!1;const t=typeof e=="string"?e:typeof e.message=="string"?String(e.message):"";if(!t)return!1;const r=t.toLowerCase();return r.includes("auth session missing")||r.includes("auth session is missing")||r.includes("missing auth session")}function Rwe(){if(typeof window>"u")return null;try{const e=window.localStorage?.getItem("hematwoi:v3");if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?null:t}catch{return null}}function Hwe(e){const t=Rwe(),r=Array.isArray(t?.txs)?t?.txs:[],n=r.filter(A=>{const f=typeof A?.date=="string"?A.date:typeof A?.created_at=="string"?A.created_at:null;if(!f)return!1;const h=f.slice(0,10);return h>=e.start&&h<=e.end});let a=0,i=0;for(const A of n){const f=typeof A?.type=="string"?A.type.toLowerCase():"";if(f!=="income"&&f!=="expense")continue;const h=vw(A?.amount);h&&(f==="income"?a+=h:i+=h)}let s=0;for(const A of r){const f=typeof A?.type=="string"?A.type.toLowerCase():"";if(f!=="income"&&f!=="expense")continue;const h=vw(A?.amount);h&&(s+=f==="income"?h:-h)}return{income:a,expense:i,cashBalance:s,nonCashBalance:0,totalBalance:s}}function HQ(e){let t=0;for(const r of e)Number.isFinite(r)&&(t+=r);return t}function $Q(e){const{start:t,end:r}=e;return t&&r&&t>r?{start:r,end:t}:e}function qQ(e){return e.to_account_id!==null&&e.to_account_id!==void 0}function $we(e,t){const r=(e.date??"").slice(0,10);return r?r>=t.start&&r<=t.end:!1}function vw(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=Number(e);return Number.isFinite(t)?t:0}return 0}function qwe(e){return e instanceof Error?e:new Error(e.message)}function Kwe({start:e,end:t}){const[r,n]=B.useState(W5),[a,i]=B.useState(!0),[s,o]=B.useState(null),c=B.useRef(0),A=B.useRef(!0),f=B.useMemo(()=>$Q({start:e,end:t}),[e,t]),h=B.useCallback(async p=>{const g=$Q(p??f),v=++c.current;i(!0),o(null);const b=()=>{const x=Hwe(g);return!A.current||v!==c.current?!1:(n(x),o(null),!0)};try{const{data:x,error:w}=await Ne.auth.getUser();if(w){if(RQ(w)){b();return}throw w}const S=x.user?.id;if(!S){if(b())return;A.current&&v===c.current&&(n(W5),i(!1));return}const[{data:N,error:k},{data:C,error:T}]=await Promise.all([Ne.from("accounts").select("id,type").eq("user_id",S),Ne.from("transactions").select("id,user_id,account_id,to_account_id,type,amount,date,deleted_at").eq("user_id",S).is("deleted_at",null)]);if(k)throw k;if(T)throw T;const O=N??[],D=C??[],R=D.filter(K=>$we(K,g));let q=0,U=0;for(const K of R){if(qQ(K))continue;const J=vw(K.amount);J&&(K.type==="income"?q+=J:K.type==="expense"&&(U+=J))}const I=new Map;for(const K of D){const J=vw(K.amount);if(!J)continue;const re=K.account_id??void 0,oe=K.to_account_id??void 0;if(qQ(K)){re&&I.set(re,(I.get(re)??0)-J),oe&&I.set(oe,(I.get(oe)??0)+J);continue}if(re){const V=K.type==="income"?J:-J;I.set(re,(I.get(re)??0)+V)}}const Q=HQ(O.filter(K=>K.type==="cash").map(K=>I.get(K.id)??0)),H=HQ(O.filter(K=>K.type!=="cash").map(K=>I.get(K.id)??0)),Y=Q+H;if(!A.current||v!==c.current)return;n({income:q,expense:U,cashBalance:Q,nonCashBalance:H,totalBalance:Y})}catch(x){if(RQ(x)){b();return}if(!A.current||v!==c.current)return;o(qwe(x)),n(W5)}finally{if(!A.current||v!==c.current)return;i(!1)}},[f]);return B.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]),{...r,loading:a,error:s,refresh:h}}const KQ=["a[href]","button","textarea","input","select",'[tabindex]:not([tabindex="-1"])'].join(",");function Cd(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Math.round(e))}function zwe(e){return e<=0?"Hari ini":e===1?"Besok":`Dalam ${e} hari`}function Gwe({open:e,data:t,onClose:r}){const n=B.useRef(null),a=B.useRef(null);by(e),B.useEffect(()=>{if(!e)return;const c=f=>{if(f.key==="Escape"){f.preventDefault(),r();return}if(f.key!=="Tab")return;const h=n.current;if(!h)return;const p=Array.from(h.querySelectorAll(KQ)).filter(x=>!x.hasAttribute("disabled"));if(p.length===0){f.preventDefault();return}const g=p[0],v=p[p.length-1],b=document.activeElement;f.shiftKey?(b===g||!h.contains(b))&&(f.preventDefault(),v.focus()):b===v&&(f.preventDefault(),g.focus())};document.addEventListener("keydown",c);const A=window.setTimeout(()=>{if(a.current){a.current.focus();return}const f=n.current;if(!f)return;f.querySelectorAll(KQ)[0]?.focus()},30);return()=>{document.removeEventListener("keydown",c),window.clearTimeout(A)}},[e,r]);const i=B.useCallback(c=>{c.target===c.currentTarget&&(c.preventDefault(),r())},[r]);if(!e)return null;const o=!!t?l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted",children:t.todayLabel}),l.jsx("h2",{id:"daily-digest-modal-title",className:"text-2xl font-semibold text-text",children:"Daily Digest"}),l.jsx("p",{className:"text-sm text-muted",children:"Ringkasan keuanganmu untuk membantu memulai hari dengan fokus."})]}),l.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded-2xl border border-border-subtle bg-surface-alt/60 p-4 sm:p-5",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Saldo total"}),l.jsx("div",{className:"mt-2 text-2xl font-semibold text-text",children:Cd(t.balance)}),l.jsxs("p",{className:"mt-1 text-xs text-muted",children:["Per ",t.todayLabel]})]}),l.jsxs("div",{className:"rounded-2xl border border-border-subtle bg-surface-alt/60 p-4 sm:p-5",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Aktivitas hari ini"}),l.jsxs("div",{className:"mt-2 flex items-baseline gap-2 text-xl font-semibold text-text",children:[l.jsxs("span",{className:"text-danger",children:["-",Cd(t.todayExpense)]}),l.jsx("span",{className:"text-muted",children:"/"}),l.jsxs("span",{className:"text-success",children:["+",Cd(t.todayIncome)]})]}),l.jsxs("p",{className:"mt-1 text-xs text-muted",children:[t.todayCount," transaksi  Net ",Cd(t.todayNet)]})]}),l.jsxs("div",{className:"rounded-2xl border border-border-subtle bg-surface-alt/60 p-4 sm:p-5",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Top pengeluaran hari ini"}),t.topTodayExpenses.length?l.jsx("ul",{className:"mt-3 space-y-2 text-sm text-text",children:t.topTodayExpenses.map(c=>l.jsxs("li",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:c.name}),l.jsxs("span",{className:"font-semibold text-danger",children:["-",Cd(c.amount)]})]},c.name))}):l.jsx("p",{className:"mt-2 text-sm text-muted",children:"Belum ada pengeluaran yang tercatat hari ini."})]}),l.jsxs("div",{className:"rounded-2xl border border-border-subtle bg-surface-alt/60 p-4 sm:p-5",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Pengeluaran kemarin"}),l.jsxs("div",{className:"mt-2 text-2xl font-semibold text-danger",children:["-",Cd(t.yesterdayExpense)]}),t.yesterdayCount>0?l.jsxs("p",{className:"mt-2 text-xs text-muted",children:[t.yesterdayCount," transaksi tercatat kemarin."]}):l.jsx("p",{className:"mt-2 text-sm text-muted",children:"Tidak ada pengeluaran yang tercatat kemarin."})]}),l.jsxs("div",{className:"rounded-2xl border border-border-subtle bg-surface-alt/60 p-4 sm:col-span-2 sm:p-5",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-muted",children:[l.jsx("span",{children:"Pengingat 7 hari"}),l.jsxs("span",{children:[t.upcoming.length," agenda"]})]}),t.upcoming.length?l.jsx("ul",{className:"mt-3 space-y-2 text-sm text-text",children:t.upcoming.map(c=>l.jsxs("li",{className:"flex items-center justify-between gap-3 rounded-xl bg-surface p-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:c.name}),l.jsx("p",{className:"text-xs text-muted",children:zwe(c.days)})]}),l.jsx("div",{className:"text-sm font-semibold text-brand",children:Cd(c.amount)})]},`${c.name}-${c.days}`))}):l.jsx("p",{className:"mt-3 text-sm text-muted",children:"Tidak ada tagihan yang jatuh tempo dalam 7 hari."})]})]})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[l.jsx("span",{className:"h-10 w-10 animate-spin rounded-full border-2 border-border-subtle border-t-transparent","aria-hidden":"true"}),l.jsx("p",{className:"text-sm text-muted",children:"Menyiapkan ringkasan harian"})]});return co.createPortal(l.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"daily-digest-modal-title",className:"fixed inset-0 z-[95] flex items-center justify-center bg-black/55 px-4 py-8",onMouseDown:i,children:l.jsxs("div",{ref:n,className:"relative w-full max-w-2xl overflow-hidden rounded-3xl border border-border-subtle bg-surface p-6 text-text shadow-2xl backdrop-blur-md md:p-8",children:[l.jsx("button",{ref:a,type:"button",onClick:r,"aria-label":"Tutup ringkasan harian",className:"absolute right-4 top-4 inline-flex h-9 w-9 items-center justify-center rounded-full border border-border-subtle text-muted transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand",children:""}),l.jsx("div",{className:"pr-1",children:o})]})}),document.body)}const Vwe="hematwoi:v3:subs";function nG(){try{const e=localStorage.getItem(Vwe);return e?JSON.parse(e):[]}catch{return[]}}function Wwe(e){const t=new Date;if(e.period==="annual"){const[a,i]=(e.dueDay||"01-01").split("-").map(Number);let s=new Date(t.getFullYear(),a-1,i);return s<t&&(s=new Date(t.getFullYear()+1,a-1,i)),s}const r=Number(e.dueDay)||1;let n=new Date(t.getFullYear(),t.getMonth(),r);return n<t&&(n=new Date(t.getFullYear(),t.getMonth()+1,r)),n}function Ywe(e){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate())-r;return Math.round(a/(1e3*60*60*24))}function aG(e=[],t=7){return e.map(r=>{const n=Wwe(r);return{sub:r,days:Ywe(n)}}).filter(r=>r.days>=0&&r.days<=t)}const PT="Asia/Jakarta",QT=new Intl.DateTimeFormat("en-CA",{timeZone:PT,year:"numeric",month:"2-digit",day:"2-digit"}),zQ=new Intl.DateTimeFormat("id-ID",{timeZone:PT,weekday:"long",day:"numeric",month:"long"}),Xwe=new Intl.DateTimeFormat("id-ID",{timeZone:PT,month:"long",year:"numeric"}),GQ="hw:digest:trigger",e4=7,xw=4;function t4(){return QT.format(new Date)}function Jwe(e){if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:QT.format(t)}function ww(e){if(typeof e=="number")return Number.isFinite(e)?e:0;if(typeof e=="string"){const t=e.replace(/[^0-9.,-]/g,"").replace(/,/g,"."),r=Number.parseFloat(t);return Number.isFinite(r)?r:0}return typeof e=="boolean"&&e?1:0}function VQ(){if(typeof window>"u")return[];try{const e=nG();return aG(e,e4).sort((t,r)=>t.days-r.days).slice(0,xw).map(({sub:t,days:r})=>({name:typeof t?.name=="string"&&t.name.trim()?t.name.trim():"Langganan",amount:ww(t?.amount),days:r}))}catch{return[]}}function Zwe(e,t,r){const n=t4(),a=n.slice(0,7),i=new Date(`${n}T00:00:00+07:00`),s=zQ.format(i),o=new Date(i);o.setDate(o.getDate()-1);const c=QT.format(o),A=zQ.format(o),f=Xwe.format(new Date(`${n}T00:00:00+07:00`));let h=0,p=0,g=0,v=0;const b=new Map;let x=0,w=0;const S=new Map;for(const O of e??[]){const D=typeof O?.type=="string"?O.type.toLowerCase():"",R=ww(O?.amount),q=Jwe(O?.date??null);if(q){if(D==="income")h+=R,q===n&&(p+=R);else if(D==="expense"){if(h-=R,q===n){g+=R,R>0&&(v+=1);const I=(typeof O?.category=="string"?O.category.trim():"")||"Tanpa kategori";b.set(I,(b.get(I)||0)+R)}else if(q===c){x+=R,R>0&&(w+=1);const I=(typeof O?.category=="string"?O.category.trim():"")||"Tanpa kategori";S.set(I,(S.get(I)||0)+R)}}}}const N=typeof t=="number"&&Number.isFinite(t)?t:h,k=Array.from(b.entries()).sort((O,D)=>D[1]-O[1]).slice(0,3).map(([O,D])=>({name:O,amount:D})),C=Array.from(S.entries()).sort((O,D)=>D[1]-O[1]).slice(0,3).map(([O,D])=>({name:O,amount:D})),T=p-g;return{todayKey:n,todayLabel:s,yesterdayKey:c,yesterdayLabel:A,monthKey:a,monthLabel:f,balance:N,todayIncome:p,todayExpense:g,todayNet:T,todayCount:v,topTodayExpenses:k,yesterdayExpense:x,yesterdayCount:w,topYesterdayExpenses:C,upcoming:r}}function e1e(e,t){return[...e,...t].sort((r,n)=>r.days-n.days).slice(0,xw)}function t1e(e){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-r.getTime();return Math.round(a/(1e3*60*60*24))}async function r1e(e){if(!e)return[];const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(r.getTime()+e4*24*60*60*1e3);try{const{data:a,error:i}=await Ne.from("debts").select("title, party_name, amount, paid_total, due_date, status, type").eq("user_id",e).neq("status","paid").not("due_date","is",null).gte("due_date",r.toISOString()).lte("due_date",n.toISOString()).order("due_date",{ascending:!0}).limit(xw*2);if(i)throw i;return(a??[]).map(s=>{const o=typeof s?.due_date=="string"?s.due_date:null;if(!o)return null;const c=new Date(o);if(Number.isNaN(c.getTime()))return null;const A=t1e(c);if(A<0||A>e4)return null;const f=ww(s?.amount),h=ww(s?.paid_total),p=Math.max(f-h,0);if(p<=0)return null;const g=typeof s?.title=="string"?s.title.trim():"",v=typeof s?.party_name=="string"?s.party_name.trim():"",b=g||v,x=s?.type==="receivable"?"Piutang":"Hutang";return{name:b?`${x}: ${b}`:x,amount:p,days:A}}).filter(s=>!!s).slice(0,xw)}catch{return[]}}function WQ(e,t){return`hw_digest_seen_${e}_${t}`}function YQ(e){if(typeof window>"u")return null;try{return window.localStorage.getItem(e)}catch{return null}}function n1e(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,t)}catch{}}function a1e(e){if(!(typeof window>"u"))try{window.localStorage.removeItem(e)}catch{}}function i1e({transactions:e,balanceHint:t}){const[r,n]=B.useState(!1),[a,i]=B.useState(null),s=B.useRef(!1),[o,c]=B.useState(()=>VQ()),A=B.useMemo(()=>Zwe(e??null,t??null,o),[e,t,o]);B.useEffect(()=>{const v=VQ();if(c(v),!a)return;let b=!0;return r1e(a).then(x=>{b&&c(e1e(v,x))}).catch(()=>{b&&c(v)}),()=>{b=!1}},[a]);const f=B.useCallback((v,b)=>{if(!v)return;const x=b??A?.todayKey??t4();n1e(WQ(x,v),x)},[A?.todayKey]),h=B.useCallback(()=>{n(!1),s.current=!1,f(a,A?.todayKey)},[A?.todayKey,f,a]),p=B.useCallback(()=>{n(!0),s.current=!1},[]),g=B.useCallback((v,b)=>{if(!v)return;const x=A?.todayKey??t4(),w=WQ(x,v),S=YQ(w)===x,N=YQ(GQ)==="1";N&&a1e(GQ),!S&&(N||b||!s.current)&&(n(!0),s.current=!0)},[A?.todayKey]);return B.useEffect(()=>{let v=!0;Ne.auth.getSession().then(({data:x})=>{if(!v)return;const S=(x.session??null)?.user?.id??null;i(S),g(S,!1)}).catch(()=>{v&&i(null)});const{data:b}=Ne.auth.onAuthStateChange((x,w)=>{if(v){if(x==="SIGNED_OUT"){i(null),n(!1),s.current=!1;return}if(x==="SIGNED_IN"){const S=w?.user?.id??null;i(S),g(S,!0)}}});return()=>{v=!1,b.subscription?.unsubscribe()}},[g]),B.useEffect(()=>{a&&g(a,!1)},[a,g]),{open:r,data:A,loading:!1,openManual:p,close:h}}const s1e="hematwoi",o1e=1,iG=["transactions","categories","accounts","budgets","goals","debts","subscriptions","tags"];let Y5=null,zl=!1;function l1e(){return zl?Promise.resolve(null):"indexedDB"in globalThis?(Y5||(Y5=new Promise(e=>{try{const t=globalThis.indexedDB.open(s1e,o1e);t.onupgradeneeded=()=>{const r=t.result;iG.forEach(n=>{r.objectStoreNames.contains(n)||r.createObjectStore(n,{keyPath:"client_id"})})},t.onsuccess=()=>e(t.result),t.onerror=()=>{console.warn("[idb] Falling back to localStorage",t.error),zl=!0,e(null)}}catch(t){console.warn("[idb] Failed to open IndexedDB, using fallback",t),zl=!0,e(null)}})),Y5):(zl=!0,Promise.resolve(null))}function RT(e,t,r){return l1e().then(n=>{if(!n)throw new Error("IndexedDB not available");return new Promise((a,i)=>{try{const s=n.transaction(e,t),o=s.objectStore(e),c=r(o);Promise.resolve(c).then(a).catch(i),s.onerror=()=>i(s.error)}catch(s){i(s)}})})}function sG(e){return`hw:idb:${e}`}function HT(e){if(!globalThis.localStorage)return[];try{const t=globalThis.localStorage.getItem(sG(e));if(!t)return[];const r=JSON.parse(t);return Array.isArray(r)?r.filter(n=>n&&typeof n=="object"):[]}catch(t){return console.warn("[idb] Failed to parse localStorage cache",t),[]}}function c1e(e,t){if(globalThis.localStorage)try{globalThis.localStorage.setItem(sG(e),JSON.stringify(t))}catch(r){console.warn("[idb] Failed to persist localStorage cache",r)}}async function u1e(e){if(!zl)try{return await RT(e,"readonly",n=>new Promise((a,i)=>{const s=n.getAll();s.onsuccess=()=>a(s.result),s.onerror=()=>i(s.error)}))||[]}catch(r){console.warn("[idb] Failed to read store, switching to fallback",r),zl=!0}return HT(e)}async function oG(e){return u1e(e)}async function X5(e,t){if(!zl)try{return await RT(e,"readonly",n=>new Promise((a,i)=>{const s=n.get(t);s.onsuccess=()=>a(s.result??null),s.onerror=()=>i(s.error)}))}catch(n){console.warn("[idb] Failed to get record, switching to fallback",n),zl=!0}return HT(e).find(n=>n?.client_id===t)??null}async function W0(e,t){if(!t?.client_id)throw new Error("idbPut requires client_id");if(!zl)try{await RT(e,"readwrite",a=>new Promise((i,s)=>{const o=a.put(t);o.onsuccess=()=>i(),o.onerror=()=>s(o.error)}));return}catch(a){console.warn("[idb] Failed to write record, switching to fallback",a),zl=!0}const n=HT(e).filter(a=>a?.client_id!==t.client_id);n.push(t),c1e(e,n)}function lG(){return[...iG]}function r4(){return new Date().toISOString()}function XQ(e){const t=e.client_id??globalThis.crypto?.randomUUID?.(),r={...e,client_id:t??Math.random().toString(36).slice(2)};return r.id||(r.id=r.client_id),r.updated_at=e.updated_at??r4(),r}class A1e{constructor(){this.mode="guest"}async list(t){return lG().includes(t)?(await oG(t)).filter(n=>!n.deleted_at).map(n=>({...n})):[]}async get(t,r){const n=await X5(t,r);return!n||n.deleted_at?null:{...n}}async insert(t,r){const n=XQ({...r});return await W0(t,n),{...n}}async update(t,r,n){const a=await X5(t,r)??{client_id:r},i=XQ({...a,...n,client_id:r});return await W0(t,i),{...i}}async softDelete(t,r){const n=await X5(t,r);if(!n)return;const a={...n,deleted_at:r4(),updated_at:r4()};await W0(t,a)}}const d1e="#64748B";let n4,cG;const ep=new A1e;function yp(){return n4??"sort_order"}function f1e(){const e=yp(),t=$T();return["id","user_id","name","type",e,...t==="created_at"?["created_at"]:[],"updated_at","inserted_at"].join(", ")}let uG;function $1(){return uG!==!1}function $T(){return cG??"created_at"}function q1(){const e=f1e();return $1()?`${e}, color`:e}function _w(e,t){if(!e||typeof e!="object")return!1;const r=e.code,n=e.message;if(typeof n=="string"){const a=n.toLowerCase();if(a.includes(t.toLowerCase())&&(a.includes("does not exist")||a.includes("could not find")))return!0}return r==="42703"||r==="PGRST204"?typeof n=="string"?n.toLowerCase().includes(t.toLowerCase()):!0:!1}function K1(e){return $1()&&_w(e,"color")?(uG=!1,!0):!1}function z1(e){const t=yp();return t==="sort_order"&&_w(e,"sort_order")?(n4="order_index",!0):t==="order_index"&&_w(e,"order_index")?(n4="sort_order",!0):!1}function G1(e){return $T()==="created_at"&&_w(e,"created_at")?(cG="inserted_at",!0):!1}const h1e=typeof process<"u"&&!1;function vp(e,t){h1e&&console.error(`[HW] ${e}`,t)}function qT(){return new Date().toISOString()}async function ky(){try{return await tr()}catch(e){return vp("resolveUserId",e),null}}function Ey(e,t){if(e instanceof Error&&e.message){const r=new Error(e.message);return r.cause=e.cause??e,r}return typeof e=="string"?new Error(e):new Error(t)}function Ty(e){return e==="income"?"income":"expense"}function V1(e){if(typeof e=="string"){const t=e.trim();if(/^#[0-9A-Fa-f]{6}$/.test(t))return t.toUpperCase()}return d1e}function W1(e,t=0){if(typeof e=="number"&&Number.isFinite(e))return e;const r=Number.parseInt(String(e??""),10);return Number.isFinite(r)?r:t}function Oy(e){return typeof e!="string"?"":e.trim()}function ec(e){const t=typeof e.sort_order<"u"?e.sort_order:e.order_index;return{id:String(e.id??""),user_id:(typeof e.user_id=="string"?e.user_id:null)??null,name:Oy(e.name),type:Ty(e.type),color:V1(e.color),sort_order:W1(t),created_at:(typeof e.created_at=="string"?e.created_at:e.inserted_at)??null,updated_at:typeof e.updated_at=="string"?e.updated_at:null}}function a4(e){return[...e].sort((t,r)=>{if(t.type!==r.type)return t.type.localeCompare(r.type);const n=(t.sort_order??0)-(r.sort_order??0);return n!==0?n:t.name.localeCompare(r.name,void 0,{sensitivity:"base"})})}async function Y1(){const t=(await ep.list("categories")??[]).map(r=>ec(r));return a4(t)}async function AG(e,t,r){const n=t.trim().toLowerCase();if(!n)return;if((await Y1()).find(s=>s.type===e&&s.id!==r&&s.name.trim().toLowerCase()===n))throw new Error("Nama kategori sudah digunakan pada tipe ini.")}async function m1e(e){const{name:t,type:r,color:n}=e;await AG(r,t);const s=(await Y1()).filter(h=>h.type===r).reduce((h,p)=>Math.max(h,p.sort_order??0),-1)+1,o=qT(),c={name:t,type:r,color:n,sort_order:s,created_at:o,updated_at:o,user_id:null},A=await ep.insert("categories",c),f=ec(A);return await Hr.set("categories",f),f}async function p1e(e,t){const r=await ep.get("categories",e);if(!r)throw new Error("Kategori tidak ditemukan.");const n=ec(r),a={};if(typeof t.name=="string"){const o=Oy(t.name);if(!o||o.length>60)throw new Error("Nama kategori harus 1-60 karakter.");await AG(n.type,o,n.id),a.name=o}if(typeof t.color=="string"&&(a.color=V1(t.color)),t.sort_order!=null&&(a.sort_order=W1(t.sort_order)),!Object.keys(a).length)return n;a.updated_at=qT();const i=await ep.update("categories",e,a),s=ec(i);return await Hr.set("categories",s),s}async function g1e(e,t){if(!Array.isArray(t)||!t.length)return;const r=Ty(e),n=qT();await Promise.all(t.map((i,s)=>ep.update("categories",i,{type:r,sort_order:s,updated_at:n})));const a=await Y1();await Hr.bulkSet("categories",a)}async function b1e(e){await ep.softDelete("categories",e),await Hr.remove("categories",e)}async function tf(e){if(e?.aborted)return[];const t=await ky();if(!t)return Y1();try{const r=yp(),n=$T();let a=Ne.from("categories").select(q1()).eq("user_id",t).order("type",{ascending:!0}).order(r,{ascending:!0}).order(n,{ascending:!0});e&&(a=a.abortSignal(e));const{data:i,error:s}=await a;if(s)throw s;const o=a4((i??[]).map(ec));return await Hr.bulkSet("categories",o),o}catch(r){if(K1(r)||z1(r)||G1(r))return tf(e);if(e?.aborted)return[];vp("listCategories",r);const a=(await Hr.list("categories")).map(i=>ec(i)).filter(i=>i.user_id===t);if(a.length)return a4(a);throw Ey(r,"Gagal memuat kategori.")}}async function dG(e,t,r,n){const a=Ne.from("categories").select("id, name").eq("user_id",e).eq("type",t).ilike("name",r).limit(5),{data:i,error:s}=await a;if(s)throw s;if((i??[]).find(c=>n&&c.id===n?!1:Oy(c.name).toLowerCase()===r.toLowerCase()))throw new Error("Nama kategori sudah digunakan pada tipe ini.")}async function Y0(e){const t=Oy(e.name);if(!t||t.length>60)throw new Error("Nama kategori harus 1-60 karakter.");const r=Ty(e.type),n=V1(e.color),a=await ky();if(!a)return m1e({name:t,type:r,color:n});try{await dG(a,r,t);const i=yp(),{data:s,error:o}=await Ne.from("categories").select(i).eq("user_id",a).eq("type",r).order(i,{ascending:!1}).limit(1);if(o)throw o;const c=s?.[0]??{},A=W1(c[i],-1)+1,f={user_id:a,name:t,type:r,[i]:A};$1()&&(f.color=n);const{data:h,error:p}=await Ne.from("categories").insert(f).select(q1()).single();if(p)throw p;const g=ec(h??{});return await Hr.set("categories",g),g}catch(i){if(K1(i)||z1(i)||G1(i))return Y0(e);throw vp("createCategory",i),Ey(i,"Gagal menambah kategori.")}}async function X0(e,t){const r=await ky();if(!r)return p1e(e,t);const n={},a=typeof t.name=="string"?Oy(t.name):void 0;if(typeof a=="string"){if(!a||a.length>60)throw new Error("Nama kategori harus 1-60 karakter.");n.name=a}if($1()&&typeof t.color=="string"&&(n.color=V1(t.color)),t.sort_order!=null){const i=yp();n[i]=W1(t.sort_order)}if(!Object.keys(n).length){const i=await Hr.get("categories",e);if(i)return ec(i)}try{if(typeof n.name=="string"){const c=await Ne.from("categories").select("type").eq("id",e).eq("user_id",r).maybeSingle();if(c.error)throw c.error;const A=Ty(c.data?.type);await dG(r,A,n.name,e)}const{data:i,error:s}=await Ne.from("categories").update(n).eq("id",e).eq("user_id",r).select(q1()).single();if(s)throw s;const o=ec(i??{});return await Hr.set("categories",o),o}catch(i){if(K1(i)||z1(i)||G1(i))return X0(e,t);throw vp("updateCategory",i),Ey(i,"Gagal memperbarui kategori.")}}async function J0(e,t){if(!Array.isArray(t)||!t.length)return;const r=await ky();if(!r){await g1e(e,t);return}const n=Ty(e),a=yp(),i=t.map((s,o)=>({id:s,user_id:r,type:n,[a]:o}));try{const{data:s,error:o}=await Ne.from("categories").upsert(i,{onConflict:"id"}).select(q1());if(o)throw o;s&&await Hr.bulkSet("categories",s.map(c=>ec(c)))}catch(s){if(K1(s)||z1(s)||G1(s))return J0(e,t);throw vp("reorderCategories",s),Ey(s,"Gagal mengurutkan kategori.")}}async function y1e(e){const t=await ky();if(!t){await b1e(e);return}try{const{error:r}=await Ne.from("categories").delete().eq("id",e).eq("user_id",t);if(r)throw r;await Hr.remove("categories",e)}catch(r){throw vp("deleteCategory",r),Ey(r,"Gagal menghapus kategori.")}}function fG(){if(!e1||!Cm)throw new Error("Supabase environment variables are missing")}function v1e(e=!1){fG();const t={apikey:Cm,Authorization:`Bearer ${Cm}`};return e&&(t["Content-Type"]="application/json"),t}function JQ(e,t){fG();const r=e1.replace(/\/$/,"");return!t||Array.from(t.keys()).length===0?`${r}${e.startsWith("/")?"":"/"}${e}`:`${r}${e.startsWith("/")?"":"/"}${e}?${t.toString()}`}const x1e="1970-01-01T00:00:00.000Z",w1e="id,user_id,type,name,inserted_at,group_name,order_index",_1e="order_index.asc.nullsfirst,name.asc";let ZQ=!1,eR=!1;const KT=typeof process<"u"&&!1;function B1e(e){return e instanceof DOMException&&e.name==="AbortError"}async function tR(e,t){let r=t;try{const a=await e.json();a?.message&&(r=a.message)}catch(a){KT&&console.warn("[HW] Failed to parse PostgREST error response",a)}const n=new Error(r);return n.status=e.status,n}function rR(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number.parseInt(e,10);if(Number.isFinite(t))return t}}function i4(e){return{id:e.id,user_id:e.user_id??"local",type:"expense",name:e.name,inserted_at:e.inserted_at??e.created_at??x1e,group_name:e.group_name??null,order_index:e.order_index??e.sort_order??null}}function nc(e){if(!e)throw new Error("Pengguna belum masuk.")}function X1(e){if(!e)throw new Error("Periode tidak valid");const[t,r]=e.split("-");if(!t||!r)throw new Error("Periode harus dalam format YYYY-MM");const n=Number.parseInt(t,10),a=Number.parseInt(r,10);if(Number.isNaN(n)||Number.isNaN(a)||a<1||a>12)throw new Error("Periode harus dalam format YYYY-MM");return`${n.toString().padStart(4,"0")}-${a.toString().padStart(2,"0")}-01`}function S1e(e){try{const[t,r]=e.split("-");if(!t||!r)return null;const n=Number.parseInt(t,10),a=Number.parseInt(r,10);if(!Number.isFinite(n)||!Number.isFinite(a))return null;const i=new Date(Date.UTC(n,a-1,1));i.setUTCMonth(i.getUTCMonth()-1);const s=i.getUTCFullYear(),o=(i.getUTCMonth()+1).toString().padStart(2,"0");return`${s}-${o}`}catch(t){return KT&&console.warn("[HW] Failed to resolve previous period",t),null}}async function J5(e,t){const{data:r,error:n}=await Ne.from("budgets").select("id,user_id,category_id,amount_planned,carryover_enabled,notes,period_month,created_at,updated_at,category:categories(id,name,type)").eq("user_id",e).eq("period_month",X1(t)).order("created_at",{ascending:!1});if(n)throw n;return r??[]}function zT(e){const t=new Date(`${X1(e)}T00:00:00.000Z`),r=new Date(t);r.setUTCMonth(r.getUTCMonth()+1);const n=a=>{const i=a.getUTCFullYear(),s=(a.getUTCMonth()+1).toString().padStart(2,"0"),o=a.getUTCDate().toString().padStart(2,"0");return`${i}-${s}-${o}`};return{start:n(t),end:n(r)}}function kA(e){const t=e.getUTCFullYear(),r=(e.getUTCMonth()+1).toString().padStart(2,"0"),n=e.getUTCDate().toString().padStart(2,"0");return`${t}-${r}-${n}`}function Ji(e){return new Date(`${e}T00:00:00.000Z`)}function nR(e){const t=new Date(e),n=(8-t.getUTCDay())%7;return t.setUTCDate(t.getUTCDate()+n),kA(t)}function ay(e){const t=new Date(e),r=t.getUTCDay(),n=r===0?6:r-1;return t.setUTCDate(t.getUTCDate()-n),kA(t)}function s4(e){const t=Ji(e);return t.setUTCDate(t.getUTCDate()+6),kA(t)}const N1e=new Intl.DateTimeFormat("id-ID",{month:"long"});function C1e(e,t){try{const r=N1e.format(new Date(`${t}T00:00:00.000Z`)),n=r.charAt(0).toUpperCase()+r.slice(1);return`Minggu ke ${e} bulan ${n}`}catch{return`Minggu ke ${e}`}}function GT(e){try{const t=X1(e);return nR(Ji(t))}catch{const r=new Date,n=new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),1));return nR(n)}}function j1e(e){const{end:t}=zT(e),r=Ji(t);r.setUTCDate(r.getUTCDate()-1);const n=ay(r),a=s4(n),i=Ji(a);return i.setUTCDate(i.getUTCDate()+1),kA(i)}async function k1e(e,t,r){if(!t||!r)return;const n=ay(Ji(t)),a=Ji(n),i=Ji(r);if(!(a<i))return;const{data:s,error:o}=await Ne.from("budgets_weekly").select("category_id,planned_amount,carryover_enabled,notes,week_start").eq("user_id",e).gte("week_start",n).lt("week_start",r).order("week_start",{ascending:!0});if(o)throw o;const c=new Map;for(const g of s??[]){const v=g.category_id??void 0,b=g.week_start??void 0;if(!v||!b)continue;const x=ay(Ji(b));let w=c.get(x);w||(w=new Map,c.set(x,w));const S=Number(g.planned_amount??0),N=typeof g.carryover_enabled=="boolean"?g.carryover_enabled:!!g.carryover_enabled;w.set(v,{planned_amount:Number.isFinite(S)?S:0,carryover_enabled:N,notes:g.notes??null})}if(!c.size)return;const A=[];for(let g=new Date(a);g<i;g.setUTCDate(g.getUTCDate()+7))A.push(kA(g));const f=[];for(const g of A){const v=c.get(g);if(v)for(const[b,x]of v.entries()){if(!x.carryover_enabled)continue;const w=Ji(g);if(w.setUTCDate(w.getUTCDate()+7),!(w<i))continue;const S=kA(w);let N=c.get(S);N||(N=new Map,c.set(S,N)),!N.has(b)&&(N.set(b,{planned_amount:x.planned_amount,carryover_enabled:x.carryover_enabled,notes:x.notes??null}),f.push({category_id:b,week_start:S,planned_amount:x.planned_amount,carryover_enabled:x.carryover_enabled,notes:x.notes??null}))}}if(!f.length)return;const h=f.map(g=>({user_id:e,category_id:g.category_id,planned_amount:g.planned_amount,carryover_enabled:g.carryover_enabled,notes:g.notes??null,week_start:g.week_start})),{error:p}=await Ne.from("budgets_weekly").upsert(h,{onConflict:"user_id,category_id,week_start"});if(p)throw p}async function hG(){async function e(){const r=await tr();return nc(r),T1e(r)}try{return await e()}catch(r){KT&&r instanceof Error&&console.warn("[HW] listCategoriesExpense fallback",r)}return(await tf()).filter(r=>r.type==="expense").map(r=>i4({id:r.id,user_id:r.user_id,name:r.name,type:r.type,created_at:r.created_at,order_index:r.sort_order}))}async function E1e(e,t){const r=new URLSearchParams({select:w1e,user_id:`eq.${e}`,type:"eq.expense",order:_1e}),n=v1e();if(!ZQ){const o=JQ("/rest/v1/v_categories_budget",r),c=await fetch(o,{headers:n,signal:t});if(c.status===404)ZQ=!0,eR||(console.warn("v_categories_budget missing  using fallback /categories"),eR=!0);else{if(c.ok)return(await c.json()??[]).map(f=>i4({id:String(f.id??""),user_id:typeof f.user_id=="string"?f.user_id:e,name:String(f.name??""),inserted_at:typeof f.inserted_at=="string"?f.inserted_at:void 0,group_name:f.group_name??null,order_index:rR(f.order_index)}));throw await tR(c,"Gagal memuat kategori pengeluaran")}}const a=JQ("/rest/v1/categories",r),i=await fetch(a,{headers:n,signal:t});if(i.status===404)throw new Error("Endpoint kategori belum tersedia");if(!i.ok)throw await tR(i,"Gagal memuat kategori pengeluaran");return(await i.json()??[]).map(o=>i4({id:String(o.id??""),user_id:typeof o.user_id=="string"?o.user_id:e,name:String(o.name??""),inserted_at:typeof o.inserted_at=="string"?o.inserted_at:void 0,group_name:o.group_name??null,order_index:rR(o.order_index)}))}async function T1e(e,t){try{return await E1e(e,t)}catch(r){throw B1e(r),r}}async function mG(e){const t=await tr();nc(t);const r=await J5(t,e),n=new Set(r.map(A=>A.category_id).filter(A=>!!A)),a=S1e(e);if(!a)return r;const s=(await J5(t,a)).filter(A=>A.carryover_enabled&&A.category_id&&!n.has(A.category_id));return!s.length||!(await Promise.allSettled(s.map(A=>o4({category_id:A.category_id,period:e,amount_planned:Number(A.amount_planned??0),carryover_enabled:!0,notes:A.notes??void 0})))).some(A=>A.status==="fulfilled")?r:J5(t,e)}async function pG(e){const t=await tr();nc(t);const{start:r,end:n}=zT(e),{data:a,error:i}=await Ne.from("transactions").select("category_id, amount, date, to_account_id").eq("user_id",t).is("deleted_at",null).eq("type","expense").is("to_account_id",null).gte("date",r).lt("date",n);if(i)throw i;const s={};for(const o of a??[]){const c=o?.category_id;if(!c)continue;const A=Number(o?.amount??0);Number.isFinite(A)&&(s[c]=(s[c]??0)+A)}return s}async function O1e(e){const t=await tr();nc(t);const{start:r,end:n}=zT(e),a=GT(e),i=j1e(e),s=Ji(a);s.setUTCDate(s.getUTCDate()-7);const o=kA(s);await k1e(t,o,n);const c=Ne.from("budgets_weekly").select("id,user_id,category_id,amount_planned:planned_amount,carryover_enabled,notes,week_start,created_at,updated_at,category:categories(id,name,type)").eq("user_id",t).gte("week_start",a).lt("week_start",n).order("week_start",{ascending:!0}).order("created_at",{ascending:!1}),A=Ne.from("transactions").select("category_id, amount, date, to_account_id").eq("user_id",t).is("deleted_at",null).eq("type","expense").is("to_account_id",null).gte("date",a).lt("date",i),[f,h]=await Promise.all([c,A]);if(f.error)throw f.error;if(h.error)throw h.error;const p=new Map;for(const w of h.data??[]){const S=w?.category_id;if(!S)continue;const N=Number(w?.amount??0);if(!Number.isFinite(N))continue;const k=typeof w?.date=="string"?w.date:null;if(!k)continue;const C=p.get(S)??[];C.push({date:k,amount:N}),p.set(S,C)}const g=new Map,v=(f.data??[]).map(w=>{const S=w.week_start??r,N=ay(Ji(S)),k=s4(N),C=Number(w.amount_planned??0),O=(p.get(w.category_id)??[]).reduce((U,I)=>I.date>=N&&I.date<=k?U+I.amount:U,0),D=C-O,R=typeof w.carryover_enabled=="boolean"?w.carryover_enabled:!!w.carryover_enabled;g.has(w.category_id)||g.set(w.category_id,{category_id:w.category_id,category_name:w.category?.name??"Tanpa kategori",category_type:w.category?.type??null,planned:0,spent:0});const q=g.get(w.category_id);return q&&(q.planned+=C,q.spent+=O),{...w,week_start:N,carryover_enabled:R,week_end:k,spent:O,remaining:D}}),b=Array.from(g.values()).map(w=>{const S=w.planned-w.spent,N=w.planned>0?Math.min(w.spent/w.planned,1):0;return{category_id:w.category_id,category_name:w.category_name,category_type:w.category_type,planned:w.planned,spent:w.spent,remaining:S,percentage:N}});b.sort((w,S)=>w.category_name.localeCompare(S.category_name));const x=[];{const w=Ji(n),S=Ji(a);for(let N=0,k=new Date(S);k<w;N+=1,k.setUTCDate(k.getUTCDate()+7)){const C=kA(k),T=s4(C),O=N+1;x.push({start:C,end:T,sequence:O,label:C1e(O,C)})}}return{rows:v,summaryByCategory:b,weeks:x}}function I1e(e){if(!e)throw new Error("Tanggal minggu wajib diisi");return ay(Ji(e))}async function aR(e){const t=await tr();nc(t);try{await i9()}catch(s){throw s instanceof Error&&s.message==="Not signed in"?new Error("Silakan login untuk menyimpan anggaran"):s}const r=I1e(e.week_start),n={category_id:e.category_id,planned_amount:Number(e.amount_planned??0),week_start:r,carryover_enabled:!!e.carryover_enabled,notes:e.notes??null};if(e.id){const{error:s}=await Ne.from("budgets_weekly").update(n).eq("user_id",t).eq("id",e.id);if(s)throw s?.code==="23505"?new Error("Anggaran untuk kategori dan minggu ini sudah ada"):s;return}const a={...n,user_id:t},{error:i}=await Ne.from("budgets_weekly").upsert(a,{onConflict:"user_id,category_id,week_start"});if(i)throw i?.code==="23505"?new Error("Anggaran untuk kategori dan minggu ini sudah ada"):i}async function U1e(e){const t=await tr();nc(t);const{error:r}=await Ne.from("budgets_weekly").delete().eq("user_id",t).eq("id",e);if(r)throw r}async function F1e(e,t){if(t.length===0)return t;const r=t.filter(s=>s.budget_type==="monthly").map(s=>s.budget_id),n=t.filter(s=>s.budget_type==="weekly").map(s=>s.budget_id),a=new Set;if(r.length>0){const{data:s,error:o}=await Ne.from("budgets").select("id").eq("user_id",e).in("id",r);if(o)throw o;const c=new Set((s??[]).map(A=>String(A.id)));for(const A of t)A.budget_type==="monthly"&&!c.has(String(A.budget_id))&&a.add(String(A.id))}if(n.length>0){const{data:s,error:o}=await Ne.from("budgets_weekly").select("id").eq("user_id",e).in("id",n);if(o)throw o;const c=new Set((s??[]).map(A=>String(A.id)));for(const A of t)A.budget_type==="weekly"&&!c.has(String(A.budget_id))&&a.add(String(A.id))}if(a.size===0)return t;const{error:i}=await Ne.from("user_highlight_budgets").delete().eq("user_id",e).in("id",Array.from(a));if(i)throw i;return t.filter(s=>!a.has(String(s.id)))}async function gG(e){const{data:t,error:r}=await Ne.from("user_highlight_budgets").select("id,user_id,budget_type,budget_id").eq("user_id",e).order("created_at",{ascending:!0});if(r)throw r;return F1e(e,t??[])}async function bG(){const e=await tr();return nc(e),gG(e)}async function iR(e){const t=await tr();nc(t);const r=await gG(t),n=r.find(o=>o.budget_type===e.type&&String(o.budget_id)===String(e.id));if(n){const{error:o}=await Ne.from("user_highlight_budgets").delete().eq("user_id",t).eq("id",n.id);if(o)throw o;return{highlighted:!1,highlights:r.filter(c=>c.id!==n.id)}}if(r.length>=2){const o=new Error("Maks. 2 highlight");throw o.code="LIMIT_REACHED",o}const a=await Ne.from("user_highlight_budgets").insert({user_id:t,budget_type:e.type,budget_id:e.id}).select("id,user_id,budget_type,budget_id");if(a.error){const o=(a.error.message??"").toLowerCase();if(o.includes("max")&&o.includes("highlight")){const c=new Error("Maks. 2 highlight");throw c.code="LIMIT_REACHED",c}throw a.error}const s=(Array.isArray(a.data)?a.data:a.data?[a.data]:[])[0];if(!s)throw new Error("Gagal menandai highlight");return{highlighted:!0,highlights:[...r,s]}}async function o4(e){const t=await tr();nc(t);try{await i9()}catch(a){throw a instanceof Error&&a.message==="Not signed in"?new Error("Silakan login untuk menyimpan anggaran"):a}const r={p_category_id:e.category_id,p_amount_planned:Number(e.amount_planned??0),p_period_month:X1(e.period),p_carryover_enabled:!!e.carryover_enabled,p_notes:e.notes??null},{error:n}=await Ne.rpc("bud_upsert",r);if(n){if(n.message==="Unauthorized"||n.code==="401"||n.code==="PGRST301")throw new Error("Silakan login untuk menyimpan anggaran");const a=(n.message||"").toLowerCase();throw n.code==="404"||a.includes("bud_upsert")?new Error("Fungsi bud_upsert belum tersedia, jalankan migrasi SQL di server"):n}}async function D1e(e){const t=await tr();nc(t);const{error:r}=await Ne.from("budgets").delete().eq("user_id",t).eq("id",e);if(r)throw r}function yG(e,t){return e.map(r=>{const n=t[r.category_id]??0;return{...r,spent:n,remaining:Number(r.amount_planned??0)-n}})}function L1e(e){const t=e.reduce((i,s)=>i+Number(s.amount_planned??0),0),r=e.reduce((i,s)=>i+Number(s.spent??0),0),n=t-r,a=t>0?Math.min(r/t,1):0;return{planned:t,spent:r,remaining:n,percentage:a}}const M1e={planned:0,spent:0,remaining:0,percentage:0};function vG(e){const[t,r]=B.useState([]),[n,a]=B.useState(!0),[i,s]=B.useState(null),o=B.useCallback(async()=>{const[f,h]=await Promise.all([mG(e),pG(e)]);return yG(f,h)},[e]);B.useEffect(()=>{let f=!0;return a(!0),s(null),o().then(h=>{f&&r(h)}).catch(h=>{f&&(r([]),s(h instanceof Error?h.message:"Gagal memuat anggaran"))}).finally(()=>{f&&a(!1)}),()=>{f=!1}},[o]);const c=B.useCallback(async()=>{a(!0),s(null);try{const f=await o();r(f)}catch(f){throw r([]),s(f instanceof Error?f.message:"Gagal memuat anggaran"),f}finally{a(!1)}},[o]),A=B.useMemo(()=>L1e(t),[t]);return{rows:t,summary:n&&t.length===0?M1e:A,loading:n,error:i,refresh:c}}function xG(e){const[t,r]=B.useState([]),[n,a]=B.useState([]),[i,s]=B.useState([]),[o,c]=B.useState(!0),[A,f]=B.useState(null),h=B.useCallback(async()=>await O1e(e),[e]);B.useEffect(()=>{let g=!0;return c(!0),f(null),h().then(v=>{g&&(r(v.rows),a(v.summaryByCategory),s(v.weeks))}).catch(v=>{g&&(r([]),a([]),s([]),f(v instanceof Error?v.message:"Gagal memuat anggaran mingguan"))}).finally(()=>{g&&c(!1)}),()=>{g=!1}},[h]);const p=B.useCallback(async()=>{c(!0),f(null);try{const g=await h();r(g.rows),a(g.summaryByCategory),s(g.weeks)}catch(g){throw r([]),a([]),s([]),f(g instanceof Error?g.message:"Gagal memuat anggaran mingguan"),g}finally{c(!1)}},[h]);return{rows:t,summaryByCategory:n,weeks:i,loading:o,error:A,refresh:p}}function P1e(e){const t=e?.end||e?.start;if(!t){const r=new Date,n=`${r.getMonth()+1}`.padStart(2,"0");return`${r.getFullYear()}-${n}`}return t.slice(0,7)}function sR(e){const t=e.getUTCFullYear(),r=`${e.getUTCMonth()+1}`.padStart(2,"0"),n=`${e.getUTCDate()}`.padStart(2,"0");return`${t}-${r}-${n}`}function Q1e(e){let t=new Date;if(e){const s=new Date(`${e}T00:00:00.000Z`);Number.isNaN(s.getTime())||(t=s)}const r=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),n=r.getUTCDay(),a=n===0?6:n-1;r.setUTCDate(r.getUTCDate()-a);const i=new Date(r);return i.setUTCDate(r.getUTCDate()+6),{start:sR(r),end:sR(i)}}function R1e(e){const t=e*100;return t<=74?"var(--accent)":t<=89?"#f59e0b":t<=100?"#fb923c":"#f43f5e"}function H1e(e,t){try{const r=new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"short"});return`${r.format(new Date(`${e}T00:00:00.000Z`))}  ${r.format(new Date(`${t}T00:00:00.000Z`))}`}catch{return`${e}  ${t}`}}function $1e(){return l.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:Array.from({length:2}).map((e,t)=>l.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-dashed border-border/60 bg-white/40 p-4 shadow-sm dark:border-border/40 dark:bg-white/5",children:[l.jsx("div",{className:"h-4 w-36 rounded-full bg-muted/40"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-3 w-24 rounded-full bg-muted/30"}),l.jsx("div",{className:"h-3 w-32 rounded-full bg-muted/30"})]}),l.jsx("div",{className:"h-2 rounded-full bg-muted/20"})]},t))})}function q1e({period:e}){const[t,r]=B.useState([]),[n,a]=B.useState(!0),[i,s]=B.useState(null),o=B.useMemo(()=>P1e(e),[e]),c=e?.end||e?.start||new Date().toISOString().slice(0,10),A=B.useMemo(()=>Q1e(c).start,[c]),f=vG(o),h=xG(o);B.useEffect(()=>{let b=!0;return a(!0),s(null),bG().then(x=>{b&&r(x)}).catch(x=>{if(!b)return;const w=x instanceof Error?x.message:"Gagal memuat highlight";s(w)}).finally(()=>{b&&a(!1)}),()=>{b=!1}},[]);const p=B.useMemo(()=>{if(n||f.loading||h.loading)return[];if(!t.length)return[];const b=new Map(f.rows.map(w=>[String(w.id),w])),x=new Map(h.rows.map(w=>[String(w.id),w]));return t.map(w=>{if(w.budget_type==="monthly"){const R=b.get(String(w.budget_id));if(!R)return null;const q=Number(R.amount_planned??0),U=Number(R.spent??0),I=q-U,Q=q>0?Math.min(U/q,2):0;return{id:`${w.id}-monthly`,kind:"monthly",label:R.category?.name??"Tanpa kategori",categoryType:R.category?.type??null,planned:q,spent:U,remaining:I,progress:Q}}let S=x.get(String(w.budget_id));if(!S)return null;if(S.week_start!==A&&S.category_id){const R=h.rows.find(q=>q.category_id===S.category_id&&q.week_start===A);R&&(S=R)}if(S.week_start!==A)return null;const N=Number(S.amount_planned??0),k=Number(S.spent??0),C=N-k,T=N>0?Math.min(k/N,2):0,O=h.weeks.find(R=>R.start===S.week_start),D=[];return O&&D.push(O.label),D.push(H1e(S.week_start,S.week_end)),{id:`${w.id}-weekly`,kind:"weekly",label:S.category?.name??"Tanpa kategori",categoryType:S.category?.type??null,planned:N,spent:k,remaining:C,progress:T,subtitle:D.join("  ")}}).filter(w=>!!w)},[A,t,n,f.loading,f.rows,h.loading,h.rows,h.weeks]),g=n||f.loading||h.loading,v=i||f.error||h.error;return l.jsxs("section",{className:"rounded-3xl border border-border/60 bg-gradient-to-br from-white via-white to-primary/5 p-6 shadow-sm transition dark:border-border/40 dark:from-zinc-900/60 dark:via-zinc-900/40 dark:to-primary/10",children:[l.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-primary",children:[l.jsx(lf,{className:"h-3.5 w-3.5"})," Highlighted Budgets"]}),l.jsx("h2",{className:"text-xl font-semibold text-foreground sm:text-2xl",children:"Anggaran pilihanmu"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pantau cepat progres anggaran favoritmu tanpa harus membuka halaman anggaran."})]}),l.jsxs(Gw,{to:"/budgets",className:"inline-flex items-center gap-2 rounded-full border border-transparent bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground shadow-sm transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/60",children:["Kelola Highlight",l.jsx(Xg,{className:"h-4 w-4"})]})]}),l.jsx("div",{className:"mt-6",children:g?l.jsx($1e,{}):v?l.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-rose-200/80 bg-rose-50/70 p-4 text-sm text-rose-700 dark:border-rose-500/40 dark:bg-rose-500/10 dark:text-rose-200",children:[l.jsx(Sm,{className:"h-4 w-4"}),v]}):p.length===0?l.jsx("div",{className:"rounded-2xl border border-dashed border-border/60 bg-white/60 p-6 text-sm text-muted-foreground shadow-sm dark:border-border/40 dark:bg-white/5",children:"Belum ada highlight. Pilih hingga dua anggaran favoritmu di halaman Budgets untuk ditampilkan di sini."}):l.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:p.map(b=>{const x=Math.min(1.2,Math.max(0,b.progress)),w=R1e(x),S=b.kind==="monthly"?"Bulanan":"Mingguan",N=b.remaining>=0?hn(b.remaining,"IDR"):`-${hn(Math.abs(b.remaining),"IDR")}`;return l.jsxs("article",{className:"flex flex-col gap-3 rounded-2xl border border-border/60 bg-white/80 p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md dark:border-border/40 dark:bg-zinc-900/70",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-foreground",children:b.label}),b.subtitle?l.jsx("p",{className:"text-xs text-muted-foreground",children:b.subtitle}):null]}),l.jsx("span",{className:"inline-flex items-center rounded-full bg-muted/30 px-3 py-1 text-[0.68rem] font-semibold uppercase tracking-wide text-muted-foreground",children:S})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-muted-foreground",children:[l.jsxs("div",{children:[l.jsx("span",{className:"block text-[0.68rem] uppercase tracking-[0.18em] text-muted",children:"Planned"}),l.jsx("span",{className:"text-sm font-semibold text-foreground",children:hn(b.planned,"IDR")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-[0.68rem] uppercase tracking-[0.18em] text-muted",children:"Actual"}),l.jsx("span",{className:"text-sm font-semibold text-foreground",children:hn(b.spent,"IDR")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-[0.68rem] uppercase tracking-[0.18em] text-muted",children:"Sisa"}),l.jsx("span",{className:b.remaining<0?"text-sm font-semibold text-rose-500":"text-sm font-semibold text-emerald-600",children:N})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"Progress"}),l.jsxs("span",{children:[Math.round(b.progress*100),"%"]})]}),l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-muted/20 dark:bg-muted/30",children:l.jsx("div",{className:"h-full rounded-full",style:{width:`${Math.min(100,Math.max(0,b.progress*100))}%`,backgroundColor:w}})})]})]},b.id)})})})]})}const oR={default:"bg-[color:var(--accent)]",accent:"bg-[color:var(--accent)]",warning:"bg-amber-500",danger:"bg-rose-500"};function K1e({value:e,tone:t="default",className:r}){const n=Number.isFinite(e)?Math.min(Math.max(e,0),1):0;return l.jsx("div",{className:tt("mt-2 h-1.5 w-full overflow-hidden rounded-full bg-border-subtle/70",r),"aria-hidden":"true",children:l.jsx("div",{className:tt("h-full rounded-full transition-all duration-300 ease-out",oR[t]??oR.default),style:{width:`${n*100}%`}})})}const lR={default:"ring-transparent hover:bg-surface-alt/70",info:"ring-transparent hover:bg-[color:var(--accent-muted)]/40",accent:"ring-transparent hover:bg-[color:var(--accent-muted)]/40",warning:"ring-amber-500/40 hover:bg-amber-500/10",danger:"ring-rose-500/50 hover:bg-rose-500/10"},cR={default:"bg-border text-text",info:"bg-[color:var(--accent-muted)] text-[color:var(--accent-dark)]",accent:"bg-[color:var(--accent-muted)] text-[color:var(--accent-dark)]",warning:"bg-amber-500/15 text-amber-600 dark:text-amber-300",danger:"bg-rose-500/15 text-rose-500 dark:text-rose-300"};function Rd({icon:e,title:t,subtitle:r,badge:n,onClick:a,tone:i="default",ariaLabel:s,progress:o,disabled:c=!1}){const A=lR[i]??lR.default,f=cR[n?.tone??i]??cR.default,h=l.jsxs("span",{className:"flex min-h-[48px] flex-1 items-start gap-3 text-left",children:[l.jsx("span",{className:"mt-0.5 flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-2xl border border-border-subtle bg-surface-alt text-[color:var(--accent-dark)]",children:e}),l.jsxs("span",{className:"flex-1",children:[l.jsxs("span",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"flex-1 text-sm font-medium text-text",children:t}),n?.label?l.jsx("span",{className:tt("inline-flex items-center rounded-full px-2 py-1 text-[11px] font-semibold",f),title:n?.tooltip,children:n.label}):null]}),r?l.jsx("span",{className:"mt-1 block text-xs text-muted-foreground",children:r}):null,typeof o=="number"?l.jsx(K1e,{value:o,tone:i==="warning"||i==="danger"?i:"accent",className:"mt-2"}):null]})]});return a?l.jsx("button",{type:"button",className:tt("group flex w-full items-stretch rounded-2xl border border-border-subtle/70 bg-card/60 p-3 text-left text-sm text-text shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent",A,c?"pointer-events-none opacity-60":"focus-visible:ring-[color:var(--brand-ring)]"),onClick:a,"aria-label":s??t,children:h}):l.jsx("div",{className:"rounded-2xl border border-border-subtle/70 bg-card/60 p-3",children:h})}function z1e(){return l.jsx("div",{className:"animate-pulse rounded-2xl border border-border-subtle/70 bg-card/50 p-3",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl bg-border/60"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 w-2/5 rounded-full bg-border/70"}),l.jsx("div",{className:"h-3 w-3/5 rounded-full bg-border/60"})]})]})})}function J1(){const e=new Date,t=e.getTime()+e.getTimezoneOffset()*6e4;return new Date(t+420*6e4)}function Z1(e){if(e&&/^\d{4}-\d{2}$/.test(e))return e;if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e.slice(0,7);const t=J1(),r=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0");return`${r}-${n}`}function gA(e){const t=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),n=String(e.getUTCDate()).padStart(2,"0");return`${t}-${r}-${n}`}function VT(e){const[t,r]=e.split("-"),n=Number.parseInt(t,10),a=Number.parseInt(r,10);if(!Number.isFinite(n)||!Number.isFinite(a))throw new Error("Periode tidak valid");const i=new Date(Date.UTC(n,a-1,1)),s=new Date(Date.UTC(n,a,1)),o=J1(),c=`${o.getUTCFullYear()}-${String(o.getUTCMonth()+1).padStart(2,"0")}`;let A=s;if(c===e){const f=new Date(o);f.setUTCDate(f.getUTCDate()+1),f.setUTCHours(0,0,0,0);const h=new Date(Date.UTC(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()));h<A&&(A=h)}return{start:gA(i),endExclusive:gA(A)}}function NA(e){if(e==null)return 0;const t=typeof e=="number"?e:Number.parseFloat(String(e));return Number.isFinite(t)?t:0}function G1e(e){const t=NA(e.amount_planned??e.planned??0),r=NA(e.spent??0),n=t>0?r/t:0;return{id:e.id,categoryId:e.category_id??null,categoryName:e.category?.name??e.category_id??"Tanpa kategori",planned:t,actual:r,progress:n}}async function V1e(e){const t=await tr();if(!t)throw new Error("Pengguna belum masuk");const r=Z1(e),{start:n,endExclusive:a}=VT(r),{data:i,error:s}=await Ne.from("transactions").select("category_id, category:categories ( id, name, color ), amount",{count:"exact"}).eq("user_id",t).eq("type","expense").is("to_account_id",null).is("deleted_at",null).gte("date",n).lt("date",a);if(s)throw new Error(s.message||"Gagal memuat pengeluaran terbesar");const o=new Map;let c=0;for(const g of i??[]){const v=g.category_id??null,b=NA(g.amount);if(!b)continue;c+=b;const x=o.get(v)??{amount:0};x.amount+=b;const w=g.category;w&&typeof w=="object"&&(x.name=w.name??x.name,x.color=w.color??x.color),o.set(v,x)}if(!o.size)return null;let A=null,f=0;for(const[g,v]of o.entries())v.amount>f&&(f=v.amount,A=g);const h=o.get(A??null);if(!h)return null;const p=c>0?h.amount/c:void 0;return{categoryId:A??null,categoryName:h.name??(A?"Kategori lain":"Tanpa kategori"),categoryColor:h.color??null,amount:h.amount,share:p}}async function W1e(e){const t=Z1(e),[r,n]=await Promise.all([mG(t),pG(t)]),i=yG(r,n).filter(f=>(f.category?.type??"expense")!=="income").map(f=>G1e(f)),s=i.filter(f=>f.progress>=.8&&f.progress<1).sort((f,h)=>h.progress-f.progress),o=i.filter(f=>f.progress>=1).sort((f,h)=>h.progress-f.progress),c=i.reduce((f,h)=>f+h.planned,0),A=i.reduce((f,h)=>f+h.actual,0);return{nearLimit:s,overLimit:o,all:i,totalPlanned:c,totalActual:A}}async function Y1e(){const e=await tr();if(!e)throw new Error("Pengguna belum masuk");const t=J1();t.setUTCHours(0,0,0,0);const r=gA(t),n=new Date(t);n.setUTCDate(n.getUTCDate()+7);const a=gA(n),i=Ne.from("debts").select("id,title,party_name,due_date,amount,paid_total,status").eq("user_id",e).neq("status","paid").not("due_date","is",null).gte("due_date",r).lte("due_date",a).order("due_date",{ascending:!0}).limit(5),s=Ne.from("subscription_charges").select("id,subscription:subscriptions ( name ),due_date,amount,status").eq("user_id",e).in("status",["due","overdue"]).not("due_date","is",null).gte("due_date",r).lte("due_date",a).order("due_date",{ascending:!0}).limit(5),[o,c]=await Promise.all([i,s]);if(o.error)throw new Error(o.error.message||"Gagal memuat hutang jatuh tempo");if(c.error)throw new Error(c.error.message||"Gagal memuat tagihan jatuh tempo");const A=[];for(const f of o.data??[]){const h=f?.due_date?new Date(f.due_date):null;if(!h||Number.isNaN(h.getTime()))continue;const p=Math.max(0,Math.ceil((h.getTime()-t.getTime())/(1440*60*1e3))),g=NA(f?.amount)-NA(f?.paid_total);A.push({id:String(f.id),title:f.title??"Hutang",subtitle:f.party_name?`Dengan ${f.party_name}`:"Pengingat hutang",dueDate:h.toISOString(),amount:Math.max(g,0),daysLeft:p,kind:"debt"})}for(const f of c.data??[]){const h=f?.due_date?new Date(f.due_date):null;if(!h||Number.isNaN(h.getTime()))continue;const p=Math.max(0,Math.ceil((h.getTime()-t.getTime())/(1440*60*1e3)));A.push({id:String(f.id),title:f.subscription?.name??"Subscription",subtitle:"Tagihan langganan",dueDate:h.toISOString(),amount:NA(f?.amount),daysLeft:p,kind:"subscription"})}return A.sort((f,h)=>f.daysLeft-h.daysLeft),A}async function X1e(e){const t=await tr();if(!t)throw new Error("Pengguna belum masuk");const r=Z1(e),{start:n,endExclusive:a}=VT(r),{count:i,error:s}=await Ne.from("transactions").select("id",{count:"exact",head:!0}).eq("user_id",t).eq("type","expense").is("category_id",null).is("to_account_id",null).is("deleted_at",null).gte("date",n).lt("date",a);if(s)throw new Error(s.message||"Gagal menghitung transaksi belum dikategorikan");return i??0}async function J1e(e){const t=await tr();if(!t)throw new Error("Pengguna belum masuk");const r=Z1(e),{start:n,endExclusive:a}=VT(r),i=J1(),s=new Date(i),o=s.getUTCDay()===0?7:s.getUTCDay();s.setUTCDate(s.getUTCDate()-(o-1)),s.setUTCHours(0,0,0,0);const c=new Date(s);c.setUTCDate(c.getUTCDate()-7);const A=gA(s),f=gA(new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()+7))),h=gA(c),p=gA(new Date(Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()+7))),g=A<n?n:A,v=f>a?a:f,b=h<n?n:h,x=p>a?a:p,[{data:w,error:S},{data:N,error:k}]=await Promise.all([Ne.from("transactions").select("amount").eq("user_id",t).eq("type","expense").is("to_account_id",null).is("deleted_at",null).gte("date",g).lt("date",v),Ne.from("transactions").select("amount").eq("user_id",t).eq("type","expense").is("to_account_id",null).is("deleted_at",null).gte("date",b).lt("date",x)]);if(S)throw new Error(S.message||"Gagal memuat tren mingguan");if(k)throw new Error(k.message||"Gagal memuat tren mingguan");const C=(w??[]).reduce((D,R)=>D+NA(R.amount),0),T=(N??[]).reduce((D,R)=>D+NA(R.amount),0);if(C===0&&T===0)return null;const O=T>0?(C-T)/T*100:100;return{current:C,previous:T,changePct:O}}function hm(e){return hn(e??0,"IDR")}const Z1e=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}),wG=new Intl.NumberFormat("id-ID",{style:"percent",maximumFractionDigits:0});function e2e(e){return e?/^\d{4}-\d{2}$/.test(e)?e:/^\d{4}-\d{2}-\d{2}$/.test(e)?e.slice(0,7):null:null}function t2e({periodEnd:e}){const t=uo(),r=B.useMemo(()=>e2e(e)??void 0,[e]),n=hg({queryKey:["financial-insights","top-spending",r],queryFn:()=>V1e(r),staleTime:6e4,gcTime:5*6e4}),a=hg({queryKey:["financial-insights","budgets",r],queryFn:()=>W1e(r),staleTime:6e4,gcTime:5*6e4}),i=hg({queryKey:["financial-insights","debts-due"],queryFn:()=>Y1e(),staleTime:6e4,gcTime:5*6e4}),s=hg({queryKey:["financial-insights","uncategorized",r],queryFn:()=>X1e(r),staleTime:6e4,gcTime:5*6e4}),o=hg({queryKey:["financial-insights","weekly-trend",r],queryFn:()=>J1e(r),staleTime:6e4,gcTime:5*6e4}),c=n.isLoading||a.isLoading||i.isLoading||s.isLoading||o.isLoading,A=n.isError||a.isError||i.isError||s.isError||o.isError,f=()=>{Promise.all([n.refetch(),a.refetch(),i.refetch(),s.refetch(),o.refetch()])},h=n.data??null,{nearLimit:p=[],overLimit:g=[]}=a.data??{},v=i.data??[],b=s.data??0,x=o.data,w=p.slice(0,3),S=g.length,N=w.length>0||S>0||v.length>0||b>0;return l.jsxs(Vl,{className:"rounded-3xl border border-border/70 bg-card/70 p-5 shadow-sm",children:[l.jsx(vf,{title:"Financial Insights",subtext:"Ringkasan cepat kondisi keuanganmu bulan ini.",className:"mb-5"}),A?l.jsx("div",{className:"mb-4 rounded-2xl border border-rose-500/40 bg-rose-500/10 p-4 text-sm text-rose-600 dark:text-rose-200",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsx("p",{children:"Gagal memuat insight keuangan. Coba lagi ya."}),l.jsx("button",{type:"button",onClick:f,className:"inline-flex items-center justify-center rounded-full bg-rose-500/90 px-3 py-1.5 text-xs font-semibold text-white transition hover:bg-rose-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400",children:"Muat Ulang"})]})}):null,c?l.jsx(Gc,{className:"grid gap-3",children:Array.from({length:5}).map((k,C)=>l.jsx(z1e,{},`skeleton-${C}`))}):l.jsxs(Gc,{className:"grid gap-3",children:[h?l.jsx(Rd,{icon:l.jsx(mx,{className:"h-5 w-5 text-rose-500","aria-hidden":"true"}),title:`Pengeluaran terbesar: ${h.categoryName}`,subtitle:`Total ${Z1e.format(h.amount)}${h.share?`  ${wG.format(h.share)}`:""}`,tone:"accent",onClick:()=>t("/transactions?filter=top-spending"),ariaLabel:`Lihat pengeluaran terbesar kategori ${h.categoryName}`}):l.jsx(Rd,{icon:l.jsx(rl,{className:"h-5 w-5 text-[color:var(--accent-dark)]","aria-hidden":"true"}),title:"Belum ada pengeluaran tercatat",subtitle:"Catat transaksi untuk melihat insight pengeluaran.",tone:"info",onClick:()=>t("/transaction/add"),ariaLabel:"Tambah transaksi baru"}),w.length>0?w.map(k=>l.jsx(r2e,{item:k,tone:"warning",navigate:t},`near-${k.id}`)):null,S>0?l.jsx(Rd,{icon:l.jsx(mx,{className:"h-5 w-5 text-rose-500","aria-hidden":"true"}),title:`${S} kategori melebihi limit budget`,subtitle:"Segera evaluasi pengeluaranmu agar kembali aman.",tone:"danger",onClick:()=>t("/budgets?tab=monthly&filter=over-limit")}):null,v.slice(0,3).map(k=>l.jsx(n2e,{item:k,navigate:t},`${k.kind}-${k.id}`)),x?l.jsx(Rd,{icon:x.changePct>=0?l.jsx(Vo,{className:"h-5 w-5 text-rose-500","aria-hidden":"true"}):l.jsx(my,{className:"h-5 w-5 text-emerald-500","aria-hidden":"true"}),title:x.changePct>=0?"Pengeluaran naik dibanding minggu lalu":"Pengeluaran turun dibanding minggu lalu",subtitle:`MTD ${hm(x.current)}  Minggu lalu ${hm(Math.abs(x.previous))}`,badge:{label:`${x.changePct>=0?"+":""}${x.changePct.toFixed(0)}%`,tone:x.changePct>=0?"danger":"accent"},tone:x.changePct>=0?"warning":"accent",onClick:()=>t("/transactions?filter=weekly-trend")}):null,b>0?l.jsx(Rd,{icon:l.jsx(Qee,{className:"h-5 w-5 text-sky-500","aria-hidden":"true"}),title:`${b} transaksi belum dikategorikan`,subtitle:"Selesaikan kategorinya agar laporan lebih akurat.",tone:"accent",onClick:()=>t("/transactions?filter=uncategorized")}):null,N?null:l.jsxs("div",{className:"mt-2 rounded-2xl border border-emerald-400/40 bg-emerald-500/10 p-4 text-sm text-emerald-700 dark:text-emerald-200",children:[l.jsx("p",{className:"font-semibold",children:"Semua aman. Tetap lanjut hemat! "}),l.jsx("button",{type:"button",onClick:()=>t("/budgets"),className:"mt-3 inline-flex items-center justify-center rounded-full bg-emerald-500 px-3 py-1.5 text-xs font-semibold text-white shadow-sm transition hover:bg-emerald-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400",children:"Lihat detail budget"})]})]})]})}function r2e({item:e,tone:t,navigate:r}){const n=wG.format(Math.min(e.progress,1)),a=`${hm(e.actual)} dari ${hm(e.planned)} terpakai`;return l.jsx(Rd,{icon:t==="warning"?l.jsx(Sm,{className:"h-5 w-5 text-amber-500","aria-hidden":"true"}):l.jsx(mx,{className:"h-5 w-5 text-rose-500","aria-hidden":"true"}),title:`${e.categoryName}`,subtitle:a,badge:{label:n,tone:t==="warning"?"warning":"danger",tooltip:`${n} dari limit ${hm(e.planned)}`},tone:t,onClick:()=>r(t==="warning"?"/budgets?tab=monthly&filter=near-limit":"/budgets?tab=monthly&filter=over-limit"),progress:e.progress})}function n2e({item:e,navigate:t}){const r=new Date(e.dueDate),a=new Intl.DateTimeFormat("id-ID",{weekday:"short",day:"numeric",month:"short"}).format(r),i=`${e.subtitle}  ${a}`;return l.jsx(Rd,{icon:l.jsx(fE,{className:"h-5 w-5 text-[color:var(--accent-dark)]","aria-hidden":"true"}),title:`${e.kind==="subscription"?"Tagihan":"Hutang"} jatuh tempo ${e.daysLeft===0?"hari ini":`H-${e.daysLeft}`}`,subtitle:`${i}  ${hm(e.amount)}`,badge:{label:e.daysLeft===0?"Hari ini":`H-${e.daysLeft}`,tone:e.daysLeft<=1?"danger":"warning"},tone:e.daysLeft<=1?"danger":"warning",onClick:()=>t("/debts?filter=due-7")})}const uR="month";function a2e({stats:e,txs:t}){const[r,n]=B.useState(uR),[a,i]=B.useState(()=>rG(uR)),s=Kwe(a),{income:o,expense:c,cashBalance:A,nonCashBalance:f,totalBalance:h,loading:p,error:g,refresh:v}=s,{start:b,end:x}=a,w=i1e({transactions:t,balanceHint:e?.balance??null});B.useEffect(()=>{v({start:b,end:x})},[b,x,v]);const S=(k,C)=>{i(k),n(C)},N=kwe(t);return l.jsxs(l.Fragment,{children:[l.jsx(Gwe,{open:w.open,data:w.data,onClose:w.close}),l.jsxs("div",{className:"mx-auto max-w-full space-y-6 overflow-hidden px-3 sm:space-y-8 sm:px-4 md:space-y-10 md:px-6 max-[400px]:space-y-5 max-[400px]:px-2",children:[l.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between sm:gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight sm:text-3xl",children:"Dashboard"}),l.jsx("p",{className:"text-sm text-muted sm:text-base",children:"Ringkasan keuanganmu"})]}),l.jsx("button",{type:"button",onClick:w.openManual,"aria-haspopup":"dialog",className:"inline-flex min-h-[40px] items-center justify-center rounded-xl border border-border-subtle bg-surface-alt px-3 py-2 text-sm font-semibold text-text shadow-sm transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] sm:rounded-2xl sm:px-4 max-[400px]:text-xs",children:"Lihat Ringkasan Hari Ini"})]}),l.jsxs("section",{className:"space-y-4 max-[400px]:space-y-3",children:[l.jsx(Mwe,{value:a,preset:r,onChange:S}),l.jsx(Qwe,{income:o,expense:c,cashBalance:A,nonCashBalance:f,totalBalance:h,loading:p,error:g,period:a})]}),l.jsxs("section",{className:"grid gap-4 sm:gap-6 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)] xl:gap-8",children:[l.jsx(t2e,{periodEnd:a.end}),l.jsx(Cie,{})]}),l.jsx(q1e,{period:a}),l.jsxs("section",{className:"space-y-5 sm:space-y-7 lg:space-y-10 max-[400px]:space-y-4",children:[l.jsx(jie,{title:"Analisis Bulanan"}),l.jsx("div",{className:"grid gap-4 sm:gap-6 lg:gap-8",children:l.jsx(Xz,{data:N.categories})}),l.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:gap-8 lg:grid-cols-2",children:[l.jsx(Jz,{data:N.topSpends,onSelect:k=>eG.emit("tx:open",k)}),l.jsx(Bwe,{txs:t})]})]})]})]})}const i2e={sm:"h-2 w-2",md:"h-2.5 w-2.5",lg:"h-3 w-3"};function WT({color:e,className:t,size:r="md"}){return l.jsx("span",{"aria-hidden":"true",className:tt("inline-flex flex-shrink-0 rounded-full bg-slate-600",i2e[r],t),style:e?{backgroundColor:e}:void 0})}const s2e={income:"Pemasukan",expense:"Pengeluaran",transfer:"Transfer"},o2e={"date-desc":"Terbaru","date-asc":"Terlama","amount-desc":"Nominal Tertinggi","amount-asc":"Nominal Terendah"},l2e={all:"Semua waktu",month:"Bulan ini",week:"Minggu ini",custom:"Rentang tanggal"};function c2e(){const e=new Date;return`${e.getUTCFullYear()}-${String(e.getUTCMonth()+1).padStart(2,"0")}`}function AR(e){return e?String(e).slice(0,10):""}function u2e({filter:e,categories:t,searchTerm:r,onSearchChange:n,onFilterChange:a,searchInputRef:i,onClear:s,sort:o,onSortChange:c}){const A=B.useId(),f=B.useId(),h=B.useId(),p=B.useId(),g=B.useId(),v=B.useId(),b=B.useRef(null);B.useEffect(()=>{i&&(i.current={focus:()=>{b.current?.focus(),b.current?.select()}})},[i]);const x=T=>{a({type:T.target.value})},w=T=>{n(T.target.value)},S=T=>{const O=T.target.value;if(O==="all"){a({period:{preset:"all",month:"",start:"",end:""}});return}if(O==="month"){a({period:{preset:"month",month:e.period.month||c2e(),start:"",end:""}});return}if(O==="week"){a({period:{preset:"week",month:"",start:"",end:""}});return}a({period:{preset:"custom",month:"",start:e.period.start||new Date().toISOString().slice(0,10),end:e.period.end||new Date().toISOString().slice(0,10)}})},N=T=>{a({period:{...e.period,preset:"custom",start:T.target.value}})},k=T=>{a({period:{...e.period,preset:"custom",end:T.target.value}})},C=e.period?.preset??"all";return l.jsxs("section",{className:"flex flex-col gap-3 rounded-3xl bg-slate-950/70 p-4 text-slate-200 shadow-lg ring-1 ring-slate-800 backdrop-blur",role:"search","aria-label":"Filter transaksi",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("div",{className:"relative flex min-w-[240px] flex-1 items-center",children:l.jsx("input",{id:A,ref:b,type:"search",value:r,onChange:w,placeholder:"Cari judul atau catatan",className:"h-11 w-full rounded-2xl bg-slate-900/60 px-4 text-sm text-slate-200 placeholder:text-slate-500 ring-2 ring-slate-800 focus:outline-none focus:ring-[var(--accent)]","aria-label":"Cari transaksi"})}),l.jsxs("div",{className:"flex flex-1 gap-3",children:[l.jsxs("label",{className:"flex flex-1 items-center",children:[l.jsx("span",{className:"sr-only",children:"Filter tipe transaksi"}),l.jsxs("select",{id:f,value:e.type,onChange:x,className:"h-11 w-full rounded-2xl bg-slate-900/60 px-4 text-sm font-medium text-slate-200 ring-2 ring-slate-800 focus:outline-none focus:ring-[var(--accent)]",children:[l.jsx("option",{value:"all",children:"Semua tipe"}),l.jsx("option",{value:"income",children:"Pemasukan"}),l.jsx("option",{value:"expense",children:"Pengeluaran"}),l.jsx("option",{value:"transfer",children:"Transfer"})]})]}),l.jsx(A2e,{categories:t,selected:e.categories,onChange:T=>a({categories:T})})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("label",{className:"flex w-full min-w-[160px] flex-1 items-center md:w-auto",children:[l.jsx("span",{className:"sr-only",children:"Preset rentang waktu"}),l.jsxs("div",{className:"relative w-full",children:[l.jsx("select",{id:p,value:C,onChange:S,className:"h-11 w-full appearance-none rounded-2xl bg-slate-900/60 px-4 text-sm font-medium text-slate-200 ring-2 ring-slate-800 focus:outline-none focus:ring-[var(--accent)]",children:Object.entries(l2e).map(([T,O])=>l.jsx("option",{value:T,children:O},T))}),l.jsx(UA,{className:"pointer-events-none absolute right-4 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500","aria-hidden":"true"})]})]}),l.jsxs("div",{className:"flex flex-1 flex-wrap gap-3 md:flex-nowrap",children:[l.jsxs("label",{className:"flex min-w-[160px] flex-1 items-center gap-2 rounded-2xl bg-slate-900/60 px-3 ring-2 ring-slate-800 focus-within:ring-[var(--accent)]",children:[l.jsx(Kd,{className:"h-4 w-4 text-slate-500","aria-hidden":"true"}),l.jsx("input",{id:g,type:"date",value:AR(e.period?.start),onChange:N,className:"h-10 flex-1 bg-transparent text-sm text-slate-200 focus:outline-none","aria-label":"Tanggal mulai"})]}),l.jsxs("label",{className:"flex min-w-[160px] flex-1 items-center gap-2 rounded-2xl bg-slate-900/60 px-3 ring-2 ring-slate-800 focus-within:ring-[var(--accent)]",children:[l.jsx(Kd,{className:"h-4 w-4 text-slate-500","aria-hidden":"true"}),l.jsx("input",{id:v,type:"date",value:AR(e.period?.end),onChange:k,className:"h-10 flex-1 bg-transparent text-sm text-slate-200 focus:outline-none","aria-label":"Tanggal akhir"})]})]}),l.jsxs("div",{className:"flex flex-1 items-center justify-end gap-3",children:[l.jsxs("label",{className:"md:hidden inline-flex min-w-[160px] flex-1 items-center",children:[l.jsx("span",{className:"sr-only",children:"Urutkan transaksi"}),l.jsx("select",{id:h,value:o,onChange:T=>c(T.target.value),className:"h-11 w-full rounded-2xl bg-slate-900/60 px-4 text-sm font-medium text-slate-200 ring-2 ring-slate-800 focus:outline-none focus:ring-[var(--accent)]",children:Object.entries(o2e).map(([T,O])=>l.jsx("option",{value:T,children:O},T))})]}),l.jsx("button",{type:"button",onClick:s,className:"inline-flex h-11 items-center justify-center rounded-2xl bg-slate-900/60 px-4 text-sm font-semibold text-slate-200 ring-2 ring-slate-800 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",children:"Bersihkan"})]})]})]})}function A2e({categories:e,selected:t,onChange:r}){const[n,a]=B.useState(!1),[i,s]=B.useState(""),o=B.useRef(null),c=B.useRef(null),[A,f]=B.useState({top:0,left:0,width:0});B.useEffect(()=>{if(!n)return;const b=()=>{const x=o.current;if(!x)return;const w=x.getBoundingClientRect(),S=Math.min(360,Math.max(260,w.width)),N=Math.min(Math.max(16,w.left),window.innerWidth-S-16);f({top:w.bottom+8,left:N,width:S})};return b(),window.addEventListener("resize",b),window.addEventListener("scroll",b,{passive:!0}),()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",b)}},[n]),B.useEffect(()=>{if(!n)return;const b=w=>{!c.current||!o.current||c.current.contains(w.target)||o.current.contains(w.target)||a(!1)},x=w=>{w.key==="Escape"&&(w.preventDefault(),a(!1))};return document.addEventListener("mousedown",b),document.addEventListener("keydown",x),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("keydown",x)}},[n]),B.useEffect(()=>{n&&s("")},[n]);const h=B.useMemo(()=>{const b=i.trim().toLowerCase();return b?e.filter(x=>[x.name,s2e[x.type]??""].some(w=>String(w||"").toLowerCase().includes(b))):e},[e,i]),p=B.useMemo(()=>t.length?t.length===1?e.find(x=>x.id===t[0])?.name||"1 kategori":`${t.length} kategori`:"Semua kategori",[e,t]),g=b=>{const x=new Set(t);x.has(b)?x.delete(b):x.add(b),r(Array.from(x))},v=()=>{r([])};return l.jsxs("div",{className:"flex flex-1 min-w-[200px]",children:[l.jsxs("button",{type:"button",ref:o,onClick:()=>a(b=>!b),className:"inline-flex h-11 w-full items-center justify-between rounded-2xl bg-slate-900/60 px-4 text-sm font-medium text-slate-200 ring-2 ring-slate-800 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]","aria-haspopup":"listbox","aria-expanded":n,children:[l.jsx("span",{className:"truncate",children:p}),l.jsx(UA,{className:"ml-3 h-4 w-4 text-slate-500","aria-hidden":"true"})]}),n&&typeof document<"u"&&co.createPortal(l.jsx("div",{className:"fixed inset-0 z-50",role:"presentation",children:l.jsxs("div",{ref:c,role:"listbox","aria-multiselectable":"true",className:"absolute max-h-[360px] w-[min(360px,calc(100%-32px))] overflow-hidden rounded-3xl bg-slate-900/95 text-slate-200 shadow-2xl ring-1 ring-slate-800 backdrop-blur",style:{top:A.top,left:A.left,width:A.width||void 0},children:[l.jsxs("div",{className:"flex items-center justify-between px-4 pb-3 pt-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Kategori"}),l.jsx("button",{type:"button",onClick:v,className:"rounded-full px-2 py-1 text-xs text-slate-400 transition hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",children:"Reset"})]}),l.jsx("div",{className:"px-4 pb-3",children:l.jsxs("div",{className:"flex items-center gap-2 rounded-2xl bg-slate-800/80 px-3",children:[l.jsx(hy,{className:"h-4 w-4 flex-shrink-0 text-slate-500","aria-hidden":"true"}),l.jsx("input",{type:"search",value:i,onChange:b=>s(b.target.value),placeholder:"Cari kategori",className:"h-9 w-full bg-transparent text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none"})]})}),l.jsxs("div",{className:"max-h-[240px] overflow-y-auto px-2 pb-4",children:[h.length===0&&l.jsx("p",{className:"px-4 py-3 text-sm text-slate-400",children:"Kategori tidak ditemukan"}),h.map(b=>{const x=t.includes(b.id);return l.jsxs("button",{type:"button",onClick:()=>g(b.id),className:tt("flex w-full items-center justify-between rounded-2xl px-3 py-2 text-left text-sm transition",x?"bg-[var(--accent)]/15 text-slate-50":"text-slate-300 hover:bg-slate-800/80"),role:"option","aria-selected":x,children:[l.jsxs("span",{className:"flex items-center gap-3",children:[l.jsx(WT,{color:b.color}),l.jsx("span",{className:"font-medium",children:b.name||"(Tanpa kategori)"})]}),x&&l.jsx("span",{className:"text-xs uppercase text-[var(--accent)]",children:"Dipilih"})]},b.id)})]})]})}),document.body)]})}const dR={income:"text-emerald-400",expense:"text-rose-400",transfer:"text-slate-300"};function d2e({items:e,loading:t,error:r,onRetry:n,selectedIds:a,onToggleSelect:i,onToggleSelectAll:s,allSelected:o,onEdit:c,onDelete:A,formatAmount:f,formatDate:h,toDateValue:p,typeLabels:g,sort:v,onSortChange:b,tableStickyTop:x,page:w,pageSize:S,total:N,onPageChange:k,deleteDisabled:C=!1,emptyState:T}){const O=t&&e.length===0,D=N===0?0:(w-1)*S+1,R=N===0?0:Math.min((w-1)*S+e.length,N),q=w*S<N,U=w>1,I=()=>{b(v==="date-desc"?"date-asc":"date-desc")},Q=()=>{b(v==="amount-desc"?"amount-asc":"amount-desc")};return r&&!e.length?l.jsx("div",{className:"rounded-3xl bg-red-500/10 p-4 text-red-200 ring-1 ring-red-500/30",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Gagal memuat transaksi. Coba lagi?"}),l.jsx("button",{type:"button",onClick:n,className:"inline-flex h-10 items-center justify-center rounded-2xl bg-red-500/20 px-4 text-sm font-semibold text-red-100 transition hover:bg-red-500/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-300",children:"Muat ulang"})]})}):!t&&e.length===0?l.jsx(l.Fragment,{children:T}):l.jsxs("div",{className:"hidden md:block",children:[r&&l.jsxs("div",{className:"mb-4 rounded-2xl bg-red-500/10 px-4 py-3 text-sm text-red-200 ring-1 ring-red-500/30",children:["Terjadi kesalahan memuat data. ",l.jsx("button",{type:"button",onClick:n,className:"font-semibold underline-offset-4 hover:underline",children:"Coba lagi"})]}),l.jsxs("div",{className:"overflow-hidden rounded-3xl bg-slate-950/50 ring-1 ring-slate-800",children:[l.jsx("div",{className:"max-h-[min(70vh,640px)] overflow-y-auto lg:[scrollbar-width:thin] lg:[scrollbar-color:hsl(var(--color-primary)/0.35)_transparent] lg:[&::-webkit-scrollbar]:w-2 lg:[&::-webkit-scrollbar-thumb]:rounded-full lg:[&::-webkit-scrollbar-thumb]:bg-[hsl(var(--color-primary)/0.35)] lg:[&::-webkit-scrollbar-thumb:hover]:bg-[hsl(var(--color-primary)/0.55)] lg:[&::-webkit-scrollbar-track]:bg-transparent",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[l.jsx("thead",{className:"bg-slate-900",style:x?{top:x}:void 0,children:l.jsxs("tr",{className:"sticky top-0 z-10 bg-slate-900",children:[l.jsx("th",{scope:"col",className:"w-12 px-4 py-3 text-left text-xs uppercase tracking-wide text-slate-400",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("input",{type:"checkbox",checked:o,onChange:s,"aria-label":"Pilih semua transaksi",className:"h-4 w-4 rounded border-slate-700 bg-slate-900 text-[var(--accent)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]"})})}),l.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs uppercase tracking-wide text-slate-400",children:"Kategori & Judul"}),l.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs uppercase tracking-wide text-slate-400",children:l.jsxs("button",{type:"button",onClick:I,className:"inline-flex items-center gap-2 font-semibold text-slate-300 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",children:["Tanggal",l.jsx(fR,{active:v.startsWith("date"),direction:v==="date-asc"?"asc":"desc"})]})}),l.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs uppercase tracking-wide text-slate-400",children:"Akun"}),l.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs uppercase tracking-wide text-slate-400",children:l.jsxs("button",{type:"button",onClick:Q,className:"inline-flex items-center gap-2 font-semibold text-slate-300 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",children:["Jumlah",l.jsx(fR,{active:v.startsWith("amount"),direction:v==="amount-asc"?"asc":"desc"})]})}),l.jsx("th",{scope:"col",className:"w-24 px-4 py-3 text-right text-xs uppercase tracking-wide text-slate-400",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-800",children:O?Array.from({length:6}).map((H,Y)=>l.jsx(f2e,{},Y)):e.map(H=>{const Y=a.has(H.id),J=(H.title||H.description||H.notes||H.note||"").trim()||"(Tanpa judul)",re=h(H.date),oe=dR[H.type]||dR.transfer;return l.jsxs("tr",{className:tt("transition-colors hover:bg-slate-900/40",Y&&"bg-[var(--accent)]/5"),children:[l.jsx("td",{className:"px-4 py-4 align-middle",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("input",{type:"checkbox",checked:Y,onChange:V=>i(H.id,V),className:"h-4 w-4 rounded border-slate-700 bg-slate-900 text-[var(--accent)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]","aria-label":"Pilih transaksi"})})}),l.jsx("td",{className:"px-4 py-4 align-middle",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(WT,{color:H.category_color,className:"mt-1"}),l.jsxs("div",{className:"min-w-0 space-y-1",children:[l.jsx("p",{className:"truncate text-sm font-semibold text-slate-200",title:H.category||"(Tanpa kategori)",children:H.category||"(Tanpa kategori)"}),l.jsx("p",{className:"truncate text-xs uppercase tracking-wide text-slate-400",children:g[H.type]||H.type}),l.jsx("p",{className:"truncate text-sm text-slate-400",title:J,children:J})]})]})}),l.jsx("td",{className:"px-4 py-4 align-middle text-sm text-slate-300",children:l.jsx("time",{dateTime:p(H.date),children:re})}),l.jsx("td",{className:"px-4 py-4 align-middle text-sm text-slate-200",children:H.type==="transfer"?l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"truncate",children:H.account||""}),l.jsx("span",{"aria-hidden":"true",className:"text-slate-500",children:""}),l.jsx("span",{className:"truncate",children:H.to_account||""})]}):l.jsx("span",{className:"truncate",children:H.account||""})}),l.jsx("td",{className:"px-4 py-4 align-middle",children:l.jsx("span",{className:tt("font-mono text-sm font-semibold",oe,"block text-right"),children:f(H.amount)})}),l.jsx("td",{className:"px-4 py-4 align-middle",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>c(H),className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-900 text-slate-300 ring-1 ring-slate-700 transition hover:bg-slate-800 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]","aria-label":"Edit transaksi",children:l.jsx(tl,{className:"h-4 w-4","aria-hidden":"true"})}),l.jsx("button",{type:"button",onClick:()=>A(H.id),disabled:C,className:"flex h-9 w-9 items-center justify-center rounded-full bg-rose-500/10 text-rose-300 ring-1 ring-rose-400/40 transition hover:bg-rose-500/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 disabled:cursor-not-allowed disabled:opacity-60","aria-label":"Hapus transaksi",children:l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})})]})})]},H.id)})})]})}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-slate-800 px-4 py-3 text-sm text-slate-400",children:[l.jsxs("span",{children:["Menampilkan ",D,"",R," dari ",N," transaksi"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>k(w-1),disabled:!U||t,className:"inline-flex h-9 items-center justify-center rounded-2xl bg-slate-900/60 px-4 text-sm font-medium text-slate-200 ring-1 ring-slate-800 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)] disabled:cursor-not-allowed disabled:opacity-50",children:"Sebelumnya"}),l.jsx("button",{type:"button",onClick:()=>k(w+1),disabled:!q||t,className:"inline-flex h-9 items-center justify-center rounded-2xl bg-slate-900/60 px-4 text-sm font-medium text-slate-200 ring-1 ring-slate-800 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)] disabled:cursor-not-allowed disabled:opacity-50",children:"Selanjutnya"})]})]})]})]})}function f2e(){return l.jsxs("tr",{className:"animate-pulse",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"mx-auto h-4 w-4 rounded bg-slate-800"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"h-3 w-3 rounded-full bg-slate-800"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-3 w-32 rounded-full bg-slate-800"}),l.jsx("div",{className:"h-3 w-48 rounded-full bg-slate-800/70"})]})]})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"h-3 w-24 rounded-full bg-slate-800"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"h-3 w-24 rounded-full bg-slate-800"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"ml-auto h-3 w-20 rounded-full bg-slate-800"})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"ml-auto flex w-20 justify-end gap-2",children:[l.jsx("span",{className:"h-9 w-9 rounded-full bg-slate-800"}),l.jsx("span",{className:"h-9 w-9 rounded-full bg-slate-800/80"})]})})]})}function fR({active:e,direction:t}){return e?l.jsx("span",{"aria-hidden":"true",className:"text-[var(--accent)]",children:t==="asc"?"":""}):l.jsx("span",{"aria-hidden":"true",className:"text-slate-600",children:""})}const hR={income:{icon:PZ,amountClass:"text-emerald-400",iconWrapper:"bg-emerald-500/10 text-emerald-300 ring-emerald-500/40"},expense:{icon:LZ,amountClass:"text-rose-400",iconWrapper:"bg-rose-500/10 text-rose-300 ring-rose-500/40"},transfer:{icon:Vw,amountClass:"text-slate-200",iconWrapper:"bg-slate-500/10 text-slate-200 ring-slate-500/30"}};function h2e({items:e,loading:t,error:r,onRetry:n,selectedIds:a,onToggleSelect:i,onEdit:s,onDelete:o,formatAmount:c,formatDate:A,toDateValue:f,typeLabels:h,page:p,pageSize:g,total:v,onPageChange:b,deleteDisabled:x=!1,emptyState:w}){const S=t&&e.length===0,N=v===0?0:(p-1)*g+1,k=v===0?0:Math.min((p-1)*g+e.length,v),C=p*g<v,T=p>1;return r&&!e.length?l.jsx("div",{className:"rounded-3xl bg-red-500/10 p-4 text-red-200 ring-1 ring-red-500/30",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Gagal memuat transaksi. Coba lagi?"}),l.jsx("button",{type:"button",onClick:n,className:"inline-flex h-11 items-center justify-center rounded-2xl bg-red-500/20 px-4 text-sm font-semibold text-red-100 transition hover:bg-red-500/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-300",children:"Muat ulang"})]})}):!t&&e.length===0?l.jsx("div",{className:"md:hidden",children:w}):l.jsxs("div",{className:"space-y-4 md:hidden",children:[r&&l.jsxs("div",{className:"rounded-2xl bg-red-500/10 px-4 py-3 text-sm text-red-200 ring-1 ring-red-500/30",children:["Gagal memuat transaksi. ",l.jsx("button",{type:"button",onClick:n,className:"font-semibold underline-offset-4 hover:underline",children:"Coba lagi"})]}),l.jsx("div",{className:"space-y-2",children:S?Array.from({length:6}).map((O,D)=>l.jsx(m2e,{},D)):e.map(O=>{const D=a.has(O.id),q=(O.title||O.description||O.notes||O.note||"").trim()||"(Tanpa judul)",U=A(O.date),I=hR[O.type]||hR.transfer,Q=I.icon;return l.jsxs("article",{className:tt("relative overflow-hidden rounded-3xl border border-white/5 bg-slate-900/80 p-4 shadow-lg shadow-slate-950/40 ring-1 ring-slate-800 transition hover:border-white/10",D&&"ring-2 ring-[var(--accent)]/60"),children:[l.jsx("div",{className:"pointer-events-none absolute -right-10 -top-10 h-36 w-36 rounded-full bg-gradient-to-br from-white/10 via-white/0 to-transparent blur-2xl"}),l.jsxs("header",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("span",{className:tt("flex h-10 w-10 items-center justify-center rounded-2xl ring-1 backdrop-blur",I.iconWrapper),children:[l.jsx(Q,{className:"h-5 w-5","aria-hidden":"true"}),l.jsx("span",{className:"sr-only",children:h[O.type]||O.type})]}),l.jsx("div",{className:"space-y-1",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-100",children:[l.jsx(WT,{color:O.category_color}),l.jsx("span",{children:O.category||"(Tanpa kategori)"})]})})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("time",{dateTime:f(O.date),className:"inline-flex items-center gap-2 rounded-full bg-slate-800/60 px-3 py-1 text-xs font-medium text-slate-300 ring-1 ring-slate-700",children:[l.jsx(hE,{className:"h-3.5 w-3.5","aria-hidden":"true"}),U]}),l.jsx("input",{type:"checkbox",checked:D,onChange:H=>i(O.id,H),className:"mt-0.5 h-4 w-4 rounded border-slate-600 bg-slate-900 text-[var(--accent)] shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]","aria-label":"Pilih transaksi"})]})]}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx("p",{className:"text-base font-semibold text-slate-100 line-clamp-2",title:q,children:q}),l.jsx("div",{className:"grid gap-2 text-sm text-slate-300",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-800/70 px-3 py-1 text-xs font-medium text-slate-200 ring-1 ring-slate-700/70",children:[l.jsx(Kte,{className:"h-3.5 w-3.5","aria-hidden":"true"}),O.account||""]}),O.type==="transfer"&&l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-800/70 px-3 py-1 text-xs font-medium text-slate-200 ring-1 ring-slate-700/70",children:[l.jsx(Vw,{className:"h-3.5 w-3.5","aria-hidden":"true"}),O.to_account||""]})]})})]}),l.jsxs("footer",{className:"mt-5 flex items-center justify-between gap-3",children:[l.jsx("span",{className:tt("text-2xl font-semibold",I.amountClass),children:c(O.amount)}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>s(O),className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-900/80 text-slate-200 ring-1 ring-slate-700 transition hover:bg-slate-800 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]","aria-label":"Edit transaksi",children:l.jsx(tl,{className:"h-4 w-4","aria-hidden":"true"})}),l.jsx("button",{type:"button",onClick:()=>o(O.id),disabled:x,className:"flex h-10 w-10 items-center justify-center rounded-full bg-rose-500/10 text-rose-300 ring-1 ring-rose-400/40 transition hover:bg-rose-500/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 disabled:cursor-not-allowed disabled:opacity-60","aria-label":"Hapus transaksi",children:l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})})]})]})]},O.id)})}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl bg-slate-900/60 px-4 py-3 text-sm text-slate-400 ring-1 ring-slate-800",children:[l.jsxs("span",{children:["Menampilkan ",N,"",k," dari ",v," transaksi"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>b(p-1),disabled:!T||t,className:"inline-flex h-9 items-center justify-center rounded-2xl bg-slate-900 px-4 text-sm font-medium text-slate-200 ring-1 ring-slate-800 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)] disabled:cursor-not-allowed disabled:opacity-50",children:"Sebelumnya"}),l.jsx("button",{type:"button",onClick:()=>b(p+1),disabled:!C||t,className:"inline-flex h-9 items-center justify-center rounded-2xl bg-slate-900 px-4 text-sm font-medium text-slate-200 ring-1 ring-slate-800 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)] disabled:cursor-not-allowed disabled:opacity-50",children:"Selanjutnya"})]})]})]})}function m2e(){return l.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/5 bg-slate-900/70 p-4 ring-1 ring-slate-800/60 animate-pulse",children:[l.jsx("div",{className:"pointer-events-none absolute -right-10 -top-10 h-32 w-32 rounded-full bg-white/5 blur-2xl"}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"h-10 w-10 rounded-2xl bg-slate-800/80"}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsx("div",{className:"h-4 w-24 rounded-full bg-slate-800"}),l.jsx("div",{className:"h-3 w-32 rounded-full bg-slate-800/80"})]}),l.jsx("span",{className:"h-4 w-20 rounded-full bg-slate-800/60"})]}),l.jsxs("div",{className:"mt-5 space-y-3",children:[l.jsx("div",{className:"h-4 w-full rounded-full bg-slate-800"}),l.jsx("div",{className:"h-4 w-2/3 rounded-full bg-slate-800/70"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"h-6 w-20 rounded-full bg-slate-800/80"}),l.jsx("span",{className:"h-6 w-24 rounded-full bg-slate-800/70"})]})]}),l.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[l.jsx("span",{className:"h-6 w-28 rounded-full bg-slate-800"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"h-10 w-10 rounded-full bg-slate-800"}),l.jsx("span",{className:"h-10 w-10 rounded-full bg-slate-800/80"})]})]})]})}function p2e({count:e,onClear:t,onDelete:r,onChangeCategory:n,deleting:a=!1,updating:i=!1,className:s,secondaryAction:o}){return e<=0?null:l.jsx("div",{className:tt("pointer-events-none fixed inset-x-0 bottom-6 z-40 flex justify-center px-4",s),"aria-live":"polite",children:l.jsxs("div",{className:"pointer-events-auto flex w-full max-w-xl flex-col gap-3 rounded-3xl bg-slate-900/95 p-4 text-slate-200 shadow-2xl ring-1 ring-slate-800 backdrop-blur",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-[var(--accent)]/10 px-3 py-1 text-sm font-semibold text-[var(--accent)]",children:[e," dipilih"]}),l.jsx("button",{type:"button",onClick:t,className:"text-sm font-medium text-slate-400 transition-colors hover:text-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",children:"Batal"})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[o,l.jsxs("button",{type:"button",onClick:n,disabled:i,className:"inline-flex h-11 flex-1 items-center justify-center gap-2 rounded-2xl bg-slate-800 px-4 text-sm font-semibold text-slate-200 transition hover:bg-slate-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)] disabled:cursor-not-allowed disabled:opacity-60 sm:flex-initial",children:[i?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(Q$,{className:"h-4 w-4","aria-hidden":"true"}),"Ubah Kategori"]}),l.jsxs("button",{type:"button",onClick:r,disabled:a,className:"inline-flex h-11 flex-1 items-center justify-center gap-2 rounded-2xl bg-rose-500/20 px-4 text-sm font-semibold text-rose-200 transition hover:bg-rose-500/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 disabled:cursor-not-allowed disabled:opacity-60 sm:flex-initial",children:[a?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"}),"Hapus"]})]})]})})}const l4=50,o0={period:{preset:"all"},type:"all",sort:"date-desc",search:""};function g2e(e){const t=e.get("range")||"all",r=e.get("month")||"",n=e.get("start")||"",a=e.get("end")||"",i=e.get("type")||"all",s=e.get("sort")||"date-desc",o=e.get("search")||"",c=e.get("categories"),A=c?c.split(",").map(p=>p.trim()).filter(Boolean):[],f=Number.parseInt(e.get("page")||"1",10),h=Number.isNaN(f)||f<1?1:f;return{filter:{period:{preset:t,month:r,start:n,end:a},categories:A,type:i,sort:s,search:o},page:h}}function b2e(e,t,r){const n=new URLSearchParams(e),{period:a}=t,i=(s,o,c="")=>{o==null||o===""||o===c?n.delete(s):n.set(s,o)};return i("range",a.preset,o0.period.preset),a.preset==="month"?(i("month",a.month,""),n.delete("start"),n.delete("end")):a.preset==="custom"?(i("start",a.start,""),i("end",a.end,""),n.delete("month")):(n.delete("month"),n.delete("start"),n.delete("end")),i("type",t.type,o0.type),i("sort",t.sort,o0.sort),i("search",t.search.trim(),o0.search),Array.isArray(t.categories)&&t.categories.length?n.set("categories",t.categories.join(",")):n.delete("categories"),r>1?n.set("page",String(r)):n.delete("page"),n}function mR(e,t){return{type:e.type,categories:e.categories,sort:e.sort,search:e.search,period:{preset:e.period.preset,month:e.period.month,start:e.period.start,end:e.period.end},page:t,pageSize:l4}}function y2e(){const[e,t]=bJ(),{filter:r,page:n}=B.useMemo(()=>g2e(e),[e]),[a,i]=B.useState([]),[s,o]=B.useState(0),[c,A]=B.useState(!1),[f,h]=B.useState(null),[p,g]=B.useState({income:0,expense:0,net:0}),[v,b]=B.useState([]),[x,w]=B.useState(0),S=B.useMemo(()=>JSON.stringify({...r,page:0}),[r]);B.useEffect(()=>{let R=!1;return r1().then(q=>{R||b(q||[])}).catch(q=>{console.error("Failed to fetch categories",q)}),()=>{R=!0}},[]),B.useEffect(()=>{let R=!1;const q=mR(r,n);return A(!0),h(null),n===1&&i([]),OE(q).then(({rows:U,total:I})=>{R||(o(I||0),i(Q=>n===1?U:[...Q.slice(0,(n-1)*l4),...U||[]]),A(!1))}).catch(U=>{R||(h(U),A(!1))}),()=>{R=!0}},[r,S,n,x]),B.useEffect(()=>{let R=!1;return f9(mR(r,1)).then(q=>{R||g(q)}).catch(q=>console.error("Failed to fetch summary",q)),()=>{R=!0}},[r,S,x]);const N=B.useCallback((R,q=1)=>{const U={...r,...R,period:{...r.period,...R?.period||{}}},I=b2e(e,U,q);t(I,{replace:!0})},[r,e,t]),k=B.useCallback(R=>{N(R,1)},[N]),C=B.useCallback(R=>{const q=Number.isFinite(R)?R:n,U=q>0?Math.floor(q):1;N({},U)},[n,N]),T=B.useCallback(()=>{C(n+1)},[C,n]),O=B.useCallback(({keepPage:R=!1}={})=>{w(q=>q+1),R?N({},n):N({},1)},[n,N]),D=a.length<s;return{items:a,total:s,page:n,hasMore:D,loading:c,error:f,filter:r,setFilter:k,loadMore:T,goToPage:C,refresh:O,categories:v,summary:p,pageSize:l4}}function _G(){const[e,t]=B.useState(navigator.onLine);return B.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),e}const pR={info:"border-blue-500",success:"border-green-500",warning:"border-amber-500",danger:"border-red-500"};function v2e({toast:e,onDismiss:t}){const[r,n]=B.useState(!1);return B.useEffect(()=>{const a=requestAnimationFrame(()=>n(!0));return()=>cancelAnimationFrame(a)},[]),l.jsxs("div",{className:`card shadow-lg p-3 flex items-start gap-2 border-l-4 ${pR[e.type]||pR.info} transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,children:[l.jsx("div",{className:"flex-1 text-sm",children:e.message}),l.jsx("button",{type:"button",className:"text-sm",onClick:()=>t(e.id),children:""})]})}function x2e({toasts:e=[],onDismiss:t}){return l.jsx("div",{className:"fixed right-4 space-y-2 z-50",style:{top:"calc(var(--app-header-height, var(--app-topbar-h, 0px)) + 16px)"},children:e.map(r=>l.jsx(v2e,{toast:r,onDismiss:t},r.id))})}const BG=B.createContext(null);function ci(){return B.useContext(BG)}function w2e({children:e}){const[t,r]=B.useState([]),n=B.useCallback(i=>{r(s=>s.filter(o=>o.id!==i))},[]),a=B.useCallback((i,s="info")=>{const o=globalThis.crypto?.randomUUID?.()??Math.random().toString(36).slice(2);r(c=>[...c,{id:o,type:s,message:i}]),setTimeout(()=>n(o),5e3)},[n]);return l.jsxs(BG.Provider,{value:{addToast:a,removeToast:n},children:[e,l.jsx(x2e,{toasts:t,onDismiss:n})]})}function gR(e=""){return e.charAt(0).toUpperCase()+e.slice(1)}function _2e(){const{pathname:e}=js(),t=e.split("/").filter(Boolean);if(!t.length)return null;let r="";return l.jsx("nav",{"aria-label":"Breadcrumb",className:"mb-2 text-xs text-muted",children:l.jsxs("ol",{className:"flex items-center gap-1",children:[l.jsx("li",{children:l.jsx(aj,{to:"/",className:"hover:text-brand",children:"Home"})}),t.map((n,a)=>{r+=`/${n}`;const i=a===t.length-1;return l.jsxs("li",{className:"flex items-center gap-1",children:[l.jsx("span",{children:"/"}),i?l.jsx("span",{children:gR(n)}):l.jsx(aj,{to:r,className:"hover:text-brand",children:gR(n)})]},r)})]})})}function fo({title:e,description:t,children:r}){return l.jsxs("div",{className:"mb-[var(--section-y)] min-w-0",children:[l.jsx(_2e,{}),l.jsxs("div",{className:"flex min-w-0 flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"text-xl font-bold text-text",children:e}),t&&l.jsx("p",{className:"text-sm text-muted",children:t})]}),r&&l.jsx("div",{className:"flex flex-wrap justify-end gap-2",children:r})]})]})}function SG(e){const t=e.split(/\r?\n/).map(a=>a.trim()).filter(Boolean);if(!t.length)return{headers:[],rows:[]};const r=t[0].split(",").map(a=>a.trim()),n=t.slice(1).map(a=>{const i=a.split(","),s={};return r.forEach((o,c)=>{s[o]=i[c]?.trim()??""}),s});return{headers:r,rows:n}}function B2e(e){const t=[],r=/<STMTTRN>([\s\S]*?)<\/STMTTRN>/gi;let n;for(;n=r.exec(e);){const a=n[1],i=A=>{const f=new RegExp(`<${A}>([^<]+)`,"i").exec(a);return f?f[1].trim():""};let s=i("DTPOSTED").slice(0,8);/^\d{8}$/.test(s)&&(s=`${s.slice(0,4)}-${s.slice(4,6)}-${s.slice(6,8)}`);const o=parseFloat(i("TRNAMT")||"0"),c=i("MEMO")||i("NAME");t.push({date:s,amount:o,note:c})}return{headers:["date","amount","note"],rows:t}}function S2e(e,t){return e.map(r=>{let n=r[t.date]||"";if(/^\d{8}$/.test(n))n=`${n.slice(0,4)}-${n.slice(4,6)}-${n.slice(6,8)}`;else{const s=new Date(n);isNaN(s)||(n=s.toISOString().slice(0,10))}const a=parseFloat(r[t.amount]||"0"),i=r[t.note]||"";return{date:n,amount:a,note:i}})}function N2e(e,t){const r=Math.abs(Number(e.amount)),n=(e.note||"").trim().toLowerCase();return t.some(a=>a.date===e.date&&Math.abs(Number(a.amount))===r&&(a.note||"").trim().toLowerCase()===n)}const Z0={income:"Pemasukan",expense:"Pengeluaran",transfer:"Transfer"},C2e={"date-desc":"Terbaru","date-asc":"Terlama","amount-desc":"Nominal Tertinggi","amount-asc":"Nominal Terendah"},bR={month:"Bulan ini",week:"Minggu ini"},j2e="Kelola catatan keuangan",yR=768,vR="transactions-filter-open",xR=typeof Intl<"u"?new Intl.NumberFormat("id-ID",{maximumFractionDigits:20}):null;function lb(e){return e?String(e).slice(0,10):""}function Bw(e){return hn(Number(e??0),"IDR")}function k2e(e){if(e==null)return"";const t=String(e),r=t.replace(/[^0-9,]/g,"");if(r==="")return t.includes(",")?",":"";const n=t.endsWith(","),[a,...i]=r.split(","),s=i.join(""),c=(a.replace(/^0+(?=\d)/g,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,".");return s||n?`${c},${s}`:c}function NG(e){if(e==null)return"";if(typeof e=="number")return Number.isFinite(e)?String(e):"";const t=String(e).trim();if(!t)return"";if(t.includes(","))return t.replace(/\./g,"").replace(/,/g,".").replace(/[^0-9.]/g,"");const r=t.replace(/[^0-9.]/g,"");if(!r)return"";const n=r.split(".");if(n.length>1&&n.slice(1).every(c=>c.length===3))return n.join("");const i=r.indexOf(".");if(i===-1)return r;const s=r.slice(0,i).replace(/\./g,""),o=r.slice(i+1).replace(/\./g,"");return`${s}.${o}`}function wR(e){if(e==null||e==="")return"";const t=NG(e);if(!t)return"";const r=Number(t);return Number.isFinite(r)?xR?xR.format(r):t:""}const _R=typeof Intl<"u"?new Intl.DateTimeFormat("id-ID",{weekday:"short",day:"2-digit",month:"short",year:"numeric"}):null;function BR(e){if(!e)return"";try{const t=new Date(e);return Number.isFinite(t.getTime())&&_R?_R.format(t):String(e)}catch{return String(e)}}function E2e(e,t){const r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}function T2e(){const{items:e,total:t,page:r,loading:n,error:a,filter:i,setFilter:s,goToPage:o,refresh:c,categories:A,summary:f,pageSize:h}=y2e(),{addToast:p}=ci(),g=_G(),v=uo(),[b,x]=B.useState(e),[w,S]=B.useState(()=>new Set),[N,k]=B.useState(!1),[C,T]=B.useState(!1),[O,D]=B.useState(null),[R,q]=B.useState(!1),[U,I]=B.useState(0),[Q,H]=B.useState(null),Y=B.useId(),K=B.useRef(null),J=B.useRef(null),[re,oe]=B.useState(i.search),[V,W]=B.useState(!1),[P,$]=B.useState(null),G=B.useRef(null),ne=B.useRef(null),[se,ve]=B.useState(null),[he,fe]=B.useState(!1),[Qe,$e]=B.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(`(min-width: ${yR}px)`).matches),[de,ze]=B.useState(()=>{if(typeof window>"u")return!1;try{const Le=window.sessionStorage.getItem(vR);return Le===null?!1:Le==="true"}catch{return!1}});B.useEffect(()=>{x(e)},[e]),B.useEffect(()=>{oe(i.search)},[i.search]),B.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const Le=window.matchMedia(`(min-width: ${yR}px)`),ot=ht=>{$e(ht.matches)};return ot(Le),typeof Le.addEventListener=="function"?(Le.addEventListener("change",ot),()=>Le.removeEventListener("change",ot)):(Le.addListener(ot),()=>Le.removeListener(ot))},[]),B.useEffect(()=>{if(!(typeof window>"u"))try{window.sessionStorage.setItem(vR,String(de))}catch{}},[de]),B.useEffect(()=>()=>{G.current&&clearTimeout(G.current)},[]),B.useEffect(()=>{let Le=!0;(async()=>{try{const ht=await H_();Le&&I(ht)}catch(ht){console.error("Failed to check pending queue",ht)}})();const ot=mae(async()=>{try{const ht=await H_();Le&&I(ht)}catch(ht){console.error("Failed to refresh queue count",ht)}});return()=>{Le=!1,ot?.()}},[]),B.useEffect(()=>{const Le=ot=>{if(ot.defaultPrevented)return;const ht=ot.target,mt=ht?.tagName,It=mt==="INPUT"||mt==="TEXTAREA"||ht?.isContentEditable;if((ot.ctrlKey||ot.metaKey)&&ot.key.toLowerCase()==="t"){ot.preventDefault(),Kt();return}if((ot.ctrlKey||ot.metaKey)&&ot.key.toLowerCase()==="i"){ot.preventDefault(),k(!0);return}if((ot.ctrlKey||ot.metaKey)&&ot.key.toLowerCase()==="e"){ot.preventDefault(),rt();return}!It&&ot.key==="/"&&(ot.ctrlKey||ot.metaKey)&&(ot.preventDefault(),K.current?.focus())};return window.addEventListener("keydown",Le),()=>window.removeEventListener("keydown",Le)}),B.useEffect(()=>{const Le=re.trim(),ot=i.search.trim();if(Le===ot)return;const ht=setTimeout(()=>{s({search:re})},250);return()=>clearTimeout(ht)},[re,i.search,s]);const nt=B.useMemo(()=>{const Le=new Map;return(A||[]).forEach(ot=>{ot?.id&&(Le.set(ot.id,ot),ot.name&&Le.set(ot.name.toLowerCase(),ot))}),Le},[A]),Se=B.useMemo(()=>{if(!Array.isArray(b)||b.length===0)return[];const Le=Math.max(0,(r-1)*h);return b.slice(Le,Le+h)},[b,r,h]),Z=B.useMemo(()=>{const Le=new Map;for(const ot of b)Le.set(ot.id,ot);return Le},[b]);B.useEffect(()=>{S(Le=>{if(Le.size===0)return Le;let ot=!1;const ht=new Set;return Le.forEach(mt=>{Z.has(mt)?ht.add(mt):ot=!0}),ot?ht:Le})},[Z]);const Ke=B.useMemo(()=>{if(w.size===0)return[];const Le=[];return w.forEach(ot=>{const ht=Z.get(ot);ht&&Le.push(ht)}),Le},[Z,w]),st=Se.length>0&&Se.every(Le=>w.has(Le.id)),ye=B.useMemo(()=>{const Le=[];if(i.period.preset==="month")Le.push({key:"period",label:bR.month});else if(i.period.preset==="week")Le.push({key:"period",label:bR.week});else if(i.period.preset==="custom"){const ot=i.period.start?i.period.start:"?",ht=i.period.end?i.period.end:"?";Le.push({key:"period",label:`Rentang: ${ot} - ${ht}`})}return i.categories.forEach(ot=>{const ht=nt.get(ot)||nt.get(ot?.toLowerCase?.());Le.push({key:`category:${ot}`,label:ht?.name||"Kategori"})}),i.type!=="all"&&Le.push({key:"type",label:Z0[i.type]||i.type}),i.sort!=="date-desc"&&Le.push({key:"sort",label:C2e[i.sort]||"Sort"}),i.search.trim()&&Le.push({key:"search",label:`Cari: ${i.search}`}),Le},[i,nt]),He=B.useCallback((Le,ot)=>{let ht=null;const mt=!!(ot?.shiftKey??ot?.nativeEvent?.shiftKey);S(It=>{const Ce=new Set(It),Et=Ce.has(Le);if(ht=ot?.target?.checked??!Et,!Se.length)return ht?Ce.add(Le):Ce.delete(Le),Ce;if(mt&&J.current){const Pt=Se.map(mr=>mr.id),jr=Pt.indexOf(Le),Ft=Pt.indexOf(J.current);if(jr!==-1&&Ft!==-1){const[mr,Nr]=jr<Ft?[jr,Ft]:[Ft,jr];for(let $r=mr;$r<=Nr;$r+=1){const ur=Pt[$r];ht?Ce.add(ur):Ce.delete(ur)}return Ce}}return ht?Ce.add(Le):Ce.delete(Le),Ce}),ht!==null&&(J.current=Le)},[Se]),Ve=B.useCallback(()=>{S(Le=>{const ot=new Set(Le);if(!Se.length)return ot;const ht=Se.map(mt=>mt.id);return st?(ht.forEach(mt=>ot.delete(mt)),J.current=null,ot):(ht.forEach(mt=>ot.add(mt)),J.current=ht[ht.length-1]??null,ot)})},[st,Se]),ge=B.useCallback(Le=>{if(Le.key==="type"){s({type:"all"});return}if(Le.key==="sort"){s({sort:"date-desc"});return}if(Le.key==="search"){oe(""),s({search:""});return}if(Le.key==="period"){s({period:{preset:"all",month:"",start:"",end:""}});return}if(Le.key.startsWith("category:")){const ot=Le.key.split(":")[1];s({categories:i.categories.filter(ht=>ht!==ot)})}},[i.categories,s]),je=B.useCallback(()=>{oe(""),s({period:{preset:"all",month:"",start:"",end:""},categories:[],type:"all",sort:"date-desc",search:""})},[s,oe]),we=B.useCallback(Le=>{if(!Le||!Le.ids?.length)return;G.current&&clearTimeout(G.current),ne.current=Le,fe(!1);const ot=Le.ids.length,ht=ot===1?"Transaksi dihapus  Urungkan?":`${ot} transaksi dihapus  Urungkan?`;ve({message:ht,count:ot}),G.current=window.setTimeout(()=>{ne.current=null,ve(null)},6e3)},[]),Xe=B.useCallback(async()=>{const Le=ne.current;if(!(!Le||he)){fe(!0);try{if(Le.ids.length===1){if(!await b9(Le.ids[0]))throw new Error("Gagal mengurungkan. Silakan refresh.")}else if(await y9(Le.ids)<Le.ids.length)throw new Error("Gagal mengurungkan. Silakan refresh.");x(ot=>{const ht=ot.slice();return Le.records.slice().sort((mt,It)=>mt.index-It.index).forEach(({item:mt,index:It})=>{const Ce=Math.min(It,ht.length);ht.splice(Ce,0,mt)}),ht}),p(Le.ids.length===1?"Transaksi dipulihkan":`${Le.ids.length} transaksi dipulihkan`,"success"),c({keepPage:!0})}catch(ot){p(ot instanceof Error?ot.message:"Gagal mengurungkan. Silakan refresh.","error")}finally{G.current&&(clearTimeout(G.current),G.current=null),ne.current=null,ve(null),fe(!1)}}},[p,c,he]),Pe=B.useCallback(Le=>{V||!b.find(ht=>ht.id===Le)||$({type:"single",ids:[Le]})},[V,b]),At=B.useCallback(()=>{V||!Ke.length||$({type:"bulk",ids:Ke.map(Le=>Le.id)})},[V,Ke]),gt=B.useCallback(()=>{V||$(null)},[V]),St=B.useCallback(async()=>{if(!P||V)return;const Le=P.ids,ot=new Set(Le),ht=b.slice(),mt=new Set(w),It=ht.map((Et,Pt)=>ot.has(Et.id)?{id:Et.id,item:Et,index:Pt}:null).filter(Boolean);if(!It.length){$(null);return}W(!0),x(ht.filter(Et=>!ot.has(Et.id)));const Ce=new Set(mt);Le.forEach(Et=>Ce.delete(Et)),S(Ce);try{if(Le.length===1){if(!await yx(Le[0]))throw new Error("Gagal menghapus. Cek koneksi lalu coba lagi.")}else if(await g9(Le)<Le.length)throw new Error("Gagal menghapus. Cek koneksi lalu coba lagi.");J.current=null,c({keepPage:!0}),we({ids:Le,records:It.map(Et=>({id:Et.id,item:Et.item,index:Et.index}))})}catch(Et){x(ht),S(mt),p(Et instanceof Error?Et.message:"Gagal menghapus. Cek koneksi lalu coba lagi.","error")}finally{$(null),W(!1)}},[P,V,b,w,c,we,p]),Ze=B.useCallback(async(Le,ot)=>{if(!(!Ke.length||ot==null)){q(!0);try{for(const mt of Ke)await t1(mt.id,{[Le]:ot});p(`${Le==="category_id"?"Kategori":"Akun"} transaksi diperbarui`,"success"),S(new Set),J.current=null,c({keepPage:!0})}catch(ht){console.error(ht),p(ht?.message||"Gagal memperbarui transaksi terpilih","error")}finally{q(!1),D(null)}}},[p,c,Ke]),rt=B.useCallback(async()=>{if(!C){T(!0);try{const Le={period:i.period,categories:i.categories,type:i.type,sort:i.sort,search:i.search},ot=[];let ht=1;for(;;){const{rows:Pt}=await OE({...Le,page:ht,pageSize:h});if(ot.push(...Pt),!Pt||Pt.length<h)break;ht+=1}const mt=["date,type,category_name,amount,title,notes"];ot.forEach(Pt=>{const jr=Pt.category||nt.get(Pt.category_id)?.name||"",Ft=(Pt.title||"").replaceAll('"','""'),mr=(Pt.notes??Pt.note??"").replaceAll('"','""');mt.push(`${lb(Pt.date)},${Pt.type},"${jr}",${Number(Pt.amount??0)},"${Ft}","${mr}"`)});const It=new Blob([mt.join(`
`)],{type:"text/csv;charset=utf-8"}),Ce=URL.createObjectURL(It),Et=document.createElement("a");Et.href=Ce,Et.download=`transactions-${Date.now()}.csv`,Et.click(),setTimeout(()=>URL.revokeObjectURL(Ce),0),p("Export CSV berhasil","success")}catch(Le){console.error(Le),p(Le?.message||"Gagal export CSV","error")}finally{T(!1)}}},[p,nt,C,i.categories,i.period,i.search,i.sort,i.type,h]),$t=B.useCallback(async()=>{try{await G0();const Le=await H_();I(Le),p("Sinkronisasi dijalankan","success")}catch(Le){console.error(Le),p(Le?.message||"Gagal menjalankan sinkronisasi","error")}},[p]),Ht=!g,Vt=Ht||U>0,Kt=B.useCallback(()=>{v("/transaction/add")},[v]),nr="calc(var(--app-header-height, var(--app-topbar-h, 64px)) + 16px)",wr=Qe||de,Ge=ye.length,Lt=()=>{Qe||ze(Le=>!Le)},Ot=B.useCallback(Le=>{H(Le)},[]);return l.jsxs("main",{className:"mx-auto w-full max-w-[1280px] px-4 pb-10 sm:px-6 lg:px-8",children:[l.jsxs(fo,{title:"Transaksi",description:j2e,children:[l.jsxs("button",{type:"button",onClick:Kt,className:"inline-flex items-center gap-2 rounded-xl bg-brand px-4 py-2 text-sm font-semibold text-white shadow focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60","aria-label":"Tambah transaksi (Ctrl+T)",children:[l.jsx(Jc,{className:"h-4 w-4"})," Tambah Transaksi"]}),l.jsxs("button",{type:"button",onClick:rt,disabled:C,className:"inline-flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-medium text-white/80 backdrop-blur focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Export CSV (Ctrl+E)",children:[C?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):l.jsx(vb,{className:"h-4 w-4"})," Export CSV"]})]}),l.jsxs("div",{className:"space-y-6 sm:space-y-7 lg:space-y-8",children:[l.jsxs("div",{children:[l.jsxs("button",{type:"button",onClick:Lt,className:tt("md:hidden flex w-full items-center justify-between gap-3 rounded-2xl border border-white/10 bg-slate-900/70 px-4 py-3 text-sm font-semibold text-white shadow transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60"),"aria-controls":Y,"aria-expanded":Qe?!0:de,children:[l.jsxs("span",{className:"flex items-center gap-2",children:["Filter",Ge>0&&l.jsx("span",{className:"inline-flex min-w-[1.5rem] items-center justify-center rounded-full bg-brand px-2 py-0.5 text-xs font-semibold text-white",children:Ge})]}),l.jsx(UA,{className:tt("h-4 w-4 transition-transform duration-200",wr?"rotate-180":"rotate-0"),"aria-hidden":"true"})]}),l.jsx("div",{id:Y,"aria-hidden":!Qe&&!wr,inert:!Qe&&!wr?"":void 0,className:tt("transition-[max-height,opacity] duration-200 ease-in-out","md:max-h-none md:opacity-100 md:transition-none md:overflow-visible md:pointer-events-auto",!Qe&&"overflow-hidden",!Qe&&wr&&"mt-3",!Qe&&!wr&&"pointer-events-none",wr?"max-h-[1200px] opacity-100":"max-h-0 opacity-0"),children:l.jsx(u2e,{filter:i,categories:A,searchTerm:re,onSearchChange:oe,onFilterChange:s,searchInputRef:K,onClear:je,sort:i.sort,onSortChange:Le=>s({sort:Le})})})]}),Vt&&l.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-amber-500/40 bg-amber-500/10 px-4 py-3 text-sm text-amber-200",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sm,{className:"h-4 w-4"}),l.jsx("span",{children:Ht?"Offline mode (queued)":`Sinkronisasi tertunda (${U})`})]}),U>0&&!Ht&&l.jsx("button",{type:"button",onClick:$t,className:"rounded-full border border-amber-400/50 px-3 py-1 text-xs font-semibold text-amber-200 hover:bg-amber-400/10 focus-visible:outline-none focus-visible:ring focus-visible:ring-amber-400/60",children:"Flush Sekarang"})]}),l.jsx(I2e,{summary:f,loading:n&&b.length===0}),ye.length>0&&l.jsx(O2e,{chips:ye,onRemove:ge}),w.size>0&&l.jsx(p2e,{count:w.size,onClear:()=>{S(new Set),J.current=null},onDelete:At,onChangeCategory:()=>D("category"),deleting:V,updating:R,secondaryAction:l.jsxs("button",{type:"button",onClick:()=>D("account"),disabled:R,className:"inline-flex h-11 flex-1 items-center justify-center gap-2 rounded-2xl bg-slate-900/70 px-4 text-sm font-semibold text-slate-200 ring-1 ring-slate-800 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)] disabled:cursor-not-allowed disabled:opacity-60 sm:flex-initial",children:[R?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(Vw,{className:"h-4 w-4","aria-hidden":"true"}),"Ubah Akun"]})}),l.jsx(d2e,{items:Se,loading:n,error:a,onRetry:()=>c({keepPage:!0}),selectedIds:w,onToggleSelect:He,onToggleSelectAll:Ve,allSelected:st,onDelete:Pe,onEdit:Ot,formatAmount:Bw,formatDate:BR,toDateValue:lb,typeLabels:Z0,sort:i.sort,onSortChange:Le=>s({sort:Le}),tableStickyTop:nr,page:r,pageSize:h,total:t,onPageChange:o,deleteDisabled:V,emptyState:l.jsx(SR,{onResetFilters:je,onOpenAdd:Kt})}),l.jsx(h2e,{items:Se,loading:n,error:a,onRetry:()=>c({keepPage:!0}),selectedIds:w,onToggleSelect:He,onDelete:Pe,onEdit:Ot,formatAmount:Bw,formatDate:BR,toDateValue:lb,typeLabels:Z0,page:r,pageSize:h,total:t,onPageChange:o,deleteDisabled:V,emptyState:l.jsx(SR,{onResetFilters:je,onOpenAdd:Kt})}),P&&l.jsx(e2,{open:!!P,onClose:gt,title:"Konfirmasi Hapus",children:l.jsxs("div",{className:"space-y-4 text-white",children:[l.jsx("p",{className:"text-sm text-white/80",children:P.ids.length===1?"Hapus transaksi ini? Tindakan dapat diurungkan selama 6 detik.":`Hapus ${P.ids.length} transaksi? Tindakan dapat diurungkan selama 6 detik.`}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:gt,disabled:V,className:"inline-flex h-11 items-center justify-center rounded-2xl border border-border px-4 text-sm font-medium text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40 disabled:cursor-not-allowed disabled:opacity-60",children:"Batal"}),l.jsx("button",{type:"button",onClick:St,disabled:V,className:"inline-flex h-11 items-center justify-center rounded-2xl bg-danger px-4 text-sm font-semibold text-white shadow transition hover:bg-[color:var(--color-danger-hover)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-ring-danger)] disabled:cursor-not-allowed disabled:opacity-70",children:V?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):"Hapus"})]})]})}),se&&l.jsx(U2e,{open:!0,message:se.message,onUndo:Xe,loading:he}),O&&l.jsx(F2e,{open:!!O,mode:O,onClose:()=>{R||D(null)},onSubmit:Le=>{Ze(O==="category"?"category_id":"account_id",Le)},categories:A,submitting:R,addToast:p}),Q&&l.jsx(D2e,{open:!!Q,onClose:()=>H(null),initialData:Q,categories:A,onSuccess:()=>{c({keepPage:!0}),S(new Set),J.current=null,H(null)},addToast:p}),N&&l.jsx(L2e,{open:N,onClose:()=>k(!1),categories:A,onImported:()=>{c(),k(!1)},addToast:p})]})]})}function O2e({chips:e,onRemove:t}){return e?.length?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.map(r=>l.jsxs("button",{type:"button",onClick:()=>t(r),className:"group inline-flex items-center gap-2 rounded-full border border-border bg-surface px-3 py-1.5 text-xs font-medium text-muted transition hover:border-brand/40 hover:bg-brand/5 hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40","aria-label":`Hapus filter ${r.label}`,children:[l.jsx("span",{className:"truncate",children:r.label}),l.jsx(iu,{className:"h-3.5 w-3.5 transition group-hover:text-brand","aria-hidden":"true"})]},r.key))}):null}function I2e({summary:e,loading:t}){const r=[{key:"income",title:"Pemasukan",value:e?.income??0,accent:"text-success"},{key:"expense",title:"Pengeluaran",value:e?.expense??0,accent:"text-danger"},{key:"net",title:"Net",value:e?.net??0,accent:"text-info"}];return l.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:r.map(n=>l.jsxs("div",{className:"rounded-2xl border border-border bg-surface-1/90 p-5 shadow-sm",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:n.title}),t?l.jsx("div",{className:"mt-3 h-6 w-32 animate-pulse rounded-full bg-border/60"}):l.jsx("p",{className:tt("mt-2 text-2xl font-semibold",n.accent),children:Bw(n.value)})]},n.key))})}function U2e({open:e,message:t,onUndo:r,loading:n}){return e?l.jsx("div",{className:"pointer-events-none fixed bottom-6 left-1/2 z-[60] w-full max-w-sm -translate-x-1/2 px-4 sm:max-w-md",children:l.jsxs("div",{className:"pointer-events-auto flex items-center gap-3 rounded-2xl bg-slate-950/95 px-4 py-3 text-sm text-white shadow-xl ring-1 ring-white/10",children:[l.jsx("span",{className:"flex-1 text-left",children:t}),l.jsxs("button",{type:"button",onClick:r,disabled:n,className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1.5 text-xs font-semibold uppercase tracking-wide text-white transition hover:bg-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/50 disabled:cursor-not-allowed disabled:opacity-70",children:[n?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(Ww,{className:"h-4 w-4","aria-hidden":"true"}),"Urungkan"]})]})}):null}function SR({onResetFilters:e,onOpenAdd:t}){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 rounded-3xl bg-slate-950/70 px-8 py-16 text-center text-slate-200 ring-1 ring-slate-800",children:[l.jsx("span",{className:"rounded-full bg-[var(--accent)]/10 p-3 text-[var(--accent)]",children:l.jsx(Mee,{className:"h-7 w-7","aria-hidden":"true"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Belum ada transaksi"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Coba bersihkan filter atau mulai catat transaksi pertama Anda."})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[l.jsx("button",{type:"button",onClick:e,className:"inline-flex h-11 items-center justify-center rounded-2xl bg-slate-900 px-4 text-sm font-semibold text-slate-200 ring-1 ring-slate-800 transition hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",children:"Bersihkan Filter"}),l.jsxs("button",{type:"button",onClick:t,className:"inline-flex h-11 items-center gap-2 rounded-2xl bg-[var(--accent)] px-4 text-sm font-semibold text-white shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]/60",children:[l.jsx(Jc,{className:"h-4 w-4","aria-hidden":"true"}),"Tambah Transaksi"]})]})]})}function F2e({open:e,mode:t,onClose:r,onSubmit:n,categories:a,submitting:i=!1,addToast:s=()=>{}}){const[o,c]=B.useState(""),[A,f]=B.useState([]),[h,p]=B.useState(!1);if(B.useEffect(()=>{if(!e){c(""),f([]),p(!1);return}t==="category"?(f((a||[]).map(b=>({id:b.id,name:b.name||"(Tanpa kategori)"}))),p(!1)):t==="account"&&(p(!0),n1().then(b=>{f((b||[]).map(x=>({id:x.id,name:x.name||"(Tanpa nama)"})))}).catch(b=>{console.error(b),s(b?.message||"Gagal memuat akun","error")}).finally(()=>p(!1)))},[e,t,a,s]),B.useEffect(()=>{!e||!A.length||A.some(b=>b.id===o)||c(A[0]?.id||"")},[e,A,o]),!e)return null;const g=t==="category"?"Ubah kategori transaksi":"Ubah akun transaksi",v=b=>{if(b.preventDefault(),!o){s("Silakan pilih opsi","warning");return}n(o)};return l.jsx(e2,{open:e,onClose:r,title:g,children:h?l.jsx("div",{className:"flex items-center justify-center py-10",children:l.jsx(pr,{className:"h-6 w-6 animate-spin text-white","aria-hidden":"true"})}):l.jsxs("form",{className:"space-y-4",onSubmit:v,children:[l.jsxs("label",{className:"flex flex-col gap-2 text-sm text-white/80",children:[l.jsx("span",{children:t==="category"?"Pilih kategori":"Pilih akun"}),l.jsxs("select",{value:o,onChange:b=>c(b.target.value),className:"rounded-2xl border border-white/15 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60",children:[l.jsx("option",{value:"",children:t==="category"?"Pilih kategori":"Pilih akun"}),A.map(b=>l.jsx("option",{value:b.id,children:b.name},b.id))]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:r,className:"rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm font-medium text-white/80 focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60",children:"Batal"}),l.jsx("button",{type:"submit",disabled:i||!o,className:"rounded-full bg-brand px-4 py-2 text-sm font-semibold text-white shadow focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60 disabled:cursor-not-allowed disabled:opacity-60",children:i?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):"Terapkan"})]})]})})}function e2({open:e,onClose:t,title:r,children:n}){return B.useEffect(()=>{if(!e)return;const a=i=>{i.key==="Escape"&&t()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,t]),e?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:[l.jsx("div",{className:"absolute inset-0",onClick:t,"aria-hidden":!0}),l.jsxs("div",{className:"relative z-10 w-full max-w-2xl overflow-hidden rounded-3xl border border-white/10 bg-slate-950/95 shadow-xl backdrop-blur",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 px-6 py-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:r}),l.jsx("button",{type:"button",onClick:t,className:"rounded-full border border-white/10 bg-white/10 p-2 text-white/70 hover:bg-white/20 focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60","aria-label":"Tutup dialog",children:l.jsx(iu,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-5 text-sm text-white/80",children:n})]})]}):null}function NR(e){if(!e)return"";const t=e.notes;if(typeof t=="string"||t!=null)return t;const r=e.note;if(typeof r!="string")return r??"";const n=r.trim();if(!n)return"";const a=typeof e.title=="string"?e.title.trim():"";return a&&n===a?"":r}function D2e({open:e,onClose:t,initialData:r,categories:n,onSuccess:a,addToast:i}){const s=!!r,[o,c]=B.useState(!0),[A,f]=B.useState(!1),[h,p]=B.useState([]),[g,v]=B.useState(r?.type||"expense"),[b,x]=B.useState(()=>wR(r?.amount??"")),[w,S]=B.useState(()=>lb(r?.date)||new Date().toISOString().slice(0,10)),[N,k]=B.useState(r?.category_id||""),[C,T]=B.useState(r?.title||""),[O,D]=B.useState(()=>NR(r)),[R,q]=B.useState(r?.account_id||""),[U,I]=B.useState(r?.to_account_id||""),[Q,H]=B.useState(r?.receipt_url||""),Y=r?.merchant_id??null;B.useEffect(()=>{e&&(c(!0),n1().then(oe=>{p(oe||[]),c(!1)}).catch(oe=>{console.error(oe),i(oe?.message||"Gagal memuat master data","error"),c(!1)}))},[e,i]),B.useEffect(()=>{!e||!r||(v(r.type||"expense"),x(wR(r.amount??"")),S(lb(r.date)||new Date().toISOString().slice(0,10)),k(r.category_id||""),T(r.title||""),D(NR(r)),q(r.account_id||""),I(r.to_account_id||""),H(r.receipt_url||""))},[e,r]);const K=B.useMemo(()=>(n||[]).filter(oe=>oe.type===g),[n,g]),J=g==="transfer";B.useEffect(()=>{J||I("")},[J]);const re=async oe=>{oe.preventDefault();const V=NG(b),W=Number(V);if(!V||!Number.isFinite(W)||W<=0){i("Nominal harus lebih besar dari 0","error");return}if(!J&&!N){i("Kategori wajib dipilih","error");return}if(J){if(!R){i("Pilih akun sumber untuk transfer","error");return}if(!U){i("Pilih akun tujuan untuk transfer","error");return}if(U===R){i("Akun tujuan tidak boleh sama dengan sumber","error");return}}if(!s){i("Data transaksi tidak ditemukan","error");return}f(!0);try{const P={type:g,amount:W,date:w,category_id:J?null:N,title:C,notes:O,account_id:R||null,to_account_id:J&&U||null,merchant_id:Y,receipt_url:Q||null};await t1(r.id,P),i("Transaksi diperbarui","success"),a?.(),t?.()}catch(P){console.error(P),i(P?.message||"Gagal menyimpan transaksi","error")}finally{f(!1)}};return l.jsx(e2,{open:e,onClose:t,title:s?"Edit Transaksi":"Transaksi",children:o?l.jsx("div",{className:"flex items-center justify-center py-12 text-white/70",children:l.jsx(pr,{className:"h-6 w-6 animate-spin"})}):l.jsxs("form",{className:"space-y-4",onSubmit:re,children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"Jenis"}),l.jsxs("select",{value:g,onChange:oe=>{const V=oe.target.value;v(V);const W=(n||[]).filter(P=>P.type===V);W.some(P=>P.id===N)||k(W[0]?.id||"")},className:"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60",children:[l.jsx("option",{value:"expense",children:"Pengeluaran"}),l.jsx("option",{value:"income",children:"Pemasukan"}),l.jsx("option",{value:"transfer",children:"Transfer"})]})]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"Tanggal"}),l.jsx("input",{type:"date",value:w,onChange:oe=>S(oe.target.value),className:"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60"})]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"Nominal"}),l.jsx("input",{type:"text",inputMode:"decimal",value:b,onChange:oe=>x(k2e(oe.target.value)),className:"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60"})]}),!J&&l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"Kategori"}),l.jsxs("select",{value:N,onChange:oe=>k(oe.target.value),className:"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60",children:[l.jsx("option",{value:"",children:"Pilih kategori"}),K.map(oe=>l.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),J?l.jsxs(l.Fragment,{children:[l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"Dari"}),l.jsxs("select",{value:R,onChange:oe=>q(oe.target.value),className:"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60",children:[l.jsx("option",{value:"",children:"Pilih akun sumber"}),h.map(oe=>l.jsx("option",{value:oe.id,children:oe.name||"(Tanpa nama)"},oe.id))]})]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"Tujuan"}),l.jsxs("select",{value:U,onChange:oe=>I(oe.target.value),className:"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60",children:[l.jsx("option",{value:"",children:"Pilih akun tujuan"}),h.map(oe=>l.jsx("option",{value:oe.id,children:oe.name||"(Tanpa nama)"},oe.id))]})]})]}):l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"Akun"}),l.jsxs("select",{value:R,onChange:oe=>q(oe.target.value),className:"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60",children:[l.jsx("option",{value:"",children:"Pilih akun"}),h.map(oe=>l.jsx("option",{value:oe.id,children:oe.name||"(Tanpa nama)"},oe.id))]})]})]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"Judul"}),l.jsx("input",{value:C,onChange:oe=>T(oe.target.value),className:"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60"})]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"Catatan"}),l.jsx("textarea",{value:O,onChange:oe=>D(oe.target.value),rows:4,className:"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60"})]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"URL Struk"}),l.jsx("input",{type:"url",value:Q,onChange:oe=>H(oe.target.value),placeholder:"https://...",className:"rounded-xl border border-white/10 bg-white/10 px-3 py-2 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:t,className:"rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60",children:"Batal"}),l.jsx("button",{type:"submit",disabled:A,className:"rounded-full bg-brand px-4 py-2 text-sm font-semibold text-white shadow focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60 disabled:cursor-not-allowed disabled:opacity-60",children:A?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):s?"Simpan Perubahan":"Simpan"})]})]})})}function L2e({open:e,onClose:t,categories:r,onImported:n,addToast:a}){const[i,s]=B.useState(""),[o,c]=B.useState([]),[A,f]=B.useState([]),[h,p]=B.useState([]),[g,v]=B.useState(!1),[b,x]=B.useState(0),w=B.useMemo(()=>{const k=new Map;return(r||[]).forEach(C=>{C?.name&&k.set(C.name.trim().toLowerCase(),C.id)}),k},[r]),S=async k=>{const C=k.target.files?.[0];if(C){s(C.name);try{const T=await C.text(),{rows:O}=SG(T),D=[],R=[],q=[];O.forEach((U,I)=>{const Q=I+2,H=(U.type||U.Type||"").toLowerCase(),Y=H==="income"||H==="pemasukan"?"income":H==="expense"||H==="pengeluaran"?"expense":null;if(!Y){D.push(`Baris ${Q}: tipe tidak valid`);return}const K=U.date||U.tanggal||U.Date,J=K?new Date(K).toISOString().slice(0,10):null;if(!J||Number.isNaN(Date.parse(J))){D.push(`Baris ${Q}: tanggal tidak valid`);return}const re=U.amount||U.nominal||U.Amount,oe=Number(re);if(!Number.isFinite(oe)||oe<=0){D.push(`Baris ${Q}: nominal harus > 0`);return}const V=(U.category_name||U.category||U.kategori||"").trim().toLowerCase(),W=w.get(V);if(!W){D.push(`Baris ${Q}: kategori '${U.category||U.category_name}' tidak ditemukan`);return}const P=U.title||U.judul||"",$=U.notes||U.note||"";R.push({type:Y,date:J,amount:oe,category_id:W,title:P,notes:$}),q.length<10&&q.push({type:Y,date:J,amount:oe,category:U.category||U.category_name,title:P,notes:$})}),c(q),f(D),p(R)}catch(T){console.error(T),a("Gagal membaca berkas CSV","error")}}},N=async()=>{if(!h.length){a("Tidak ada baris valid untuk diimport","error");return}v(!0),x(0);try{const k=E2e(h,200);for(const C of k)await Promise.all(C.map(T=>TE(T))),x(T=>T+C.length);a(`Berhasil mengimport ${h.length} transaksi`,"success"),n()}catch(k){console.error(k),a(k?.message||"Gagal mengimport beberapa baris","error")}finally{v(!1)}};return l.jsx(e2,{open:e,onClose:t,title:"Import CSV",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:"Pilih berkas CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:S,className:"rounded-xl border border-dashed border-white/20 bg-white/5 px-3 py-3 text-sm text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60"}),i&&l.jsxs("span",{className:"text-xs text-white/50",children:["Dipilih: ",i]})]}),o.length>0&&l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[l.jsx("p",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-white/60",children:"Pratinjau (10 baris pertama)"}),l.jsx("div",{className:"max-h-48 overflow-y-auto",children:l.jsxs("table",{className:"min-w-full text-xs text-white/70",children:[l.jsx("thead",{className:"sticky top-0 bg-white/10 text-left text-[11px] uppercase text-white/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-2 py-2",children:"Tanggal"}),l.jsx("th",{className:"px-2 py-2",children:"Tipe"}),l.jsx("th",{className:"px-2 py-2",children:"Kategori"}),l.jsx("th",{className:"px-2 py-2",children:"Nominal"}),l.jsx("th",{className:"px-2 py-2",children:"Judul"}),l.jsx("th",{className:"px-2 py-2",children:"Catatan"})]})}),l.jsx("tbody",{children:o.map((k,C)=>l.jsxs("tr",{className:"border-b border-white/10",children:[l.jsx("td",{className:"px-2 py-1",children:k.date}),l.jsx("td",{className:"px-2 py-1",children:Z0[k.type]}),l.jsx("td",{className:"px-2 py-1",children:k.category}),l.jsx("td",{className:"px-2 py-1",children:Bw(k.amount)}),l.jsx("td",{className:"px-2 py-1",children:k.title}),l.jsx("td",{className:"px-2 py-1",children:k.notes})]},C))})]})})]}),A.length>0&&l.jsxs("div",{className:"rounded-2xl border border-amber-500/40 bg-amber-500/10 p-4 text-xs text-amber-200",children:[l.jsx("p",{className:"mb-2 font-semibold",children:"Beberapa baris dilewati:"}),l.jsxs("ul",{className:"space-y-1 text-amber-100/80",children:[A.slice(0,10).map((k,C)=>l.jsx("li",{children:k},C)),A.length>10&&l.jsxs("li",{children:["dan ",A.length-10," lainnya..."]})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-white/60",children:[l.jsxs("span",{children:[h.length," baris siap diimport"]}),g&&l.jsxs("span",{children:[b," / ",h.length]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-white focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60",children:"Batal"}),l.jsx("button",{type:"button",onClick:N,disabled:g||h.length===0,className:"rounded-full bg-brand px-4 py-2 text-sm font-semibold text-white shadow focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/60 disabled:cursor-not-allowed disabled:opacity-60",children:g?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):"Import"})]})]})})}function il({children:e,className:t,maxWidthClassName:r="max-w-5xl",paddingClassName:n="px-4"}){return l.jsx("main",{className:tt("mx-auto w-full min-w-0",r,n,t),style:{paddingTop:"var(--page-y)",paddingBottom:"var(--page-y)"},children:e})}function ao({children:e,className:t,first:r=!1}){return l.jsx("section",{className:tt(!r&&"mt-[var(--section-y)]",t),children:e})}function M2e(){return l.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-border/60 bg-surface/70 p-5 shadow-sm",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/70 via-white/40 to-white/10 opacity-80 dark:from-zinc-900/80 dark:via-zinc-900/50 dark:to-zinc-900/20"}),l.jsxs("div",{className:"relative flex h-full flex-col gap-4",children:[l.jsx("div",{className:"h-3 w-24 animate-pulse rounded-full bg-zinc-200/70 dark:bg-zinc-700/60"}),l.jsx("div",{className:"h-7 w-24 animate-pulse rounded-full bg-zinc-200/80 dark:bg-zinc-700/70"}),l.jsx("div",{className:"mt-auto h-2 w-full animate-pulse rounded-full bg-zinc-200/70 dark:bg-zinc-800/60"})]})]})}function P2e({summary:e,loading:t}){if(t)return l.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:Array.from({length:4}).map((a,i)=>l.jsx(M2e,{},i))});const r=Math.min(Math.max(e.percentage,0),1),n=[{label:"Total Anggaran",description:"Jumlah dialokasikan untuk periode ini",value:hn(e.planned,"IDR"),icon:rl,accent:"text-sky-600 dark:text-sky-300",iconBg:"bg-sky-500/10 text-sky-500 dark:text-sky-300",glow:"rgba(14, 165, 233, 0.35)"},{label:"Realisasi",description:"Pengeluaran yang sudah terjadi",value:hn(e.spent,"IDR"),icon:my,accent:"text-emerald-600 dark:text-emerald-300",iconBg:"bg-emerald-500/10 text-emerald-500 dark:text-emerald-300",glow:"rgba(16, 185, 129, 0.32)"},{label:"Sisa Anggaran",description:"Dana yang masih bisa digunakan",value:hn(e.remaining,"IDR"),icon:Qc,accent:"text-purple-600 dark:text-purple-300",iconBg:"bg-purple-500/10 text-purple-500 dark:text-purple-300",glow:"rgba(168, 85, 247, 0.28)"},{label:"Persentase Terpakai",description:"Proporsi penggunaan terhadap anggaran",value:`${(r*100).toFixed(0)}%`,icon:K0,accent:"text-orange-500 dark:text-orange-300",iconBg:"bg-orange-500/10 text-orange-500 dark:text-orange-300",glow:"rgba(249, 115, 22, 0.28)",accentColor:"rgb(249, 115, 22)",progress:r}];return l.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:n.map(({label:a,description:i,value:s,icon:o,accent:c,iconBg:A,glow:f,accentColor:h,progress:p})=>l.jsxs("div",{className:tt("relative overflow-hidden rounded-2xl border border-border/60 bg-surface/80 p-5 shadow-[0_20px_35px_-20px_rgba(15,23,42,0.45)] transition duration-300 ease-out hover:-translate-y-1 hover:shadow-[0_28px_55px_-28px_rgba(15,23,42,0.55)]","backdrop-blur supports-[backdrop-filter]:bg-surface/60"),children:[l.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-16 -top-12 h-48 w-48 rounded-full blur-3xl",style:{background:`radial-gradient(circle at center, ${f} 0%, rgba(255,255,255,0) 70%)`}}),l.jsxs("div",{className:"relative flex h-full flex-col gap-5",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[0.68rem] font-semibold uppercase tracking-[0.18em] text-muted",children:a}),l.jsx("p",{className:"text-xs text-muted/80 dark:text-muted/60",children:i})]}),l.jsx("span",{className:tt("flex h-10 w-10 items-center justify-center rounded-xl shadow-inner ring-1 ring-inset ring-border/40 dark:ring-white/10",A),children:l.jsx(o,{className:tt("h-5 w-5",c)})})]}),l.jsx("span",{className:"text-2xl font-semibold text-text dark:text-white",children:s}),typeof p=="number"?l.jsxs("div",{className:"mt-auto flex items-end justify-between gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-1 text-xs text-muted",children:[l.jsx("span",{className:"font-semibold text-text",children:"Tingkat penggunaan"}),l.jsxs("span",{children:[(p*100).toFixed(0),"% dari total anggaran"]})]}),l.jsxs("div",{className:"relative flex h-16 w-16 items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-80",style:{background:`radial-gradient(circle at center, ${f} 0%, rgba(255,255,255,0) 72%)`}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(${h??f} ${p*360}deg, rgba(148,163,184,0.25) 0deg)`}}),l.jsx("div",{className:"absolute inset-[6px] rounded-full border border-white/50 bg-gradient-to-br from-white/90 to-white/70 shadow-inner dark:border-white/10 dark:from-zinc-900/90 dark:to-zinc-900/60"}),l.jsxs("span",{className:"relative text-sm font-semibold text-text dark:text-white",children:[(p*100).toFixed(0),"%"]})]})]}):null]})]},a))})}const Q2e=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0});function mm(e){return Q2e.format(Number.isFinite(e)?e:0)}function R2e(e,t){return e<0?{label:"Melebihi batas",icon:mx,badgeClass:"bg-rose-500/10 text-rose-500 ring-1 ring-rose-500/30 dark:text-rose-200 dark:ring-rose-500/40",message:`Pengeluaran sudah melebihi anggaran sebesar ${mm(Math.abs(e))}.`}:t>=90?{label:"Hampir habis",icon:Sm,badgeClass:"bg-amber-500/10 text-amber-600 ring-1 ring-amber-500/30 dark:text-amber-200 dark:ring-amber-500/40",message:`Sisa dana tinggal ${mm(e)}  waktunya rem pengeluaran.`}:{label:"Sehat",icon:fy,badgeClass:"bg-emerald-500/10 text-emerald-600 ring-1 ring-emerald-500/30 dark:text-emerald-200 dark:ring-emerald-500/40",message:`Masih tersedia ${mm(e)} dari anggaran ini.`}}function H2e(e){return e<=74?"bg-[color:var(--accent)]":e<=89?"bg-amber-500":e<=100?"bg-orange-500":"bg-rose-500"}function Z5({label:e,value:t,description:r,valueClassName:n}){return l.jsxs("div",{className:"min-w-0 space-y-1",children:[l.jsx("p",{className:"text-xs md:text-sm leading-snug text-muted-foreground whitespace-nowrap",children:e}),l.jsx("p",{className:tt("text-lg md:text-xl font-bold tabular-nums truncate",n),children:t}),r?l.jsx("p",{className:"text-xs md:text-sm leading-snug text-muted-foreground/90 line-clamp-1",children:r}):null]})}function $2e({budget:e,isHighlighted:t,disableHighlight:r,onViewTransactions:n,onToggleHighlight:a,onToggleCarryover:i,onEdit:s,onDelete:o}){const c=Number(e.amount_planned??0),A=Number(e.spent??0),f=Number.isFinite(Number(e.remaining))?Number(e.remaining):c-A,h=c>0?A/c*100:A>0?200:0,p=Math.max(0,Math.min(100,Math.round(h))),g=R2e(f,p),v=g.icon,b=H2e(h),x=!!e.carryover_enabled,w=e.category?.name??"Tanpa kategori",S=w.trim().charAt(0).toUpperCase()||"B",N=e.category?.type==="income"?"Pemasukan":"Pengeluaran",k=e.category?.type==="income"?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-300":"bg-rose-500/10 text-rose-600 dark:text-rose-300",C=e.notes?.trim(),T=c>0?`${Math.min(100,Math.round(A/c*100))}% dari anggaran`:"Tidak ada batas",O=f<0?"Perlu tindakan":"Masih tersedia";return l.jsxs("article",{className:tt("relative grid min-h-[280px] md:min-h-[300px] grid-rows-[auto,auto,1fr,auto] gap-3 overflow-hidden rounded-2xl border border-border/60 bg-surface/80 p-4 shadow-[0_24px_45px_-28px_rgba(15,23,42,0.5)] transition duration-300 ease-out hover:-translate-y-1 hover:shadow-[0_30px_60px_-32px_rgba(15,23,42,0.55)] backdrop-blur supports-[backdrop-filter]:bg-surface/60 md:p-5 xl:p-6",t?"border-brand/60 bg-gradient-to-br from-brand/15 via-surface/80 to-surface/80 ring-2 ring-brand/40 shadow-[0_32px_64px_-36px_rgba(59,130,246,0.55)] dark:from-brand/25":null),children:[t?l.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-16 -top-16 h-48 w-48 rounded-full blur-3xl",style:{background:"radial-gradient(circle at center, rgba(59,130,246,0.45) 0%, rgba(59,130,246,0.2) 45%, rgba(255,255,255,0) 75%)"}}):null,l.jsxs("header",{className:"relative z-10 flex items-start gap-3",children:[l.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-brand/15 text-lg font-semibold uppercase text-brand shadow-inner",children:S}),l.jsx("div",{className:"min-w-0 flex-1 space-y-2",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h3",{className:"text-base md:text-lg font-semibold leading-tight tracking-tight text-text line-clamp-1 md:line-clamp-2 break-words",children:w}),l.jsx("span",{className:tt("inline-flex items-center shrink-0 rounded-full px-3 py-1 text-[0.68rem] font-semibold uppercase tracking-wide",k),children:N}),l.jsxs("span",{className:tt("inline-flex items-center gap-1.5 shrink-0 rounded-full px-3 py-1 text-[0.68rem] font-semibold uppercase tracking-wide shadow-sm backdrop-blur",g.badgeClass),children:[l.jsx(v,{className:"h-3.5 w-3.5","aria-hidden":"true"}),g.label]}),t?l.jsxs("span",{className:"inline-flex items-center gap-1 shrink-0 rounded-full bg-brand/10 px-3 py-1 text-[0.68rem] font-semibold uppercase tracking-wide text-brand shadow-sm ring-1 ring-[color:var(--brand-ring)]",children:[l.jsx(lf,{className:"h-3.5 w-3.5","aria-hidden":"true"})," Highlight"]}):null]})})]}),l.jsxs("div",{className:"relative z-10 flex flex-wrap items-start justify-between gap-3 text-xs md:text-sm leading-snug text-muted-foreground",children:[l.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[l.jsx("p",{className:"line-clamp-2 break-words",children:g.message}),l.jsxs("p",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] text-muted-foreground/80 whitespace-nowrap",children:["Periode ",e.period_month?.slice(0,7)??"-"]}),C?l.jsxs("p",{className:"flex items-start gap-2 text-xs md:text-sm leading-snug text-muted-foreground/90 line-clamp-2 break-words",children:[l.jsx(Yw,{className:"mt-[2px] h-4 w-4 shrink-0 text-muted-foreground/70","aria-hidden":"true"}),l.jsx("span",{children:C})]}):null]}),l.jsxs("div",{className:"flex h-10 shrink-0 items-center gap-3 rounded-full border border-white/10 bg-surface/70 px-3 text-xs font-semibold uppercase tracking-wide text-muted-foreground shadow-inner",children:[l.jsx(mE,{className:"h-4 w-4 shrink-0","aria-hidden":"true"}),l.jsx("span",{className:"hidden sm:inline whitespace-nowrap",children:"Carryover"}),l.jsx("span",{className:"sm:hidden",children:"CO"}),l.jsxs("label",{className:"relative inline-flex h-6 w-11 cursor-pointer items-center","aria-label":`Atur carryover untuk ${w}`,children:[l.jsx("input",{type:"checkbox",checked:x,onChange:D=>i(D.target.checked),className:"peer sr-only"}),l.jsx("span",{className:"absolute inset-0 rounded-full bg-muted/30 transition peer-checked:bg-emerald-500/60"}),l.jsx("span",{className:"relative ml-[3px] h-4 w-4 rounded-full bg-white shadow-sm transition-transform peer-checked:translate-x-5 dark:bg-zinc-900"})]})]})]}),l.jsxs("div",{className:"relative z-10 flex flex-col gap-3 lg:flex-row lg:flex-wrap lg:items-end lg:justify-between",children:[l.jsxs("div",{className:"grid flex-1 gap-3 [grid-template-columns:repeat(auto-fit,minmax(160px,1fr))]",children:[l.jsx(Z5,{label:"Dialokasikan",value:mm(c),description:"Anggaran"}),l.jsx(Z5,{label:"Terpakai",value:mm(A),description:T}),l.jsx(Z5,{label:"Sisa",value:mm(f),description:O,valueClassName:f<0?"text-rose-500 dark:text-rose-300":"text-emerald-600 dark:text-emerald-300"})]}),l.jsxs("div",{className:"flex w-full flex-col gap-2 rounded-xl border border-white/10 bg-surface/50 p-3 shadow-inner lg:min-w-[200px] lg:max-w-[260px]",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs md:text-sm leading-snug text-muted-foreground",children:[l.jsx("span",{children:"Progres penggunaan"}),l.jsxs("span",{className:"tabular-nums whitespace-nowrap",children:[p,"%"]})]}),l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-muted/20",children:l.jsx("div",{role:"progressbar","aria-label":`Anggaran terpakai ${p}%`,"aria-valuenow":p,"aria-valuemin":0,"aria-valuemax":100,className:tt("h-full rounded-full transition-[width]",b),style:{width:`${p}%`}})})]})]}),l.jsxs("footer",{className:"relative z-10 flex items-center justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:n,className:"inline-flex h-10 w-10 shrink-0 items-center justify-center rounded-xl border border-white/10 bg-surface/80 text-muted-foreground transition hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":`Lihat transaksi untuk ${w}`,children:l.jsx(F$,{className:"h-4 w-4","aria-hidden":"true"})}),l.jsx("button",{type:"button",onClick:a,disabled:r,"aria-pressed":t,"aria-label":`${t?"Hapus":"Tambah"} highlight untuk ${w}`,className:tt("inline-flex h-10 w-10 shrink-0 items-center justify-center rounded-xl border transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",t?"border-brand/40 bg-brand/15 text-brand shadow-sm":"border-white/10 bg-surface/80 text-muted-foreground hover:text-text shadow-sm",r?"cursor-not-allowed opacity-60 hover:text-muted-foreground":null),children:l.jsx(M$,{className:"h-4 w-4","aria-hidden":"true",fill:t?"currentColor":"none"})}),l.jsx("button",{type:"button",onClick:s,className:"inline-flex h-10 w-10 shrink-0 items-center justify-center rounded-xl border border-white/10 bg-surface/80 text-muted-foreground transition hover:text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":`Edit ${w}`,children:l.jsx(tl,{className:"h-4 w-4","aria-hidden":"true"})}),l.jsx("button",{type:"button",onClick:o,className:"inline-flex h-10 w-10 shrink-0 items-center justify-center rounded-xl border border-rose-500/40 bg-rose-500/10 text-rose-500 transition hover:text-rose-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400/50 dark:border-rose-500/30 dark:text-rose-200","aria-label":`Hapus ${w}`,children:l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})})]})]})}const CG="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:gap-6 lg:[grid-template-columns:repeat(auto-fit,minmax(300px,1fr))] xl:[grid-template-columns:repeat(auto-fit,minmax(320px,1fr))]";function q2e(){return l.jsx("div",{className:CG,children:Array.from({length:6}).map((e,t)=>l.jsxs("div",{className:"grid min-h-[280px] md:min-h-[300px] grid-rows-[auto,auto,1fr,auto] gap-3 rounded-2xl border border-dashed border-white/10 bg-surface/40 p-4 shadow-sm backdrop-blur md:p-5 xl:p-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-2xl bg-muted/20"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 w-3/4 rounded-full bg-muted/20"}),l.jsx("div",{className:"h-3 w-1/2 rounded-full bg-muted/10"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-3 w-2/3 rounded-full bg-muted/15"}),l.jsx("div",{className:"h-3 w-1/3 rounded-full bg-muted/10"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[l.jsx("div",{className:"h-12 rounded-xl bg-muted/15"}),l.jsx("div",{className:"h-12 rounded-xl bg-muted/15"}),l.jsx("div",{className:"h-12 rounded-xl bg-muted/15"})]}),l.jsx("div",{className:"h-2 rounded-full bg-muted/15"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-muted/15"}),l.jsx("div",{className:"h-10 w-10 rounded-xl bg-muted/15"}),l.jsx("div",{className:"h-10 w-10 rounded-xl bg-muted/15"}),l.jsx("div",{className:"h-10 w-10 rounded-xl bg-muted/15"})]})]},t))})}function K2e(){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 rounded-2xl border border-dashed border-white/10 bg-surface/60 p-8 text-center text-sm text-muted-foreground shadow-inner backdrop-blur",children:[l.jsx("span",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-brand/10 text-brand",children:l.jsx(lf,{className:"h-5 w-5","aria-hidden":"true"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-semibold text-text",children:"Belum ada anggaran"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Tambahkan kategori anggaran untuk mulai mengontrol pengeluaranmu."})]})]})}function z2e({rows:e,loading:t,highlightedIds:r,highlightLimitReached:n,onEdit:a,onDelete:i,onToggleCarryover:s,onViewTransactions:o,onToggleHighlight:c}){if(t)return l.jsx(q2e,{});if(e.length===0)return l.jsx(K2e,{});const A=r??new Set,f=!!n;return l.jsx("div",{className:CG,children:e.map(h=>{const p=A.has(String(h.id)),g=!p&&f;return l.jsx($2e,{budget:h,isHighlighted:p,disableHighlight:g,onViewTransactions:()=>o(h),onToggleHighlight:()=>c(h),onToggleCarryover:v=>s(h,v),onEdit:()=>a(h),onDelete:()=>i(h)},h.id)})})}const G2e="fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-10 backdrop-blur-sm",jG=new Intl.NumberFormat("id-ID");function V2e(e){return!Number.isFinite(e)||e<=0?"":jG.format(e)}function W2e(e){const t=e.replace(/\D/g,"");if(!t)return{display:"",value:0};const r=Number.parseInt(t,10);return{display:jG.format(r),value:r}}function Y2e(e){const t={};return e.period||(t.period="Periode wajib diisi"),e.category_id||(t.category_id="Kategori wajib dipilih"),(!Number.isFinite(e.amount_planned)||e.amount_planned<=0)&&(t.amount_planned="Nilai anggaran harus lebih dari 0"),t}function X2e({open:e,title:t,categories:r,initialValues:n,submitting:a,onClose:i,onSubmit:s}){const[o,c]=B.useState(n),[A,f]=B.useState({}),[h,p]=B.useState("");B.useEffect(()=>{e&&(c(n),f({}),p(V2e(n.amount_planned)))},[e,n]),B.useEffect(()=>{if(!e)return;const S=N=>{N.key==="Escape"&&i()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[e,i]);const g=B.useMemo(()=>{const S=new Map;for(const N of r){const k=N.group_name??"Ungrouped",C=S.get(k)??[];C.push(N),S.set(k,C)}return Array.from(S.entries())},[r]),v=B.useMemo(()=>r.length===0?"Belum ada kategori pengeluaran":null,[r.length]),b=(S,N)=>{c(k=>({...k,[S]:N}))},x=S=>{const N=W2e(S);p(N.display),c(k=>({...k,amount_planned:N.value}))},w=async S=>{S.preventDefault();const N={...o,notes:o.notes.trim()},k=Y2e(N);f(k),!(Object.keys(k).length>0)&&await s({...N,amount_planned:Number(N.amount_planned)})};return e?l.jsx("div",{className:G2e,onClick:i,children:l.jsxs("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-xl rounded-3xl border border-white/20 bg-gradient-to-b from-white/90 to-white/60 p-6 shadow-[0_40px_120px_-60px_rgba(15,23,42,0.65)] backdrop-blur dark:border-white/10 dark:from-zinc-950/80 dark:to-zinc-900/70",onClick:S=>S.stopPropagation(),children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-zinc-900 dark:text-zinc-50",children:t}),l.jsx("p",{className:"mt-1 text-sm text-zinc-500 dark:text-zinc-400",children:"Tetapkan target anggaran untuk kategori pengeluaranmu."})]}),l.jsx("button",{type:"button",onClick:i,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/40 bg-white/70 text-zinc-500 shadow-sm transition hover:-translate-y-0.5 hover:bg-white dark:border-white/10 dark:bg-zinc-900/70 dark:text-zinc-300","aria-label":"Tutup",children:""})]}),l.jsxs("form",{className:"mt-6 flex flex-col gap-5",onSubmit:w,children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-zinc-600 dark:text-zinc-300",children:["Periode",l.jsx("input",{type:"month",value:o.period,onChange:S=>b("period",S.target.value),className:"h-11 w-full rounded-2xl border border-border bg-surface px-4 text-sm text-text shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",required:!0}),A.period?l.jsx("span",{className:"text-xs font-medium text-rose-500",children:A.period}):null]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-zinc-600 dark:text-zinc-300",children:["Kategori",l.jsxs("select",{value:o.category_id,onChange:S=>b("category_id",S.target.value),className:"h-11 w-full rounded-2xl border border-border bg-surface px-4 text-sm text-text shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",required:!0,disabled:r.length===0,children:[l.jsx("option",{value:"",disabled:!0,children:"Pilih kategori"}),g.map(([S,N])=>l.jsx("optgroup",{label:S,children:N.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))},S))]}),A.category_id?l.jsx("span",{className:"text-xs font-medium text-rose-500",children:A.category_id}):v?l.jsx("span",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400",children:v}):null]})]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-zinc-600 dark:text-zinc-300",children:["Nominal Anggaran (IDR)",l.jsx("input",{type:"text",inputMode:"numeric",value:h,onChange:S=>x(S.target.value),placeholder:"Masukkan nominal",className:"h-11 w-full rounded-2xl border border-border bg-surface px-4 text-sm text-text shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",required:!0}),A.amount_planned?l.jsx("span",{className:"text-xs font-medium text-rose-500",children:A.amount_planned}):null]}),l.jsxs("label",{className:"flex items-center justify-between gap-4 rounded-2xl border border-border bg-surface px-4 py-3 text-sm font-medium text-text shadow-sm transition",children:[l.jsx("span",{children:"Aktifkan carryover ke bulan berikutnya"}),l.jsx("button",{type:"button",onClick:()=>b("carryover_enabled",!o.carryover_enabled),className:`relative inline-flex h-6 w-12 cursor-pointer items-center rounded-full ${o.carryover_enabled?"bg-brand/80":"bg-border/80"}`,children:l.jsx("span",{className:`ml-1 h-4 w-4 rounded-full bg-white shadow-sm transition-transform ${o.carryover_enabled?"translate-x-6":"translate-x-0"}`})})]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-zinc-600 dark:text-zinc-300",children:["Catatan (opsional)",l.jsx("textarea",{rows:3,value:o.notes,onChange:S=>b("notes",S.target.value),className:"min-h-[96px] rounded-2xl border border-border bg-surface px-4 py-3 text-sm text-text shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",placeholder:"Catatan tambahan untuk anggaran ini"})]}),l.jsxs("div",{className:"mt-2 flex flex-col-reverse gap-3 sm:flex-row sm:justify-end",children:[l.jsx("button",{type:"button",onClick:i,className:"h-11 rounded-2xl border border-border px-6 text-sm font-semibold text-text transition hover:border-brand/40 hover:bg-brand/5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",children:"Batal"}),l.jsx("button",{type:"submit",disabled:a,className:"inline-flex h-11 items-center justify-center rounded-2xl bg-brand px-6 text-sm font-semibold text-brand-foreground shadow transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60",children:a?"Menyimpan...":"Simpan anggaran"})]})]})]})}):null}const kG="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:gap-6 lg:[grid-template-columns:repeat(auto-fit,minmax(300px,1fr))] xl:[grid-template-columns:repeat(auto-fit,minmax(320px,1fr))]",CR=new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"short"});function J2e(e,t){try{const r=new Date(`${e}T00:00:00.000Z`),n=new Date(`${t}T00:00:00.000Z`);return`${CR.format(r)}  ${CR.format(n)}`}catch{return`${e}  ${t}`}}function Z2e(e){return e<=74?"var(--accent)":e<=89?"#f59e0b":e<=100?"#fb923c":"#f43f5e"}function e_e(){return l.jsx("div",{className:kG,children:Array.from({length:6}).map((e,t)=>l.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-dashed border-border/60 bg-surface/80 p-5 shadow-sm animate-pulse",children:[l.jsx("div",{className:"h-4 w-1/2 rounded-full bg-muted/40"}),l.jsx("div",{className:"h-6 w-3/4 rounded-full bg-muted/40"}),l.jsx("div",{className:"h-2 rounded-full bg-muted/30"}),l.jsx("div",{className:"h-24 rounded-2xl border border-dashed border-border/60"})]},t))})}function t_e(){return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 rounded-2xl border border-dashed border-border/60 bg-surface/70 p-8 text-center text-sm text-muted shadow-inner",children:[l.jsx("span",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-brand/10 text-brand",children:""}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-semibold text-text",children:"Belum ada anggaran mingguan"}),l.jsx("p",{className:"text-sm text-muted",children:"Tambah anggaran per minggu untuk mulai memantau pengeluaran."})]})]})}function r_e({rows:e,loading:t,highlightedIds:r,highlightedCategoryIds:n,highlightLimitReached:a,onEdit:i,onDelete:s,onViewTransactions:o,onToggleCarryover:c,onToggleHighlight:A}){if(t)return l.jsx(e_e,{});if(e.length===0)return l.jsx(t_e,{});const f=r??new Set,h=n??new Set,p=!!a;return l.jsx("div",{className:kG,children:e.map(g=>{const v=Number(g.amount_planned??0),b=Number(g.spent??0),x=v-b,w=v>0?b/v*100:b>0?200:0,S=Math.max(0,Math.min(100,Math.round(w))),N=Z2e(w),k=!!g.carryover_enabled,C=g.category_id?String(g.category_id):null,T=f.has(String(g.id))||(C?h.has(C):!1),O=!T&&p,D=g.category?.type==="income"?"Pemasukan":"Pengeluaran",R=g.category?.type==="income"?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-300":"bg-rose-500/10 text-rose-600 dark:text-rose-300",q=g.category?.name??"Tanpa kategori",U=g.notes?.trim(),I=tt("relative flex h-full min-h-[280px] flex-col gap-5 overflow-hidden rounded-2xl border border-border/60 bg-surface/80 p-4 shadow-[0_24px_45px_-28px_rgba(15,23,42,0.5)] transition duration-300 ease-out hover:-translate-y-1 hover:shadow-[0_30px_60px_-32px_rgba(15,23,42,0.55)] backdrop-blur supports-[backdrop-filter]:bg-surface/60 md:min-h-[300px] md:p-5 xl:p-6",T?"border-brand/60 bg-gradient-to-br from-brand/15 via-surface/80 to-surface/80 ring-2 ring-brand/40 shadow-[0_32px_64px_-36px_rgba(59,130,246,0.55)] dark:from-brand/25":null);return l.jsxs("article",{className:I,"data-highlighted":T||void 0,children:[T?l.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-16 -top-16 h-48 w-48 rounded-full blur-3xl",style:{background:"radial-gradient(circle at center, rgba(59,130,246,0.45) 0%, rgba(59,130,246,0.2) 45%, rgba(255,255,255,0) 75%)"}}):null,l.jsx("header",{className:"relative z-10 flex flex-col gap-4",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h3",{className:"text-base font-semibold text-text dark:text-white",children:q}),l.jsx("span",{className:tt("inline-flex items-center rounded-full px-3 py-1 text-[0.68rem] font-semibold uppercase tracking-wide",R),children:D}),l.jsx("span",{className:"inline-flex items-center rounded-full bg-muted/30 px-3 py-1 text-xs font-medium text-muted dark:bg-muted/20",children:J2e(g.week_start,g.week_end)}),T?l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-brand/10 px-3 py-1 text-[0.68rem] font-semibold uppercase tracking-wide text-brand shadow-sm ring-1 ring-brand/40",children:[l.jsx(lf,{className:"h-3.5 w-3.5"})," Highlight"]}):null]}),l.jsx("p",{className:"text-xs text-muted",children:"Target minggu ini"})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-border/60 bg-surface/70 px-3 py-1.5 text-[0.7rem] font-medium text-muted shadow-inner",children:[l.jsx(mE,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"hidden sm:inline",children:"Carryover"}),l.jsx("span",{className:"sm:hidden",children:"CO"}),l.jsx("span",{className:"text-[0.7rem] uppercase tracking-widest text-muted/80",children:k?"Aktif":"Nonaktif"}),l.jsxs("label",{className:"relative inline-flex h-5 w-10 cursor-pointer items-center",children:[l.jsx("input",{type:"checkbox",checked:k,onChange:Q=>c(g,Q.target.checked),className:"peer sr-only","aria-label":`Atur carryover untuk ${q}`}),l.jsx("span",{className:"absolute inset-0 rounded-full bg-muted/30 transition peer-checked:bg-emerald-500/70 dark:bg-muted/40 dark:peer-checked:bg-emerald-500/60"}),l.jsx("span",{className:"relative ml-[3px] h-3.5 w-3.5 rounded-full bg-white shadow transition-transform peer-checked:translate-x-5 dark:bg-zinc-900"})]})]}),l.jsx("button",{type:"button",onClick:()=>o(g),className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-border/60 bg-surface/80 text-muted shadow-sm transition hover:-translate-y-0.5 hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40","aria-label":`Lihat transaksi untuk ${q}`,children:l.jsx(F$,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",onClick:()=>A(g),disabled:O,"aria-pressed":T,"aria-label":`${T?"Hapus":"Tambah"} highlight untuk ${q}`,className:tt("inline-flex h-9 w-9 items-center justify-center rounded-xl border text-muted shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",T?"border-brand/40 bg-brand/10 text-brand":"border-border/60 bg-surface/80 hover:-translate-y-0.5 hover:text-text",O?"cursor-not-allowed opacity-60 hover:translate-y-0":null),children:l.jsx(M$,{className:"h-4 w-4",fill:T?"currentColor":"none"})}),l.jsx("button",{type:"button",onClick:()=>i(g),className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-border/60 bg-surface/80 text-muted shadow-sm transition hover:-translate-y-0.5 hover:text-text","aria-label":`Edit ${q}`,children:l.jsx(tl,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",onClick:()=>s(g),className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-rose-200/70 bg-rose-50/70 text-rose-500 shadow-sm transition hover:-translate-y-0.5 hover:bg-rose-100 dark:border-rose-500/30 dark:bg-rose-500/15 dark:text-rose-200","aria-label":`Hapus ${q}`,children:l.jsx(In,{className:"h-4 w-4"})})]})]})}),l.jsxs("section",{className:"relative z-10 space-y-4",children:[l.jsxs("div",{className:"rounded-xl border border-border/50 bg-surface/70 p-4 shadow-inner",children:[l.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-[0.68rem] uppercase tracking-[0.18em] text-muted",children:"Anggaran"}),l.jsx("p",{className:"text-base font-semibold text-text",children:hn(v,"IDR")}),l.jsx("p",{className:"text-xs text-muted",children:"Dialokasikan minggu ini"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-[0.68rem] uppercase tracking-[0.18em] text-muted",children:"Realisasi"}),l.jsx("p",{className:"text-base font-semibold text-text/90 dark:text-zinc-200",children:hn(b,"IDR")}),l.jsx("p",{className:"text-xs text-muted",children:v>0?`${S}% dari target`:"Tidak ada batas"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-[0.68rem] uppercase tracking-[0.18em] text-muted",children:"Sisa"}),l.jsx("p",{className:tt("text-base font-semibold",x<0?"text-rose-500 dark:text-rose-300":"text-emerald-600 dark:text-emerald-300"),children:hn(x,"IDR")}),l.jsx("p",{className:"text-xs text-muted",children:x<0?"Melebihi target":"Masih tersedia"})]})]}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs font-semibold text-muted",children:[l.jsx("span",{children:"Progres minggu ini"}),l.jsxs("span",{children:[S,"%"]})]}),l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-muted/20 dark:bg-muted/30",children:l.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${S}%`,backgroundColor:N}})})]})]}),U?l.jsx("div",{className:"rounded-xl border border-dashed border-border/60 bg-surface/70 p-4 text-sm shadow-inner",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-muted/20 text-muted",children:l.jsx(Yw,{className:"h-4 w-4"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[0.68rem] font-semibold uppercase tracking-[0.18em] text-muted",children:"Catatan"}),l.jsx("p",{className:"leading-relaxed text-text dark:text-zinc-100",children:g.notes})]})]})}):null]})]},g.id)})})}const n_e="fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-10 backdrop-blur-sm",EG=new Intl.NumberFormat("id-ID"),l0=new Intl.DateTimeFormat("id-ID",{month:"long",day:"numeric"});function a_e(e){return!Number.isFinite(e)||e<=0?"":EG.format(e)}function i_e(e){const t=e.replace(/\D/g,"");if(!t)return{display:"",value:0};const r=Number.parseInt(t,10);return{display:EG.format(r),value:r}}function jR(e){const t=e.getFullYear(),r=`${e.getMonth()+1}`.padStart(2,"0"),n=`${e.getDate()}`.padStart(2,"0");return`${t}-${r}-${n}`}function kR(e){if(!e)return{start:"",end:""};const t=new Date(`${e}T00:00:00`);if(Number.isNaN(t.getTime()))return{start:e,end:e};const r=t.getDay(),n=r===0?6:r-1;t.setDate(t.getDate()-n);const a=new Date(t);return a.setDate(a.getDate()+6),{start:jR(t),end:jR(a)}}function s_e(e){const t={};return e.week_start||(t.week_start="Tanggal minggu wajib diisi"),e.category_id||(t.category_id="Kategori wajib dipilih"),(!Number.isFinite(e.amount_planned)||e.amount_planned<=0)&&(t.amount_planned="Nilai anggaran harus lebih dari 0"),t}function o_e({open:e,title:t,categories:r,initialValues:n,submitting:a,onClose:i,onSubmit:s}){const[o,c]=B.useState(n),[A,f]=B.useState({}),[h,p]=B.useState(""),[g,v]=B.useState("");B.useEffect(()=>{if(e)if(c(n),f({}),p(a_e(n.amount_planned)),n.week_start){const{start:k,end:C}=kR(n.week_start);v(`${l0.format(new Date(`${k}T00:00:00`))}  ${l0.format(new Date(`${C}T00:00:00`))}`)}else v("")},[e,n]),B.useEffect(()=>{if(!e)return;const k=C=>{C.key==="Escape"&&i()};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[e,i]);const b=B.useMemo(()=>{const k=new Map;for(const C of r){const T=C.group_name??"Ungrouped",O=k.get(T)??[];O.push(C),k.set(T,O)}return Array.from(k.entries())},[r]),x=(k,C)=>{c(T=>({...T,[k]:C}))},w=k=>{const{start:C,end:T}=kR(k);c(O=>({...O,week_start:C})),v(C&&T?`${l0.format(new Date(`${C}T00:00:00`))}  ${l0.format(new Date(`${T}T00:00:00`))}`:"")},S=k=>{const C=i_e(k);p(C.display),c(T=>({...T,amount_planned:C.value}))},N=async k=>{k.preventDefault();const C=typeof o.notes=="string"?o.notes.trim():"",T={...o,notes:C},O=s_e(T);f(O),!(Object.keys(O).length>0)&&await s({...T,amount_planned:Number(T.amount_planned)})};return e?l.jsx("div",{className:n_e,onClick:i,children:l.jsxs("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-xl rounded-3xl border border-white/20 bg-gradient-to-b from-white/90 to-white/60 p-6 shadow-[0_40px_120px_-60px_rgba(15,23,42,0.65)] backdrop-blur dark:border-white/10 dark:from-zinc-950/80 dark:to-zinc-900/70",onClick:k=>k.stopPropagation(),children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-zinc-900 dark:text-zinc-50",children:t}),l.jsx("p",{className:"mt-1 text-sm text-zinc-500 dark:text-zinc-400",children:"Atur target mingguan agar pengeluaran tetap terkontrol."})]}),l.jsx("button",{type:"button",onClick:i,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/40 bg-white/70 text-zinc-500 shadow-sm transition hover:-translate-y-0.5 hover:bg-white dark:border-white/10 dark:bg-zinc-900/70 dark:text-zinc-300","aria-label":"Tutup",children:""})]}),l.jsxs("form",{className:"mt-6 flex flex-col gap-5",onSubmit:N,children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-zinc-600 dark:text-zinc-300",children:["Minggu mulai",l.jsx("input",{type:"date",value:o.week_start,onChange:k=>w(k.target.value),className:"h-11 w-full rounded-2xl border border-border bg-surface px-4 text-sm text-text shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",required:!0}),g?l.jsxs("span",{className:"text-xs text-muted",children:["Periode SeninMinggu: ",g]}):null,A.week_start?l.jsx("span",{className:"text-xs font-medium text-rose-500",children:A.week_start}):null]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-zinc-600 dark:text-zinc-300",children:["Kategori",l.jsxs("select",{value:o.category_id,onChange:k=>x("category_id",k.target.value),className:"h-11 w-full rounded-2xl border border-border bg-surface px-4 text-sm text-text shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",required:!0,disabled:r.length===0,children:[l.jsx("option",{value:"",disabled:!0,children:"Pilih kategori"}),b.map(([k,C])=>l.jsx("optgroup",{label:k,children:C.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))},k))]}),A.category_id?l.jsx("span",{className:"text-xs font-medium text-rose-500",children:A.category_id}):null]})]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-zinc-600 dark:text-zinc-300",children:["Nominal",l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",inputMode:"numeric",value:h,onChange:k=>S(k.target.value),className:"h-11 w-full rounded-2xl border border-border bg-surface px-4 text-sm text-text shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",placeholder:"0"}),l.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-4 flex items-center text-xs font-semibold uppercase tracking-[0.18em] text-muted",children:"IDR"})]}),A.amount_planned?l.jsx("span",{className:"text-xs font-medium text-rose-500",children:A.amount_planned}):null]}),l.jsxs("label",{className:"flex items-center justify-between gap-4 rounded-2xl border border-border bg-surface px-4 py-3 text-sm font-medium text-text shadow-sm transition",children:[l.jsx("span",{children:"Aktifkan carryover ke minggu berikutnya"}),l.jsx("button",{type:"button",onClick:()=>x("carryover_enabled",!o.carryover_enabled),className:`relative inline-flex h-6 w-12 cursor-pointer items-center rounded-full ${o.carryover_enabled?"bg-brand/80":"bg-border/80"}`,children:l.jsx("span",{className:`ml-1 h-4 w-4 rounded-full bg-white shadow-sm transition-transform ${o.carryover_enabled?"translate-x-6":"translate-x-0"}`})})]}),l.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-zinc-600 dark:text-zinc-300",children:["Catatan",l.jsx("textarea",{value:o.notes,onChange:k=>x("notes",k.target.value),className:"h-28 w-full rounded-2xl border border-border bg-surface px-4 py-3 text-sm text-text shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",placeholder:"Opsional"})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:i,className:"inline-flex h-10 items-center justify-center rounded-2xl border border-border bg-surface px-4 text-sm font-semibold text-text shadow-sm transition hover:bg-border/60",children:"Batal"}),l.jsx("button",{type:"submit",disabled:a,className:"inline-flex h-10 items-center justify-center rounded-2xl bg-brand px-5 text-sm font-semibold text-brand-foreground shadow transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60",children:a?"Menyimpan...":"Simpan"})]})]})]})}):null}function l_e(e){return e<=0||e<=.74?"var(--accent)":e<=.89?"#f59e0b":e<=1?"#fb923c":"#f43f5e"}function c_e(){return l.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((e,t)=>l.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-2xl border border-border/60 bg-surface/60 p-4 shadow-inner",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 w-40 rounded-full bg-muted/30"}),l.jsx("div",{className:"h-2 rounded-full bg-muted/20"})]}),l.jsx("div",{className:"h-6 w-24 rounded-full bg-muted/30"})]},t))})}function u_e({summary:e,loading:t}){return t?l.jsx(c_e,{}):e.length?l.jsx("div",{className:"space-y-3",children:e.map(r=>{const n=Math.max(0,Math.min(1.5,r.percentage)),a=l_e(n),i=r.category_type==="income"?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-300":"bg-rose-500/10 text-rose-600 dark:text-rose-300";return l.jsxs("article",{className:"flex flex-col gap-3 rounded-2xl border border-border/60 bg-surface/70 p-4 shadow-inner md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h4",{className:"text-sm font-semibold text-text dark:text-white",children:r.category_name}),l.jsx("span",{className:tt("inline-flex items-center rounded-full px-3 py-1 text-[0.68rem] font-semibold uppercase tracking-wide",i),children:"Mingguan"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted",children:[l.jsxs("span",{children:["Rencana ",hn(r.planned,"IDR")]}),l.jsxs("span",{children:["Realisasi ",hn(r.spent,"IDR")]}),l.jsxs("span",{children:["Sisa ",hn(r.remaining,"IDR")]})]}),l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-muted/20 dark:bg-muted/30",children:l.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Math.min(100,n*100)}%`,backgroundColor:a}})})]}),l.jsx("div",{className:"flex items-center gap-2 text-sm font-semibold text-text dark:text-white",children:l.jsxs("span",{children:[Math.round(n*100),"%"]})})]},r.category_id)})}):l.jsx("div",{className:"rounded-2xl border border-dashed border-border/60 bg-surface/70 p-6 text-sm text-muted shadow-inner",children:"Belum ada data mingguan untuk dirangkum."})}const A_e=[{value:"monthly",label:"Bulanan",icon:hE},{value:"weekly",label:"Mingguan",icon:j$}];function d_e(e){const t=e.getFullYear(),r=`${e.getMonth()+1}`.padStart(2,"0");return`${t}-${r}`}function iy(){return d_e(new Date)}function f_e(e){const[t,r]=e.split("-").map(a=>Number.parseInt(a,10));return!t||!r?e:new Intl.DateTimeFormat("id-ID",{month:"long",year:"numeric"}).format(new Date(t,r-1,1))}function ER(e){return e?e.slice(0,7):iy()}const h_e={period:iy(),category_id:"",amount_planned:0,carryover_enabled:!1,notes:""},m_e={week_start:GT(iy()),category_id:"",amount_planned:0,carryover_enabled:!1,notes:""},TR=new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"short"});function TG(e,t){try{const r=TR.format(new Date(`${e}T00:00:00.000Z`)),n=TR.format(new Date(`${t}T00:00:00.000Z`));return`${r}  ${n}`}catch{return`${e}  ${t}`}}function OG(e){return`Minggu ke ${e}`}function p_e(e){return`${OG(e.sequence)} (${TG(e.start,e.end)})`}function g_e(){const e=uo(),{addToast:t}=ci(),[r,n]=B.useState("monthly"),[a,i]=B.useState(iy()),[s,o]=B.useState(!1),[c,A]=B.useState(!1),[f,h]=B.useState(null),[p,g]=B.useState(null),[v,b]=B.useState(!1),[x,w]=B.useState(!1),[S,N]=B.useState([]),[k,C]=B.useState(!0),[T,O]=B.useState([]),[D,R]=B.useState(!0),[q,U]=B.useState(null),I=vG(a),Q=xG(a);B.useEffect(()=>{let ye=!0;return C(!0),hG().then(He=>{ye&&N(He)}).catch(He=>{if(!ye)return;const Ve=He instanceof Error?He.message:"Gagal memuat kategori";t(Ve,"error")}).finally(()=>{ye&&C(!1)}),()=>{ye=!1}},[t]),B.useEffect(()=>{let ye=!0;return R(!0),bG().then(He=>{ye&&O(He)}).catch(He=>{if(!ye)return;const Ve=He instanceof Error?He.message:"Gagal memuat highlight";t(Ve,"error")}).finally(()=>{ye&&R(!1)}),()=>{ye=!1}},[t]),B.useEffect(()=>{r==="monthly"&&I.error&&t(I.error,"error")},[r,I.error,t]),B.useEffect(()=>{r==="weekly"&&Q.error&&t(Q.error,"error")},[r,Q.error,t]),B.useEffect(()=>{U(null)},[a]),B.useEffect(()=>{if(Q.weeks.length===0){U(null);return}U(ye=>{if(ye&&Q.weeks.some(Ze=>Ze.start===ye))return ye;const[He,Ve]=a.split("-"),ge=Number.parseInt(He??"",10),je=Number.parseInt(Ve??"",10)-1,we=new Date,Xe=Number.isFinite(ge)&&Number.isFinite(je)?new Date(Date.UTC(ge,je,1)):new Date(Date.UTC(we.getUTCFullYear(),we.getUTCMonth(),1)),Pe=`${Xe.getUTCFullYear()}-${`${Xe.getUTCMonth()+1}`.padStart(2,"0")}`,At=iy(),gt=Pe===At?new Date().toISOString().slice(0,10):Xe.toISOString().slice(0,10);return Q.weeks.find(Ze=>gt>=Ze.start&&gt<=Ze.end)?.start??Q.weeks[0]?.start??ye})},[a,Q.weeks]);const H=B.useMemo(()=>f?{period:ER(f.period_month),category_id:f.category_id??"",amount_planned:Number(f.amount_planned??0),carryover_enabled:f.carryover_enabled,notes:f.notes??""}:{...h_e,period:a},[f,a]),Y=B.useMemo(()=>{if(p)return{week_start:p.week_start,category_id:p.category_id??"",amount_planned:Number(p.amount_planned??0),carryover_enabled:p.carryover_enabled,notes:p.notes??""};const ye=q??GT(a);return{...m_e,week_start:ye}},[p,a,q]),K=B.useMemo(()=>new Set(T.filter(ye=>ye.budget_type==="monthly").map(ye=>String(ye.budget_id))),[T]),J=B.useMemo(()=>new Set(T.filter(ye=>ye.budget_type==="weekly").map(ye=>String(ye.budget_id))),[T]),re=B.useMemo(()=>{const ye=new Set;for(const He of T){if(He.budget_type!=="weekly")continue;const Ve=Q.rows.find(ge=>String(ge.id)===String(He.budget_id));Ve?.category_id&&ye.add(String(Ve.category_id))}return ye},[T,Q.rows]),oe=B.useMemo(()=>q?Q.weeks.find(ye=>ye.start===q)??null:null,[q,Q.weeks]),V=B.useMemo(()=>oe?Q.rows.filter(ye=>ye.week_start===oe.start):Q.rows,[Q.rows,oe]),W=B.useMemo(()=>{if(Q.weeks.length===0)return null;const ye=oe?Q.weeks.findIndex(Xe=>Xe.start===oe.start):-1,He=Q.weeks.length,Ve=ye>0,ge=ye>=0&&ye<He-1,je=Xe=>{const Pe=ye>=0?ye:0,At=Q.weeks[Pe+Xe];At&&U(At.start)},we=q??Q.weeks[0]?.start??"";return l.jsx("div",{className:"flex flex-col gap-3 rounded-2xl border border-border/60 bg-surface/80 p-4 shadow-sm",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-semibold text-text",children:oe?OG(oe.sequence):"Pilih minggu"}),oe?l.jsx("p",{className:"text-xs text-muted",children:`Minggu ke ${oe.sequence} dari ${He}  Periode ${TG(oe.start,oe.end)}`}):null]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>je(-1),disabled:!Ve,className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-border/60 bg-surface/70 text-muted shadow-sm transition hover:-translate-y-0.5 hover:text-text disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Minggu sebelumnya",children:l.jsx(k$,{className:"h-4 w-4"})}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:we,onChange:Xe=>U(Xe.target.value||null),className:"h-9 min-w-[10rem] appearance-none rounded-xl border border-border/60 bg-surface/90 px-3 pr-10 text-sm font-medium text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40","aria-label":"Pilih minggu",children:Q.weeks.map(Xe=>l.jsx("option",{value:Xe.start,children:p_e(Xe)},Xe.start))}),l.jsx(UA,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted"})]}),l.jsx("button",{type:"button",onClick:()=>je(1),disabled:!ge,className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-border/60 bg-surface/70 text-muted shadow-sm transition hover:-translate-y-0.5 hover:text-text disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Minggu selanjutnya",children:l.jsx(E$,{className:"h-4 w-4"})})]})]})})},[oe,q,Q.weeks]),P=!D&&T.length>=2,$=ye=>{n(ye)},G=ye=>{ye&&i(ye)},ne=()=>{r==="monthly"?I.refresh():Q.refresh()},se=()=>{r==="monthly"?(h(null),o(!0)):(g(null),A(!0))},ve=ye=>{h(ye),o(!0)},he=ye=>{g(ye),A(!0)},fe=async ye=>{if(window.confirm(`Hapus anggaran untuk ${ye.category?.name??"kategori ini"}?`))try{b(!0),await D1e(ye.id),await I.refresh(),t("Anggaran dihapus","success")}catch(Ve){const ge=Ve instanceof Error?Ve.message:"Gagal menghapus anggaran";t(ge,"error")}finally{b(!1)}},Qe=async ye=>{if(window.confirm(`Hapus anggaran minggu ${ye.week_start}?`))try{w(!0),await U1e(ye.id),await Q.refresh(),t("Anggaran mingguan dihapus","success")}catch(Ve){const ge=Ve instanceof Error?Ve.message:"Gagal menghapus anggaran";t(ge,"error")}finally{w(!1)}},$e=async(ye,He)=>{try{await o4({category_id:ye.category_id,period:ER(ye.period_month),amount_planned:Number(ye.amount_planned??0),carryover_enabled:He,notes:ye.notes??void 0}),await I.refresh()}catch(Ve){const ge=Ve instanceof Error?Ve.message:"Gagal memperbarui carryover";t(ge,"error")}},de=async(ye,He)=>{try{await aR({id:ye.id,category_id:ye.category_id,week_start:ye.week_start,amount_planned:Number(ye.amount_planned??0),carryover_enabled:He,notes:ye.notes??void 0}),await Q.refresh()}catch(Ve){const ge=Ve instanceof Error?Ve.message:"Gagal memperbarui carryover";t(ge,"error")}},ze=async ye=>{try{b(!0),await o4({category_id:ye.category_id,period:ye.period,amount_planned:Number(ye.amount_planned),carryover_enabled:ye.carryover_enabled,notes:ye.notes?ye.notes:void 0}),o(!1),h(null),t("Anggaran tersimpan","success"),await I.refresh()}catch(He){const Ve=He instanceof Error?He.message:"Gagal menyimpan anggaran";t(Ve,"error")}finally{b(!1)}},nt=async ye=>{try{w(!0),await aR({id:p?.id,category_id:ye.category_id,week_start:ye.week_start,amount_planned:Number(ye.amount_planned),carryover_enabled:ye.carryover_enabled,notes:ye.notes?ye.notes:void 0}),A(!1),g(null),t("Anggaran mingguan tersimpan","success"),await Q.refresh()}catch(He){const Ve=He instanceof Error?He.message:"Gagal menyimpan anggaran mingguan";t(Ve,"error")}finally{w(!1)}},Se=({categoryId:ye,categoryType:He,range:Ve,month:ge,start:je,end:we})=>{const Xe=new URLSearchParams;if(Xe.set("range",Ve),Ve==="month"){const Pe=ge??a;Xe.set("month",Pe),Xe.delete("start"),Xe.delete("end")}else je&&Xe.set("start",je),we&&Xe.set("end",we),Xe.delete("month");ye&&Xe.set("categories",ye),(He==="income"||He==="expense")&&Xe.set("type",He),e(`/transactions?${Xe.toString()}`)},Z=async(ye,He,Ve)=>{try{if(R(!0),ye==="weekly"&&Ve){const je=String(Ve),we=T.find(Xe=>{if(Xe.budget_type!=="weekly")return!1;const Pe=Q.rows.find(At=>String(At.id)===String(Xe.budget_id));return Pe?.category_id?String(Pe.category_id)===je:!1});if(we&&String(we.budget_id)!==String(He)){const Xe=await iR({type:ye,id:String(we.budget_id)});O(Xe.highlights),t(Xe.highlighted?"Highlight ditambahkan":"Highlight dihapus","success");return}}const ge=await iR({type:ye,id:He});O(ge.highlights),t(ge.highlighted?"Highlight ditambahkan":"Highlight dihapus","success")}catch(ge){const je=ge instanceof Error?ge.message:"Gagal memperbarui highlight";je.toLowerCase().includes("maks")?t("Maks. 2 highlight","error"):t(je,"error")}finally{R(!1)}},Ke=I.loading||v,st=Q.loading||x;return l.jsxs(il,{maxWidthClassName:"max-w-[1400px]",paddingClassName:"px-3 md:px-6",children:[l.jsxs(fo,{title:"Anggaran",description:"Atur dan pantau alokasi pengeluaranmu per bulan atau per minggu.",children:[l.jsxs("button",{type:"button",onClick:ne,className:"hidden h-11 items-center gap-2 rounded-2xl border border-border bg-surface px-4 text-sm font-semibold text-text transition hover:border-brand/40 hover:bg-brand/5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40 md:inline-flex",children:[l.jsx(Xw,{className:"h-4 w-4"}),"Segarkan"]}),l.jsxs("button",{type:"button",disabled:k,onClick:se,className:"inline-flex h-11 items-center gap-2 rounded-2xl bg-brand px-5 text-sm font-semibold text-brand-foreground shadow transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60",children:[l.jsx(Jc,{className:"h-4 w-4"}),"Tambah anggaran"]})]}),l.jsx(ao,{first:!0,children:l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[l.jsx("div",{className:"grid w-full grid-cols-2 gap-2 md:w-auto md:auto-cols-fr md:grid-flow-col",children:A_e.map(({value:ye,label:He,icon:Ve})=>{const ge=ye===r;return l.jsxs("button",{type:"button",onClick:()=>$(ye),className:tt("group inline-flex h-10 items-center justify-center gap-2 rounded-xl border px-4 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40",ge?"border-transparent bg-brand text-brand-foreground shadow-lg shadow-brand/30":"border-border/60 bg-surface/80 text-muted hover:bg-surface hover:text-text"),children:[l.jsx(Ve,{className:tt("h-4 w-4 transition-colors",ge?"text-brand-foreground":"text-muted group-hover:text-text")}),He]},ye)})}),l.jsxs("label",{className:"flex h-10 items-center gap-2 rounded-xl border border-border/60 bg-surface/80 px-3 text-sm font-medium text-text shadow-inner transition focus-within:border-brand/40 focus-within:bg-brand/5 focus-within:text-text focus-within:outline-none focus-within:ring-2 focus-within:ring-brand/40",children:[l.jsx(j$,{className:"h-4 w-4 text-muted","aria-hidden":"true"}),l.jsx("input",{type:"month",value:a,onChange:ye=>G(ye.target.value),className:"w-full appearance-none bg-transparent text-sm font-medium text-text outline-none","aria-label":"Pilih periode bulan"}),l.jsx("span",{className:"hidden text-xs text-muted md:inline",children:f_e(a)})]})]})}),r==="monthly"?l.jsx(ao,{children:l.jsx(P2e,{summary:I.summary,loading:Ke})}):l.jsx(ao,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-base font-semibold text-text",children:"Total Weekly (Month-to-date)"}),l.jsx(u_e,{summary:Q.summaryByCategory,loading:st}),W]})}),r==="monthly"?l.jsx(ao,{children:l.jsx(z2e,{rows:I.rows,loading:Ke,highlightedIds:K,highlightLimitReached:P,onEdit:ve,onDelete:fe,onToggleCarryover:$e,onViewTransactions:ye=>Se({categoryId:ye.category_id,categoryType:ye.category?.type??null,range:"month",month:ye.period_month?.slice(0,7)??a}),onToggleHighlight:ye=>Z("monthly",String(ye.id),ye.category_id)})}):l.jsx(ao,{children:l.jsx(r_e,{rows:V,loading:st,highlightedIds:J,highlightedCategoryIds:re,highlightLimitReached:P,onEdit:he,onDelete:Qe,onViewTransactions:ye=>Se({categoryId:ye.category_id,categoryType:ye.category?.type??null,range:"custom",start:ye.week_start,end:ye.week_end}),onToggleCarryover:de,onToggleHighlight:ye=>Z("weekly",String(ye.id),ye.category_id)})}),l.jsx(X2e,{open:s,title:f?"Edit anggaran":"Tambah anggaran",categories:S,initialValues:H,submitting:v,onClose:()=>{o(!1),h(null)},onSubmit:ze}),l.jsx(o_e,{open:c,title:p?"Edit anggaran mingguan":"Tambah anggaran mingguan",categories:S,initialValues:Y,submitting:x,onClose:()=>{A(!1),g(null)},onSubmit:nt})]})}const b_e=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0});function y_e(e){return b_e.format(Math.max(0,Number(e??0)))}const v_e=[{key:"totalDebt",label:"Total Hutang",description:"Jumlah kewajiban yang belum terbayar",tone:"text-rose-400 dark:text-rose-300",accent:{light:"244 63 94",dark:"251 113 133"}},{key:"debtDueThisMonth",label:"Hutang Bulan Ini",description:"Total hutang jatuh tempo di bulan berjalan",tone:"text-orange-400 dark:text-orange-300",accent:{light:"249 115 22",dark:"253 186 116"}},{key:"totalReceivable",label:"Total Piutang",description:"Tagihan yang perlu ditagih",tone:"text-emerald-400 dark:text-emerald-300",accent:{light:"16 185 129",dark:"110 231 183"}},{key:"totalPaidThisMonth",label:"Terbayar Bulan Ini",description:"Akumulasi cicilan tercatat bulan ini",tone:"text-sky-400 dark:text-sky-300",accent:{light:"14 165 233",dark:"56 189 248"}}];function x_e({summary:e}){return l.jsx("section",{className:"grid min-w-0 grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:v_e.map(t=>{const r=e?e[t.key]:0;return l.jsxs("article",{className:"card accent-card min-w-0 space-y-2 border border-border/60 bg-surface-1/90 p-4 text-left md:p-5",style:{"--card-accent":t.accent.light,"--card-accent-dark":t.accent.dark},children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:t.label}),l.jsx("p",{className:`text-xl font-bold tracking-tight tabular-nums md:text-2xl ${t.tone}`,children:y_e(r)}),l.jsx("p",{className:"text-xs text-muted",children:t.description})]},t.key)})})}const w_e=[{value:"all",label:"Semua tipe"},{value:"debt",label:"Hutang"},{value:"receivable",label:"Piutang"}],__e=[{value:"all",label:"Semua status"},{value:"ongoing",label:"Berjalan"},{value:"paid",label:"Lunas"},{value:"overdue",label:"Jatuh Tempo"}],B_e=[{value:"created_at",label:"Tanggal dibuat"},{value:"due_date",label:"Jatuh tempo"}],S_e=[{value:"newest",label:"Terbaru"},{value:"oldest",label:"Terlama"},{value:"due_soon",label:"Jatuh tempo terdekat"},{value:"amount",label:"Jumlah terbesar"}];function N_e({filters:e,onChange:t,onReset:r}){const n=(o,c)=>{const A=o.target.value;t({...e,[c]:A})},a=(o,c)=>{const A=o.target.value;if(c==="dateFrom"||c==="dateTo"){t({...e,dateField:"due_date",[c]:A});return}t({...e,[c]:A})},i=o=>{o.preventDefault()},s=()=>{r?.()};return l.jsx("form",{onSubmit:i,className:"min-w-0 rounded-3xl border border-border/60 bg-surface-1/90 p-4 shadow-sm",children:l.jsxs("div",{className:"grid grid-cols-2 items-center gap-3 md:grid-cols-6",children:[l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-medium uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Tipe"}),l.jsx("select",{value:e.type,onChange:o=>n(o,"type"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:w_e.map(o=>l.jsx("option",{value:o.value,children:o.label},o.value))})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-medium uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Status"}),l.jsx("select",{value:e.status,onChange:o=>n(o,"status"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:__e.map(o=>l.jsx("option",{value:o.value,children:o.label},o.value))})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-medium uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Rentang"}),l.jsx("select",{value:e.dateField,onChange:o=>n(o,"dateField"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:B_e.map(o=>l.jsx("option",{value:o.value,children:o.label},o.value))})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-medium uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Dari"}),l.jsx("input",{type:"date",value:e.dateFrom??"",onChange:o=>a(o,"dateFrom"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-medium uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Sampai"}),l.jsx("input",{type:"date",value:e.dateTo??"",onChange:o=>a(o,"dateTo"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-medium uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Urutkan"}),l.jsx("select",{value:e.sort,onChange:o=>n(o,"sort"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:S_e.map(o=>l.jsx("option",{value:o.value,children:o.label},o.value))})]}),l.jsxs("div",{className:"col-span-2 flex h-[40px] min-w-0 items-center gap-2 rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-within:ring-2 focus-within:ring-[color:var(--brand-ring)] md:col-span-6",children:[l.jsx(hy,{className:"h-4 w-4 text-muted","aria-hidden":"true"}),l.jsx("input",{type:"search",value:e.q,onChange:o=>a(o,"q"),placeholder:"Cari pihak, judul, atau catatan",className:"h-full w-full min-w-0 bg-transparent text-sm text-text placeholder:text-muted focus-visible:outline-none","aria-label":"Pencarian hutang"}),r?l.jsx("button",{type:"button",onClick:s,className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full text-muted transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":"Reset filter",children:l.jsx(Jw,{className:"h-4 w-4","aria-hidden":"true"})}):null]})]})})}const C_e=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}),j_e=new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}),k_e=new Intl.DateTimeFormat("id-ID",{dateStyle:"medium"}),E_e={debt:"Hutang",receivable:"Piutang"},T_e={ongoing:{label:"Berjalan",badgeClass:"bg-amber-500/15 text-amber-200 ring-1 ring-amber-500/30",accent:"from-amber-500/15 via-surface/80 to-surface/80",glow:"rgba(251,191,36,0.35)"},paid:{label:"Lunas",badgeClass:"bg-emerald-500/15 text-emerald-200 ring-1 ring-emerald-500/30",accent:"from-emerald-500/15 via-surface/80 to-surface/80",glow:"rgba(52,211,153,0.35)"},overdue:{label:"Jatuh Tempo",badgeClass:"bg-rose-500/15 text-rose-200 ring-1 ring-rose-500/30",accent:"from-rose-500/20 via-surface/80 to-surface/80",glow:"rgba(244,63,94,0.35)"}},IG="grid grid-cols-1 gap-4 md:grid-cols-2 xl:gap-6 xl:[grid-template-columns:repeat(auto-fit,minmax(340px,1fr))]";function c0(e){return C_e.format(Number.isFinite(e)?e:0)}function O_e(e){return typeof e!="number"||Number.isNaN(e)?"-":`${j_e.format(e)}%`}function I_e(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?"-":k_e.format(t)}function U_e(e){if(!e.due_date||e.status==="paid")return!1;const t=new Date(e.due_date);if(Number.isNaN(t.getTime()))return!1;const r=new Date;return r.setHours(0,0,0,0),t.getTime()<r.getTime()}function OR(e){const t=Math.max(1,Math.floor(e.tenor_months||1));return`${Math.max(1,Math.min(Math.floor(e.tenor_sequence||1),t))}/${t}`}function F_e(e){return e<=.5?"linear-gradient(90deg, rgba(59,130,246,0.7), rgba(129,140,248,0.7))":e<=.75?"linear-gradient(90deg, rgba(56,189,248,0.7), rgba(34,211,238,0.7))":e<=1?"linear-gradient(90deg, rgba(16,185,129,0.75), rgba(52,211,153,0.75))":"linear-gradient(90deg, rgba(244,63,94,0.8), rgba(251,113,133,0.8))"}function D_e(){return l.jsx("div",{className:IG,children:Array.from({length:4}).map((e,t)=>l.jsxs("div",{className:"relative flex h-full flex-col gap-5 overflow-hidden rounded-3xl border border-dashed border-border/60 bg-surface/60 p-5 shadow-[0_24px_45px_-28px_rgba(15,23,42,0.35)]",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-4 w-1/2 animate-pulse rounded-full bg-border/40"}),l.jsx("div",{className:"h-3 w-2/3 animate-pulse rounded-full bg-border/30"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-3 w-24 animate-pulse rounded-full bg-border/30"}),l.jsx("div",{className:"h-3 w-20 animate-pulse rounded-full bg-border/30"}),l.jsx("div",{className:"h-3 w-28 animate-pulse rounded-full bg-border/30"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-3 w-24 animate-pulse rounded-full bg-border/30"}),l.jsx("div",{className:"h-3 w-20 animate-pulse rounded-full bg-border/30"}),l.jsx("div",{className:"h-3 w-28 animate-pulse rounded-full bg-border/30"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-2 w-full animate-pulse rounded-full bg-border/30"}),l.jsx("div",{className:"h-2 w-5/6 animate-pulse rounded-full bg-border/30"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("div",{className:"h-10 flex-1 animate-pulse rounded-2xl bg-border/40"}),l.jsx("div",{className:"h-10 flex-1 animate-pulse rounded-2xl bg-border/40"}),l.jsx("div",{className:"h-10 w-10 animate-pulse rounded-full bg-border/40"})]})]},`debt-card-skeleton-${t}`))})}function L_e(){return l.jsxs("div",{className:"rounded-3xl border border-dashed border-border/60 bg-surface/70 p-10 text-center text-sm text-muted shadow-inner",children:[l.jsx("span",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-2xl bg-brand/10 text-brand",children:""}),l.jsx("p",{className:"text-base font-semibold text-text",children:"Tidak ada data hutang sesuai filter."}),l.jsx("p",{className:"mt-2 text-sm text-muted",children:"Tambah hutang atau ubah filter untuk melihat daftar hutang dan piutang Anda."})]})}function M_e({debts:e,loading:t,onEdit:r,onDelete:n,onAddPayment:a,tenorNavigation:i,onNavigateTenor:s}){return t&&e.length===0?l.jsx(D_e,{}):!t&&e.length===0?l.jsx(L_e,{}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:IG,children:e.map(o=>{const c=T_e[o.status],A=U_e(o),f=o.amount>0?Math.min(Math.max(o.paid_total/o.amount,0),2):0,h=Math.min(f,1),p=Math.round(h*100),g=Number.isFinite(o.remaining)?o.remaining:0,v=i?.[o.id],b=F_e(f),x=o.notes?.trim();return l.jsxs("article",{className:tt("relative flex h-full flex-col gap-6 overflow-hidden rounded-3xl border border-border/60 bg-surface/80 p-6 shadow-[0_30px_60px_-36px_rgba(15,23,42,0.55)] transition duration-300 hover:-translate-y-1 hover:shadow-[0_40px_80px_-48px_rgba(15,23,42,0.65)] backdrop-blur supports-[backdrop-filter]:bg-surface/60",c?`bg-gradient-to-br ${c.accent}`:null),children:[c?l.jsx("div",{"aria-hidden":"true",className:tt("pointer-events-none absolute -right-24 -top-24 h-56 w-56 rounded-full blur-3xl"),style:{background:`radial-gradient(circle at center, ${c.glow} 0%, rgba(59,130,246,0.05) 55%, rgba(255,255,255,0) 75%)`}}):null,l.jsx("header",{className:"relative z-10 flex flex-col gap-4",children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-[0.68rem] font-semibold uppercase tracking-wide text-muted",children:E_e[o.type]??o.type}),c?l.jsx("span",{className:tt("inline-flex items-center rounded-full px-3 py-1 text-[0.68rem] font-semibold uppercase tracking-wide shadow-sm backdrop-blur",c.badgeClass),children:c.label}):null,A?l.jsx("span",{className:"inline-flex items-center rounded-full bg-rose-500/20 px-3 py-1 text-[0.68rem] font-semibold uppercase tracking-wide text-rose-200 shadow-sm",children:"Jatuh tempo"}):null]}),l.jsx("h3",{className:"text-xl font-semibold text-text dark:text-white",children:o.party_name||"Tanpa nama"}),l.jsx("p",{className:"max-w-prose text-sm text-muted line-clamp-2",title:o.title,children:o.title||"Tidak ada judul"})]}),l.jsxs("div",{className:"flex flex-col items-end gap-3 text-right text-sm text-muted",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-2xl border border-border/60 bg-surface/70 px-3 py-1.5 shadow-inner",children:[l.jsx(fE,{className:"h-4 w-4 text-muted","aria-hidden":"true"}),l.jsx("span",{className:tt("text-sm font-semibold",A?"text-rose-200":"text-text"),children:I_e(o.due_date)})]}),l.jsxs("div",{className:"text-xs uppercase tracking-wide text-muted/80",children:["Tenor ",OR(o)]})]})]})}),l.jsxs("div",{className:"relative z-10 grid grid-cols-1 gap-6 text-sm text-muted md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-wide text-muted/70",children:"Bunga"}),l.jsx("p",{className:"text-base font-medium text-text",children:O_e(o.rate_percent)})]}),v&&o.tenor_months>1?l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-wide text-muted/70",children:"Navigasi tenor"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>v.hasPrev&&s?.(v.key,-1),disabled:!v.hasPrev,className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-border/60 bg-surface/70 text-muted transition hover:-translate-y-0.5 hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Lihat tenor sebelumnya",children:l.jsx(k$,{className:"h-4 w-4","aria-hidden":"true"})}),l.jsx("div",{className:"inline-flex items-center gap-2 rounded-2xl border border-border/60 bg-surface/70 px-3 py-1.5 text-sm font-semibold text-text shadow-inner",children:OR(o)}),l.jsx("button",{type:"button",onClick:()=>v.hasNext&&s?.(v.key,1),disabled:!v.hasNext,className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-border/60 bg-surface/70 text-muted transition hover:-translate-y-0.5 hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Lihat tenor selanjutnya",children:l.jsx(E$,{className:"h-4 w-4","aria-hidden":"true"})})]})]}):null,x?l.jsxs("div",{className:"space-y-2 rounded-2xl border border-border/60 bg-surface/70 p-4 text-sm text-muted",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-muted/80",children:[l.jsx(Yw,{className:"h-4 w-4"})," Catatan"]}),l.jsx("p",{className:"text-sm leading-relaxed text-text/80",children:x})]}):null]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-2xl border border-border/60 bg-surface/70 p-4 text-xs uppercase tracking-wide text-muted/70 sm:grid-cols-2 lg:grid-cols-3",children:[l.jsxs("div",{className:"min-w-0 space-y-1",children:[l.jsx("p",{children:"Jumlah"}),l.jsx("p",{className:"text-base font-semibold text-text tabular-nums",children:c0(o.amount)})]}),l.jsxs("div",{className:"min-w-0 space-y-1",children:[l.jsx("p",{children:"Terbayar"}),l.jsx("p",{className:"text-base font-medium text-muted tabular-nums",children:c0(o.paid_total)})]}),l.jsxs("div",{className:"min-w-0 space-y-1",children:[l.jsx("p",{children:"Sisa"}),l.jsx("p",{className:"text-base font-semibold text-text tabular-nums",children:c0(g)})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted/80",children:[l.jsx("span",{children:"Progress pembayaran"}),l.jsxs("span",{className:"font-semibold text-text",children:[p,"%"]})]}),l.jsx("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-muted/20",children:l.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full",style:{width:`${Math.min(p,100)}%`,background:b}})}),f>1?l.jsxs("p",{className:"text-xs font-medium text-emerald-300",children:["Pembayaran melebihi jumlah hutang sebesar ",c0(o.paid_total-o.amount)]}):null]})]})]}),l.jsxs("footer",{className:"relative z-10 flex flex-wrap items-center gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>a(o),className:"inline-flex w-full min-w-[180px] flex-1 items-center justify-center gap-2 rounded-2xl bg-brand px-4 py-2.5 text-sm font-semibold text-brand-foreground transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":"Catat pembayaran",children:[l.jsx(rl,{className:"h-4 w-4","aria-hidden":"true"}),"Catat pembayaran"]}),l.jsxs("button",{type:"button",onClick:()=>r(o),className:"inline-flex w-full min-w-[150px] flex-1 items-center justify-center gap-2 rounded-2xl border border-border/60 bg-surface/70 px-4 py-2.5 text-sm font-semibold text-text transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40","aria-label":"Ubah hutang",children:[l.jsx(tl,{className:"h-4 w-4","aria-hidden":"true"}),"Edit data"]}),l.jsx("button",{type:"button",onClick:()=>n(o),className:"inline-flex h-11 w-11 flex-shrink-0 items-center justify-center rounded-full border border-border/60 bg-surface/70 text-rose-300 transition hover:-translate-y-0.5 hover:bg-rose-500/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400/60","aria-label":"Hapus hutang",children:l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})})]})]},o.id)})}),t&&e.length>0?l.jsxs("div",{className:"flex items-center justify-center gap-2 rounded-3xl border border-border/60 bg-surface/70 px-4 py-3 text-xs text-muted",children:[l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),"Memuat data hutang"]}):null]})}const c4=()=>{const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`};function IR(e){return e?e.slice(0,10):""}function u4(e){if(!e)return Number.NaN;const t=e.replace(/[^0-9,.-]/g,"").replace(/\.(?=\d{3}(\D|$))/g,"").replace(/,/g,"."),r=Number.parseFloat(t);return Number.isFinite(r)?r:Number.NaN}function UG(e){return e.replace(/[^0-9,]/g,"")}function P_e(e){const t=UG(e);if(!t)return"";const r=t.includes(","),[n,...a]=t.split(","),i=a.join(""),s=n.replace(/\D/g,""),A=(s.replace(/^0+(?=\d)/,"")||(s?"0":"")).replace(/\B(?=(\d{3})+(?!\d))/g,".");if(!r)return A;const f=i.replace(/\D/g,"");return`${A||"0"},${f}`}function Q_e(e,t){if(!t)return 0;let r=t.length,n=0;for(;n<e.length&&r>0;){const a=e.charAt(n);/\d|,/.test(a)&&(r-=1),n+=1}return n}const R_e=new Intl.NumberFormat("id-ID",{maximumFractionDigits:2,minimumFractionDigits:0});function H_e(e){return typeof e!="number"||!Number.isFinite(e)?"":R_e.format(e)}function $_e(e){return Math.min(100,Math.max(0,e))}function UR(e){return e?{type:e.type,party_name:e.party_name??"",title:e.title??"",date:IR(e.date)||c4(),due_date:IR(e.due_date)||"",amount:H_e(e.amount),rate_percent:typeof e.rate_percent=="number"&&Number.isFinite(e.rate_percent)?e.rate_percent.toString():"",tenor:e.tenor_months?String(e.tenor_months):"1",notes:e.notes??""}:{type:"debt",party_name:"",title:"",date:c4(),due_date:"",amount:"",rate_percent:"",tenor:"1",notes:""}}function q_e(e){const t={};e.party_name.trim()?e.party_name.trim().length>60&&(t.party_name="Maksimum 60 karakter."):t.party_name="Nama pihak wajib diisi.",e.title.trim()?e.title.trim().length>80&&(t.title="Maksimum 80 karakter."):t.title="Judul wajib diisi.";const r=u4(e.amount);if((Number.isNaN(r)||r<=0)&&(t.amount="Masukkan nominal lebih dari 0."),e.rate_percent){const a=u4(e.rate_percent);Number.isNaN(a)?t.rate_percent="Masukkan persen valid.":(a<0||a>100)&&(t.rate_percent="Nilai persen 0-100.")}const n=Number.parseInt(e.tenor,10);return Number.isFinite(n)?(n<1||n>36)&&(t.tenor="Tenor harus 1-36 bulan."):t.tenor="Tenor wajib diisi.",{errors:t,amountValue:r,tenorValue:n}}function K_e({open:e,mode:t,initialData:r,submitting:n,onSubmit:a,onClose:i}){const[s,o]=B.useState(()=>UR(r)),[c,A]=B.useState({}),[f,h]=B.useState(null),p=B.useRef(null),g=B.useRef(null);B.useEffect(()=>{e&&(o(UR(r)),A({}),h(null))},[e,r]),B.useEffect(()=>{if(!e)return;const w=S=>{S.key==="Escape"&&(S.preventDefault(),i())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[e,i]),B.useEffect(()=>{if(!e)return;const w=window.setTimeout(()=>{g.current?.focus()},10);return()=>window.clearTimeout(w)},[e]);const v=B.useMemo(()=>{if(!s.due_date||!s.date)return null;const w=new Date(s.date),S=new Date(s.due_date);return Number.isNaN(w.getTime())||Number.isNaN(S.getTime())?null:S.getTime()<w.getTime()?"Tanggal jatuh tempo lebih awal dari tanggal hutang.":null},[s.date,s.due_date]);B.useEffect(()=>{h(v)},[v]);const b=w=>S=>{if(w==="amount"&&S.target instanceof HTMLInputElement){const{value:k}=S.target,C=S.target.selectionStart??k.length,T=UG(k.slice(0,C)),O=P_e(k);o(D=>({...D,amount:O})),window.requestAnimationFrame(()=>{const D=p.current?.querySelector("#amount");if(!D)return;const R=Q_e(O,T);D.setSelectionRange(R,R)});return}const{value:N}=S.target;o(k=>({...k,[w]:N}))},x=async w=>{w.preventDefault();const{errors:S,amountValue:N,tenorValue:k}=q_e(s);if(A(S),Object.keys(S).length>0){const U=Object.keys(S)[0];p.current?.querySelector(`[name="${U}"]`)?.focus();return}if(Number.isNaN(N)||N<=0){A(U=>({...U,amount:"Masukkan nominal lebih dari 0."})),p.current?.querySelector('[name="amount"]')?.focus();return}const C=Number(N.toFixed(2)),T=Number.isFinite(k)?Math.max(1,Math.min(36,k)):1,O=s.rate_percent?u4(s.rate_percent):Number.NaN,R=s.rate_percent.trim().length>0&&!Number.isNaN(O)?$_e(O):void 0,q={type:s.type,party_name:s.party_name.trim(),title:s.title.trim(),date:s.date||c4(),due_date:s.due_date||null,amount:C,tenor_months:T,notes:s.notes.trim()?s.notes.trim():null};R!==void 0&&(q.rate_percent=R);try{await a(q)}catch(U){const I=U instanceof Error&&U.message?U.message:"Terjadi kesalahan saat menyimpan hutang.";typeof window<"u"&&window.alert(I)}};return e?co.createPortal(l.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/40 px-3 py-4 sm:px-4 sm:py-6",role:"dialog","aria-modal":"true",children:l.jsxs("div",{ref:p,className:"flex max-h-[min(92vh,760px)] w-full max-w-2xl flex-col overflow-hidden rounded-3xl border border-border/60 bg-surface-1/95 p-4 shadow-2xl backdrop-blur sm:p-6",children:[l.jsxs("div",{className:"flex flex-shrink-0 items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h2",{className:"text-lg font-semibold text-text",children:t==="create"?"Tambah Hutang / Piutang":"Edit Hutang / Piutang"}),l.jsx("p",{className:"text-sm text-muted",children:"Catat detail hutang dan atur pengingat jatuh tempo."})]}),l.jsx("button",{type:"button",onClick:i,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border bg-surface-1 text-text hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":"Tutup formulir hutang",children:l.jsx(iu,{className:"h-5 w-5","aria-hidden":"true"})})]}),l.jsxs("form",{onSubmit:x,className:"mt-5 flex flex-1 flex-col overflow-hidden sm:mt-6",children:[l.jsxs("div",{className:"grid flex-1 grid-cols-1 gap-4 overflow-y-auto pr-1 sm:grid-cols-2 sm:pr-2",children:[l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-sm font-medium text-text",htmlFor:"debt-type",children:["Tipe",l.jsxs("select",{id:"debt-type",name:"type",value:s.type,onChange:b("type"),className:"h-[40px] rounded-xl border border-border bg-surface-1 px-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx("option",{value:"debt",children:"Hutang (kita berhutang)"}),l.jsx("option",{value:"receivable",children:"Piutang (orang berhutang)"})]})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-sm font-medium text-text",htmlFor:"party-name",children:["Pihak",l.jsx("input",{ref:g,id:"party-name",name:"party_name",value:s.party_name,onChange:b("party_name"),className:"h-[40px] rounded-xl border border-border bg-surface-1 px-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",placeholder:"Nama pihak",required:!0}),c.party_name?l.jsx("span",{className:"text-xs text-danger",children:c.party_name}):null]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-sm font-medium text-text",htmlFor:"title",children:["Judul",l.jsx("input",{id:"title",name:"title",value:s.title,onChange:b("title"),className:"h-[40px] rounded-xl border border-border bg-surface-1 px-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",placeholder:"Contoh: Pinjaman motor",required:!0}),c.title?l.jsx("span",{className:"text-xs text-danger",children:c.title}):null]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-sm font-medium text-text",htmlFor:"due-date",children:["Jatuh tempo",l.jsx("input",{id:"due-date",name:"due_date",type:"date",value:s.due_date,onChange:b("due_date"),className:"h-[40px] rounded-xl border border-border bg-surface-1 px-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"}),f?l.jsx("span",{className:"text-xs text-warning",children:f}):null]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-sm font-medium text-text",htmlFor:"amount",children:["Jumlah",l.jsx("input",{id:"amount",name:"amount",value:s.amount,onChange:b("amount"),inputMode:"decimal",placeholder:"Masukkan nominal",className:"h-[40px] rounded-xl border border-border bg-surface-1 px-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",required:!0}),c.amount?l.jsx("span",{className:"text-xs text-danger",children:c.amount}):null]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-sm font-medium text-text",htmlFor:"tenor",children:["Tenor (bulan)",l.jsx("input",{id:"tenor",name:"tenor",type:"number",min:1,max:36,value:s.tenor,onChange:b("tenor"),className:"h-[40px] rounded-xl border border-border bg-surface-1 px-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-70",placeholder:"Contoh: 12",disabled:t==="edit"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Isi jumlah bulan cicilan. Minimal 1, maksimal 36."}),c.tenor?l.jsx("span",{className:"text-xs text-danger",children:c.tenor}):null]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-sm font-medium text-text",htmlFor:"rate",children:["Bunga / Rate (%)",l.jsx("input",{id:"rate",name:"rate_percent",value:s.rate_percent,onChange:b("rate_percent"),inputMode:"decimal",placeholder:"Opsional",className:"h-[40px] rounded-xl border border-border bg-surface-1 px-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"}),c.rate_percent?l.jsx("span",{className:"text-xs text-danger",children:c.rate_percent}):null]}),l.jsxs("label",{className:"sm:col-span-2 flex min-w-0 flex-col gap-1 text-sm font-medium text-text",htmlFor:"notes",children:["Catatan",l.jsx("textarea",{id:"notes",name:"notes",value:s.notes,onChange:b("notes"),rows:3,className:"rounded-xl border border-border bg-surface-1 px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",placeholder:"Catatan tambahan (opsional)"})]})]}),l.jsxs("div",{className:"mt-5 flex flex-col gap-3 sm:mt-6 sm:flex-row sm:justify-end sm:gap-4",children:[l.jsx("button",{type:"button",onClick:i,className:"inline-flex h-[42px] items-center justify-center rounded-xl border border-border bg-surface-1 px-5 text-sm font-medium text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:"Batal"}),l.jsx("button",{type:"submit",disabled:!!n,className:"inline-flex h-[42px] items-center justify-center rounded-xl bg-brand px-6 text-sm font-semibold text-brand-foreground transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60",children:n?"Menyimpan":t==="create"?"Tambah":"Simpan perubahan"})]})]})]})}),document.body):null}const z_e=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}),G_e=new Intl.DateTimeFormat("id-ID",{dateStyle:"medium"});function V_e({payments:e,onDelete:t,deletingId:r}){return e.length?l.jsx("ul",{className:"flex flex-col gap-3",children:e.map(n=>{const a=z_e.format(n.amount??0),i=n.date?G_e.format(new Date(n.date)):"-",s=r===n.id;return l.jsxs("li",{className:"flex min-w-0 items-start justify-between gap-3 rounded-2xl border border-border/70 bg-surface-1/80 px-4 py-3 shadow-sm",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-text",children:a}),l.jsx("p",{className:"text-xs text-muted",children:i}),n.account_name?l.jsxs("p",{className:"mt-1 text-xs text-muted",children:["Akun: ",n.account_name]}):null,n.notes?l.jsx("p",{className:"mt-2 break-words text-sm text-text/80",title:n.notes,children:n.notes}):null]}),l.jsx("button",{type:"button",onClick:()=>t(n),disabled:s,className:"inline-flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-full border border-border bg-surface-1 text-muted transition hover:text-danger focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60","aria-label":"Hapus pembayaran",children:l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})})]},n.id)})}):l.jsx("p",{className:"rounded-2xl border border-dashed border-border/70 bg-surface-1/40 px-4 py-6 text-center text-sm text-muted",children:"Belum ada pembayaran tercatat."})}const u0=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}),FR=new Intl.DateTimeFormat("id-ID",{dateStyle:"medium"});function W_e(e){if(!e)return Number.NaN;const t=e.replace(/[^0-9,.-]/g,"").replace(/\.(?=\d{3}(\D|$))/g,"").replace(/,/g,"."),r=Number.parseFloat(t);return Number.isFinite(r)?r:Number.NaN}function Y_e(e){const t=e.replace(/\D/g,"");if(!t)return"";const r=Number.parseInt(t,10);return Number.isFinite(r)?r.toLocaleString("id-ID"):""}const eC=()=>new Date().toISOString().slice(0,10);function X_e({open:e,debt:t,payments:r,accounts:n,loading:a,submitting:i,deletingId:s,accountsLoading:o,onClose:c,onSubmit:A,onDeletePayment:f}){const[h,p]=B.useState(""),[g,v]=B.useState(eC()),[b,x]=B.useState(""),[w,S]=B.useState(""),[N,k]=B.useState({}),C=B.useRef(null),T=B.useRef(null);by(e),B.useEffect(()=>{if(!e)return;const I=Q=>{Q.key==="Escape"&&(Q.preventDefault(),c())};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[e,c]),B.useEffect(()=>{if(!e)return;const I=C.current;if(!I)return;const Q=H=>{if(H.key!=="Tab")return;const Y=I.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');if(Y.length===0)return;const K=Y[0],J=Y[Y.length-1];if(H.shiftKey){document.activeElement===K&&(H.preventDefault(),J.focus());return}document.activeElement===J&&(H.preventDefault(),K.focus())};return I.addEventListener("keydown",Q),()=>I.removeEventListener("keydown",Q)},[e]),B.useEffect(()=>{e&&(p(""),v(eC()),x(""),S(""),k({}))},[e,t?.id]),B.useEffect(()=>{if(e){if(!n.length){S("");return}S(I=>I&&n.some(Q=>Q.id===I)?I:n[0]?.id??"")}},[e,n]),B.useEffect(()=>{e&&T.current?.focus()},[e]);const O=B.useMemo(()=>t?u0.format(Math.max(0,t.remaining)):u0.format(0),[t]),D=B.useMemo(()=>t?u0.format(Math.max(0,t.paid_total)):u0.format(0),[t]),R=B.useMemo(()=>{if(!t)return"1/1";const I=Math.max(1,Math.floor(t.tenor_months||1));return`${Math.max(1,Math.min(Math.floor(t.tenor_sequence||1),I))}/${I}`},[t]),q=!!i||!!o||!w,U=async I=>{I.preventDefault();const Q=W_e(h),H=g?.trim()??"",Y={};(Number.isNaN(Q)||Q<=0)&&(Y.amount="Masukkan nominal lebih dari 0.");const K=H?new Date(H):null;if((!K||Number.isNaN(K.getTime()))&&(Y.date="Pilih tanggal pembayaran yang valid."),w||(Y.account=o?"Sedang memuat daftar akun":"Pilih akun sumber pembayaran."),Y.amount||Y.date||Y.account){k(Y);return}k({});try{await A({amount:Q,date:H||eC(),account_id:w,notes:b.trim()?b.trim():null}),p(""),x("")}catch{}};return!e||!t?null:co.createPortal(l.jsxs("div",{className:"fixed inset-0 z-[85] flex items-center justify-center bg-black/40 px-3 py-4 sm:px-4 sm:py-6",children:[l.jsx("div",{className:"absolute inset-0",onClick:c,"aria-hidden":"true"}),l.jsxs("div",{ref:C,role:"dialog","aria-modal":"true",className:"relative z-[1] flex max-h-[min(92vh,760px)] w-full max-w-2xl flex-col overflow-hidden rounded-3xl border border-border/60 bg-surface-1/95 shadow-2xl backdrop-blur",children:[l.jsxs("header",{className:"flex flex-shrink-0 items-start justify-between gap-4 border-b border-border-subtle bg-surface px-5 py-4 sm:px-6 sm:py-5",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Catat Pembayaran"}),l.jsx("h2",{className:"mt-1 break-words text-lg font-semibold text-text",children:t.title}),l.jsxs("p",{className:"break-words text-sm text-muted",children:[t.party_name,"  ",FR.format(new Date(t.date)),"  Tenor ",R]})]}),l.jsx("button",{ref:T,type:"button",onClick:c,className:"inline-flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full border border-border bg-surface text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":"Tutup panel pembayaran",children:l.jsx(iu,{className:"h-5 w-5","aria-hidden":"true"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-5 sm:px-6 sm:py-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"grid min-w-0 grid-cols-2 gap-3 rounded-3xl border border-border-subtle bg-surface-alt/80 p-4 shadow-sm sm:gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Sisa Tagihan"}),l.jsx("p",{className:"mt-1 text-lg font-semibold text-text tabular-nums",children:O})]}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Total Terbayar"}),l.jsx("p",{className:"mt-1 text-lg font-semibold text-text tabular-nums",children:D})]}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Status"}),l.jsx("p",{className:"mt-1 text-sm font-medium text-text",children:t.status==="paid"?"Lunas":t.status==="overdue"?"Jatuh Tempo":"Berjalan"})]}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Jatuh Tempo"}),l.jsx("p",{className:"mt-1 break-words text-sm text-text/80",children:t.due_date?FR.format(new Date(t.due_date)):"-"})]})]}),l.jsxs("form",{id:"payment-form",onSubmit:U,className:"space-y-4",children:[l.jsxs("div",{className:"min-w-0 flex flex-col gap-1.5 text-sm font-medium text-text",children:[l.jsx("label",{htmlFor:"payment-amount",className:"form-label",children:"Nominal pembayaran"}),l.jsx("input",{id:"payment-amount",type:"text",value:h,onChange:I=>{const Q=Y_e(I.target.value);p(Q),N.amount&&k(H=>({...H,amount:void 0}))},inputMode:"numeric",autoComplete:"off",placeholder:"Masukkan nominal",className:"input text-right tabular-nums"}),N.amount?l.jsx("span",{className:"form-error",children:N.amount}):null]}),l.jsxs("div",{className:"min-w-0 flex flex-col gap-1.5 text-sm font-medium text-text",children:[l.jsx("label",{htmlFor:"payment-account",className:"form-label",children:"Akun sumber dana"}),l.jsx("select",{id:"payment-account",value:w,onChange:I=>{S(I.target.value),N.account&&k(Q=>({...Q,account:void 0}))},className:"input",disabled:!!o||n.length===0,children:o?l.jsx("option",{value:"",children:"Memuat akun"}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"",children:"Pilih akun"}),n.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]})}),N.account?l.jsx("span",{className:"form-error",children:N.account}):null,!o&&n.length===0?l.jsx("span",{className:"text-xs text-muted",children:"Belum ada akun. Tambahkan akun baru melalui menu Akun."}):null]}),l.jsxs("div",{className:"min-w-0 flex flex-col gap-1.5 text-sm font-medium text-text",children:[l.jsx("label",{htmlFor:"payment-date",className:"form-label",children:"Tanggal pembayaran"}),l.jsx("input",{id:"payment-date",type:"date",value:g,onChange:I=>{v(I.target.value),N.date&&k(Q=>({...Q,date:void 0}))},className:"input"}),N.date?l.jsx("span",{className:"form-error",children:N.date}):null]}),l.jsxs("div",{className:"min-w-0 flex flex-col gap-1.5 text-sm font-medium text-text",children:[l.jsx("label",{htmlFor:"payment-notes",className:"form-label",children:"Catatan"}),l.jsx("textarea",{id:"payment-notes",value:b,onChange:I=>x(I.target.value),rows:3,placeholder:"Catatan (opsional)",className:"form-control"})]})]}),l.jsx("section",{className:"min-h-[160px] min-w-0",children:a?l.jsx("p",{className:"rounded-3xl border border-dashed border-border-subtle/80 bg-surface-alt/60 px-4 py-6 text-center text-sm text-muted",children:"Memuat riwayat pembayaran"}):l.jsx(V_e,{payments:r,onDelete:f,deletingId:s})})]})}),l.jsxs("footer",{className:"flex flex-shrink-0 flex-wrap items-center justify-end gap-3 border-t border-border-subtle bg-surface px-5 py-4 sm:px-6",children:[l.jsx("button",{type:"button",onClick:c,className:"btn btn-secondary w-full sm:w-auto",children:"Tutup"}),l.jsx("button",{type:"submit",form:"payment-form",disabled:q,"aria-busy":!!i,className:"btn btn-primary w-full sm:w-auto",children:i?"Menyimpan":"Catat Pembayaran"})]})]})]}),document.body)}function Sw({open:e,title:t,description:r,confirmLabel:n="Ya",cancelLabel:a="Batal",destructive:i,loading:s,onConfirm:o,onCancel:c}){const A=B.useRef(null);return B.useEffect(()=>{if(!e)return;const f=h=>{h.key==="Escape"&&(h.preventDefault(),c())};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[e,c]),B.useEffect(()=>{if(!e)return;const f=window.setTimeout(()=>A.current?.focus(),20);return()=>window.clearTimeout(f)},[e]),e?co.createPortal(l.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center bg-black/40 px-4",role:"dialog","aria-modal":"true",children:l.jsxs("div",{className:"w-full max-w-sm rounded-3xl border border-border/60 bg-surface-1/95 p-6 text-text shadow-xl backdrop-blur",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{className:"text-lg font-semibold",children:t}),r?l.jsx("p",{className:"text-sm text-muted",children:r}):null]}),l.jsxs("div",{className:"mt-6 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[l.jsx("button",{type:"button",onClick:c,className:"inline-flex h-[40px] items-center justify-center rounded-xl border border-border bg-surface-1 px-5 text-sm font-medium transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:a}),l.jsx("button",{ref:A,type:"button",onClick:o,disabled:!!s,className:`inline-flex h-[40px] items-center justify-center rounded-xl px-5 text-sm font-semibold text-brand-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60 ${i?"bg-danger hover:brightness-110":"bg-brand hover:brightness-105"}`,children:s?"Memproses":n})]})]})}),document.body):null}const pf="id,user_id,type,party_name,title,date,due_date,amount,rate_percent,paid_total,status,notes,tenor_months,tenor_sequence,created_at,updated_at";function xp(e,t){throw e instanceof Error&&e.message?new Error(e.message):new Error(t)}function J_e(e){return e?String(e).replace(/[%_,()]/g,t=>`\\${t}`):""}function Bs(e){if(e==null)return 0;const t=typeof e=="number"?e:Number.parseFloat(String(e));return Number.isFinite(t)?t:0}function pm(e){if(e===""||e==null)return;if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(typeof e=="string"){const r=e.trim();if(!r)return;const n=Number(r);return Number.isFinite(n)?n:void 0}const t=Number(e);return Number.isFinite(t)?t:void 0}function tp(e){if(!e)return null;const t=e.trim();if(!t)return null;const n=/[zZ]|[+-]\d{2}:?\d{2}$/.test(t)?t:t.includes("T")?`${t}Z`:`${t}T00:00:00Z`,a=new Date(n);return Number.isNaN(a.getTime())?null:a.toISOString()}function Z_e(e){if(!e)return null;const t=e.trim();if(!t)return null;const n=/[zZ]|[+-]\d{2}:?\d{2}$/.test(t)?t:t.includes("T")?`${t}Z`:`${t}T23:59:59Z`,a=new Date(n);return Number.isNaN(a.getTime())?null:a.toISOString()}function FG(e,t,r){if(t+1e-4>=e)return"paid";if(r){const n=new Date(r),a=new Date;if(!Number.isNaN(n.getTime())&&n.getTime()<a.getTime())return"overdue"}return"ongoing"}function DR(e,t){const r=new Date(e);if(Number.isNaN(r.getTime())||!Number.isFinite(t))return e;const n=new Date(r.getTime());return n.setUTCMonth(n.getUTCMonth()+t),n.toISOString()}function gf(e){const t=Bs(e.amount),r=Bs(e.paid_total),n=e.rate_percent!=null?Bs(e.rate_percent):null,a=Math.max(t-r,0),i=Math.max(1,Math.floor(Bs(e.tenor_months)||1)),s=Math.max(1,Math.floor(Bs(e.tenor_sequence)||1));return{id:String(e.id),user_id:String(e.user_id),type:e.type,party_name:e.party_name??"",title:e.title??"",date:e.date??e.created_at??new Date().toISOString(),due_date:e.due_date??null,amount:t,rate_percent:n,paid_total:r,remaining:a,status:e.status,notes:e.notes??null,tenor_months:i,tenor_sequence:Math.min(s,i),created_at:e.created_at??e.date??new Date().toISOString(),updated_at:e.updated_at??e.created_at??new Date().toISOString()}}function DG(e){const t=e.account??e.accounts??null,r=e.account_id??t?.id??t?.account_id??null,n=r?String(r):null,a=typeof e.account_name=="string"&&e.account_name.trim()?e.account_name:t?.name??null,i=typeof e.notes=="string"?e.notes:typeof e.note=="string"?e.note:null;let s=null;if(typeof i=="string"){const o=i.trim();s=o||null}return{id:String(e.id),debt_id:String(e.debt_id),user_id:String(e.user_id),amount:Bs(e.amount),date:e.date??e.created_at??new Date().toISOString(),notes:s,account_id:n,account_name:a??null,transaction_id:e.transaction_id?String(e.transaction_id):null,created_at:e.created_at??new Date().toISOString()}}async function LG(e,t){const{data:r,error:n}=await Ne.from("debts").select(pf).eq("id",e).eq("user_id",t).maybeSingle();if(n)throw n;if(!r)return null;const{data:a,error:i}=await Ne.from("debt_payments").select("amount").eq("debt_id",e).eq("user_id",t);if(i)throw i;const s=(a??[]).reduce((f,h)=>f+Bs(h.amount),0),o=FG(Bs(r.amount),s,r.due_date??null),{data:c,error:A}=await Ne.from("debts").update({paid_total:s.toFixed(2),status:o}).eq("id",e).eq("user_id",t).select(pf).maybeSingle();if(A)throw A;return gf(c||{...r,paid_total:s,status:o})}async function eBe(e){const t=new Date,r=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),1)),n=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,1)),a=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+2,1)),[{data:i,error:s},{data:o,error:c}]=await Promise.all([Ne.from("debts").select("type, amount, paid_total, due_date, status").eq("user_id",e),Ne.from("debt_payments").select("amount, date").eq("user_id",e).gte("date",r.toISOString()).lt("date",n.toISOString())]);if(s)throw s;if(c)throw c;const A={totalDebt:0,debtDueThisMonth:0,debtDueNextMonth:0,totalReceivable:0,totalPaidThisMonth:0,dueSoon:0},f=new Date(t.getTime()+10080*60*1e3);for(const h of i??[]){const p=Bs(h.amount),g=Bs(h.paid_total);if(h.type==="debt"){const v=Math.max(p-g,0);if(A.totalDebt+=v,h.status!=="paid"&&h.due_date){const b=new Date(h.due_date);!Number.isNaN(b.getTime())&&b.getTime()>=r.getTime()&&b.getTime()<n.getTime()?A.debtDueThisMonth+=v:!Number.isNaN(b.getTime())&&b.getTime()>=n.getTime()&&b.getTime()<a.getTime()&&(A.debtDueNextMonth+=v)}}if(h.type==="receivable"&&(A.totalReceivable+=Math.max(p-g,0)),h.status!=="paid"&&h.due_date){const v=new Date(h.due_date);!Number.isNaN(v.getTime())&&v<=f&&(A.dueSoon+=Math.max(p-g,0))}}for(const h of o??[])A.totalPaidThisMonth+=Bs(h.amount);return A}async function Nf(){try{const e=await tr();if(!e)throw new Error("Pengguna tidak ditemukan. Silakan masuk kembali.");return e}catch(e){return xp(e,"Gagal mendapatkan informasi pengguna")}}async function LR(e={}){try{const t=await Nf(),{q:r="",type:n="all",status:a="all",dateField:i="created_at",dateFrom:s,dateTo:o,sort:c="newest"}=e;let A=Ne.from("debts").select(pf).eq("user_id",t);n!=="all"&&(A=A.eq("type",n)),a!=="all"&&(A=A.eq("status",a));const f=J_e(r?.trim());f&&(A=A.or(`party_name.ilike.%${f}%,title.ilike.%${f}%,notes.ilike.%${f}%`));const h=i==="due_date"?"due_date":"created_at",p=tp(s??void 0),g=Z_e(o??void 0);switch(p&&(A=A.gte(h,p)),g&&(A=A.lte(h,g)),c){case"oldest":A=A.order("created_at",{ascending:!0});break;case"due_soon":A=A.order("due_date",{ascending:!0,nullsLast:!0}).order("created_at",{ascending:!1});break;case"amount":A=A.order("amount",{ascending:!1}).order("created_at",{ascending:!1});break;case"newest":default:A=A.order("created_at",{ascending:!1});break}const{data:v,error:b}=await A;if(b)throw b;const x=await eBe(t);return{items:(v??[]).map(gf),summary:x}}catch{throw new Error("Gagal memuat hutang")}}async function tBe(e){try{const t=await Nf(),{data:r,error:n}=await Ne.from("debts").select(pf).eq("id",e).eq("user_id",t).maybeSingle();if(n)throw n;const{data:a,error:i}=await Ne.from("debt_payments").select("*, account:account_id (id, name)").eq("debt_id",e).eq("user_id",t).order("date",{ascending:!1}).order("created_at",{ascending:!1});if(i)throw i;return{debt:r?gf(r):null,payments:(a??[]).map(DG)}}catch(t){return xp(t,"Gagal memuat detail hutang")}}async function MG(e,t){const{data:r,error:n}=await Ne.from("debts").select(pf).eq("id",e).eq("user_id",t).maybeSingle();if(n)throw n;return r??null}async function rBe(e){try{const t=await Nf(),r=pm(e.amount);if(r===void 0||r<=0)throw new Error("Nominal hutang tidak valid.");const n=pm(e.tenor_months),a=n===void 0?1:Math.max(1,Math.min(36,Math.floor(n))),i=tp(e.date)??new Date().toISOString(),s=e.due_date==null?null:tp(e.due_date),o=pm(e.rate_percent),c={user_id:t,type:e.type,party_name:e.party_name,title:e.title,amount:Number(r.toFixed(2))};if(e.notes!==void 0&&(c.notes=e.notes?.trim()?e.notes.trim():null),o!==void 0){const b=Math.max(0,Math.min(100,o));c.rate_percent=Number(b.toFixed(2))}const A=[];for(let b=0;b<a;b+=1){const x={...c,date:DR(i,b),tenor_months:a,tenor_sequence:b+1};e.due_date!==void 0&&(x.due_date=s?DR(s,b):null),A.push(x)}const{data:f,error:h}=await Ne.from("debts").insert(A).select("id, tenor_sequence");if(h)throw h;const p=Array.isArray(f)?f:f?[f]:[],g=p.find(b=>(b?.tenor_sequence??0)===1)??p[0];if(!g?.id)throw new Error("Gagal menambahkan hutang");const v=await MG(String(g.id),t);if(!v)throw new Error("Hutang tidak ditemukan setelah dibuat.");return gf(v)}catch(t){throw t instanceof Error&&t.message==="Nominal hutang tidak valid."?t:new Error("Gagal menambahkan hutang")}}async function nBe(e,t){try{const r=await Nf(),n={};t.type&&(n.type=t.type),t.party_name!=null&&(n.party_name=t.party_name),t.title!=null&&(n.title=t.title),t.date&&(n.date=tp(t.date)),t.due_date!==void 0&&(n.due_date=tp(t.due_date));const a=pm(t.amount);if(a!==void 0){if(a<=0)throw new Error("Nominal hutang tidak valid.");n.amount=Number(Math.max(0,a).toFixed(2))}const i=pm(t.rate_percent);if(i!==void 0){const f=Math.max(0,Math.min(100,i));n.rate_percent=Number(f.toFixed(2))}const s=pm(t.tenor_months);if(s!==void 0&&(n.tenor_months=Math.max(1,Math.min(36,Math.floor(s)))),t.notes!==void 0&&(n.notes=t.notes===null?null:t.notes.trim()?t.notes.trim():null),t.status&&(n.status=t.status),Object.keys(n).length===0){const{data:f,error:h}=await Ne.from("debts").select(pf).eq("id",e).eq("user_id",r).maybeSingle();if(h)throw h;if(!f)throw new Error("Hutang tidak ditemukan");return gf(f)}if(!("status"in n)&&(a!==void 0||t.due_date!==void 0)){const{data:f}=await Ne.from("debts").select("amount, paid_total, due_date").eq("id",e).eq("user_id",r).maybeSingle();if(f){const h=a!==void 0?Math.max(0,a):Bs(f.amount),p=Bs(f.paid_total),g=t.due_date!==void 0?n.due_date??null:f.due_date??null;n.status=FG(h,p,g)}}const{data:c,error:A}=await Ne.from("debts").update(n).eq("id",e).eq("user_id",r).select(pf).single();if(A)throw A;return gf(c)}catch(r){return xp(r,"Gagal memperbarui hutang")}}async function aBe(e){try{const t=await Nf(),{error:r}=await Ne.from("debts").delete().eq("id",e).eq("user_id",t);if(r)throw r}catch(t){return xp(t,"Gagal menghapus hutang")}}async function iBe(e,t){try{const r=await Nf(),n=await MG(e,r);if(!n)throw new Error("Hutang tidak ditemukan.");const a=typeof t.account_id=="string"?t.account_id.trim():"";if(!a)throw new Error("Pilih akun sumber pembayaran.");const i=Math.max(0,t.amount);if(!Number.isFinite(i)||i<=0)throw new Error("Nominal pembayaran tidak valid.");const s=tp(t.date)??new Date().toISOString(),o=s.slice(0,10),c=n.type==="receivable",A=c?"income":"expense",f=t.notes?.trim()?t.notes.trim():null,h=typeof n.party_name=="string"?n.party_name.trim():"",p=typeof n.title=="string"?n.title.trim():"",g=p||(c?`Pelunasan piutang${h?` - ${h}`:""}`:`Pembayaran hutang${h?` - ${h}`:""}`);let v=null;try{const{data:N,error:k}=await Ne.from("transactions").insert({user_id:r,type:A,amount:i.toFixed(2),date:o,account_id:a,title:g,notes:f}).select("id").single();if(k)throw k;v=N?.id??null}catch(N){throw N instanceof Error?N:new Error("Gagal membuat transaksi untuk pembayaran hutang.")}const b={debt_id:e,user_id:r,amount:i.toFixed(2),date:s,notes:f,account_id:a,transaction_id:v},{data:x,error:w}=await Ne.from("debt_payments").insert([b]).select("*, account:account_id (id, name)").single();if(w)throw v&&await Ne.from("transactions").delete().eq("id",v).eq("user_id",r),w;return{debt:await LG(e,r),payment:DG(x)}}catch(r){return xp(r,"Gagal menambahkan pembayaran")}}async function sBe(e){try{const t=await Nf(),{data:r,error:n}=await Ne.from("debt_payments").select("debt_id, transaction_id").eq("id",e).eq("user_id",t).maybeSingle();if(n)throw n;if(!r)throw new Error("Pembayaran tidak ditemukan");const{error:a}=await Ne.from("debt_payments").delete().eq("id",e).eq("user_id",t);if(a)throw a;if(r.transaction_id)try{await Ne.from("transactions").delete().eq("id",r.transaction_id).eq("user_id",t)}catch(s){}return await LG(r.debt_id,t)}catch(t){return xp(t,"Gagal menghapus pembayaran")}}function YT(){const[e,t]=B.useState({user:null,loading:!0});return B.useEffect(()=>{let r=!0;Ne.auth.getUser().then(({data:a})=>{r&&t({user:a.user??null,loading:!1})}).catch(()=>{r&&t({user:null,loading:!1})});const{data:n}=Ne.auth.onAuthStateChange((a,i)=>{r&&t({user:i?.user??null,loading:!1})});return()=>{r=!1,n.subscription?.unsubscribe()}},[]),e}const MR={q:"",type:"all",status:"all",dateField:"due_date",dateFrom:null,dateTo:null,sort:"newest"};function jd(e){if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t.toISOString()}function tC(e,t,r){if(t+1e-4>=e)return"paid";if(r){const n=new Date(r);if(!Number.isNaN(n.getTime())&&n.getTime()<Date.now())return"overdue"}return"ongoing"}function A0(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(Math.max(0,e))}const oBe=new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"long",year:"numeric"});function PR(e){if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:oBe.format(t)}function lBe(e){if(!e.date)return"unknown";const t=new Date(e.date);if(Number.isNaN(t.getTime()))return"unknown";const r=Math.max(0,Math.floor(e.tenor_sequence)-1);if(r<=0)return t.toISOString();const n=new Date(t.getTime());return n.setUTCMonth(n.getUTCMonth()-r),n.toISOString()}function QR(e){if(e.tenor_months<=1)return e.id;const t=e.party_name.trim().toLowerCase(),r=e.title.trim().toLowerCase(),n=(e.notes??"").trim().toLowerCase(),a=Number.isFinite(e.amount)?e.amount.toFixed(2):"0.00",i=e.rate_percent!=null&&Number.isFinite(e.rate_percent)?e.rate_percent.toFixed(4):"null",s=new Date(e.created_at),o=Number.isNaN(s.getTime())?lBe(e):s.toISOString();return[e.user_id,e.type,t,r,n,a,i,e.tenor_months,o].join("|")}function cBe(){const{addToast:e}=ci(),{user:t,loading:r}=YT(),n=!!t?.id,[a,i]=B.useState(MR),[s,o]=B.useState([]),[c,A]=B.useState(null),[f,h]=B.useState(!1),[p,g]=B.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(min-width: 768px)").matches),[v,b]=B.useState(!1),x=B.useId(),[w,S]=B.useState(!1),[N,k]=B.useState("create"),[C,T]=B.useState(null),[O,D]=B.useState(!1),[R,q]=B.useState(!1),[U,I]=B.useState(!1),[Q,H]=B.useState(null),[Y,K]=B.useState([]),[J,re]=B.useState(!1),[oe,V]=B.useState(!1),[W,P]=B.useState(null),[$,G]=B.useState([]),[ne,se]=B.useState(!1),[ve,he]=B.useState(null),[fe,Qe]=B.useState(!1),[$e,de]=B.useState(null),[ze,nt]=B.useState({}),Se=B.useCallback((Ge,Lt)=>{},[]);B.useEffect(()=>{let Ge=!0;return n?(h(!0),(async()=>{try{const Lt=await LR(a);if(!Ge)return;o(Lt.items),A(Lt.summary)}catch(Lt){Se(Lt,"fetch debts"),e("Gagal memuat daftar hutang","error")}finally{Ge&&h(!1)}})(),()=>{Ge=!1}):(o([]),A(null),h(!1),()=>{Ge=!1})},[a,e,Se,n]);const Z=B.useCallback(async()=>{if(!n){o([]),A(null);return}try{const Ge=await LR(a);o(Ge.items),A(Ge.summary)}catch(Ge){Se(Ge,"refresh debts")}},[a,Se,n]),Ke=()=>{if(!n){e("Masuk untuk menambah hutang atau piutang.","error");return}k("create"),T(null),S(!0)},st=Ge=>{if(!n){e("Masuk untuk mengubah data hutang.","error");return}T(Ge),k("edit"),S(!0)},ye=async Ge=>{if(!n){e("Mode offline tidak mendukung penyimpanan hutang.","error");return}if(D(!0),N==="create"){const Le=`temp-${Date.now()}`,ot={id:Le,user_id:"temp",type:Ge.type,party_name:Ge.party_name,title:Ge.title,date:jd(Ge.date)??new Date().toISOString(),due_date:jd(Ge.due_date??null),amount:Ge.amount,rate_percent:Ge.rate_percent??0,paid_total:0,remaining:Ge.amount,status:tC(Ge.amount,0,jd(Ge.due_date??null)),notes:Ge.notes??null,tenor_months:Ge.tenor_months,tenor_sequence:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};o(ht=>[ot,...ht]);try{const ht=await rBe(Ge);o(mt=>mt.map(It=>It.id===Le?ht:It)),e("Hutang berhasil ditambahkan","success"),await Z(),S(!1)}catch(ht){Se(ht,"create debt"),o(mt=>mt.filter(It=>It.id!==Le)),e("Gagal menambahkan hutang","error")}finally{D(!1)}return}if(!C)return;const Lt=s,Ot=Lt.map(Le=>Le.id===C.id?{...Le,type:Ge.type,party_name:Ge.party_name,title:Ge.title,date:jd(Ge.date)??Le.date,due_date:jd(Ge.due_date??null),amount:Ge.amount,rate_percent:Ge.rate_percent??Le.rate_percent??0,notes:Ge.notes??null,tenor_months:Ge.tenor_months,remaining:Math.max(Ge.amount-Le.paid_total,0),status:tC(Ge.amount,Le.paid_total,jd(Ge.due_date??null))}:Le);o(Ot);try{const Le=await nBe(C.id,Ge);o(ot=>ot.map(ht=>ht.id===C.id?Le:ht)),e("Hutang berhasil diperbarui","success"),await Z(),S(!1)}catch(Le){Se(Le,"update debt"),o(Lt),e("Gagal memperbarui hutang","error")}finally{D(!1)}},He=Ge=>{he(Ge)},Ve=async()=>{if(!ve)return;if(!n){e("Masuk untuk menghapus hutang.","error"),he(null);return}const Ge=ve;Qe(!0);const Lt=s;o(Ot=>Ot.filter(Le=>Le.id!==Ge.id));try{await aBe(Ge.id),e("Hutang berhasil dihapus","success"),await Z()}catch(Ot){Se(Ot,"delete debt"),e("Gagal menghapus hutang","error"),o(Lt)}finally{Qe(!1),he(null)}},ge=B.useMemo(()=>{if(!s.length)return new Map;const Ge=new Map;s.forEach(Ot=>{if(Ot.tenor_months<=1)return;const Le=QR(Ot),ot=Ge.get(Le);ot?ot.push(Ot):Ge.set(Le,[Ot])});const Lt=new Map;return Ge.forEach((Ot,Le)=>{if(!Ot.length)return;const ot=Ot.slice().sort((mt,It)=>{if(mt.tenor_sequence!==It.tenor_sequence)return mt.tenor_sequence-It.tenor_sequence;const Ce=new Date(mt.date).getTime(),Et=new Date(It.date).getTime();return Number.isNaN(Ce)||Number.isNaN(Et)?0:Ce-Et});let ht=ot.findIndex(mt=>mt.status!=="paid");ht===-1&&(ht=ot.length-1),Lt.set(Le,{items:ot,defaultIndex:ht})}),Lt},[s]);B.useEffect(()=>{nt(Ge=>{if(ge.size===0)return Object.keys(Ge).length?{}:Ge;let Lt=!1;const Ot={};return ge.forEach(({items:Le,defaultIndex:ot},ht)=>{const mt=Math.max(0,Le.length-1);let It=Ge[ht];(typeof It!="number"||Number.isNaN(It))&&(It=ot),It<0&&(It=0),It>mt&&(It=mt),Ot[ht]=It,It!==Ge[ht]&&(Lt=!0)}),Object.keys(Ge).length!==ge.size&&(Lt=!0),Lt?Ot:Ge})},[ge]);const{visibleDebts:je,tenorNavigation:we}=B.useMemo(()=>{if(!s.length)return{visibleDebts:[],tenorNavigation:{}};const Ge=new Set,Lt=[],Ot={};return s.forEach(Le=>{if(Le.tenor_months<=1){Lt.push(Le);return}const ot=QR(Le);if(Ge.has(ot))return;Ge.add(ot);const ht=ge.get(ot);if(!ht||ht.items.length===0){Lt.push(Le);return}const{items:mt,defaultIndex:It}=ht,Ce=Math.max(0,mt.length-1),Et=ze[ot],Pt=Math.max(0,Math.min(typeof Et=="number"?Et:It,Ce)),jr=mt[Pt];Lt.push(jr),Ot[jr.id]={key:ot,hasPrev:Pt>0,hasNext:Pt<Ce,currentIndex:Pt,total:mt.length}}),{visibleDebts:Lt,tenorNavigation:Ot}},[s,ge,ze]),Xe=B.useMemo(()=>{if(!a.dateFrom&&!a.dateTo)return null;const Ge=je.reduce((ht,mt)=>mt.type!=="debt"||typeof mt.amount!="number"||!Number.isFinite(mt.amount)?ht:ht+mt.amount,0),Lt=PR(a.dateFrom),Ot=PR(a.dateTo),Le=a.dateField==="created_at"?"tanggal dibuat":"tanggal jatuh tempo";let ot="";return Lt&&Ot?ot=a.dateFrom===a.dateTo?`pada ${Lt}`:`pada rentang ${Lt}  ${Ot}`:Lt?ot=`sejak ${Lt}`:Ot&&(ot=`hingga ${Ot}`),{total:Ge,description:`Nominal hutang berdasarkan ${Le}${ot?` ${ot}`:""}`}},[a.dateFrom,a.dateTo,a.dateField,je]),Pe=B.useCallback((Ge,Lt)=>{const Ot=ge.get(Ge);if(!Ot||Ot.items.length===0)return;const Le=Math.max(0,Ot.items.length-1);nt(ot=>{const ht=Math.max(0,Math.min(typeof ot[Ge]=="number"?ot[Ge]:Ot.defaultIndex,Le)),mt=Math.max(0,Math.min(ht+Lt,Le));return mt===ht?ot:{...ot,[Ge]:mt}})},[ge]),At=async()=>{if(!n){e("Masuk untuk mengekspor daftar hutang.","error");return}try{if(q(!0),!je.length){e("Tidak ada data untuk diekspor","info");return}const Ge=["Tipe","Pihak","Judul","Jatuh Tempo","Tenor","Jumlah","Terbayar","Sisa","Status","Catatan"],Lt=je.map(Ce=>[Ce.type==="debt"?"Hutang":"Piutang",Ce.party_name,Ce.title,Ce.due_date?new Date(Ce.due_date).toLocaleDateString("id-ID"):"",`${Ce.tenor_sequence}/${Ce.tenor_months}`,A0(Ce.amount),A0(Ce.paid_total),A0(Ce.remaining),Ce.status,Ce.notes??""]),Ot=Ce=>`"${Ce.replace(/"/g,'""')}"`,Le=[Ge,...Lt].map(Ce=>Ce.map(Et=>Ot(String(Et??""))).join(",")).join(`
`),ot=new Blob([Le],{type:"text/csv;charset=utf-8;"}),ht=URL.createObjectURL(ot),mt=document.createElement("a");mt.href=ht;const It=new Date().toISOString().replace(/[:T]/g,"-").slice(0,19);mt.download=`hutang-${It}.csv`,document.body.appendChild(mt),mt.click(),document.body.removeChild(mt),URL.revokeObjectURL(ht),e("Daftar hutang berhasil diekspor","success")}catch(Ge){Se(Ge,"export csv"),e("Gagal mengekspor CSV","error")}finally{q(!1)}},gt=async Ge=>{if(!n){e("Masuk untuk mengelola pembayaran hutang.","error");return}H(Ge),I(!0),re(!0),se(!0),t?.id?n1(t.id).then(Lt=>G(Lt)).catch(Lt=>{Se(Lt,"load accounts"),e("Gagal memuat akun sumber pembayaran.","error")}).finally(()=>{se(!1)}):(G([]),se(!1));try{const Lt=await tBe(Ge.id);Lt.debt&&(H(Lt.debt),o(Ot=>Ot.map(Le=>Le.id===Lt.debt.id?Lt.debt:Le))),K(Lt.payments)}catch(Lt){Se(Lt,"load payments"),e("Gagal memuat pembayaran","error")}finally{re(!1)}},St=async Ge=>{if(!Q)return;if(!n){e("Masuk untuk mencatat pembayaran hutang.","error");return}V(!0);const Lt=`temp-payment-${Date.now()}`,Ot=$.find(mt=>mt.id===Ge.account_id),Le={id:Lt,debt_id:Q.id,user_id:Q.user_id,amount:Ge.amount,date:jd(Ge.date)??new Date().toISOString(),notes:Ge.notes??null,account_id:Ge.account_id,account_name:Ot?.name??null,transaction_id:null,created_at:new Date().toISOString()};K(mt=>[Le,...mt]);const ot=Q,ht={...Q,paid_total:Q.paid_total+Ge.amount,remaining:Math.max(Q.remaining-Ge.amount,0),status:tC(Q.amount,Q.paid_total+Ge.amount,Q.due_date)};H(ht),o(mt=>mt.map(It=>It.id===ht.id?ht:It));try{const mt=await iBe(Q.id,Ge);mt.debt&&(H(mt.debt),o(It=>It.map(Ce=>Ce.id===mt.debt.id?mt.debt:Ce))),K(It=>[mt.payment,...It.filter(Ce=>Ce.id!==Lt)]),e("Pembayaran berhasil dicatat","success"),await Z()}catch(mt){Se(mt,"add payment"),K(It=>It.filter(Ce=>Ce.id!==Lt)),H(ot),o(It=>It.map(Ce=>Ce.id===ot.id?ot:Ce)),e("Gagal mencatat pembayaran","error")}finally{V(!1)}},Ze=Ge=>{de(Ge)},rt=async()=>{if(!$e||!Q)return;if(!n){e("Masuk untuk menghapus pembayaran hutang.","error"),de(null);return}const Ge=$e;P(Ge.id),K(Ot=>Ot.filter(Le=>Le.id!==Ge.id));const Lt=Q;try{const Ot=await sBe(Ge.id);Ot&&(H(Ot),o(Le=>Le.map(ot=>ot.id===Ot.id?Ot:ot))),e("Pembayaran dihapus","success"),await Z()}catch(Ot){Se(Ot,"delete payment"),K(Le=>[Ge,...Le]),H(Lt),o(Le=>Le.map(ot=>ot.id===Lt.id?Lt:ot)),e("Gagal menghapus pembayaran","error")}finally{P(null),de(null)}},$t=()=>{I(!1),H(null),K([]),de(null),P(null)},Ht=B.useMemo(()=>"Kelola hutang dan piutang dengan pencatatan pembayaran terkontrol.",[]),Vt=!n;B.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const Ge=window.matchMedia("(min-width: 768px)"),Lt=Ot=>{g(Ot.matches)};return g(Ge.matches),typeof Ge.addEventListener=="function"?(Ge.addEventListener("change",Lt),()=>Ge.removeEventListener("change",Lt)):(Ge.addListener(Lt),()=>Ge.removeListener(Lt))},[]);const Kt=p||v,nr=B.useMemo(()=>{let Ge=0;return a.q.trim()&&(Ge+=1),a.type!=="all"&&(Ge+=1),a.status!=="all"&&(Ge+=1),a.dateField!=="due_date"&&(Ge+=1),a.dateFrom&&(Ge+=1),a.dateTo&&(Ge+=1),a.sort!=="newest"&&(Ge+=1),Ge},[a]),wr=()=>{p||b(Ge=>!Ge)};return l.jsxs(il,{children:[l.jsxs("div",{className:"space-y-6 min-w-0",children:[l.jsxs(fo,{title:"Hutang",description:Ht,children:[l.jsxs("button",{type:"button",onClick:Ke,disabled:Vt,className:"inline-flex h-10 items-center justify-center gap-2 rounded-xl bg-brand px-4 text-sm font-semibold text-brand-foreground transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx(Jc,{className:"h-4 w-4","aria-hidden":"true"}),"Tambah Hutang/Piutang"]}),l.jsxs("button",{type:"button",onClick:At,disabled:R||Vt,className:"inline-flex h-10 items-center justify-center gap-2 rounded-xl border border-border bg-surface-1 px-4 text-sm font-medium text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60",children:[l.jsx(vb,{className:"h-4 w-4","aria-hidden":"true"}),R?"Mengekspor":"Export CSV"]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{type:"button",onClick:wr,className:tt("md:hidden flex w-full items-center justify-between gap-3 rounded-2xl border border-border/60 bg-surface-1/90 px-4 py-3 text-sm font-semibold text-text shadow-sm transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"),"aria-controls":x,"aria-expanded":p?!0:v,children:[l.jsxs("span",{className:"flex items-center gap-2",children:["Filter",nr>0?l.jsx("span",{className:"inline-flex min-w-[1.5rem] items-center justify-center rounded-full bg-brand px-2 py-0.5 text-xs font-semibold text-brand-foreground",children:nr}):null]}),l.jsx(UA,{className:tt("h-4 w-4 text-muted transition-transform duration-200",Kt?"rotate-180":"rotate-0"),"aria-hidden":"true"})]}),l.jsx("div",{id:x,"aria-hidden":!p&&!Kt,className:tt("transition-[max-height,opacity] duration-200 ease-in-out","md:max-h-none md:opacity-100 md:transition-none md:overflow-visible md:pointer-events-auto",!p&&"overflow-hidden",!p&&Kt&&"mt-3",!p&&!Kt&&"pointer-events-none",Kt?"max-h-[1200px] opacity-100":"max-h-0 opacity-0"),children:l.jsx(N_e,{filters:a,onChange:i,onReset:()=>i(MR)})})]}),Xe?l.jsxs("div",{className:"rounded-3xl border border-border/60 bg-surface-1/90 px-4 py-3 text-sm text-muted-foreground",children:[l.jsxs("span",{children:[Xe.description,":"]})," ",l.jsx("span",{className:"font-semibold text-foreground",children:A0(Xe.total)})]}):null,!r&&!n?l.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-surface-2/70 px-4 py-3 text-sm text-muted",children:"Mode offline aktif. Masuk untuk melihat dan mengelola data hutang yang tersimpan di cloud."}):null,l.jsx(x_e,{summary:c}),l.jsx("section",{className:"min-w-0",children:l.jsx(M_e,{debts:je,loading:f,onEdit:st,onDelete:He,onAddPayment:gt,tenorNavigation:we,onNavigateTenor:Pe})})]})]}),l.jsx(K_e,{open:w,mode:N,initialData:C,submitting:O,onSubmit:ye,onClose:()=>{O||(S(!1),T(null))}}),l.jsx(X_e,{open:U,debt:Q,payments:Y,loading:J,submitting:oe,deletingId:W,accounts:$,accountsLoading:ne,onClose:$t,onSubmit:St,onDeletePayment:Ze}),l.jsx(Sw,{open:!!ve,title:"Hapus hutang?",description:"Tindakan ini juga akan menghapus seluruh riwayat pembayaran terkait.",destructive:!0,loading:fe,confirmLabel:"Hapus",cancelLabel:"Batal",onConfirm:Ve,onCancel:()=>{fe||he(null)}}),l.jsx(Sw,{open:!!$e,title:"Hapus pembayaran?",description:"Pembayaran akan dihapus dari riwayat dan perhitungan total akan diperbarui.",destructive:!0,loading:!!W,confirmLabel:"Hapus",cancelLabel:"Batal",onConfirm:rt,onCancel:()=>{W||de(null)}})]})}const uBe=["#0EA5E9","#6366F1","#EC4899","#22C55E","#F97316","#FACC15","#14B8A6","#64748B"];function rC(e){if(!e)return"#";const t=e.toUpperCase();return(t.startsWith("#")?t:`#${t}`).replace(/[^#0-9A-F]/gi,"").slice(0,7)}function ABe({value:e,onChange:t,disabled:r=!1,name:n}){const a=B.useId(),i=B.useId(),s=rC(e)||"#",o=A=>{const f=rC(A.target.value);/^#[0-9A-F]{0,6}$/i.test(f)&&t(f)},c=A=>{const f=rC(A.target.value);/^#[0-9A-F]{6}$/i.test(f)&&t(f)};return l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:uBe.map(A=>{const f=A===s;return l.jsx("button",{type:"button",disabled:r,onClick:()=>t(A),className:"relative h-9 w-9 rounded-full border border-border-subtle/60 shadow-sm transition-transform duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/45 disabled:cursor-not-allowed disabled:opacity-60",style:{backgroundColor:A},"aria-label":`Pilih warna ${A}`,"aria-pressed":f,children:f?l.jsx("span",{className:"absolute inset-0 rounded-full border-[3px] border-border-strong ring-2 ring-primary/25","aria-hidden":"true"}):null},A)})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{htmlFor:a,className:"text-xs font-medium text-muted",children:"Palet"}),l.jsx("input",{id:a,name:n?`${n}-color-picker`:void 0,type:"color",className:"h-11 w-14 cursor-pointer rounded-2xl border border-border-subtle bg-transparent p-1.5 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/45 disabled:cursor-not-allowed disabled:opacity-60",value:/^#[0-9A-F]{6}$/i.test(s)?s:"#64748B",onChange:c,disabled:r,"aria-label":"Pilih warna menggunakan color picker"})]}),l.jsxs("div",{className:"flex min-w-[160px] flex-1 items-center gap-2",children:[l.jsx("label",{htmlFor:i,className:"text-xs font-medium text-muted",children:"Kode HEX"}),l.jsx("input",{id:i,name:n,type:"text",inputMode:"text",autoComplete:"off",maxLength:7,value:s,onChange:o,disabled:r,className:"form-control flex-1 uppercase tracking-wide",placeholder:"#RRGGBB"})]})]})]})}const dBe=[{value:"income",label:"Pemasukan"},{value:"expense",label:"Pengeluaran"}];function RR(e){return e==="income"?"income":"expense"}function PG({mode:e="create",initialValues:t,onSubmit:r,onCancel:n,isSubmitting:a=!1,allowTypeChange:i=e==="create"}){const s=t?.name??"",o=t?.color??"#64748B",c=RR(t?.type),[A,f]=B.useState(s),[h,p]=B.useState(o),[g,v]=B.useState(c),[b,x]=B.useState(null),[w,S]=B.useState(null),N=B.useId(),k=B.useId();B.useEffect(()=>{f(s),p(o),v(c),x(null),S(null)},[s,o,c]);const C=async T=>{T.preventDefault();const O=A.trim();let D=!1;if(!O||O.length<1||O.length>60?(x("Nama harus 1-60 karakter."),D=!0):x(null),/^#[0-9A-F]{6}$/i.test(h)?S(null):(S("Gunakan format #RRGGBB."),D=!0),!D)try{await r({name:O,color:h.toUpperCase(),type:g})}catch{}};return l.jsxs("form",{className:"space-y-4",onSubmit:C,noValidate:!0,children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("label",{htmlFor:N,className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-muted",children:"Nama kategori"}),l.jsx("input",{id:N,name:"category-name",value:A,onChange:T=>f(T.target.value),disabled:a,className:"h-10 w-full min-w-0 rounded-xl border border-border bg-surface-1/80 px-3 text-sm text-text placeholder:text-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60 disabled:cursor-not-allowed",placeholder:"Contoh: Gaji"}),b?l.jsx("p",{className:"mt-1 text-xs text-danger",children:b}):null]}),i?l.jsxs("div",{className:"min-w-0",children:[l.jsx("label",{htmlFor:k,className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-muted",children:"Tipe"}),l.jsx("select",{id:k,value:g,onChange:T=>v(RR(T.target.value)),disabled:a,className:"h-10 w-full min-w-0 rounded-xl border border-border bg-surface-1/80 px-3 text-sm text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60 disabled:cursor-not-allowed",children:dBe.map(T=>l.jsx("option",{value:T.value,children:T.label},T.value))})]}):null]}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-muted",children:"Warna"}),l.jsx(ABe,{value:h,onChange:p,disabled:a,name:"category-color"}),w?l.jsx("p",{className:"mt-1 text-xs text-danger",children:w}):null]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[n?l.jsx("button",{type:"button",onClick:n,disabled:a,className:"h-10 rounded-xl border border-border/70 bg-transparent px-4 text-sm font-medium text-muted transition-colors hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60 disabled:cursor-not-allowed",children:"Batal"}):null,l.jsx("button",{type:"submit",disabled:a,className:"inline-flex h-10 items-center justify-center rounded-xl bg-brand px-4 text-sm font-semibold text-white shadow transition-opacity focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60 disabled:cursor-not-allowed disabled:opacity-60",children:e==="edit"?"Simpan":"Tambah"})]})]})}const fBe={income:"Income",expense:"Expense"};function HR({type:e,title:t,items:r,editingId:n,pendingIds:a,loading:i=!1,onStartEdit:s,onCancelEdit:o,onSubmitEdit:c,onDelete:A,onMoveUp:f,onMoveDown:h}){const p=t??fBe[e]??"Kategori";return l.jsxs("section",{className:"flex h-full min-w-0 flex-col rounded-2xl border border-border/60 bg-surface-1/60 p-4 shadow-sm",children:[l.jsx("header",{className:"mb-4 flex items-center justify-between",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("h2",{className:"text-sm font-semibold text-text",children:p}),l.jsx("p",{className:"text-xs text-muted",children:i?"Memuat...":`${r.length} kategori`})]})}),i?l.jsx("div",{className:"flex flex-1 items-center justify-center text-muted",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(pr,{className:"h-4 w-4 animate-spin"})," Memuat daftar..."]})}):r.length===0?l.jsxs("p",{className:"mt-4 text-sm text-muted",children:["Belum ada kategori ",e==="income"?"pemasukan":"pengeluaran","."]}):l.jsx("ul",{className:"flex-1 space-y-3 overflow-y-auto pr-1",children:r.map((g,v)=>{const b=n===g.id,x=v===0,w=v===r.length-1,S=a.has(g.id);return l.jsx("li",{className:"rounded-xl border border-border/60 bg-surface-1/80 p-3 shadow-sm",children:b?l.jsx(PG,{mode:"edit",initialValues:{name:g.name,color:g.color,type:g.type},onSubmit:N=>c(g,N),onCancel:o,isSubmitting:S,allowTypeChange:!1}):l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsx("span",{className:"h-3.5 w-3.5 rounded-full border border-white/20",style:{backgroundColor:g.color||"#64748B"},"aria-hidden":"true"}),l.jsx("span",{className:"min-w-0 flex-1 truncate text-sm font-medium text-text",children:g.name||"Tanpa nama"}),l.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[l.jsx("button",{type:"button",onClick:()=>f(g.id),disabled:x||S,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-border/70 bg-transparent text-muted transition-colors hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Naikkan urutan",children:l.jsx(Xh,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",onClick:()=>h(g.id),disabled:w||S,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-border/70 bg-transparent text-muted transition-colors hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Turunkan urutan",children:l.jsx(Yh,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",onClick:()=>s(g.id),disabled:S,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-border/70 bg-transparent text-muted transition-colors hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Edit kategori",children:l.jsx(tl,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",onClick:()=>A(g),disabled:S,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-border/70 bg-transparent text-rose-400 transition-colors hover:text-rose-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Hapus kategori",children:l.jsx(In,{className:"h-4 w-4"})})]})]})},g.id)})})]})}function Cg(e,t){return e instanceof Error&&e.message?e.message:typeof e=="string"?e:t}function hBe({open:e,title:t,description:r,confirmLabel:n="Hapus",cancelLabel:a="Batal",busy:i=!1,onConfirm:s,onCancel:o}){by(e);const c=B.useMemo(()=>`confirm-title-${Math.random().toString(36).slice(2)}`,[]),A=B.useMemo(()=>`confirm-description-${Math.random().toString(36).slice(2)}`,[]);return B.useEffect(()=>{if(!e)return;const f=h=>{h.key==="Escape"&&(h.preventDefault(),o())};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[e,o]),!e||typeof document>"u"?null:co.createPortal(l.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/50 p-4 backdrop-blur",children:l.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-labelledby":c,"aria-describedby":A,className:"w-full max-w-sm rounded-2xl border border-border/70 bg-surface-1/95 p-5 shadow-xl",children:[l.jsx("h2",{id:c,className:"text-sm font-semibold text-text",children:t}),l.jsx("p",{id:A,className:"mt-2 text-sm text-muted",children:r}),l.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:o,disabled:i,className:"h-10 rounded-xl border border-border/70 bg-transparent px-4 text-sm font-medium text-muted transition-colors hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/60 disabled:cursor-not-allowed",children:a}),l.jsx("button",{type:"button",onClick:s,disabled:i,className:"inline-flex h-10 items-center justify-center rounded-xl bg-danger px-4 text-sm font-semibold text-white shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger/60 disabled:cursor-not-allowed disabled:opacity-60",children:i?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):n})]})]})}),document.body)}function $R(e){return[...e].sort((t,r)=>{if(t.type!==r.type)return t.type.localeCompare(r.type);const n=(t.sort_order??0)-(r.sort_order??0);return n!==0?n:t.name.localeCompare(r.name,void 0,{sensitivity:"base"})})}function mBe(e,t){const r=e.filter(a=>a.type===t).sort((a,i)=>{const s=(a.sort_order??0)-(i.sort_order??0);return s!==0?s:a.name.localeCompare(i.name,void 0,{sensitivity:"base"})}).map(a=>a.id),n=new Map(r.map((a,i)=>[a,i]));return e.map(a=>a.type===t&&n.has(a.id)?{...a,sort_order:n.get(a.id)}:a)}function pBe(){const{addToast:e}=ci(),[t,r]=B.useState([]),[n,a]=B.useState(!0),[i,s]=B.useState(null),[o,c]=B.useState(null),[A,f]=B.useState(!1),[h,p]=B.useState(0),[g,v]=B.useState(new Set),[b,x]=B.useState(null),w=B.useCallback(U=>{v(I=>{const Q=new Set(I);return U.forEach(H=>Q.add(H)),Q})},[]),S=B.useCallback(U=>{v(I=>{const Q=new Set(I);return U.forEach(H=>Q.delete(H)),Q})},[]),N=B.useCallback(async U=>{a(!0),s(null);try{const I=await tf(U);if(U?.aborted)return;r(I)}catch(I){if(U?.aborted)return;const Q=Cg(I,"Gagal memuat kategori.");s(Q),e(Q,"error")}finally{U?.aborted||a(!1)}},[e]);B.useEffect(()=>{const U=new AbortController;return N(U.signal),()=>U.abort()},[N]);const k=B.useMemo(()=>{const U=$R(t.filter(Q=>Q.type==="income")),I=$R(t.filter(Q=>Q.type==="expense"));return{income:U,expense:I}},[t]),C=B.useCallback((U,I,Q)=>{const H=I.trim().toLowerCase();return H?t.some(Y=>Y.type===U&&Y.id!==Q&&Y.name.trim().toLowerCase()===H):!1},[t]),T=B.useCallback(async U=>{const I=U.name.trim(),Q=U.color.toUpperCase(),H=U.type;if(!I||I.length>60){e("Nama kategori harus 1-60 karakter.","error");return}if(!/^#[0-9A-F]{6}$/i.test(Q)){e("Gunakan warna dengan format #RRGGBB.","error");return}if(C(H,I)){e("Nama kategori sudah digunakan pada tipe ini.","error");return}const Y=globalThis.crypto?.randomUUID?.()??Math.random().toString(36).slice(2),K={id:Y,user_id:null,name:I,color:Q,type:H,sort_order:k[H].length,created_at:null,updated_at:null};r(J=>[...J,K]),f(!0);try{const J=await Y0({name:I,type:H,color:Q});r(re=>re.map(oe=>oe.id===Y?J:oe)),p(re=>re+1),e("Kategori berhasil ditambahkan.","success")}catch(J){r(re=>re.filter(oe=>oe.id!==Y)),e(Cg(J,"Gagal menambah kategori."),"error")}finally{f(!1)}},[e,k,C]),O=B.useCallback(async(U,I)=>{const Q=I.name.trim(),H=I.color.toUpperCase();if(!Q||Q.length>60){e("Nama kategori harus 1-60 karakter.","error");return}if(!/^#[0-9A-F]{6}$/i.test(H)){e("Gunakan warna dengan format #RRGGBB.","error");return}if(C(U.type,Q,U.id)){e("Nama kategori sudah digunakan pada tipe ini.","error");return}const Y=t;r(K=>K.map(J=>J.id===U.id?{...J,name:Q,color:H}:J)),w([U.id]);try{const K=await X0(U.id,{name:Q,color:H});r(J=>J.map(re=>re.id===K.id?{...re,...K}:re)),c(null),e("Perubahan kategori disimpan.","success")}catch(K){r(Y),e(Cg(K,"Gagal memperbarui kategori."),"error")}finally{S([U.id])}},[e,w,t,C,S]),D=B.useCallback(async(U,I,Q)=>{const H=U==="income"?k.income:k.expense,Y=H.findIndex(P=>P.id===I);if(Y<0)return;const K=Q==="up"?Y-1:Y+1;if(K<0||K>=H.length)return;const J=t,re=[...H],[oe]=re.splice(Y,1);re.splice(K,0,oe);const V=re.map(P=>P.id),W=new Map(V.map((P,$)=>[P,$]));r(P=>P.map($=>$.type===U&&W.has($.id)?{...$,sort_order:W.get($.id)}:$)),w(V);try{await J0(U,V)}catch(P){r(J),e(Cg(P,"Gagal mengurutkan kategori."),"error")}finally{S(V)}},[w,e,t,k,S]),R=B.useCallback(async U=>{const I=t,Q=I.filter(Y=>Y.id!==U.id),H=mBe(Q,U.type);r(H),w([U.id]);try{await y1e(U.id),e("Kategori dihapus.","success")}catch(Y){r(I),e(Cg(Y,"Gagal menghapus kategori."),"error")}finally{S([U.id])}},[w,e,t,S]),q=B.useCallback(async()=>{if(!b)return;await R(b),x(null)},[b,R]);return l.jsxs(il,{children:[l.jsxs("div",{className:"space-y-[var(--section-y)]",children:[l.jsx(fo,{title:"Manajemen Kategori",description:"Buat, ubah, hapus, dan atur urutan kategori pemasukan dan pengeluaran."}),l.jsxs("section",{className:"rounded-2xl border border-border/60 bg-surface-1/70 p-6 shadow-sm",children:[l.jsx("h2",{className:"text-base font-semibold text-text",children:"Tambah kategori baru"}),l.jsx("p",{className:"mt-1 text-sm text-muted",children:"Pilih tipe kategori, beri nama, dan sesuaikan warnanya."}),l.jsx("div",{className:"mt-4",children:l.jsx(PG,{mode:"create",initialValues:{name:"",color:"#0EA5E9",type:"expense"},onSubmit:T,isSubmitting:A},h)})]}),i?l.jsx("div",{className:"rounded-2xl border border-danger/40 bg-danger/10 p-4 text-sm text-danger",children:l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{children:i}),l.jsx("button",{type:"button",onClick:()=>N(),className:"inline-flex items-center gap-2 rounded-full border border-danger/40 px-3 py-1 text-xs font-semibold text-danger transition-colors hover:bg-danger/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-danger/60",children:"Coba lagi"})]})}):null,l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsx(HR,{type:"income",title:"Pemasukan",items:k.income,editingId:o,pendingIds:g,loading:n,onStartEdit:c,onCancelEdit:()=>c(null),onSubmitEdit:O,onDelete:U=>x(U),onMoveUp:U=>D("income",U,"up"),onMoveDown:U=>D("income",U,"down")}),l.jsx(HR,{type:"expense",title:"Pengeluaran",items:k.expense,editingId:o,pendingIds:g,loading:n,onStartEdit:c,onCancelEdit:()=>c(null),onSubmitEdit:O,onDelete:U=>x(U),onMoveUp:U=>D("expense",U,"up"),onMoveDown:U=>D("expense",U,"down")})]})]}),l.jsx(hBe,{open:!!b,title:"Hapus kategori?",description:"Kategori yang dihapus tidak dapat dikembalikan dan akan dilepas dari transaksi terkait.",busy:b?g.has(b.id):!1,onConfirm:q,onCancel:()=>x(null)})]})}function kh(e,t,r){let n=r.initialDeps??[],a;function i(){var s,o,c,A;let f;r.key&&((s=r.debug)!=null&&s.call(r))&&(f=Date.now());const h=e();if(!(h.length!==n.length||h.some((v,b)=>n[b]!==v)))return a;n=h;let g;if(r.key&&((o=r.debug)!=null&&o.call(r))&&(g=Date.now()),a=t(...h),r.key&&((c=r.debug)!=null&&c.call(r))){const v=Math.round((Date.now()-f)*100)/100,b=Math.round((Date.now()-g)*100)/100,x=b/16,w=(S,N)=>{for(S=String(S);S.length<N;)S=" "+S;return S};console.info(`%c ${w(b,5)} /${w(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,r?.key)}return(A=r?.onChange)==null||A.call(r,a),a}return i.updateDeps=s=>{n=s},i}function qR(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const gBe=(e,t)=>Math.abs(e-t)<1.01,bBe=(e,t,r)=>{let n;return function(...a){e.clearTimeout(n),n=e.setTimeout(()=>t.apply(this,a),r)}},KR=e=>{const{offsetWidth:t,offsetHeight:r}=e;return{width:t,height:r}},yBe=e=>e,vBe=e=>{const t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let a=t;a<=r;a++)n.push(a);return n},xBe=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;const a=s=>{const{width:o,height:c}=s;t({width:Math.round(o),height:Math.round(c)})};if(a(KR(r)),!n.ResizeObserver)return()=>{};const i=new n.ResizeObserver(s=>{const o=()=>{const c=s[0];if(c?.borderBoxSize){const A=c.borderBoxSize[0];if(A){a({width:A.inlineSize,height:A.blockSize});return}}a(KR(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(r,{box:"border-box"}),()=>{i.unobserve(r)}},zR={passive:!0},GR=typeof window>"u"?!0:"onscrollend"in window,wBe=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;let a=0;const i=e.options.useScrollendEvent&&GR?()=>{}:bBe(n,()=>{t(a,!1)},e.options.isScrollingResetDelay),s=f=>()=>{const{horizontal:h,isRtl:p}=e.options;a=h?r.scrollLeft*(p&&-1||1):r.scrollTop,i(),t(a,f)},o=s(!0),c=s(!1);c(),r.addEventListener("scroll",o,zR);const A=e.options.useScrollendEvent&&GR;return A&&r.addEventListener("scrollend",c,zR),()=>{r.removeEventListener("scroll",o),A&&r.removeEventListener("scrollend",c)}},_Be=(e,t,r)=>{if(t?.borderBoxSize){const n=t.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},BBe=(e,{adjustments:t=0,behavior:r},n)=>{var a,i;const s=e+t;(i=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||i.call(a,{[n.options.horizontal?"left":"top"]:s,behavior:r})};class SBe{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(i=>{const s=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var i;return(i=n())==null?void 0:i.observe(a,{box:"border-box"})},unobserve:a=>{var i;return(i=n())==null?void 0:i.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:yBe,rangeExtractor:vBe,onChange:()=>{},measureElement:_Be,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=kh(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,i=new Map;for(let s=n-1;s>=0;s--){const o=r[s];if(a.has(o.lane))continue;const c=i.get(o.lane);if(c==null||o.end>c.end?i.set(o.lane,o):o.end<c.end&&a.set(o.lane,!0),a.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((s,o)=>s.end===o.end?s.index-o.index:s.end-o.end)[0]:void 0},this.getMeasurementOptions=kh(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,i,s)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:i,enabled:s}),{key:!1}),this.getMeasurements=kh(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:i,enabled:s},o)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const A=this.measurementsCache.slice(0,c);for(let f=c;f<r;f++){const h=i(f),p=this.options.lanes===1?A[f-1]:this.getFurthestMeasurement(A,f),g=p?p.end+this.options.gap:n+a,v=o.get(h),b=typeof v=="number"?v:this.options.estimateSize(f),x=g+b,w=p?p.lane:f%this.options.lanes;A[f]={index:f,start:g,size:b,end:x,key:h,lane:w}}return this.measurementsCache=A,A},{key:!1,debug:()=>this.options.debug}),this.calculateRange=kh(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,i)=>this.range=r.length>0&&n>0?NBe({measurements:r,outerSize:n,scrollOffset:a,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=kh(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,i,s)=>i===null||s===null?[]:r({startIndex:i,endIndex:s,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),i=this.measurementsCache[a];if(!i)return;const s=i.key,o=this.elementsCache.get(s);o!==r&&(o&&this.observer.unobserve(o),this.observer.observe(r),this.elementsCache.set(s,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const i=this.itemSizeCache.get(a.key)??a.size,s=n-i;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,s,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=kh(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let i=0,s=r.length;i<s;i++){const o=r[i],c=n[o];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return qR(n[QG(0,n.length-1,a=>qR(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const i=this.getSize(),s=this.getScrollOffset();n==="auto"&&(n=r>=s+i?"end":"start"),n==="center"?r+=(a-i)/2:n==="end"&&(r-=i);const o=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(o,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const i=this.getSize(),s=this.getScrollOffset();if(n==="auto")if(a.end>=s+i-this.options.scrollPaddingEnd)n="end";else if(a.start<=s+this.options.scrollPaddingStart)n="start";else return[s,n];const o=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let i=0;const s=10,o=A=>{if(!this.targetWindow)return;const f=this.getOffsetForIndex(r,A);if(!f){console.warn("Failed to get offset for index:",r);return}const[h,p]=f;this._scrollToOffset(h,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const g=this.getScrollOffset(),v=this.getOffsetForIndex(r,p);if(!v){console.warn("Failed to get offset for index:",r);return}gBe(v[0],g)||c(p)})},c=A=>{this.targetWindow&&(i++,i<s?this.targetWindow.requestAnimationFrame(()=>o(A)):console.warn(`Failed to scroll to index ${r} after ${s} attempts.`))};o(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const i=Array(this.options.lanes).fill(null);let s=n.length-1;for(;s>=0&&i.some(o=>o===null);){const o=n[s];i[o.lane]===null&&(i[o.lane]=o.end),s--}a=Math.max(...i.filter(o=>o!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const QG=(e,t,r,n)=>{for(;e<=t;){const a=(e+t)/2|0,i=r(a);if(i<n)e=a+1;else if(i>n)t=a-1;else return a}return e>0?e-1:0};function NBe({measurements:e,outerSize:t,scrollOffset:r,lanes:n}){const a=e.length-1,i=c=>e[c].start;if(e.length<=n)return{startIndex:0,endIndex:a};let s=QG(0,a,i,r),o=s;if(n===1)for(;o<a&&e[o].end<r+t;)o++;else if(n>1){const c=Array(n).fill(0);for(;o<a&&c.some(f=>f<r+t);){const f=e[o];c[f.lane]=f.end,o++}const A=Array(n).fill(r+t);for(;s>=0&&A.some(f=>f>=r);){const f=e[s];A[f.lane]=f.start,s--}s=Math.max(0,s-s%n),o=Math.min(a,o+(n-1-o%n))}return{startIndex:s,endIndex:o}}const VR=typeof document<"u"?B.useLayoutEffect:B.useEffect;function CBe(e){const t=B.useReducer(()=>({}),{})[1],r={...e,onChange:(a,i)=>{var s;i?co.flushSync(t):t(),(s=e.onChange)==null||s.call(e,a,i)}},[n]=B.useState(()=>new SBe(r));return n.setOptions(r),VR(()=>n._didMount(),[]),VR(()=>n._willUpdate()),n}function jBe(e){return CBe({observeElementRect:xBe,observeElementOffset:wBe,scrollToFn:BBe,...e})}function kBe({column:e,hidden:t,onSortChange:r,sort:n}){if(t)return null;const[a,i]=n?.split("-")??[],s=a===e.id,o=s&&i==="asc"?"desc":"asc",c=()=>{if(!r||!(e.sortField??e.id))return;const f=e.sortField?e.sortField:e.id;r(`${f}-${o}`)};return l.jsx("th",{scope:"col",className:tt("px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-muted-foreground",e.align==="right"&&"text-right",e.align==="center"&&"text-center",e.headerClassName,"whitespace-nowrap"),children:l.jsxs("button",{type:"button",onClick:e.sortable?c:void 0,className:tt("flex items-center gap-1",e.align==="right"&&"justify-end",e.align==="center"&&"justify-center",!e.sortable&&"cursor-default"),disabled:!e.sortable,children:[l.jsx("span",{className:"truncate",children:e.label}),e.sortable&&s&&l.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:i==="asc"?"":""})]})},e.id)}function EBe({columns:e,rows:t,hiddenColumns:r,selectedIds:n,onToggleSelect:a,onToggleAll:i,sort:s,onSortChange:o,loading:c}){if(!Array.isArray(t))return null;const A=r||new Set,f=B.useRef(null),h=jBe({count:!c&&t.length?t.length:0,getScrollElement:()=>f.current,estimateSize:()=>60,overscan:8,getItemKey:k=>t[k]?.id??k}),p=h.getVirtualItems(),g=h.getTotalSize(),v=p[0],b=p.length>0?p[p.length-1]:null,x={top:v?.start??0,bottom:b?g-b.end:0},w=t.length>0&&t.every(k=>n?.has(k.id)),S=t.some(k=>n?.has(k.id))&&!w,N=B.useMemo(()=>e.length+2,[e.length]);return l.jsx("div",{className:"-mx-3 px-3 md:mx-0 md:px-0",children:l.jsx("div",{ref:f,className:"overflow-x-auto md:max-h-[70vh] md:overflow-y-auto",children:l.jsxs("table",{className:"table-auto md:table-fixed w-full text-sm",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur",children:l.jsxs("tr",{className:"text-left",children:[l.jsx("th",{scope:"col",className:"w-12 px-3 py-2",children:l.jsx("label",{className:"flex h-4 items-center justify-center",children:l.jsx("input",{type:"checkbox",checked:w,ref:k=>{k&&(k.indeterminate=S)},onChange:()=>i?.(),className:"h-4 w-4 rounded border-muted"})})}),e.map(k=>l.jsx(kBe,{column:k,hidden:A.has(k.id),onSortChange:o,sort:s},k.id)),l.jsx("th",{className:"w-12 px-3 py-2"})]})}),l.jsx("tbody",{className:"divide-y divide-border/60",children:c?l.jsx("tr",{children:l.jsx("td",{colSpan:N,className:"px-3 py-10 text-center text-muted-foreground",children:"Memuat data..."})}):t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:N,className:"px-3 py-10 text-center text-muted-foreground",children:"Tidak ada data"})}):l.jsxs(l.Fragment,{children:[x.top>0?l.jsx("tr",{"aria-hidden":"true",children:l.jsx("td",{colSpan:N,style:{height:`${x.top}px`}})}):null,p.map(k=>{const C=t[k.index];return C?l.jsxs("tr",{ref:h.measureElement,"data-index":k.index,className:"odd:bg-muted/30 hover:bg-muted/50",children:[l.jsx("td",{className:"w-12 px-3 py-2 align-middle",children:l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-muted",checked:n?.has(C.id),onChange:()=>a?.(C)})}),e.map(T=>{if(A.has(T.id))return l.jsx(B.Fragment,{},T.id);const O=T.render?T.render(C):T.accessor?T.accessor(C):C[T.id],D=tt("px-3 py-2 align-middle text-sm text-foreground",T.align==="right"&&"text-right tabular-nums",T.align==="center"&&"text-center",T.className,!T.render&&"max-w-[220px] truncate");return l.jsx("td",{className:D,title:!T.render&&typeof O=="string"?O:void 0,children:O??(T.render?null:"-")},T.id)}),l.jsx("td",{className:"w-12 px-3 py-2 text-right",children:C.__actions||null})]},C.id||k.index):null}),x.bottom>0?l.jsx("tr",{"aria-hidden":"true",children:l.jsx("td",{colSpan:N,style:{height:`${x.bottom}px`}})}):null]})})]})})})}const TBe=[{value:"income",label:"Pemasukan"},{value:"expense",label:"Pengeluaran"},{value:"transfer",label:"Transfer"}];function nC(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${a}`}function aC(e){return e?Array.isArray(e)?e:String(e).split(",").map(t=>t.trim()).filter(Boolean):[]}function OBe({status:e}){return!e||e.state==="idle"?null:e.state==="saving"?l.jsx(pr,{className:"ml-2 h-4 w-4 animate-spin text-muted-foreground","aria-hidden":"true"}):e.state==="saved"?l.jsx(Ww,{className:"ml-2 h-4 w-4 text-emerald-500","aria-hidden":"true"}):e.state==="error"?l.jsx(zc,{className:"ml-2 h-4 w-4 text-red-500","aria-hidden":"true"}):null}function wp({children:e,status:t,className:r,variant:n="table"}){return l.jsxs("div",{className:tt("group/field flex min-w-0 items-center gap-2",n==="sheet"?"rounded-2xl border border-border bg-background/80 px-3 py-2":"rounded-lg px-2 py-1.5",r),children:[l.jsx("div",{className:"min-w-0 flex-1",children:e}),l.jsx("span",{className:"sr-only","aria-live":"polite",children:t?.state==="saving"?"Menyimpan":t?.state==="saved"?"Tersimpan":t?.state==="error"?t?.message||"Gagal menyimpan":"Siap"}),l.jsx(OBe,{status:t})]})}function RG({row:e,editing:t,variant:r="table",autoFocus:n=!1}){const a=t.getStatus(e.id,"date"),[i,s]=B.useState(()=>nC(e.date));B.useEffect(()=>{a.state!=="saving"&&s(nC(e.date))},[e.date,a.state]);const o=f=>{s(f.target.value),t.queueUpdate(e.id,"date",f.target.value,{debounceMs:0})},c=()=>{t.flushUpdate(e.id,"date")},A=f=>{f.key==="Enter"?(f.preventDefault(),t.flushUpdate(e.id,"date")):f.key==="Escape"&&(f.preventDefault(),t.cancelUpdate(e.id,"date"),s(nC(e.date)))};return l.jsx(wp,{status:a,variant:r,children:l.jsx("input",{type:"date",value:i,onChange:o,onBlur:c,onKeyDown:A,autoFocus:n,className:"w-full rounded-md border border-border bg-transparent px-2 py-1 text-sm text-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-primary"})})}function HG({row:e,editing:t,variant:r="table",autoFocus:n=!1}){const a=t.getStatus(e.id,"title"),i=e.title??e.notes??"",[s,o]=B.useState(i);B.useEffect(()=>{a.state!=="saving"&&o(e.title??e.notes??"")},[e.title,e.notes,a.state]);const c=h=>{o(h.target.value),t.queueUpdate(e.id,"title",h.target.value,{debounceMs:400})},A=()=>{t.flushUpdate(e.id,"title")},f=h=>{h.key==="Enter"?(h.preventDefault(),t.flushUpdate(e.id,"title")):h.key==="Escape"&&(h.preventDefault(),t.cancelUpdate(e.id,"title"),o(e.title??e.notes??""))};return l.jsx(wp,{status:a,variant:r,children:l.jsx("input",{type:"text",value:s,placeholder:"Catatan",onChange:c,onBlur:A,onKeyDown:f,autoFocus:n,className:"w-full rounded-md border border-transparent bg-transparent px-2 py-1 text-sm text-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-primary"})})}function $G({row:e,editing:t,variant:r="table"}){const n=t.getStatus(e.id,"type"),a=i=>{t.commitUpdate(e.id,"type",i.target.value)};return l.jsx(wp,{status:n,variant:r,children:l.jsx("select",{value:e.type||"expense",onChange:a,className:"w-full rounded-md border border-border bg-background px-2 py-1 text-sm capitalize text-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:TBe.map(i=>l.jsx("option",{value:i.value,className:"capitalize",children:i.label},i.value))})})}function IBe(e,t){const r=B.useRef(null);return B.useEffect(()=>{t&&r.current&&r.current.focus()},[t]),r}function qG({row:e,editing:t,field:r,options:n,placeholder:a,variant:i}){const s=t.getStatus(e.id,r),[o,c]=B.useState(!1),[A,f]=B.useState(""),h=B.useRef(null),p=B.useMemo(()=>r==="category"?e.category?.name??e.category??"":r==="account"?e.account?.name??e.account??"":"",[e,r]),g=r==="category"?e.category_id:e.account_id;B.useEffect(()=>{o||f("")},[o]),B.useEffect(()=>{!o&&s.state!=="saving"&&f("")},[s.state,o]);const v=B.useMemo(()=>{if(!A.trim())return n;const S=A.trim().toLowerCase();return n.filter(N=>N.name.toLowerCase().includes(S))},[n,A]),b=S=>{t.commitUpdate(e.id,r,S?.id||null),c(!1)},x=()=>{t.commitUpdate(e.id,r,null),c(!1)},w=IBe(n,o);return l.jsxs(wp,{status:s,variant:i,className:"relative",children:[l.jsxs("button",{type:"button",ref:h,onClick:()=>c(S=>!S),className:"flex w-full items-center justify-between rounded-md border border-border bg-background px-2 py-1 text-sm text-left text-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[l.jsx("span",{className:tt("truncate",!g&&!p&&"text-muted-foreground"),children:p||a}),l.jsx(UA,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"})]}),o&&l.jsxs("div",{className:"absolute left-0 top-full z-30 mt-1 w-56 rounded-xl border border-border bg-popover p-2 shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-border bg-background px-2 py-1",children:[l.jsx("input",{ref:w,type:"text",placeholder:`Cari ${a.toLowerCase()}`,value:A,onChange:S=>f(S.target.value),className:"w-full bg-transparent text-sm text-foreground focus:outline-none"}),A&&l.jsx("button",{type:"button",className:"text-xs text-muted-foreground",onClick:()=>f(""),children:"Hapus"})]}),l.jsx("div",{className:"mt-2 max-h-48 min-h-[40px] overflow-y-auto",children:v.length===0?l.jsx("p",{className:"px-2 py-1 text-xs text-muted-foreground",children:"Tidak ada hasil"}):v.map(S=>l.jsxs("button",{type:"button",onClick:()=>b(S),className:tt("flex w-full items-center justify-between rounded-md px-2 py-1 text-sm",S.id===g?"bg-primary/10 text-primary":"hover:bg-muted/60"),children:[l.jsx("span",{className:"truncate",children:S.name}),S.id===g?l.jsx(Ww,{className:"h-4 w-4","aria-hidden":"true"}):null]},S.id))}),l.jsxs("div",{className:"mt-2 flex justify-between",children:[l.jsx("button",{type:"button",className:"text-xs text-muted-foreground",onClick:()=>c(!1),children:"Tutup"}),l.jsx("button",{type:"button",className:"text-xs text-primary",onClick:x,children:"Kosongkan"})]})]})]})}function KG({row:e,editing:t,variant:r="table"}){return l.jsx(qG,{row:e,editing:t,field:"category",options:t.categories||[],placeholder:"Pilih kategori",variant:r})}function zG({row:e,editing:t,variant:r="table"}){return l.jsx(qG,{row:e,editing:t,field:"account",options:t.accounts||[],placeholder:"Pilih akun",variant:r})}function UBe(e){return e?e.replace(/[^0-9,-.]/g,"").replace(/,/g,"."):""}function FBe(e){if(e==null||e==="")return"";const t=Number(e);return Number.isFinite(t)?new Intl.NumberFormat("id-ID").format(t):""}function GG({row:e,editing:t,variant:r="table",autoFocus:n=!1}){const a=t.getStatus(e.id,"amount"),[i,s]=B.useState(!1),[o,c]=B.useState(()=>e.amount!=null?String(e.amount):"");B.useEffect(()=>{!i&&a.state!=="saving"&&c(e.amount!=null?String(e.amount):"")},[e.amount,i,a.state]);const A=g=>{const v=UBe(g.target.value);c(v)},f=()=>{t.commitUpdate(e.id,"amount",o||null)},h=()=>{s(!1),f()},p=g=>{g.key==="Enter"?(g.preventDefault(),f(),s(!1)):g.key==="Escape"&&(g.preventDefault(),t.cancelUpdate(e.id,"amount"),c(e.amount!=null?String(e.amount):""),s(!1))};return l.jsx(wp,{status:a,variant:r,children:l.jsx("input",{type:"text",inputMode:"decimal",autoFocus:n,onFocus:()=>s(!0),onBlur:h,value:i?o:FBe(e.amount),onChange:A,onKeyDown:p,className:"w-full rounded-md border border-border bg-background px-2 py-1 text-right text-sm text-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-primary"})})}function VG({row:e,editing:t,variant:r="table",autoFocus:n=!1}){const a=t.getStatus(e.id,"tags"),[i,s]=B.useState(()=>aC(e.tags)),[o,c]=B.useState(""),A=B.useRef(null);B.useEffect(()=>{s(aC(e.tags))},[e.tags]),B.useEffect(()=>{n&&A.current&&A.current.focus()},[n]);const f=x=>{s(x),t.commitUpdate(e.id,"tags",x.join(","))},h=x=>{const w=i.filter((S,N)=>N!==x);f(w)},p=x=>{const w=x.trim();if(!w)return;if(i.includes(w)){c("");return}const S=[...i,w];s(S),c(""),t.queueUpdate(e.id,"tags",S.join(","),{debounceMs:400})},g=x=>{const w=x.target.value;if(w.includes(",")){const S=w.split(",");S.forEach((N,k)=>{k===S.length-1?c(N):p(N)});return}c(w)},v=x=>{x.key==="Enter"?(x.preventDefault(),p(o),t.flushUpdate(e.id,"tags")):x.key==="Backspace"&&!o?s(w=>{if(!w.length)return w;const S=w.slice(0,-1);return t.queueUpdate(e.id,"tags",S.join(","),{debounceMs:400}),S}):x.key==="Escape"&&(x.preventDefault(),t.cancelUpdate(e.id,"tags"),s(aC(e.tags)),c(""))},b=()=>{o.trim()&&(p(o),c("")),t.flushUpdate(e.id,"tags")};return l.jsx(wp,{status:a,variant:r,children:l.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[i.length===0&&!o?l.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-muted/60 px-2 py-0.5 text-xs text-muted-foreground",children:[l.jsx(hA,{className:"h-3 w-3"})," Tag"]}):null,i.map((x,w)=>l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-primary/10 px-2 py-0.5 text-xs text-primary",children:[x,l.jsx("button",{type:"button",onClick:()=>h(w),className:"text-primary hover:text-primary/70","aria-label":`Hapus tag ${x}`,children:l.jsx(iu,{className:"h-3 w-3","aria-hidden":"true"})})]},x)),l.jsx("input",{ref:A,type:"text",value:o,onChange:g,onKeyDown:v,onBlur:b,placeholder:i.length?"":"Tambah tag",className:"min-w-[60px] flex-1 bg-transparent text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-primary"})]})})}const WR=new Set(["date","title","type","category","account","amount","tags"]),DBe={date:RG,title:HG,type:$G,category:KG,account:zG,amount:GG,tags:VG};function LBe({rows:e,columns:t,hiddenColumns:r,selectedIds:n,onToggleSelect:a,onAction:i,loading:s,editing:o}){if(!Array.isArray(e))return null;const c=r||new Set,[A,f]=B.useState(null),[h,p]=B.useState(null),g=B.useMemo(()=>o?new Set(t.filter(N=>WR.has(N.id)&&!c.has(N.id)).map(N=>N.id)):new Set,[t,o,c]),v=(N,k)=>{o&&WR.has(k.id)&&p({rowId:N.id,field:k.id})},b=()=>{p(null)};if(B.useEffect(()=>{if(!h)return;const N=k=>{k.key==="Escape"&&b()};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[h]),s)return l.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((N,k)=>l.jsxs("div",{className:"rounded-2xl border bg-card/80 shadow-sm p-4 space-y-2 animate-pulse",children:[l.jsx("div",{className:"h-4 w-2/3 rounded bg-muted"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("div",{className:"h-3 rounded bg-muted/80"}),l.jsx("div",{className:"h-3 rounded bg-muted/80"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("div",{className:"h-8 w-20 rounded bg-muted/80"})})]},k))});if(!e.length)return l.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Tidak ada data."});const x=h?e.find(N=>N.id===h.rowId):null,w=h?DBe[h.field]:null,S=h?t.find(N=>N.id===h.field):null;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-3",children:e.map((N,k)=>{const C=N.id||`row-${k}`;return l.jsxs("div",{className:"rounded-2xl border bg-card/80 shadow-sm p-4 space-y-2",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsx("div",{className:"min-w-0 flex-1",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-muted",checked:n?.has(N.id),onChange:()=>a?.(N)}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"font-semibold text-sm truncate",children:N.title||N.name||N.id}),N.subtitle&&l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:N.subtitle})]})]})}),l.jsxs("div",{className:"relative flex items-center gap-1",children:[l.jsx("button",{type:"button",className:"inline-flex h-8 w-8 items-center justify-center rounded-full border text-muted-foreground",onClick:()=>f(A===C?null:C),children:l.jsx(lee,{className:"h-4 w-4"})}),A===C&&l.jsx("div",{className:"absolute right-0 top-10 z-20 w-40 rounded-lg border bg-background p-2 shadow-lg",children:l.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm hover:bg-muted",onClick:()=>{f(null),i?.("delete",N)},children:[l.jsx(In,{className:"h-4 w-4"}),"Hapus"]})})]})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:t.map(T=>{if(c.has(T.id)||T.id==="__actions")return null;const O=T.display?T.display(N):T.accessor?T.accessor(N):N[T.id];if(O==null||O==="")return null;const D=g.has(T.id),R=D&&o?o.getStatus(N.id,T.id):null;return D&&o?l.jsxs("button",{type:"button",onClick:()=>v(N,T),className:"flex min-w-0 flex-col rounded-xl border border-transparent bg-muted/40 px-3 py-2 text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[l.jsx("span",{className:"text-[11px] uppercase text-muted-foreground",children:T.label}),l.jsxs("span",{className:tt("mt-1 flex items-center gap-2 text-sm font-medium text-foreground"),children:[l.jsx("span",{className:"truncate",children:O}),R?.state==="saving"?l.jsx("span",{className:"text-xs text-muted-foreground",children:""}):R?.state==="error"?l.jsx("span",{className:"text-xs text-red-500",children:"!"}):null]})]},T.id):l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-[11px] uppercase text-muted-foreground",children:T.label}),l.jsx("p",{className:tt("text-sm font-medium text-foreground",T.align==="right"&&"text-right tabular-nums"),children:O})]},T.id)})})]},C)})}),h&&w&&x&&l.jsx("div",{className:"fixed inset-0 z-40 flex flex-col justify-end bg-black/50",onClick:b,role:"presentation",children:l.jsxs("div",{className:"min-h-0 overflow-y-auto rounded-t-3xl bg-background p-4 shadow-2xl",onClick:N=>N.stopPropagation(),children:[l.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Edit"}),l.jsx("h3",{className:"text-base font-semibold text-foreground",children:S?.label||"Field"})]}),l.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-border",onClick:b,children:l.jsx(iu,{className:"h-4 w-4"})})]}),l.jsx(w,{row:x,editing:o,variant:"sheet",autoFocus:!0})]})})]})}function MBe({columns:e,hidden:t,onChange:r}){const[n,a]=B.useState(!1),i=t||new Set,s=o=>{const c=new Set(i);c.has(o)?c.delete(o):c.add(o),r?.(c)};return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{type:"button",className:"inline-flex h-[40px] items-center gap-2 rounded-xl border border-border bg-card px-3 text-sm shadow-sm",onClick:()=>a(o=>!o),children:[l.jsx(jte,{className:"h-4 w-4"}),"Kolom"]}),n&&l.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-56 rounded-xl border border-border bg-background p-3 shadow-lg",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs font-semibold uppercase text-muted-foreground",children:["Kolom",l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",className:"inline-flex items-center gap-1 rounded-md px-2 py-1 text-[11px] font-medium text-muted-foreground hover:text-foreground",onClick:()=>r?.(new Set),children:"Semua on"}),l.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 rounded-md px-2 py-1 text-[11px] font-medium text-muted-foreground hover:text-foreground",onClick:()=>r?.(new Set(e.map(o=>o.id))),children:[l.jsx(dee,{className:"h-3 w-3"}),"Semua off"]})]})]}),l.jsx("div",{className:"max-h-64 space-y-2 overflow-y-auto pr-1 text-sm",children:e.map(o=>l.jsxs("label",{className:"flex items-center justify-between gap-2 rounded-lg px-2 py-1 hover:bg-muted/60",children:[l.jsx("span",{className:"truncate text-sm",children:o.label}),l.jsx("input",{type:"checkbox",checked:!i.has(o.id),onChange:()=>s(o.id),className:"h-4 w-4 rounded border-muted"})]},o.id))})]})]})}function PBe({selectedCount:e,categories:t,onDelete:r,onUpdateCategory:n,onClear:a,busy:i}){const[s,o]=B.useState(""),c=async()=>{if(s)try{await n?.(s),o("")}catch{}};return l.jsx("div",{className:"sticky bottom-3 z-30 w-full rounded-2xl border border-border bg-card/95 px-4 py-3 shadow-lg backdrop-blur",children:l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"text-sm font-medium text-foreground",children:[e," dipilih",l.jsx("button",{type:"button",className:"ml-3 text-xs text-muted-foreground underline",onClick:a,children:"kosongkan"})]}),l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("select",{value:s,onChange:A=>o(A.target.value),className:"h-[40px] min-w-[160px] rounded-xl border border-border bg-background px-3 text-sm",children:[l.jsx("option",{value:"",children:"Ubah kategori..."}),t?.map(A=>l.jsx("option",{value:A.id,children:A.name},A.id))]}),l.jsx("button",{type:"button",className:"inline-flex h-[40px] items-center justify-center rounded-xl border border-border bg-background px-4 text-sm font-medium shadow-sm",onClick:c,disabled:!s||i,children:i?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):"Terapkan"})]}),l.jsxs("button",{type:"button",className:"inline-flex h-[40px] items-center justify-center gap-2 rounded-xl bg-destructive px-4 text-sm font-semibold text-destructive-foreground shadow-sm disabled:opacity-50",onClick:r,disabled:i,children:[i?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):l.jsx(In,{className:"h-4 w-4"}),"Hapus"]})]})]})})}function HA(e,t){const r=t instanceof Error?t.message:typeof t=="string"?t:"Terjadi kesalahan";return new Error(`${e}: ${r}`)}function QBe(e){return e&&new Set(["date-desc","date-asc","amount-desc","amount-asc"]).has(e)?e:"date-desc"}function RBe(e,t){return new Promise((r,n)=>{const a=new FileReader;a.onerror=()=>{a.abort(),n(new Error("Gagal membaca file"))},a.onload=()=>{r(String(a.result||""))};try{a.readAsText(e,t)}catch(i){n(i)}})}function HBe(e){const t=e.type||"";if(/charset=([^;]+)/i.test(t)){const r=t.match(/charset=([^;]+)/i);if(r)return r[1]}return"utf-8"}function $Be(e){const t=[",",";","	"],n=e.split(/\r?\n/).filter(Boolean).slice(0,5);let a=",",i=-1/0;for(const s of t){let o=0,c=null;for(const f of n){const h=f.split(s).length;c!=null&&(o+=Math.abs(h-c)),c=h}const A=(n[0]?.split(s).length||0)-o;A>i&&(i=A,a=s)}return a}function qBe(e){if(!e)return null;const t=e.toLowerCase().trim();return["income","in","pemasukan","masuk","credit"].includes(t)?"income":["expense","out","pengeluaran","keluar","debit"].includes(t)?"expense":["transfer","tf","pindah","mutasi"].includes(t)?"transfer":null}function KBe(e){if(!e)return Number.NaN;const t=e.trim();if(!t)return Number.NaN;const r=t.replace(/\s+/g,"").replace(/IDR|Rp|idr|rp|\.00/g,"").replace(/[^0-9.,-]/g,""),n=r.includes(","),a=r.includes(".");let i=r;n&&a?r.lastIndexOf(",")>r.lastIndexOf(".")?i=r.replace(/\./g,"").replace(",","."):i=r.replace(/,/g,""):n&&!a?i=r.replace(/\./g,"").replace(",","."):i=r.replace(/,/g,"");const s=Number.parseFloat(i);return Number.isFinite(s)?s:Number.NaN}function zBe(e){if(!e)return null;const t=e.trim();if(!t)return null;const r=[t];if(/^\d{1,2}[\/-]\d{1,2}[\/-]\d{2,4}$/.test(t)){const n=t.split(/[\/-]/);if(n.length===3){const[a,i,s]=n,o=s.length===2?Number.parseInt(`20${s}`,10):Number.parseInt(s,10),c=`${o}-${a.padStart(2,"0")}-${i.padStart(2,"0")}`,A=`${o}-${i.padStart(2,"0")}-${a.padStart(2,"0")}`;r.push(c,A)}}for(const n of r){const a=new Date(n);if(!Number.isNaN(a.getTime())){const i=new Date(a.getTime());return i.setHours(0,0,0,0),i.toISOString()}}return null}function A4(e){return typeof e=="string"?e.trim():""}const GBe=new Set(["date","title","notes","type","amount","account_id","to_account_id","category_id","merchant_id","parent_id","transfer_group_id","receipt_url","tags","rate","quantity"]),iC=new Set(["date","type","amount"]),VBe=new Set(["amount","rate","quantity"]),WBe=new Set(["income","expense","transfer"]),YBe=new Set(["account_id","to_account_id","category_id","merchant_id","parent_id","transfer_group_id"]);function XBe(e){if(e==null||e==="")return null;if(e instanceof Date)return Number.isNaN(e.getTime())?null:new Date(e.getTime()).toISOString();if(typeof e=="string"){const t=e.trim();if(!t)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const n=new Date(`${t}T00:00`);return Number.isNaN(n.getTime())?null:new Date(n.getTime()-n.getTimezoneOffset()*60*1e3).toISOString()}const r=new Date(t);return Number.isNaN(r.getTime())?null:r.toISOString()}return null}function JBe(e,t){if(e===t||e==null&&t==null)return!0;if(typeof e=="number"&&typeof t=="string"){const r=Number(t);return Number.isFinite(r)&&r===e}if(typeof e=="string"&&typeof t=="number"){const r=Number(e);return Number.isFinite(r)&&r===t}return!1}function d4(e,t){const r=e&&typeof e=="object"?e:{},n=t??{},a={};for(const[i,s]of Object.entries(r)){if(!GBe.has(i)||s===void 0)continue;let o=s;if(VBe.has(i)){if(s===""||s===null)continue;const c=typeof s=="number"?s:Number(typeof s=="string"?s.trim():s);if(!Number.isFinite(c))continue;o=c}else if(i==="type"){if(typeof s!="string")continue;const c=s.trim().toLowerCase();if(!WBe.has(c))continue;o=c}else if(i==="tags")if(s==null||s==="")o=null;else if(Array.isArray(s)){const c=s.map(A=>typeof A=="string"?A.trim():"").filter(Boolean);c.length?o=Array.from(new Set(c)).join(","):o=null}else if(typeof s=="string"){const c=s.split(",").map(A=>A.trim()).filter(Boolean);c.length?o=Array.from(new Set(c)).join(","):o=null}else continue;else if(YBe.has(i)){if(s===null)o=null;else if(typeof s=="string"){const c=s.trim();if(!c)continue;o=c}}else if(i==="date")if(s===null||s===""){if(iC.has(i))continue;o=null}else{const c=XBe(s);if(!c)throw new Error("Tanggal tidak valid");o=c}else if(s===null){if(iC.has(i))continue;o=null}else if(typeof s=="string"){const c=s.trim();if(c)o=c;else{if(iC.has(i))continue;o=null}}JBe(o,n[i])||(a[i]=o)}return a}async function sC(e,t){const r=`
    id,
    user_id,
    date,
    type,
    amount,
    title,
    notes,
    account_id,
    to_account_id,
    category_id,
    merchant_id,
    parent_id,
    transfer_group_id,
    receipt_url,
    rev,
    inserted_at,
    updated_at,
    tags,
    account:account_id (id, name, type),
    to_account:to_account_id (id, name, type),
    category:category_id (id, name, color),
    merchant:merchant_id (id, name),
    receipts:receipts (id, url, content_type, size, uploaded_at)
  `,{data:n,error:a}=await Ne.from("transactions").select(r).eq("user_id",t).eq("id",e).limit(1).maybeSingle();if(a)throw a;if(!n)throw new Error("Transaksi tidak ditemukan");return gy(n)}async function ZBe(e,t,r={}){try{const n=await tr();if(!n)throw new Error("User belum masuk");const a=r.prev?{...r.prev}:null,i=d4(t,a||void 0);if(!i||Object.keys(i).length===0)return a?{next:a}:{next:await sC(e,n)};const s={...i,updated_at:new Date().toISOString()};let o=Ne.from("transactions").update(s).eq("user_id",n).eq("id",e).select("id, updated_at").single();!r.force&&r.prev?.updated_at&&(o=o.eq("updated_at",r.prev.updated_at));const{data:c,error:A}=await o;if(A){if(!r.force&&A.code==="PGRST116"){const p=await sC(e,n),g=new Error("Data telah diubah di tempat lain");throw g.code="conflict",g.latest=p,g}throw A}if(!c)throw new Error("Transaksi tidak ditemukan");return{next:{...a||await sC(e,n),...i,updated_at:c.updated_at??s.updated_at,id:c.id??e}}}catch(n){if(n?.code==="conflict")throw n;const a=n instanceof Error?n.message:"Tidak bisa menyimpan perubahan";throw typeof a=="string"&&a.toLowerCase().includes("tanggal")?new Error(a):new Error("Tidak bisa menyimpan perubahan")}}async function XT(e={}){try{const{q:t,type:r,categoryId:n,dateFrom:a,dateTo:i,sort:s,page:o,pageSize:c}=e,A={search:t||"",sort:QBe(s),page:o||1,pageSize:c||20};r&&r!=="all"&&(A.type=r),n&&(A.categories=[n]),a&&(A.startDate=a),i&&(A.endDate=i);const[{rows:f,total:h,page:p,pageSize:g},v]=await Promise.all([EE(A),f9(A)]);return{rows:f,total:h,page:p,pageSize:g,summary:v}}catch(t){throw HA("Gagal memuat transaksi",t)}}async function oC(e){try{if(!e||e.length===0)return{deleted:0};const t=await tr();if(!t)throw new Error("User belum masuk");const{data:r,error:n}=await Ne.from("transactions").delete().eq("user_id",t).in("id",e).select("id");if(n)throw n;return{deleted:r?.length??0}}catch(t){throw HA("Gagal menghapus transaksi",t)}}async function eSe({ids:e,patch:t}){try{if(!e||e.length===0)return{updated:0};const r={};if(Object.entries(t||{}).forEach(([s,o])=>{o!=null&&o!==""&&(r[s]=o)}),Object.keys(r).length===0)return{updated:0};const n=await tr();if(!n)throw new Error("User belum masuk");const{data:a,error:i}=await Ne.from("transactions").update(r).eq("user_id",n).in("id",e).select("id");if(i)throw i;return{updated:a?.length??0}}catch(r){throw HA("Gagal memperbarui transaksi",r)}}function YR(e){if(e==null)return"";const t=String(e);return t.includes(",")||t.includes(`
`)||t.includes('"')?`"${t.replace(/"/g,'""')}"`:t}async function tSe(e={}){try{const t=await XT(e),r=["Tanggal","Tipe","Kategori","Akun","Jumlah","Catatan"],n=t.rows.map(i=>[i.date?new Date(i.date).toISOString().slice(0,10):"",i.type||"",i.category?.name||"",i.account?.name||"",i.amount??"",i.title||i.notes||""]),a=[r.map(YR).join(","),...n.map(i=>i.map(YR).join(","))].join(`
`);return new Blob([a],{type:"text/csv;charset=utf-8;"})}catch(t){throw HA("Gagal mengekspor CSV",t)}}async function rSe(e){try{const t=HBe(e),r=await RBe(e,t),n=$Be(r),a=r.split(/\r?\n/).filter(o=>o.trim()!=="");if(a.length===0)return{headers:[],rows:[],delimiter:n,encoding:t};const i=a[0].split(n).map(o=>o.trim()),s=[];for(let o=1;o<a.length;o+=1){const c=a[o].split(n),A={};i.forEach((f,h)=>{A[f]=c[h]?.trim()??""}),s.push(A)}return{headers:i,rows:s,delimiter:n,encoding:t}}catch(t){throw HA("Gagal membaca CSV",t)}}function JT(e){const t=e.user_id??"",r=e.date??"",n=typeof e.amount=="number"?e.amount.toFixed(2):A4(String(e.amount??"")),a=e.title??"";return`${t}|${r}|${n}|${a}`}function nSe(e){try{const t=new Map;return e.forEach(r=>{const n=JT(r);t.has(n)||t.set(n,[]),t.get(n).push(r)}),Array.from(t.values()).filter(r=>r.length>1)}catch(t){throw HA("Gagal mengelompokkan duplikat",t)}}function aSe(e){if(!e)return null;const t=e.split(/[,;#]+/).map(r=>r.trim()).filter(Boolean);return t.length===0?null:t.join(",")}function XR(e,t,r={}){const n=[],a=[],i=new Set,s=new Set,o=r.existingCategories||new Map,c=r.existingAccounts||new Map,A=new Set(r.existingHashes||[]),f=r.userId??null;return e.forEach(h=>{try{const p=t.date?h[t.date]:void 0,g=t.amount?h[t.amount]:void 0,v=t.type?h[t.type]:void 0,b=t.category?h[t.category]:void 0,x=t.account?h[t.account]:void 0,w=t.note?h[t.note]:void 0,S=t.tags?h[t.tags]:void 0,N=zBe(p||void 0);if(!N){n.push({original:h,status:"error",message:"Tanggal tidak valid"});return}const k=KBe(g);if(!Number.isFinite(k)||k===0){n.push({original:h,status:"error",message:"Jumlah tidak valid"});return}const C=qBe(v||"");if(!C){n.push({original:h,status:"error",message:"Tipe tidak dikenal"});return}const T={user_id:f||void 0,date:N,type:C,amount:Number(k.toFixed(2)),title:A4(w)||void 0,notes:A4(w)||void 0,tags:aSe(S)||void 0,account_id:void 0,category_id:void 0};if(b){const D=b.toLowerCase().trim();D&&o.has(D)?T.category_id=o.get(D).id:D&&i.add(b.trim())}if(x){const D=x.toLowerCase().trim();D&&c.has(D)&&(T.account_id=c.get(D).id)}const O=JT({user_id:f??void 0,date:T.date,amount:T.amount,title:T.title||""});if(T.hash=O,r.skipDuplicates&&A.has(O)){s.add(O),n.push({original:h,status:"warning",message:"Duplikat dilewati",hash:O});return}A.add(O),a.push(T),n.push({original:h,status:"ok",mapped:T,hash:O})}catch{n.push({original:h,status:"error",message:"Gagal memproses baris"})}}),{rows:n,valid:a,missingCategories:i,duplicateHashes:s}}async function iSe(e,t={}){try{const r=t.chunkSize&&t.chunkSize>0?t.chunkSize:500,n=await tr();if(!n)throw new Error("User belum masuk");const a=e.length;let i=0,s=0,o=0;for(let c=0;c<e.length;c+=r){const A=e.slice(c,c+r).map(f=>({...f,user_id:n}));try{const{data:f,error:h}=await Ne.from("transactions").insert(A).select("id");if(h)throw h;s+=f?.length??A.length}catch(f){o+=A.length}i+=A.length,t.onProgress?.({processed:i,total:a,inserted:s,failed:o})}if(o>0)throw new Error(`Sebagian data gagal diimpor (${o} baris)`);return{inserted:s,failed:o}}catch(r){throw HA("Gagal mengimpor transaksi",r)}}async function sSe(e,t="expense"){try{const r=await tr();if(!r)throw new Error("User belum masuk");const n=Array.from(new Set(Array.from(e).map(h=>h.trim()).filter(Boolean)));if(n.length===0)return[];const{data:a,error:i}=await Ne.from("categories").select("id, name, type").eq("user_id",r).in("name",n);if(i)throw i;const s=new Set(a?.map(h=>h.name)??[]),o=n.filter(h=>!s.has(h));if(o.length===0)return a||[];const c=o.map(h=>({name:h,type:t==="mixed"?"expense":t,user_id:r})),{data:A,error:f}=await Ne.from("categories").insert(c).select("id, name, type");if(f)throw f;return[...a||[],...A||[]]}catch(r){throw HA("Gagal membuat kategori",r)}}const JR={wallet:{label:"Wallet",mapping:{date:"Date",amount:"Amount",type:"Type",category:"Category",note:"Description"}},monarch:{label:"Monarch",mapping:{date:"Date",amount:"Amount",type:"Transaction Type",category:"Category",note:"Memo"}},ynab:{label:"YNAB",mapping:{date:"Date",amount:"Amount",type:"Type",category:"Category",note:"Memo",account:"Account"}}};function oSe({open:e,title:t,onClose:r,children:n}){return e?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-6",children:l.jsxs("div",{className:"card flex h-full w-full max-w-4xl flex-col overflow-hidden p-0",children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between gap-3 border-b border-border-subtle bg-surface px-6 py-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-text",children:t}),l.jsx("button",{type:"button",onClick:r,className:"btn btn-ghost btn-sm",children:"Tutup"})]}),l.jsx("div",{className:"drawer-body px-6 py-6",children:n})]})}):null}function lSe({status:e}){return e==="ok"?l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-success/30 bg-success/15 px-2 py-0.5 text-[11px] font-semibold text-success",children:[l.jsx(fy,{className:"h-3 w-3"})," OK"]}):e==="warning"?l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-warning/30 bg-warning/15 px-2 py-0.5 text-[11px] font-semibold text-warning",children:[l.jsx(Sm,{className:"h-3 w-3"})," Warning"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-danger/30 bg-danger/15 px-2 py-0.5 text-[11px] font-semibold text-danger",children:[l.jsx(Sm,{className:"h-3 w-3"})," Error"]})}function cSe({open:e,onClose:t,onImported:r,existingCategories:n,existingAccounts:a,existingHashes:i,userId:s}){const[o,c]=B.useState(0),[A,f]=B.useState(null),[h,p]=B.useState(!1),[g,v]=B.useState(""),[b,x]=B.useState([]),[w,S]=B.useState([]),[N,k]=B.useState({date:"",amount:"",type:"",category:"",account:"",note:"",tags:""}),[C,T]=B.useState(null),[O,D]=B.useState(!0),[R,q]=B.useState(!0),[U,I]=B.useState({processed:0,total:0,inserted:0,failed:0}),[Q,H]=B.useState(!1),[Y,K]=B.useState(null);B.useEffect(()=>{e||(c(0),f(null),x([]),S([]),k({date:"",amount:"",type:"",category:"",account:"",note:"",tags:""}),T(null),v(""),I({processed:0,total:0,inserted:0,failed:0}),H(!1),K(null))},[e]);const J=B.useMemo(()=>!!(N.date&&N.amount&&N.type&&N.note),[N]),re=async P=>{const $=P.target.files?.[0];if($){v(""),p(!0);try{const G=await rSe($);f({name:$.name,size:$.size,delimiter:G.delimiter,encoding:G.encoding}),x(G.rows),S(G.headers);const ne=ASe(G.headers);k(se=>({...se,...ne})),c(1)}catch(G){v(G.message||"Gagal membaca file")}finally{p(!1)}}};B.useEffect(()=>{if(o===2&&J)try{const P=new Map(n?.map(ne=>[ne.name.toLowerCase(),ne])),$=new Map(a?.map(ne=>[ne.name.toLowerCase(),ne])),G=XR(b,N,{existingCategories:P,existingAccounts:$,skipDuplicates:R,existingHashes:i,userId:s});T(G)}catch(P){v(P.message||"Gagal melakukan mapping data")}},[o,J,b,N,n,a,R,i,s]);const oe=()=>{o===1&&c(2)},V=P=>{const $=JR[P];if(!$)return;const G={...N};Object.entries($.mapping).forEach(([ne,se])=>{w.includes(se)&&(G[ne]=se)}),k(G)},W=async()=>{if(C){H(!0),v("");try{let P=new Map((n||[]).map(se=>[se.name.toLowerCase(),se])),$=C;if(O&&C.missingCategories.size){(await sSe(C.missingCategories,"mixed")).forEach(he=>{P.set(he.name.toLowerCase(),he)});const ve=XR(b,N,{existingCategories:P,existingAccounts:new Map((a||[]).map(he=>[he.name.toLowerCase(),he])),skipDuplicates:R,existingHashes:i,userId:s});$=ve,T(ve)}const G=($.valid||[]).map(({hash:se,...ve})=>ve);if(!G.length){v("Tidak ada baris yang valid untuk diimpor."),H(!1);return}I({processed:0,total:G.length,inserted:0,failed:0});const ne=await iSe(G,{onProgress:se=>{I(se)}});K({inserted:ne.inserted,skipped:$.duplicateHashes.size,failed:ne.failed}),r?.(ne.inserted)}catch(P){v(P.message||"Gagal mengimpor data")}finally{H(!1)}}};return l.jsxs(oSe,{open:e,title:"Import CSV",onClose:t,children:[o===0&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"rounded-2xl border border-dashed border-border bg-card/70 p-8 text-center",children:[l.jsx(xee,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Unggah file CSV dari Wallet, Monarch, YNAB, atau sumber lain. Kami akan mendeteksi pemisah otomatis."}),l.jsxs("label",{className:"mt-4 inline-flex h-[44px] cursor-pointer items-center justify-center rounded-full bg-primary px-6 text-sm font-semibold text-primary-foreground shadow-sm",children:[h?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):"Pilih File CSV",l.jsx("input",{type:"file",accept:".csv,text/csv",className:"sr-only",onChange:re})]}),g&&l.jsx("p",{className:"mt-4 text-sm text-destructive",children:g})]})}),o===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 text-sm text-muted-foreground",onClick:()=>c(0),children:[l.jsx(E_,{className:"h-4 w-4"}),"Kembali"]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Delimiter: ",l.jsx("span",{className:"font-semibold",children:A?.delimiter||","}),"  Encoding: ",l.jsx("span",{className:"font-semibold",children:A?.encoding||"utf-8"})]})]}),l.jsxs("div",{className:"rounded-2xl border bg-card/80 p-4",children:[l.jsx("p",{className:"text-sm font-medium",children:"Mapping Kolom"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Sesuaikan kolom CSV ke field HematWoi."}),l.jsx("div",{className:"mt-4 grid grid-cols-1 gap-3 md:grid-cols-2",children:["date","type","category","account","amount","note","tags"].map(P=>l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:uSe(P)}),l.jsxs("select",{value:N[P]||"",onChange:$=>k(G=>({...G,[P]:$.target.value})),className:"h-[40px] w-full rounded-xl border border-border bg-background px-3 text-sm",children:[l.jsx("option",{value:"",children:"Pilih kolom"}),w.map($=>l.jsx("option",{value:$,children:$},$))]})]},P))}),l.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:["Preset:",Object.entries(JR).map(([P,$])=>l.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-border px-3 py-1 text-xs font-medium hover:bg-muted",onClick:()=>V(P),children:$.label},P))]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 text-sm text-muted-foreground",onClick:()=>c(0),children:[l.jsx(E_,{className:"h-4 w-4"}),"Kembali"]}),l.jsx("button",{type:"button",className:"inline-flex h-[44px] items-center justify-center rounded-full bg-primary px-6 text-sm font-semibold text-primary-foreground shadow-sm disabled:opacity-50",onClick:oe,disabled:!J,children:"Lanjut"})]}),g&&l.jsx("p",{className:"text-sm text-destructive",children:g})]}),o===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border bg-card/80 p-4 text-sm text-foreground",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 text-sm text-muted-foreground",onClick:()=>c(1),children:[l.jsx(E_,{className:"h-4 w-4"}),"Ubah mapping"]}),l.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[l.jsx("input",{type:"checkbox",checked:O,onChange:P=>D(P.target.checked),className:"h-4 w-4 rounded border-muted"}),"Buat kategori baru otomatis"]}),l.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[l.jsx("input",{type:"checkbox",checked:R,onChange:P=>q(P.target.checked),className:"h-4 w-4 rounded border-muted"}),"Lewati duplikat"]})]}),C&&l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-muted-foreground md:grid-cols-4",children:[l.jsxs("div",{children:["Baris valid: ",l.jsx("span",{className:"font-semibold text-foreground",children:C.valid.length})]}),l.jsxs("div",{children:["Duplikat: ",l.jsx("span",{className:"font-semibold text-foreground",children:C.duplicateHashes.size})]}),l.jsxs("div",{children:["Butuh kategori baru: ",l.jsx("span",{className:"font-semibold text-foreground",children:C.missingCategories.size})]}),l.jsxs("div",{children:["Total baris: ",l.jsx("span",{className:"font-semibold text-foreground",children:b.length})]})]})]}),l.jsx("div",{className:"rounded-2xl border bg-card/60",children:l.jsxs("table",{className:"w-full table-auto text-sm",children:[l.jsx("thead",{className:"sticky top-0 bg-background/95 backdrop-blur",children:l.jsxs("tr",{className:"text-left text-xs uppercase text-muted-foreground",children:[l.jsx("th",{className:"px-3 py-2",children:"Status"}),l.jsx("th",{className:"px-3 py-2",children:"Tanggal"}),l.jsx("th",{className:"px-3 py-2",children:"Tipe"}),l.jsx("th",{className:"px-3 py-2",children:"Kategori"}),l.jsx("th",{className:"px-3 py-2 text-right",children:"Jumlah"}),l.jsx("th",{className:"px-3 py-2",children:"Catatan"})]})}),l.jsx("tbody",{children:(C?.rows||[]).slice(0,20).map((P,$)=>l.jsxs("tr",{className:"odd:bg-muted/30",children:[l.jsx("td",{className:"px-3 py-2",children:l.jsx(lSe,{status:P.status})}),l.jsx("td",{className:"px-3 py-2 text-xs",children:P.mapped?.date?.slice(0,10)||"-"}),l.jsx("td",{className:"px-3 py-2 text-xs capitalize",children:P.mapped?.type||"-"}),l.jsx("td",{className:"px-3 py-2 text-xs",children:P.original?.[N.category]||"-"}),l.jsx("td",{className:"px-3 py-2 text-right text-xs tabular-nums",children:P.mapped?.amount?.toLocaleString?.("id-ID")||"-"}),l.jsx("td",{className:"px-3 py-2 text-xs",children:P.mapped?.title||P.original?.[N.note]||"-"})]},$))})]})}),g&&l.jsx("p",{className:"text-sm text-destructive",children:g}),l.jsxs("div",{className:"flex flex-col gap-4",children:[Q&&l.jsxs("div",{children:[l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-muted",children:l.jsx("div",{className:"h-full rounded-full bg-primary transition-all",style:{width:U.total?`${Math.min(100,Math.round(U.processed/U.total*100))}%`:"0%"}})}),l.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Diproses ",U.processed,"/",U.total,"  Berhasil ",U.inserted,"  Gagal ",U.failed]})]}),Y&&l.jsxs("div",{className:"rounded-xl border border-border bg-muted/30 p-4 text-sm",children:[l.jsx("p",{className:"font-semibold text-foreground",children:"Import selesai"}),l.jsxs("ul",{className:"mt-2 space-y-1 text-muted-foreground",children:[l.jsxs("li",{children:["Berhasil: ",l.jsx("span",{className:"font-semibold text-emerald-600",children:Y.inserted})]}),l.jsxs("li",{children:["Duplikat dilewati: ",l.jsx("span",{className:"font-semibold text-amber-600",children:Y.skipped})]}),Y.failed>0&&l.jsxs("li",{children:["Gagal: ",l.jsx("span",{className:"font-semibold text-destructive",children:Y.failed})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3",children:[l.jsx("button",{type:"button",className:"inline-flex items-center gap-2 text-sm text-muted-foreground",onClick:t,children:"Batal"}),l.jsxs("button",{type:"button",className:"inline-flex h-[44px] items-center justify-center rounded-full bg-primary px-6 text-sm font-semibold text-primary-foreground shadow-sm disabled:opacity-50",onClick:W,disabled:Q||!C||!C.valid.length,children:[Q?l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(P$,{className:"mr-2 h-4 w-4"}),"Import"]})]})]})]})]})}function uSe(e){switch(e){case"date":return"Tanggal";case"type":return"Tipe";case"category":return"Kategori";case"account":return"Akun";case"amount":return"Jumlah";case"note":return"Catatan";case"tags":return"Tag";default:return e}}function ASe(e){const t=e.map(n=>n.toLowerCase()),r=n=>e[t.findIndex(a=>n.includes(a))]||"";return{date:r(["date","tanggal","time","posted at"]),amount:r(["amount","jumlah","nilai","nominal"]),type:r(["type","tipe","jenis","transaction type"]),category:r(["category","kategori","group"]),account:r(["account","akun","wallet"]),note:r(["note","catatan","memo","description","title"]),tags:r(["tags","label"])}}const jg={transactions:"transactions",categories:"categories",subscriptions:"subscriptions",goals:"goals",debts:"debts"};async function dSe(e,t){const r=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),a=document.createElement("a");return a.href=n,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n),r}function fSe({activeTab:e,onRestoreComplete:t}){const[r,n]=B.useState(!1),[a,i]=B.useState(!1),[s,o]=B.useState(""),[c,A]=B.useState(null),[f,h]=B.useState(!1),p=B.useMemo(()=>e&&jg[e]?[e]:Object.keys(jg),[e]),g=async()=>{n(!0),o("");try{const x=await tr();if(!x)throw new Error("User belum masuk");const w={generated_at:new Date().toISOString(),entities:{}};for(const T of p){const O=jg[T];if(!O)continue;const{data:D,error:R}=await Ne.from(O).select("*").eq("user_id",x);if(R)throw R;w.entities[T]=D||[]}const S=new Date,N=`${S.getFullYear()}${String(S.getMonth()+1).padStart(2,"0")}${String(S.getDate()).padStart(2,"0")}-${String(S.getHours()).padStart(2,"0")}${String(S.getMinutes()).padStart(2,"0")}`,k=`hematwoi-${p.length===1?p[0]:"backup"}-${N}.json`,C=await dSe(k,w);if(a){const T=`${x}/${k}`,{error:O}=await Ne.storage.from("backups").upload(T,C,{contentType:"application/json",upsert:!0});if(O)throw O}}catch(x){o(x.message||"Gagal melakukan backup")}finally{n(!1)}},v=async x=>{const w=x.target.files?.[0];if(w){o("");try{const S=await w.text(),N=JSON.parse(S);if(!N||typeof N!="object")throw new Error("Format file tidak dikenali");const k=N.entities||N.data||N,C=Object.entries(k||{}).reduce((T,[O,D])=>(Array.isArray(D)&&(T[O]=D.length),T),{});A({file:w,entities:k,summary:C})}catch(S){o(S.message||"File tidak valid")}}},b=async()=>{if(c){h(!0),o("");try{const x=await tr();if(!x)throw new Error("User belum masuk");for(const[w,S]of Object.entries(c.entities||{})){if(!jg[w]||!Array.isArray(S)||S.length===0)continue;const N=jg[w];for(let k=0;k<S.length;k+=500){const C=S.slice(k,k+500).map(O=>({...O,user_id:O.user_id||x})),{error:T}=await Ne.from(N).upsert(C,{onConflict:"id"});if(T)throw T}}A(null),t?.()}catch(x){o(x.message||"Gagal melakukan restore")}finally{h(!1)}}};return l.jsxs("div",{className:"rounded-3xl border border-border bg-card/70 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Backup & Restore"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Simpan data lokal dan pulihkan kapan saja."})]}),l.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-muted",checked:a,onChange:x=>i(x.target.checked)}),"Simpan ke Supabase Storage"]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsxs("button",{type:"button",onClick:g,disabled:r,className:"inline-flex h-[48px] items-center justify-center gap-2 rounded-2xl border border-border bg-background text-sm font-semibold shadow-sm disabled:opacity-50",children:[r?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):l.jsx(VZ,{className:"h-4 w-4"}),"Backup ",p.length===1?p[0]:"semua"]}),l.jsxs("label",{className:"flex h-[48px] cursor-pointer items-center justify-center gap-2 rounded-2xl border border-border bg-background text-sm font-semibold shadow-sm",children:[l.jsx(O$,{className:"h-4 w-4"}),"Pilih file JSON",l.jsx("input",{type:"file",accept:"application/json",className:"sr-only",onChange:v})]})]}),c&&l.jsxs("div",{className:"mt-4 rounded-2xl border border-border bg-muted/30 p-4 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-foreground",children:"Pratinjau Restore"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:c.file.name})]}),l.jsxs("button",{type:"button",onClick:()=>A(null),className:"inline-flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground",children:[l.jsx(Xw,{className:"h-3 w-3"})," Reset"]})]}),l.jsx("ul",{className:"mt-3 space-y-1 text-muted-foreground",children:Object.entries(c.summary||{}).map(([x,w])=>l.jsxs("li",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"capitalize",children:x}),l.jsx("span",{className:"font-semibold text-foreground",children:w})]},x))}),l.jsxs("button",{type:"button",onClick:b,disabled:f,className:"mt-4 inline-flex h-[44px] items-center justify-center rounded-full bg-primary px-6 text-sm font-semibold text-primary-foreground shadow-sm disabled:opacity-50",children:[f?l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Restore Sekarang"]})]}),s&&l.jsx("p",{className:"mt-3 text-sm text-destructive",children:s})]})}function hSe({duplicates:e=[],onDelete:t,loading:r,onRefresh:n}){const[a,i]=B.useState(new Set),[s,o]=B.useState(!1),c=a.size>0,A=h=>{i(p=>{const g=new Set(p);return g.has(h)?g.delete(h):g.add(h),g})},f=async()=>{if(c){o(!0);try{await t?.(Array.from(a)),i(new Set),n?.()}catch{}finally{o(!1)}}};return l.jsxs("div",{className:"rounded-3xl border border-border bg-card/70 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Deteksi Duplikat"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Pilih catatan yang ingin dihapus."})]}),l.jsx("button",{type:"button",onClick:n,className:"text-xs text-muted-foreground underline",children:"Muat ulang"})]}),r?l.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(pr,{className:"h-4 w-4 animate-spin"})," Memuat kandidat duplikat..."]}):e.length===0?l.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Tidak ditemukan duplikat."}):l.jsx("div",{className:"mt-4 space-y-4",children:e.map((h,p)=>l.jsxs("div",{className:"rounded-2xl border border-border bg-background/60 p-3",children:[l.jsxs("p",{className:"text-xs font-semibold uppercase text-muted-foreground",children:[h.length," entri mirip"]}),l.jsx("div",{className:"mt-2 space-y-2",children:h.map(g=>l.jsxs("label",{className:"flex items-center justify-between gap-3 rounded-xl border border-border bg-card px-3 py-2 text-sm hover:bg-muted/50",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"truncate font-medium",children:g.title||g.notes||"Tanpa catatan"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(g.date).toLocaleDateString("id-ID"),"  ",g.amount?.toLocaleString?.("id-ID")]})]}),l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-muted",checked:a.has(g.id),onChange:()=>A(g.id)})]},g.id))})]},p))}),l.jsx("div",{className:"mt-4 flex justify-end",children:l.jsxs("button",{type:"button",onClick:f,disabled:!c||s,className:"inline-flex h-[40px] items-center justify-center gap-2 rounded-full bg-destructive px-5 text-sm font-semibold text-destructive-foreground shadow-sm disabled:opacity-50",children:[s?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):l.jsx(In,{className:"h-4 w-4"}),"Hapus Terpilih"]})})]})}function mSe({categories:e=[],onComplete:t}){const[r,n]=B.useState("rename"),[a,i]=B.useState(""),[s,o]=B.useState(""),[c,A]=B.useState(""),[f,h]=B.useState(!0),[p,g]=B.useState({total:0,loading:!1}),[v,b]=B.useState(!1),[x,w]=B.useState("");B.useEffect(()=>{if(!a){g({total:0,loading:!1});return}let N=!1;return(async()=>{g({total:0,loading:!0});try{const C=await tr();if(!C)throw new Error("User belum masuk");const{count:T,error:O}=await Ne.from("transactions").select("id",{count:"exact",head:!0}).eq("user_id",C).eq("category_id",a);if(O)throw O;N||g({total:T||0,loading:!1})}catch{N||g({total:0,loading:!1})}})(),()=>{N=!0}},[a]);const S=async()=>{if(!a){w("Pilih kategori sumber terlebih dahulu.");return}b(!0),w("");try{const N=await tr();if(!N)throw new Error("User belum masuk");if(r==="rename"){if(!c.trim())throw new Error("Nama baru tidak boleh kosong");const{error:k}=await Ne.from("categories").update({name:c.trim()}).eq("id",a).eq("user_id",N);if(k)throw k}else{if(!s)throw new Error("Pilih kategori target.");const{error:k}=await Ne.from("transactions").update({category_id:s}).eq("user_id",N).eq("category_id",a);if(k)throw k;f&&await Ne.from("categories").delete().eq("id",a).eq("user_id",N)}t?.(),i(""),o(""),A("")}catch(N){w(N.message||"Gagal menyimpan perubahan")}finally{b(!1)}};return l.jsxs("div",{className:"rounded-3xl border border-border bg-card/70 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Normalisasi Kategori"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Gabungkan atau ubah nama kategori untuk rapihkan data."})]}),l.jsx(lf,{className:"h-5 w-5 text-primary"})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-semibold text-muted-foreground",children:"Mode"}),l.jsxs("select",{value:r,onChange:N=>n(N.target.value),className:"h-[40px] w-full rounded-xl border border-border bg-background px-3 text-sm",children:[l.jsx("option",{value:"rename",children:"Rename"}),l.jsx("option",{value:"merge",children:"Merge"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-semibold text-muted-foreground",children:"Kategori sumber"}),l.jsxs("select",{value:a,onChange:N=>i(N.target.value),className:"h-[40px] w-full rounded-xl border border-border bg-background px-3 text-sm",children:[l.jsx("option",{value:"",children:"Pilih kategori"}),e.map(N=>l.jsx("option",{value:N.id,children:N.name},N.id))]})]}),r==="merge"?l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-semibold text-muted-foreground",children:"Kategori target"}),l.jsxs("select",{value:s,onChange:N=>o(N.target.value),className:"h-[40px] w-full rounded-xl border border-border bg-background px-3 text-sm",children:[l.jsx("option",{value:"",children:"Pilih kategori"}),e.filter(N=>N.id!==a).map(N=>l.jsx("option",{value:N.id,children:N.name},N.id))]})]}):l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-semibold text-muted-foreground",children:"Nama baru"}),l.jsx("input",{value:c,onChange:N=>A(N.target.value),className:"h-[40px] w-full rounded-xl border border-border bg-background px-3 text-sm",placeholder:"Nama kategori baru"})]})]}),r==="merge"&&l.jsxs("label",{className:"mt-3 flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-muted",checked:f,onChange:N=>h(N.target.checked)}),"Hapus kategori sumber setelah pemindahan"]}),l.jsx("div",{className:"mt-4 rounded-2xl border border-border bg-muted/20 p-4 text-sm text-muted-foreground",children:p.loading?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pr,{className:"h-4 w-4 animate-spin"})," Menghitung dampak..."]}):a?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xg,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{children:[p.total," transaksi akan ",r==="merge"?"dipindahkan":"diupdate nama kategorinya"]})]}):l.jsx("span",{children:"Pilih kategori untuk melihat dampaknya."})}),x&&l.jsx("p",{className:"mt-3 text-sm text-destructive",children:x}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsxs("button",{type:"button",onClick:S,disabled:v||!a||r==="merge"&&!s,className:"inline-flex h-[42px] items-center justify-center gap-2 rounded-full bg-primary px-6 text-sm font-semibold text-primary-foreground shadow-sm disabled:opacity-50",children:[v?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):l.jsx(lf,{className:"h-4 w-4"}),"Terapkan"]}),r==="merge"&&f&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(In,{className:"h-3 w-3"})," kategori sumber akan dihapus"]})]})]})}const f4="Terjadi kesalahan. Silakan coba lagi nanti.";function pSe({message:e}){return l.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center gap-4 rounded-3xl border border-border-subtle bg-surface px-6 py-10 text-center shadow-sm",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{className:"text-lg font-semibold text-text",children:"Ups, ada yang salah"}),l.jsx("p",{className:"text-sm text-muted","aria-live":"polite",children:e||f4})]}),l.jsx("button",{type:"button",onClick:()=>{typeof window<"u"&&window.location.reload()},className:"inline-flex h-11 items-center justify-center rounded-2xl bg-primary px-5 text-sm font-semibold text-primary-foreground transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50",children:"Muat ulang"})]})}class Iy extends B.Component{constructor(t){super(t),this.state={hasError:!1,message:f4}}static getDerivedStateFromError(t){return{hasError:!0,message:t instanceof Error&&t.message?t.message:f4}}componentDidCatch(t,r){}render(){return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx(pSe,{message:this.state.message}):this.props.children}}const gSe={date:"Tanggal",title:"Catatan",type:"Tipe",category:"Kategori",account:"Akun",amount:"Nominal",tags:"Tag"},bSe=new Set(["income","expense","transfer"]);function ZR(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${a}`}function ySe(e){if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[r,n,a]=e.split("-").map(o=>Number.parseInt(o,10));if(Number.isNaN(r)||Number.isNaN(n)||Number.isNaN(a))return null;const i=new Date(r,n-1,a,12,0,0);return Number.isNaN(i.getTime())?null:(i.setHours(0,0,0,0),new Date(i.getTime()-i.getTimezoneOffset()*60*1e3).toISOString())}const t=new Date(e);return Number.isNaN(t.getTime())?null:t.toISOString()}function vSe(e){if(e==null)return null;const t=String(e).replace(/[^0-9.,-]/g,"").replace(/,/g,"."),r=Number.parseFloat(t);return Number.isFinite(r)?Number(r.toFixed(2)):null}function xSe(e){if(!e)return null;const t=e.split(",").map(n=>n.trim()).filter(Boolean);return t.length?Array.from(new Set(t)).join(","):null}function wSe(e,t){return t&&e.find(r=>r.id===t)||null}function _Se(e,t){return t&&e.find(r=>r.id===t)||null}function BSe({rows:e,categories:t,accounts:r,addToast:n}){const[a,i]=B.useState(e||[]),s=B.useRef(new Map),o=B.useRef(new Map),c=B.useRef(new Map),A=B.useRef(new Map),f=B.useRef(new Map),[,h]=B.useState(0),p=B.useRef(a),g=B.useRef(t||[]),v=B.useRef(r||[]),b=B.useRef(null),x=B.useRef(null),[w,S]=B.useState(null),[N,k]=B.useState(null);B.useEffect(()=>{g.current=t||[]},[t]),B.useEffect(()=>{v.current=r||[]},[r]);const C=B.useCallback(W=>{const P=new Map;W.forEach($=>{$?.id&&P.set($.id,$)}),s.current=P,i($=>W.map(G=>{const ne=o.current.get(G.id);return ne?{...G,...ne}:G}))},[]);B.useEffect(()=>{C(e||[])},[e,C]),B.useEffect(()=>{p.current=a},[a]);const T=B.useCallback((W,P,$)=>{const G=`${W}:${P}`,ne=new Map(f.current);!$||$.state==="idle"?ne.delete(G):ne.set(G,$),f.current=ne,h(se=>se+1)},[]),O=B.useCallback((W,P)=>{const $=`${W}:${P}`;return f.current.get($)||{state:"idle"}},[]),D=B.useCallback((W,P)=>{switch(P){case"date":return W.date?new Date(W.date).toLocaleDateString("id-ID"):"-";case"title":return W.title||W.notes||"-";case"type":return W.type?W.type.charAt(0).toUpperCase()+W.type.slice(1):"-";case"category":return W.category?.name||W.category||"-";case"account":return W.account?.name||W.account||"-";case"amount":return W.amount!=null?new Intl.NumberFormat("id-ID").format(Number(W.amount)):"-";case"tags":return W.tags?W.tags.split(",").join(", "):"-";default:return W[P]??"-"}},[]),R=B.useCallback(()=>{x.current&&(clearTimeout(x.current),x.current=null),b.current=null,S(null)},[]),q=B.useCallback(W=>{R(),b.current=W,S({field:W.field,rowId:W.rowId,label:gSe[W.field]||W.field}),x.current=window.setTimeout(()=>{b.current=null,S(null)},6e3)},[R]),U=B.useCallback(async(W,P,$,G={})=>{const ne=`${W}:${P}`;A.current.has(ne)&&(clearTimeout(A.current.get(ne)),A.current.delete(ne)),c.current.delete(ne);const se=G.prevOverride||s.current.get(W)||p.current.find(Z=>Z.id===W);if(!se)return;const ve=g.current,he=v.current;let fe=null,Qe={},$e={},de=null;const ze={...se},nt=Z=>{Qe={...Qe,...Z},Object.assign(ze,Z)};switch(P){case"date":{const Z=ySe(typeof $=="string"?$:ZR($));if(!Z){de="Tanggal tidak valid";break}if(se.date===Z){fe=null;break}fe={date:Z},nt({date:Z}),$e={date:se.date||null};break}case"title":{const Ke=(typeof $=="string"?$.trim():"")||null;if((se.title||se.notes||null)===Ke){fe=null;break}fe={title:Ke,notes:Ke},nt({title:Ke,notes:Ke,note:Ke}),$e={title:se.title||null,notes:se.notes||null};break}case"type":{const Z=typeof $=="string"?$.toLowerCase():"";if(!bSe.has(Z)){de="Tipe tidak valid";break}if(se.type===Z){fe=null;break}fe={type:Z},nt({type:Z}),$e={type:se.type||null};break}case"category":{const Z=$||null;if(Z){const Ke=wSe(ve,Z);if(!Ke){de="Kategori tidak ditemukan";break}if(se.category_id===Z){fe=null;break}fe={category_id:Z},nt({category_id:Z,category:{id:Z,name:Ke.name,type:Ke.type}}),$e={category_id:se.category_id||null}}else{if(!se.category_id){fe=null;break}fe={category_id:null},nt({category_id:null,category:null}),$e={category_id:se.category_id||null}}break}case"account":{const Z=$||null;if(Z){const Ke=_Se(he,Z);if(!Ke){de="Akun tidak ditemukan";break}if(se.account_id===Z){fe=null;break}fe={account_id:Z},nt({account_id:Z,account:{id:Z,name:Ke.name}}),$e={account_id:se.account_id||null}}else{if(!se.account_id){fe=null;break}fe={account_id:null},nt({account_id:null,account:null}),$e={account_id:se.account_id||null}}break}case"amount":{const Z=vSe($);if(!Z||Z<=0){de="Nominal harus lebih dari 0";break}if(Number(se.amount)===Z){fe=null;break}fe={amount:Z},nt({amount:Z}),$e={amount:se.amount||null};break}case"tags":{const Z=xSe(typeof $=="string"?$:Array.isArray($)?$.join(","):null);if((se.tags||null)===(Z||null)){fe=null;break}fe={tags:Z},nt({tags:Z}),$e={tags:se.tags||null};break}default:fe=null}if(de){T(W,P,{state:"error",message:de});return}if(!fe){T(W,P,{state:"idle"});return}let Se=null;try{Se=d4(fe,se)}catch(Z){const Ke=Z instanceof Error?Z.message:"Tidak bisa menyimpan";T(W,P,{state:"error",message:Ke});return}if(!Se||Object.keys(Se).length===0){T(W,P,{state:"idle"});return}T(W,P,{state:"saving"}),o.current.set(W,{...o.current.get(W)||{},...Qe}),i(Z=>Z.map(Ke=>Ke.id===W?{...Ke,...Qe}:Ke));try{const{next:Z}=await ZBe(W,Se,{prev:se,force:G.force}),Ke={...se,...Qe,...Z};o.current.delete(W),s.current.set(W,Ke),i(st=>st.map(ye=>ye.id===W?Ke:ye)),T(W,P,{state:"saved"}),window.setTimeout(()=>{O(W,P).state==="saved"&&T(W,P,{state:"idle"})},1200),G.skipUndo||q({rowId:W,field:P,prevRow:se,revertPatch:$e,value:$})}catch(Z){o.current.delete(W),i(Ke=>Ke.map(st=>st.id===W?se:st)),Z?.code==="conflict"?(k({rowId:W,field:P,latest:Z.latest,prevRow:se,value:$}),T(W,P,{state:"error",message:"Data telah berubah"})):(T(W,P,{state:"error",message:"Tidak bisa menyimpan. Cek koneksi atau ulangi."}),n?.({message:"Tidak bisa menyimpan. Cek koneksi atau ulangi.",type:"danger"}))}},[n,O,d4,q,T]),I=B.useCallback((W,P,$,G={})=>{const ne=`${W}:${P}`;c.current.set(ne,$),A.current.has(ne)&&(clearTimeout(A.current.get(ne)),A.current.delete(ne));const se=G.debounceMs??0;if(se>0){const ve=window.setTimeout(()=>{A.current.delete(ne);const he=c.current.get(ne);c.current.delete(ne),U(W,P,he)},se);A.current.set(ne,ve)}else c.current.delete(ne),U(W,P,$)},[U]),Q=B.useCallback((W,P)=>{const $=`${W}:${P}`,G=c.current.get($);A.current.has($)&&(clearTimeout(A.current.get($)),A.current.delete($)),c.current.delete($),G!==void 0&&U(W,P,G)},[U]),H=B.useCallback((W,P)=>{const $=`${W}:${P}`;A.current.has($)&&(clearTimeout(A.current.get($)),A.current.delete($)),c.current.delete($),o.current.delete(W);const G=s.current.get(W);G&&i(ne=>ne.map(se=>se.id===W?{...G}:se)),T(W,P,{state:"idle"})},[T]),Y=B.useCallback((W,P,$,G={})=>{U(W,P,$,G)},[U]),K=B.useCallback(()=>{const W=b.current;if(!W)return;const P=s.current.get(W.rowId),$=(()=>{switch(W.field){case"date":return ZR(W.prevRow?.date);case"title":return W.prevRow?.title||W.prevRow?.notes||"";case"type":return W.prevRow?.type||"expense";case"category":return W.prevRow?.category_id||null;case"account":return W.prevRow?.account_id||null;case"amount":return W.prevRow?.amount||null;case"tags":return W.prevRow?.tags||"";default:return null}})();R(),U(W.rowId,W.field,$,{prevOverride:P,skipUndo:!0,force:!0})},[U,R]),J=B.useCallback(W=>{W?.id&&(s.current.set(W.id,W),i(P=>{const $=P.findIndex(ve=>ve.id===W.id),G=o.current.get(W.id),ne=G?{...W,...G}:W;if($===-1)return[ne,...P];const se=[...P];return se[$]=ne,se}))},[]),re=B.useCallback(W=>{s.current.delete(W),o.current.delete(W),i(P=>P.filter($=>$.id!==W))},[]),oe=B.useCallback(()=>{N&&(s.current.set(N.latest.id,N.latest),o.current.delete(N.latest.id),i(W=>W.map(P=>P.id===N.latest.id?N.latest:P)),T(N.rowId,N.field,{state:"idle"}),k(null))},[N,T]),V=B.useCallback(()=>{if(!N)return;const{rowId:W,field:P,latest:$,value:G}=N;k(null),U(W,P,G,{prevOverride:$,force:!0})},[U,N]);return B.useMemo(()=>({rows:a,queueUpdate:I,flushUpdate:Q,cancelUpdate:H,commitUpdate:Y,getStatus:O,formatValue:D,undoState:w,onUndo:K,clearUndo:R,conflict:N,resolveConflictWithLatest:oe,resolveConflictForce:V,applyRealtimeUpsert:J,applyRealtimeDelete:re,categories:t,accounts:r}),[a,I,Q,H,Y,O,D,w,K,R,N,oe,V,J,re,t,r])}const kg=["transactions","categories","debts","goals"],SSe={transactions:"Transaksi",categories:"Kategori",debts:"Hutang",goals:"Goals"},NSe={q:"",type:"all",dateFrom:"",dateTo:"",sort:"date-desc",page:1,pageSize:20};function CSe(e){return[{id:"date",label:"Tanggal",sortable:!0,sortField:"date",render:t=>l.jsx(RG,{row:t,editing:e}),display:t=>e?.formatValue(t,"date")},{id:"title",label:"Catatan",className:"truncate",render:t=>l.jsx(HG,{row:t,editing:e}),display:t=>e?.formatValue(t,"title")},{id:"type",label:"Tipe",className:"capitalize",render:t=>l.jsx($G,{row:t,editing:e}),display:t=>e?.formatValue(t,"type")},{id:"category",label:"Kategori",className:"truncate",render:t=>l.jsx(KG,{row:t,editing:e}),display:t=>e?.formatValue(t,"category")},{id:"account",label:"Akun",className:"truncate",render:t=>l.jsx(zG,{row:t,editing:e}),display:t=>e?.formatValue(t,"account")},{id:"amount",label:"Nominal",align:"right",sortable:!0,sortField:"amount",render:t=>l.jsx(GG,{row:t,editing:e}),display:t=>e?.formatValue(t,"amount")},{id:"tags",label:"Tag",className:"truncate",render:t=>l.jsx(VG,{row:t,editing:e}),display:t=>e?.formatValue(t,"tags")}]}function jSe(e,t){switch(e){case"transactions":return CSe(t);case"categories":return[{id:"name",label:"Nama",accessor:r=>r.name,className:"truncate",sortable:!0,sortField:"name"},{id:"type",label:"Tipe",accessor:r=>r.type||"-",className:"capitalize"},{id:"created_at",label:"Dibuat",accessor:r=>r.created_at?new Date(r.created_at).toLocaleDateString("id-ID"):"-",sortable:!0,sortField:"created_at"}];case"debts":return[{id:"title",label:"Judul",accessor:r=>r.title||"-",className:"truncate"},{id:"amount",label:"Jumlah",accessor:r=>Number(r.amount||0).toLocaleString("id-ID"),align:"right",sortable:!0,sortField:"amount"},{id:"status",label:"Status",accessor:r=>r.status||"-",className:"capitalize"},{id:"due_date",label:"Jatuh Tempo",accessor:r=>r.due_date?new Date(r.due_date).toLocaleDateString("id-ID"):"-",sortable:!0,sortField:"due_date"}];case"goals":return[{id:"name",label:"Nama",accessor:r=>r.name||r.title||"-",className:"truncate"},{id:"target",label:"Target",accessor:r=>Number(r.target||0).toLocaleString("id-ID"),align:"right",sortable:!0,sortField:"target"},{id:"saved",label:"Tersimpan",accessor:r=>Number(r.saved||0).toLocaleString("id-ID"),align:"right",sortable:!0,sortField:"saved"},{id:"deadline",label:"Deadline",accessor:r=>r.deadline?new Date(r.deadline).toLocaleDateString("id-ID"):"-",sortable:!0,sortField:"deadline"}];default:return[]}}function kSe(e){switch(e){case"transactions":return[{value:"date-desc",label:"Tanggal terbaru"},{value:"date-asc",label:"Tanggal terlama"},{value:"amount-desc",label:"Nominal terbesar"},{value:"amount-asc",label:"Nominal terkecil"}];case"categories":return[{value:"name-asc",label:"Nama A-Z"},{value:"name-desc",label:"Nama Z-A"},{value:"created_at-desc",label:"Terbaru dibuat"},{value:"created_at-asc",label:"Terlama dibuat"}];case"debts":return[{value:"due_date-asc",label:"Jatuh tempo terdekat"},{value:"due_date-desc",label:"Jatuh tempo terjauh"},{value:"amount-desc",label:"Nominal terbesar"},{value:"amount-asc",label:"Nominal terkecil"}];case"goals":return[{value:"deadline-asc",label:"Deadline terdekat"},{value:"deadline-desc",label:"Deadline terjauh"},{value:"target-desc",label:"Target terbesar"},{value:"target-asc",label:"Target terkecil"},{value:"saved-desc",label:"Tersimpan terbanyak"},{value:"saved-asc",label:"Tersimpan tersedikit"}];default:return[]}}async function ESe(e,t){let r=Ne.from("categories").select("id,name,type,created_at",{count:"exact"}).eq("user_id",t);e.q&&(r=r.ilike("name",`%${e.q}%`));const[n,a]=(e.sort||"name-asc").split("-"),i=a!=="desc",s=n==="created_at"?"created_at":"name";r=r.order(s,{ascending:i});const o=(e.page-1)*e.pageSize,c=o+e.pageSize-1,{data:A,error:f,count:h}=await r.range(o,c);if(f)throw f;return{rows:(A||[]).map(g=>({...g,name:g.name??"",type:g.type??null,created_at:g.created_at??null})),total:h||0}}async function TSe(e,t){let r=Ne.from("debts").select("id,title,amount,status,due_date,created_at,party_name",{count:"exact"}).eq("user_id",t);e.q&&(r=r.ilike("title",`%${e.q}%`));const[n,a]=(e.sort||"due_date-desc").split("-"),i=a!=="desc",s=n==="amount"?"amount":n==="due_date"?"due_date":"created_at";r=r.order(s,{ascending:i});const o=(e.page-1)*e.pageSize,c=o+e.pageSize-1,{data:A,error:f,count:h}=await r.range(o,c);if(f)throw f;return{rows:(A||[]).map(g=>({...g,title:g.title??g.party_name??"",amount:Number(g.amount??0),status:g.status??"ongoing",due_date:g.due_date??null})),total:h||0}}async function OSe(e,t){let r=Ne.from("goals").select("id,title,target_amount,saved_amount,due_date,status,created_at,description,name",{count:"exact"}).eq("user_id",t);e.q&&(r=r.ilike("name",`%${e.q}%`));const[n,a]=(e.sort||"deadline-asc").split("-"),i=a!=="desc";let s="created_at";n==="deadline"&&(s="due_date"),n==="target"&&(s="target_amount"),n==="saved"&&(s="saved_amount"),r=r.order(s,{ascending:i});const o=(e.page-1)*e.pageSize,c=o+e.pageSize-1,{data:A,error:f,count:h}=await r.range(o,c);if(f)throw f;return{rows:(A||[]).map(g=>({...g,name:g.name??g.title??"",title:g.title??g.name??"",target:Number(g.target??g.target_amount??0),target_amount:Number(g.target_amount??g.target??0),saved:Number(g.saved??g.saved_amount??0),saved_amount:Number(g.saved_amount??g.saved??0),deadline:g.deadline??g.due_date??null})),total:h||0}}function e8(e,t){const r=new Date,n=`${r.getFullYear()}${String(r.getMonth()+1).padStart(2,"0")}${String(r.getDate()).padStart(2,"0")}-${String(r.getHours()).padStart(2,"0")}${String(r.getMinutes()).padStart(2,"0")}`;return`hematwoi-${e}-${n}.${t}`}function ISe(){const[e,t]=B.useState("transactions"),[r,n]=B.useState(()=>{const de=kg.reduce((ze,nt)=>(ze[nt]={...NSe},ze),{});return de.categories.sort="name-asc",de.debts.sort="due_date-desc",de.goals.sort="deadline-asc",de}),[a,i]=B.useState(()=>kg.reduce((de,ze)=>(de[ze]={rows:[],total:0,loading:!1,error:""},de),{})),[s,o]=B.useState({total:0,income:0,expense:0,net:0}),[c,A]=B.useState(()=>kg.reduce((de,ze)=>(de[ze]=new Set,de),{})),[f,h]=B.useState(()=>kg.reduce((de,ze)=>(de[ze]=new Set,de),{})),[p,g]=B.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[v,b]=B.useState(!1),[x,w]=B.useState([]),[S,N]=B.useState([]),[k,C]=B.useState([]),[T,O]=B.useState(!1),[D,R]=B.useState(null),{addToast:q}=ci();B.useEffect(()=>{const de=()=>{typeof window>"u"||g(window.innerWidth<768)};return window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),B.useEffect(()=>{(async()=>{try{const de=await tr();if(R(de),!de)return;const[ze,nt]=await Promise.all([Ne.from("categories").select("id, name, type").eq("user_id",de).order("name"),Ne.from("accounts").select("id, name").eq("user_id",de).order("name")]);if(ze.error)throw ze.error;if(nt.error)throw nt.error;w(ze.data||[]),N(nt.data||[])}catch{}})()},[]),B.useEffect(()=>{const de=r[e];let ze=!1;return(async()=>{i(Se=>({...Se,[e]:{...Se[e],loading:!0,error:""}}));try{if(!D){i(Z=>({...Z,[e]:{...Z[e],rows:[],total:0,loading:!1}}));return}let Se;if(e==="transactions"){const Z=await XT(de);Se={rows:Z.rows,total:Z.total},o({total:Z.total,income:Number(Z.summary?.income||0),expense:Number(Z.summary?.expense||0),net:Number(Z.summary?.net||0)})}else e==="categories"?Se=await ESe(de,D):e==="debts"?Se=await TSe(de,D):e==="goals"&&(Se=await OSe(de,D));!ze&&Se&&i(Z=>({...Z,[e]:{...Z[e],rows:Se.rows,total:Se.total,loading:!1,error:""}}))}catch(Se){ze||i(Z=>({...Z,[e]:{...Z[e],loading:!1,error:Se.message||"Gagal memuat data"}}))}})(),()=>{ze=!0}},[e,r,D]),B.useEffect(()=>{if(e!=="transactions")return;const de=a.transactions.rows||[];if(!de.length){C([]);return}try{O(!0);const ze=nSe(de.filter(nt=>nt.id));C(ze)}catch{}finally{O(!1)}},[a.transactions.rows,e]);const U=BSe({rows:a.transactions.rows||[],categories:x,accounts:S,addToast:q}),{applyRealtimeUpsert:I,applyRealtimeDelete:Q}=U;B.useEffect(()=>{},[e,Q,I]);const H=(de,ze,nt)=>{n(Se=>{const Z={...Se};return Z[de]={...Z[de],[ze]:nt},ze!=="page"&&ze!=="pageSize"&&(Z[de].page=1),Z})},Y=B.useMemo(()=>jSe(e,e==="transactions"?U:void 0),[e,U]),K=e==="transactions"?U.rows:a[e]?.rows||[],J=a[e]?.total||0,re=r[e]?.page||1,oe=r[e]?.pageSize||20,V=Math.max(1,Math.ceil(J/oe)),W=f[e]||new Set,P=c[e]||new Set,$=de=>{h(ze=>{const nt={...ze},Se=new Set(nt[e]);return Se.has(de.id)?Se.delete(de.id):Se.add(de.id),nt[e]=Se,nt})},G=()=>{h(de=>{const ze={...de};return W.size===K.length?ze[e]=new Set:ze[e]=new Set(K.map(nt=>nt.id)),ze})},ne=async()=>{if(!(e!=="transactions"||W.size===0))try{await oC(Array.from(W)),q({title:"Transaksi dihapus",status:"success"}),h(de=>({...de,transactions:new Set})),ve()}catch(de){q({title:"Gagal menghapus transaksi",status:"error",description:de.message})}},se=async de=>{if(de)try{await eSe({ids:Array.from(W),patch:{category_id:de}}),q({title:"Kategori diperbarui",status:"success"}),ve(),h(ze=>({...ze,transactions:new Set}))}catch(ze){q({title:"Gagal mengubah kategori",status:"error",description:ze.message})}},ve=()=>{n(de=>({...de,[e]:{...de[e]}}))},he=async()=>{try{const de=await tSe(r.transactions),ze=URL.createObjectURL(de),nt=document.createElement("a");nt.href=ze,nt.download=e8("transactions","csv"),document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),URL.revokeObjectURL(ze)}catch(de){q({title:"Gagal export CSV",status:"error",description:de.message})}},fe=async()=>{try{const de=await FSe(r.transactions);await DSe(de,e8("transactions","json"))}catch(de){q({title:"Gagal export JSON",status:"error",description:de.message})}},Qe=B.useMemo(()=>e!=="transactions"?new Set:new Set((a.transactions.rows||[]).map(de=>JT({user_id:de.user_id||D,date:de.date,amount:de.amount,title:de.title||""}))),[a.transactions.rows,D,e]),$e=[{label:"Total Transaksi",value:s.total,icon:ree},{label:"Total Pemasukan",value:s.income,icon:N$},{label:"Total Pengeluaran",value:s.expense,icon:gZ},{label:"Saldo Terhitung",value:s.net,icon:Xw}];return l.jsxs("main",{className:"min-w-0 w-full px-4 md:px-6 py-5 space-y-6",children:[l.jsx("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:$e.map(de=>l.jsxs("div",{className:"rounded-3xl border border-border bg-card/80 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:de.label}),l.jsx(de.icon,{className:"h-5 w-5 text-primary"})]}),l.jsx("p",{className:"mt-3 text-2xl font-semibold text-foreground",children:typeof de.value=="number"?de.value.toLocaleString("id-ID"):de.value})]},de.label))}),l.jsxs("section",{className:"rounded-3xl border border-border bg-card/70 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[kg.map(de=>l.jsx("button",{type:"button",className:`inline-flex h-9 items-center rounded-full px-4 text-sm font-medium transition ${e===de?"bg-primary text-primary-foreground":"bg-muted/50 text-muted-foreground hover:bg-muted"}`,onClick:()=>t(de),children:SSe[de]},de)),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e==="transactions"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{type:"button",className:"inline-flex h-[40px] items-center gap-2 rounded-xl border border-border bg-background px-3 text-sm",onClick:he,children:[l.jsx(vb,{className:"h-4 w-4"})," CSV"]}),l.jsxs("button",{type:"button",className:"inline-flex h-[40px] items-center gap-2 rounded-xl border border-border bg-background px-3 text-sm",onClick:fe,children:[l.jsx(vb,{className:"h-4 w-4"})," JSON"]}),l.jsxs("button",{type:"button",className:"inline-flex h-[40px] items-center gap-2 rounded-xl bg-primary px-4 text-sm font-semibold text-primary-foreground",onClick:()=>b(!0),children:[l.jsx(P$,{className:"h-4 w-4"})," Import CSV"]})]}),l.jsx(MBe,{columns:Y,hidden:P,onChange:de=>A(ze=>({...ze,[e]:new Set(Array.from(de).filter(Boolean))}))})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-8 gap-3 items-center",children:[l.jsx("div",{className:"col-span-2 md:col-span-3",children:l.jsxs("div",{className:"flex h-[40px] items-center gap-2 rounded-xl border border-border bg-background px-3",children:[l.jsx(hy,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("input",{value:r[e].q,onChange:de=>H(e,"q",de.target.value),placeholder:"Cari...",className:"h-full flex-1 bg-transparent text-sm outline-none"})]})}),e==="transactions"&&l.jsxs(l.Fragment,{children:[l.jsxs("select",{value:r.transactions.type,onChange:de=>H("transactions","type",de.target.value),className:"h-[40px] w-full rounded-xl border border-border bg-background px-3 text-sm",children:[l.jsx("option",{value:"all",children:"Semua Tipe"}),l.jsx("option",{value:"income",children:"Pemasukan"}),l.jsx("option",{value:"expense",children:"Pengeluaran"}),l.jsx("option",{value:"transfer",children:"Transfer"})]}),l.jsx("input",{type:"date",value:r.transactions.dateFrom||"",onChange:de=>H("transactions","dateFrom",de.target.value),className:"h-[40px] w-full rounded-xl border border-border bg-background px-3 text-sm"}),l.jsx("input",{type:"date",value:r.transactions.dateTo||"",onChange:de=>H("transactions","dateTo",de.target.value),className:"h-[40px] w-full rounded-xl border border-border bg-background px-3 text-sm"})]}),l.jsx("div",{className:"col-span-2 md:col-span-2",children:l.jsx("select",{value:r[e].sort,onChange:de=>H(e,"sort",de.target.value),className:"h-[40px] w-full rounded-xl border border-border bg-background px-3 text-sm",children:kSe(e).map(de=>l.jsx("option",{value:de.value,children:de.label},de.value))})}),l.jsx("div",{className:"col-span-2 md:col-span-1 md:ml-auto",children:l.jsx("select",{value:r[e].pageSize,onChange:de=>H(e,"pageSize",Number(de.target.value)),className:"h-[40px] w-full rounded-xl border border-border bg-background px-3 text-sm",children:[20,50,100].map(de=>l.jsxs("option",{value:de,children:[de,"/halaman"]},de))})})]}),l.jsxs("div",{className:"mt-4 space-y-4",children:[a[e].error&&l.jsx("div",{className:"rounded-2xl border border-destructive/40 bg-destructive/10 p-3 text-sm text-destructive",children:a[e].error}),l.jsx(Iy,{fallback:l.jsx("div",{className:"rounded-2xl border border-border bg-muted/20 p-4 text-center text-sm text-muted-foreground",children:"Tidak dapat menampilkan data."}),children:p?l.jsx(LBe,{rows:K,columns:Y,hiddenColumns:P,selectedIds:W,onToggleSelect:$,loading:a[e].loading,editing:e==="transactions"?U:void 0,onAction:(de,ze)=>{de==="delete"&&e==="transactions"&&oC([ze.id]).then(()=>{q({title:"Transaksi dihapus",status:"success"}),ve()}).catch(nt=>{q({title:"Gagal menghapus",status:"error",description:nt.message})})}}):l.jsx(EBe,{columns:Y,rows:K,hiddenColumns:P,selectedIds:W,onToggleSelect:$,onToggleAll:G,sort:r[e].sort,onSortChange:de=>H(e,"sort",de),loading:a[e].loading})}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Menampilkan ",(re-1)*oe+1,"-",Math.min(re*oe,J)," dari ",J]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",className:"inline-flex h-8 items-center justify-center rounded-full border border-border px-3",onClick:()=>H(e,"page",Math.max(1,re-1)),disabled:re<=1,children:"Prev"}),l.jsxs("span",{children:[re,"/",V]}),l.jsx("button",{type:"button",className:"inline-flex h-8 items-center justify-center rounded-full border border-border px-3",onClick:()=>H(e,"page",Math.min(V,re+1)),disabled:re>=V,children:"Next"})]})]})]})]}),e==="transactions"&&W.size>0&&l.jsx(PBe,{selectedCount:W.size,categories:x,onDelete:ne,onUpdateCategory:se,onClear:()=>h(de=>({...de,transactions:new Set}))}),e==="transactions"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(hSe,{duplicates:k,loading:T,onDelete:async de=>{try{await oC(de),q({title:"Duplikat dihapus",status:"success"}),ve()}catch(ze){q({title:"Gagal menghapus duplikat",status:"error",description:ze.message})}},onRefresh:ve}),l.jsx(mSe,{categories:x,onComplete:()=>{ve(),D&&Ne.from("categories").select("id, name, type").eq("user_id",D).order("name").then(de=>{de.error||w(de.data||[])})}})]}),e==="transactions"&&U.undoState&&l.jsx("div",{className:"pointer-events-none fixed bottom-6 left-1/2 z-40 flex w-full max-w-sm -translate-x-1/2 justify-center",children:l.jsxs("div",{className:"pointer-events-auto flex w-full items-center justify-between rounded-2xl bg-foreground px-4 py-3 text-sm text-background shadow-lg",role:"status","aria-live":"polite",children:[l.jsx("span",{children:"Perubahan disimpan  Undo"}),l.jsx("button",{type:"button",className:"rounded-full bg-background/10 px-3 py-1 text-xs font-semibold text-background hover:bg-background/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-background",onClick:U.onUndo,children:"Undo"})]})}),e==="transactions"&&U.conflict&&l.jsxs(s1,{open:!0,title:"Data berubah",onClose:U.resolveConflictWithLatest,children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Data transaksi ini telah diperbarui di tempat lain. Ambil versi terbaru atau timpa dengan perubahan Anda."}),l.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[l.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full border border-border px-4 py-2 text-sm",onClick:U.resolveConflictWithLatest,children:"Ambil Terbaru"}),l.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full bg-destructive px-4 py-2 text-sm font-semibold text-destructive-foreground hover:bg-destructive/90",onClick:U.resolveConflictForce,children:"Timpa"})]})]}),l.jsx(fSe,{activeTab:e==="transactions"?"transactions":void 0,onRestoreComplete:ve}),l.jsx(cSe,{open:v,onClose:()=>b(!1),onImported:()=>{b(!1),ve()},existingCategories:x,existingAccounts:S,existingHashes:Qe,userId:D})]})}function USe(){return l.jsx(Iy,{children:l.jsx(ISe,{})})}async function FSe(e){let r=1,n=[];for(;;){const a=await XT({...e,page:r,pageSize:500});if(n=n.concat(a.rows),!a.rows.length||n.length>=a.total)break;r+=1}return n}async function DSe(e,t){const r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)}function LSe({message:e,tip:t,avatar:r="coin",onDismiss:n}){const[a,i]=B.useState(!1),[s,o]=B.useState(!1);B.useEffect(()=>(o(!0),()=>o(!1)),[]);const c=r==="bill"?"":"";return s?co.createPortal(l.jsxs("div",{className:"pointer-events-none fixed bottom-6 right-6 z-50 flex flex-col items-end sm:bottom-8 sm:right-8","aria-live":"polite",children:[l.jsxs("div",{tabIndex:0,role:"status",className:tt("pointer-events-auto card shadow-lg p-3 flex items-start gap-2 cursor-pointer focus:outline-none","animate-slide"),onClick:()=>i(A=>!A),onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&i(f=>!f),A.key==="Escape"&&n()},children:[l.jsx("span",{className:"text-2xl","aria-hidden":"true",children:c}),l.jsx("div",{className:"flex-1 text-sm",children:e}),l.jsx("button",{type:"button",className:"ml-2 text-xs",onClick:A=>{A.stopPropagation(),n()},children:""})]}),a&&t&&l.jsx("div",{className:"pointer-events-auto mt-2 card shadow p-2 text-xs animate-slide",role:"dialog",children:t})]}),document.body):null}const MSe={id:{Makan:["Aku masuk mulut, bukan dompet! ","Habis makan enak, aku langsung melangsing. ","Perut kenyang, dompet kempes!","Makan lagi? Aku butuh diet.","Setiap gigitan, aku semakin tipis.","Aku lebih suka disimpan daripada dimakan.","Menu pedas, saldo ikut kepedesan. ","Perang sambal selesai, dompetku jadi korbannya. ","Lidahmu pesta, aku yang bayarin semuanya. "],Transport:["Wusshh! Aku ikut ngebut. ","Aku capek jadi uang ojek.","Bensin lagi? Aku kan bukan minyak.","Mungkin coba jalan kaki?","Tiap kilometer, aku berpamitan.","Bis kan murah? hemat dong.","Setiap klakson, aku lompat dari kursi belakang. ","Ban berputar, aku ikut muter balik ke masa gajian. ","Nebeng angin aja yuk, biar aku nggak ngos-ngosan. "],Hiburan:["Yay, diajak bersenang-senang!","Tiket lagi? Aku ingin liburan juga.","Nonton boleh, asal aku nggak habis.","Game baru? Ingat cicilan!","Aku tertawa, tapi sambil nangis.","Seru-seru, tapi tabungan melambai.","Popcorn habis, saldo gantian dikunyah. ","Soundtrack seru, dompetku yang tegang. ","Komedi lucu, tapi aku yang jadi punchline. "],Belanja:["Keranjangmu penuh, aku kosong.","Diskon? Aku tetap keluar.","Belanja terus, aku pusing.","Mungkin cari yang second?","Aku berharap kita cuma window shopping.","Barang baru lagi? Aku belum pulih.","Scan barcode lagi? Aku butuh napas buatan. ","Kotak paket datang, aku langsung kabur. ","Wishlistmu bahagia, saldoku malah was-was. "],Tagihan:["Halo, bulan ini aku datang lagi.","Bayar listrik biar terang, tapi aku gelap.","Tagihan air? Aku mengalir deras.","Aku pergi begitu saja tiap tanggal tua.","Langganan banyak, aku seret.","Mungkin matikan lampu kalau tidak dipakai.","Notifikasi tagihan bunyi, aku langsung push-up. ","Meteran muter, aku ikut muter mikir cicilan. ","Tagihan streaming? Aku kan nggak ikut nonton. "],Tabungan:["Tidur dulu ya, bangunkan nanti.","Aku berkembang di sini.","Hemat pangkal kaya, ayo!","Aku senang di celengan.","Tambah lagi dong biar gemuk.","Pelan-pelan jadi bukit.","Ssst, jangan ganggu aku lagi numpuk masa depan. ","Aku diparkir rapi, jangan derek ya. ","Tambahanku bikin dompet punya saudara kembar. "]},en:{Makan:["I go to your belly, not your wallet! ","Great meal, sudden slim wallet. ","Full tummy, empty pocket!","Eating again? I need a diet.","Every bite makes me thinner.","I'd rather be saved than eaten.","Spicy menu, spicy wallet burn. ","Sambal war won, my balance lost. ","Your taste buds party, I pay the bill. "],Transport:["Zoom! I'm speeding away. ","Tired of being ride money.","Fuel again? I'm not oil.","Maybe try walking?","Each kilometer, I say goodbye.","Buses are cheaper, you know.","Every honk launches me out the window. ","Tires spin, I time-travel to payday. ","Let's hitch a ride on the wind to save me. "],Hiburan:["Yay, out for fun!","Tickets again? I need a vacation too.","Movies are fine, just don't spend me all.","New game? Remember the bills!","I'm laughing while crying inside.","Fun times, waving goodbye to savings.","Popcorn's gone, now they're munching my balance. ","Epic soundtrack, terrified wallet. ","Comedy's funny; I'm the punchline. "],Belanja:["Your cart is full, I'm empty.","Sale? I'm still leaving.","Shopping spree makes me dizzy.","Maybe buy second-hand?","I hoped it was just window shopping.","Another new item? I'm not recovered yet.","Another barcode scan? I need mouth-to-mouth. ","Package arrived, I bolted instantly. ","Wishlist thrilled, balance thrilled... with fear. "],Tagihan:["Hello, it's that time of month.","Paying electricity, but I'm in the dark.","Water bill? I'm flowing fast.","I vanish every due date.","Too many subscriptions drain me.","Turn off unused lights maybe?","Bill alert sounds, I'm doing panic push-ups. ","Meter spins, I spiral thinking of payments. ","Streaming bill? I didn't even watch! "],Tabungan:["Let me sleep for the future.","I'm growing safely here.","Save now, rich later!","Happy inside the piggy bank.","Feed me more to grow fat.","Slowly but surely I pile up.","Shh, I'm stacking future funds. ","Parked neatlyno towing my savings. ","Each deposit gives my wallet a twin. "]}},PSe={id:{Makan:["Coba masak sendiri untuk lebih hemat.","Bawa bekal dari rumah."],Transport:["Gunakan transportasi umum saat bisa.","Jadwalkan carpool dengan teman."],Hiburan:["Cari hiburan gratis atau diskon.","Batasi langganan yang jarang dipakai."],Belanja:["Buat daftar belanja dan patuhi.","Tunggu 24 jam sebelum membeli barang mahal."],Tagihan:["Matikan alat listrik saat tidak digunakan.","Tinjau langganan bulananmu."],Tabungan:["Setor otomatis tiap bulan.","Pisahkan rekening tabungan."]},en:{Makan:["Cook at home to save more.","Bring your own lunch."],Transport:["Use public transport when possible.","Arrange carpools with friends."],Hiburan:["Look for free or discounted fun.","Trim unused subscriptions."],Belanja:["Make a shopping list and stick to it.","Wait 24 hours before big purchases."],Tagihan:["Turn off appliances when unused.","Review your monthly subscriptions."],Tabungan:["Automate monthly deposits.","Keep a separate savings account."]}},QSe={id:{high:"Siapa pesan paket sultan? {{amount}} meluncur kayak jet pribadi! ",savings:"Mantap! {{amount}} ditidurin manis di tabungan, jangan lupa selimut bunga. ",overbudget:"Kategori {{category}} udah over {{amount}}. Tolong, aku mau cuti swadaya dulu. "},en:{high:"Who ordered the royal package? {{amount}} blasted off like a private jet! ",savings:"Sweet! {{amount}} is tucked into savingsbring a compound-interest blanket. ",overbudget:"{{category}} blew past the plan by {{amount}}. I'm filing for self-care leave. "}},RSe={id:{expense:{zero:["Transaksi {{category}} ini nol? Aku cuma olahraga pemanasan doang. ","Tidak ada uang keluar, tapi aku sudah siap joget. Kasih angka dikit dong. ","{{category}} gratisan? Aku cuma jadi MC tanpa honor. "],tiny:["Pengeluaran {{category}} cuma {{amount}}. Aku masih senyum-senyum. ","Cemilan {{category}} seharga {{amount}}? Aku ikutan ngeces aja deh. ","{{amount}} untuk {{category}}? Aku masih kuat senyum sambil ngemil angin. "],small:["{{amount}} meluncur ke {{category}}. Dompetku masih santai, tapi jangan kebablasan ya. ","Oke, {{category}} dapat {{amount}}. Aku bakal hemat air mata dulu. ","{{category}} ambil {{amount}}. Aku goyang tipis aja, jangan ajak breakdance. "],medium:["Uh-oh, {{amount}} terbang ke {{category}}. Aku mulai ngos-ngosan nih. ","{{category}} nelen {{amount}} sekaligus. Aku butuh kipas angin sekarang. ","{{amount}} bikin {{category}} kenyang, aku butuh kompres es dulu. "],large:["Waduh, {{amount}} langsung teleport ke {{category}}! Dompetku tepuk jidat. ","{{category}} barusan buka konser dan {{amount}} beli tiket VIP. Aku bengong dulu. ","{{amount}} keluar, aku langsung buka thread curhat di grup dompet. "],mega:["Halo, Bank Indonesia? Ada {{amount}} kabur ke {{category}}! ","{{amount}} keluar sekaligus? Aku pingsan bentar ya panggilin teh manis. ","{{amount}} kabur? Aku buka crowdfunding buat pulangin dia. "]},income:{zero:["Katanya ada pemasukan, tapi angkanya nol. Jangan PHP aku dong. ","Saldo cuma disapa doang tanpa angka. Aku baper nih. ","Pemasukan nol? Jangan bikin aku refresh saldo sendirian. "],tiny:["Yeay, recehan {{amount}} mampir! Aku jingkrak kecil dulu. ","{{amount}} masuk ke {{category}}. Kecil-kecil cabe rawit nih. ","{{amount}} mampir, aku gelar karpet keset dulu. "],small:["Asik, {{amount}} mendarat mulus. Dompet langsung senyum tipis. ","Ada pemasukan {{amount}} buat {{category}}. Aku siap-siap bikin pesta kecil. ","{{amount}} mendarat, aku siap selfie sama saldo baru. "],medium:["Wow, {{amount}} turun dari langit! Tolong gelar karpet merah dong. ","{{category}} kedatangan {{amount}}. Aku mendadak optimis sama masa depan. ","{{amount}} turun, aku langsung update status 'menuju kaya'. "],large:["Ini dia! {{amount}} masuk, dompet langsung body goals. ","{{amount}} mampir? Aku siap bikin rapor keuangan warna hijau semua! ","{{amount}} bikin aku tegap kayak ATM baru diisi. "],mega:["Awas, tsunami pemasukan {{amount}}! Aku butuh kapal pesiar buat nampung. ","Seseorang panggil penasihat keuangan, {{amount}} baru jatuh dari langit! ","{{amount}} masuk? Aku pesen satpam pribadi sekarang juga. "]},transfer:{zero:["Mutasi nol? Aku cuma pindah kursi doang nih. ","Tidak ada uang pindah, cuma drama doang rupanya. ","Transfer tanpa angka itu namanya surat cinta, bukan transaksi. "],tiny:["{{amount}} pindah kos ke {{category}}. Semoga kamarnya lebih adem. ","Transfer mungil {{amount}} ini lucu juga, kayak aku digelitik. ","{{amount}} pindah? Aku bantu angkat kardusnya sekalian. "],small:["Aku pindahan ke {{category}} bawa koper {{amount}}. Jangan lupa sambutanku ya. ","{{amount}} lagi cari suasana baru di {{category}}. Tolong kasih welcome drink. ","{{amount}} lagi nyari suasana baru di {{category}}, tolong share lokasi. "],medium:["Relokasi {{amount}} ke {{category}} berjalan lancar. Aku kangen rumah lama sih. ","{{amount}} pindah alamat! Semoga alamat barunya ada Wi-Fi gratis. ","Relokasi {{amount}} sukses. Aku titip pesan: jangan lupa kabar-kabar. "],large:["Konvoi besar-besaran: {{amount}} pindah ke {{category}}! Aku ikut sirinean dulu. ","{{amount}} migrasi masal ke {{category}}. Tolong pasang spanduk selamat datang. ","{{amount}} pindahan besar, aku jadi koordinator RT antar saldo. "],mega:["Evakuasi super: {{amount}} kabur bareng-bareng ke {{category}}! ","Sepertinya {{amount}} butuh travel agent buat pindah ke {{category}}. Aku ikut jadi pemandu. ","{{amount}} migrasi massal, aku sewa helikopter cadangan. "]}},en:{expense:{zero:["A zero-amount {{category}}? Guess I'm just stretching my legs. ","No cash left my pocket, but I'm already warmed up. Toss me a number! ","{{category}} was free? I'm just the unpaid host here. "],tiny:["Only {{amount}} for {{category}}. I'm still smiling. ","A snack-level {{category}} bill of {{amount}}? I'm just drooling. ","{{amount}} for {{category}}? I'm cool, still snacking on air. "],small:["{{amount}} floated to {{category}}. Wallet's still chill, just don't overdo it. ","Okay, {{category}} claimed {{amount}}. I'll save my tears for later. ","{{category}} claimed {{amount}}. Chill wobble onlyno breakdance. "],medium:["Uh-oh, {{amount}} warped over to {{category}}. I'm getting sweaty here. ","{{category}} just gulped {{amount}}. Someone bring me a fan. ","{{amount}} stuffed {{category}}; I'm icing my balance now. "],large:["Yikes, {{amount}} teleported to {{category}}! My wallet facepalmed. ","{{category}} hosted a concert and {{amount}} bought VIP seats. I'm stunned. ","{{amount}} left and I'm starting a support group chat. "],mega:["Hello, central bank? {{amount}} just fled to {{category}}! ","{{amount}} gone in one swoop? I'm faintingfetch sweet tea! ","{{amount}} escaped? I'm launching a crowdfunding campaign. "]},income:{zero:["Income with zero amount? Don't ghost me like that. ","The balance only got a hello, no numbers. Feelings: hurt. ","Zero income? Don't leave me refreshing alone. "],tiny:["Yay, {{amount}} spare change arrived! Doing a mini dance. ","{{amount}} coming into {{category}}. Small but spicy. ","{{amount}} popped inrolling out the welcome doormat. "],small:["Nice, {{amount}} just landed. Wallet smiles softly. ","{{amount}} joined {{category}}. Time for a tiny celebration. ","{{amount}} arrived; snapping a selfie with the balance. "],medium:["Whoa, {{amount}} dropped from the sky! Roll out the red carpet. ","{{category}} received {{amount}}. Suddenly I'm optimistic about the future. ","{{amount}} dropped in, updating status to 'getting rich-ish'. "],large:["Here we go! {{amount}} came in and my wallet has abs now. ","{{amount}} showed up? I'm painting the finance report green! ","{{amount}} made me stand tall like a freshly loaded ATM. "],mega:["Incoming cash tsunami of {{amount}}! I need a yacht to hold it. ","Call the money advisor, {{amount}} just fell from the sky! ","{{amount}} landed? Hiring personal security immediately. "]},transfer:{zero:["Zero transfer? Guess I'm just swapping seats. ","No cash movedjust dramatic flair. ","Zero transfer? That's a love letter, not a transaction. "],tiny:["{{amount}} is moving into {{category}}. Hope the new place has AC. ","This petite {{amount}} transfer tickles! ","{{amount}} moved; I'm helping carry the little boxes. "],small:["Carrying {{amount}} over to {{category}}. Please welcome me properly. ","{{amount}} is trying out {{category}}. Serve a welcome drink, please. ","{{amount}} seeking new vibes in {{category}}send location. "],medium:["Relocating {{amount}} to {{category}} went smoothly. I do miss the old place though. ","{{amount}} changed address! Fingers crossed for free Wi-Fi there. ","{{amount}} relocated smoothly. Text me when you arrive. "],large:["Mass migration: {{amount}} is off to {{category}}! Sirens on. ","{{amount}} moved en masse to {{category}}. Hang the welcome banner! ","{{amount}} staged a big move; I'm the neighborhood coordinator now. "],mega:["Mega evacuation: {{amount}} just airlifted to {{category}}! ","Looks like {{amount}} hired a travel agent for {{category}}. I'm the tour guide. ","{{amount}} migrating en masse; chartering extra helicopters. "]}}},WG=[{category:"makan",keywords:["kopi","ngopi","coffee","espresso","latte","americano","boba","teh","tea"],responses:{id:{message:"Ngopi di {{title}}? Aku kebagian aromanya aja, {{amount}} langsung melayang. ",tip:"Bisa coba seduh kopi sendiri biar aku lebih sering nongkrong di dompet."},en:{message:"Coffee run at {{title}}? I only got the aroma while {{amount}} flew away. ",tip:"Try brewing at home so I can hang around in your wallet longer."}}},{category:"makan",keywords:["ayam","fried chicken","burger","pizza","sushi","ramen","bakso","steak"],responses:{id:{message:"Pesan {{title}}? Lidahmu pesta, aku ikut tersedot ke kasir. ",tip:"Atur jadwal makan spesial supaya saldo tetap aman."},en:{message:"Ordered {{title}}? Your taste buds party while my balance pays the bill. ",tip:"Plan special meals so the budget stays on track."}}},{category:"belanja",keywords:["sepatu","shoes","sneaker","sneakers","heels","sandals","boots"],responses:{id:{message:"Belanja {{title}}? Dompetku ikut fashion show dadakan. ",tip:"Sisihkan dana outfit bulanan biar nggak kebablasan."},en:{message:"Shopping for {{title}}? My balance jumped onto the runway too. ",tip:"Set a monthly outfit fund so spending stays in check."}}},{category:"belanja",keywords:["baju","shirt","dress","jaket","jacket","hoodie","outfit","fashion","pakaian","kemeja","celana","pants"],responses:{id:{message:"{{title}} baru? Aku juga harus ganti outfit karena makin tipis. ",tip:"Cek lemari dulu sebelum beli baju baru, siapa tau masih ada yang kece."},en:{message:"New {{title}}? I need a fresh outfit too because I'm getting thinner. ",tip:"Shop your closet firstthere might be gems before buying new clothes."}}},{category:"belanja",keywords:["hp","phone","laptop","gadget","camera","kamera","tablet","pc","monitor"],responses:{id:{message:"Upgrade {{title}}? Aku ikut ke-charge minus nih. ",tip:"Pastikan ada pos gadget khusus supaya saldo nggak kaget."},en:{message:"Upgrading {{title}}? My balance just lost a big charge. ",tip:"Keep a dedicated gadget budget so surprises stay pleasant."}}},{category:"transport",keywords:["bensin","fuel","pertalite","pertamax","diesel","gas","shell"],responses:{id:{message:"Isi {{title}}? Tangki penuh, dompet setengah. ",tip:"Coba catat jarak tempuh biar isi BBM lebih terencana."},en:{message:"Filling up {{title}}? Tank's full but my balance is half. ",tip:"Track your mileage so fuel stops become more predictable."}}},{category:"transport",keywords:["gojek","grab","uber","taksi","taxi","ojek","angkot","bus","mrt","lrt","kereta","train","angkut","angkutan","ojol"],responses:{id:{message:"Perjalanan {{title}}? Aku ikut ngojek sampai saldo drop. ",tip:"Gabungin beberapa tujuan sekaligus supaya ongkos lebih hemat."},en:{message:"Ride with {{title}}? I tagged along and lost some weight. ",tip:"Combine errands in one trip to save on transport costs."}}},{category:"hiburan",keywords:["netflix","spotify","disney","vidio","prime","youtube","viu","apple tv","apple music","iqiyi"],responses:{id:{message:"Langganan {{title}} jalan lagi? Aku cuma jadi penonton bayarannya. ",tip:"Pertimbangkan bagi akun bareng keluarga biar lebih hemat."},en:{message:"Subscribed to {{title}} again? I'm the paying audience here. ",tip:"Share plans with family or friends to trim the cost."}}},{category:"hiburan",keywords:["game","gaming","steam","playstation","ps5","ps4","xbox","nintendo","mlbb","valorant","genshin","diamond","top up"],responses:{id:{message:"Top up {{title}}? Aku jadi karakter NPC yang selalu bayar. ",tip:"Tetapkan limit hiburan bulanan biar saldo nggak game over."},en:{message:"Topping up {{title}}? I'm the NPC who keeps footing the bill. ",tip:"Set a monthly entertainment cap so the balance doesn't game over."}}},{category:"tagihan",keywords:["listrik","pln","token","electric","power"],responses:{id:{message:"Bayar {{title}}? Rumah terang, tapi saldo meredup. ",tip:"Matikan alat listrik yang nggak terpakai untuk hemat daya."},en:{message:"Paying {{title}}? Lights stay on while my balance dims. ",tip:"Switch off unused appliances to save on electricity."}}},{category:"tagihan",keywords:["internet","wifi","modem","fiber","indihome","data"],responses:{id:{message:"Tagihan {{title}} tiba? Aku terhubung langsung ke pengeluaran. ",tip:"Cek paket yang dipakai, mungkin ada pilihan lebih hemat."},en:{message:"{{title}} bill is here? I'm plugged straight into that expense. ",tip:"Review your planthere might be a cheaper option that fits."}}},{category:"tabungan",keywords:["emas","gold","reksa","fund","mutual","saham","stock","crypto","bitcoin","invest"],responses:{id:{message:"Investasi {{title}}? Aku lagi disekolahkan biar pintar berkembang. ",tip:"Diversifikasi biar tabungan nggak bergantung ke satu instrumen aja."},en:{message:"Investing in {{title}}? I'm off to school to grow smarter. ",tip:"Diversify so your savings don't rely on a single instrument."}}},{category:"tabungan",keywords:["darurat","emergency","sinking fund","cadangan","dana"],responses:{id:{message:"{{title}} masuk tabungan? Aku diparkir manis buat jaga-jaga. ",tip:"Pertahankan dana darurat 3-6 bulan biaya hidup ya!"},en:{message:"Adding {{title}} to savings? I'm parked safely for rainy days. ",tip:"Keep your emergency fund at 36 months of living costs."}}}];function HSe(e,t){return e?e instanceof RegExp?(e.lastIndex=0,e.test(t)):t.includes(String(e).toLowerCase()):!1}function $Se(e){return e instanceof RegExp?e.toString():String(e).toLowerCase()}function qSe(e){if(!Array.isArray(e))return[];const t=new Set,r=[];for(const n of e)if(Array.isArray(n?.keywords))for(const a of n.keywords){if(typeof a!="string")continue;const i=a.toLowerCase();t.has(i)||(t.add(i),r.push(a))}return r.sort((n,a)=>n.localeCompare(a))}Object.freeze(qSe(WG));function t8(e,t){return e&&e.replace(/\{\{(\w+)\}\}/g,(r,n)=>{const a=t?.[n];return a!=null?String(a):""})}function YG(e){if(!e)return null;const t=e.toLowerCase();for(const r of WG)if(!(!Array.isArray(r?.keywords)||r.keywords.length===0)){for(const n of r.keywords)if(HSe(n,t))return{rule:r,token:$Se(n)}}return null}function KSe({lang:e="id",title:t,values:r}){if(!t)return null;const n=YG(t),a=n?.rule;if(!a)return null;const i=a.responses?.[e]||a.responses?.id||null;if(!i)return null;const s=t8(i.message,r),o=t8(i.tip,r);return{message:s,tip:o,token:n?.token}}const zSe=[{key:"zero",check:e=>e===0},{key:"tiny",check:e=>e<2e4},{key:"small",check:e=>e<15e4},{key:"medium",check:e=>e<1e6},{key:"large",check:e=>e<5e6},{key:"mega",check:()=>!0}],XG={income:"income",transfer:"transfer"},r8={id:{expense:"pengeluaran",income:"pemasukan",transfer:"transfer"},en:{expense:"expense",income:"income",transfer:"transfer"}};function h4(e=[]){return e.length?e[Math.floor(Math.random()*e.length)]:null}function GSe(e){return e?Object.values(e).flatMap(t=>Array.isArray(t)?t:[]):[]}function Dd(e,t){return e&&e.replace(/\{\{(\w+)\}\}/g,(r,n)=>{const a=t[n];return a!=null?String(a):""})}function VSe(e){const t=Number.isFinite(e)?e:0,r=t<0?0:t,n=zSe.find(a=>a.check(r));return n?n.key:"small"}function ex(e,t){return e[t]||e.id||Object.values(e)[0]||{}}const n8={jarang:6e3,normal:5e3,ramai:4e3};function WSe({lang:e,type:t,amount:r,values:n}){const a=XG[t]||"expense",i=ex(RSe,e),s=VSe(r),o=i?.[a]?.[s]||[],c=h4(o);return Dd(c,n)}const JG=B.createContext({speak:()=>{}});function ZG(){return B.useContext(JG)}function YSe({prefs:e={},children:t}){const[r,n]=B.useState(null),a=B.useRef([]),i=B.useCallback(()=>{n(null)},[]),s=B.useCallback(()=>{if(r||!a.current.length)return;const c=a.current.shift();n(c),setTimeout(()=>{i(),s()},c.duration||5e3)},[r,i]),o=B.useCallback(({category:c,title:A,amount:f=0,type:h="expense",currency:p,context:g={}})=>{if(!e.moneyTalkEnabled)return;const v=e.moneyTalkLang||"id",b=ex(MSe,v),x=ex(PSe,v),w=ex(QSe,v),S=r8[v]||r8.id,N=XG[h]||"expense",k=p||e.currency||"IDR",C=Math.abs(Number(f)||0),T=typeof A=="string"?A.trim():"",O=T||(v==="en"?"untitled transaction":"transaksi tanpa judul"),D={amount:hn(C,k),category:c||(v==="en"?"mystery category":"kategori misterius"),type:S?.[N]||N,title:O},R=g.isSavings||g.isOverBudget||g.isHigh?null:KSe({lang:v,title:T,values:D});let q="";if(g.isSavings)q=Dd(w.savings,D);else if(g.isOverBudget)q=Dd(w.overbudget,D);else if(g.isHigh)q=Dd(w.high,D);else if(R?.message)q=R.message;else if(q=WSe({lang:v,type:h,amount:C,values:D}),!q){const H=b?.[c]||[],Y=GSe(b),K=H.length?H:Y;K.length?q=Dd(h4(K),D):q=Dd(v==="en"?"Recorded {{title}} for {{category}}. I'm keeping an eye on it.":"Transaksi {{title}} di kategori {{category}} tercatat. Aku tetap siaga mengawasinya.",D)}const U=x?.[c]||[],I=R?.tip?R.tip:U.length?Dd(h4(U),D):"",Q=n8[e.moneyTalkIntensity]||n8.normal;a.current.push({id:globalThis.crypto?.randomUUID?.()||Math.random().toString(36).slice(2),message:q,tip:I,avatar:Math.random()>.5?"bill":"coin",duration:Q+Math.random()*1500}),a.current.length>3&&a.current.splice(3),s()},[e.moneyTalkEnabled,e.moneyTalkIntensity,e.moneyTalkLang,e.currency,s]);return l.jsxs(JG.Provider,{value:{speak:o},children:[t,r&&l.jsx(LSe,{message:r.message,tip:r.tip,avatar:r.avatar,onDismiss:()=>{i(),s()}},r.id)]})}function XSe(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)}function JSe(e){if(!Array.isArray(e))return null;const t=new Set,r=[];for(const n of e){const a=n?.trim();if(!a)continue;const i=a.toLowerCase();t.has(i)||(t.add(i),r.push(a))}return r.length?r:null}async function a8(e){const{type:t,date:r,amount:n,account_id:a,to_account_id:i,category_id:s,merchant_id:o,title:c,notes:A,tags:f}=e;if(!["income","expense","transfer"].includes(t))throw new Error("Tipe transaksi tidak valid.");if(!XSe(r))throw new Error("Tanggal tidak valid.");if(!Number.isFinite(n)||n<=0)throw new Error("Jumlah harus lebih besar dari 0.");if(!a)throw new Error("Akun sumber wajib dipilih.");if(t==="transfer"){if(!i)throw new Error("Akun tujuan wajib dipilih untuk transfer.");if(i===a)throw new Error("Akun tujuan tidak boleh sama dengan akun sumber.")}else if(i)throw new Error("Akun tujuan hanya digunakan untuk transfer.");if(t==="expense"&&!s)throw new Error("Kategori wajib untuk pengeluaran.");const h=await tr();if(!h)throw new Error("Anda harus masuk untuk membuat transaksi.");const p={user_id:h,type:t,date:r,amount:n,account_id:a,to_account_id:t==="transfer"?i??null:null,category_id:t==="transfer"?null:s??null,merchant_id:o??null,title:c?.trim()||null,notes:A?.trim()||null,tags:JSe(f)??null},{data:g,error:v}=await Ne.from("transactions").insert(p).select("id, user_id, type, date, amount, account_id, to_account_id, category_id, merchant_id, title, notes, tags, receipt_url").single();if(v)throw new Error(v.message||"Gagal menyimpan transaksi.");return{id:g.id,user_id:g.user_id,type:g.type,date:g.date,amount:Number(g.amount??n),account_id:g.account_id??null,to_account_id:g.to_account_id??null,category_id:g.category_id??null,merchant_id:g.merchant_id??null,title:g.title??null,notes:g.notes??null,tags:Array.isArray(g.tags)?g.tags:null,receipt_url:g.receipt_url??null}}function ZSe(e){if(!e.name?.trim())throw new Error("Nama template wajib diisi.");if(!["income","expense","transfer"].includes(e.type))throw new Error("Tipe template tidak valid.");if(!Number.isFinite(e.amount)||e.amount<=0)throw new Error("Nominal template harus lebih besar dari 0.");if(!e.account_id)throw new Error("Akun sumber wajib diisi.");if(e.type==="transfer"){if(!e.to_account_id)throw new Error("Akun tujuan wajib diisi untuk template transfer.");if(e.to_account_id===e.account_id)throw new Error("Akun tujuan tidak boleh sama dengan akun sumber.")}if(e.type==="expense"&&!e.category_id)throw new Error("Kategori wajib diisi untuk template pengeluaran.")}async function eNe(){const e=await tr();if(!e)throw new Error("Anda harus masuk untuk mengelola template transaksi.");const{data:t,error:r}=await Ne.from("transaction_templates").select("id, user_id, name, type, amount, account_id, to_account_id, category_id, title, notes, created_at").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message||"Gagal mengambil template transaksi.");return(t||[]).map(n=>({id:n.id,user_id:n.user_id,name:n.name,type:n.type,amount:Number(n.amount)||0,account_id:n.account_id??null,to_account_id:n.to_account_id??null,category_id:n.category_id??null,title:n.title??null,notes:n.notes??null,created_at:n.created_at??void 0}))}async function tNe(e){ZSe(e);const t=await tr();if(!t)throw new Error("Anda harus masuk untuk menyimpan template transaksi.");const r={user_id:t,name:e.name.trim(),type:e.type,amount:e.amount,account_id:e.account_id,to_account_id:e.type==="transfer"?e.to_account_id??null:null,category_id:e.type==="transfer"?null:e.category_id??null,title:e.title?.trim()||null,notes:e.notes?.trim()||null},{data:n,error:a}=await Ne.from("transaction_templates").insert(r).select("id, user_id, name, type, amount, account_id, to_account_id, category_id, title, notes, created_at").single();if(a)throw new Error(a.message||"Gagal menyimpan template transaksi.");return{id:n.id,user_id:n.user_id,name:n.name,type:n.type,amount:Number(n.amount)||r.amount,account_id:n.account_id??null,to_account_id:n.to_account_id??null,category_id:n.category_id??null,title:n.title??null,notes:n.notes??null,created_at:n.created_at??void 0}}async function rNe(e){if(!e)throw new Error("ID template tidak valid.");const t=await tr();if(!t)throw new Error("Anda harus masuk untuk menghapus template transaksi.");const{error:r}=await Ne.from("transaction_templates").delete().eq("id",e).eq("user_id",t);if(r)throw new Error(r.message||"Gagal menghapus template transaksi.")}const i8=[{value:"income",label:"Income",description:"Catat pemasukan",icon:Vo},{value:"expense",label:"Expense",description:"Catat pengeluaran",icon:my},{value:"transfer",label:"Transfer",description:"Pindahkan saldo antar akun",icon:dZ}],Eh="h-11 w-full rounded-2xl border bg-background px-3 text-sm text-text ring-2 ring-transparent transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-60",nNe="w-full rounded-2xl border bg-background px-3 py-3 text-sm text-text ring-2 ring-transparent transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-60",aNe="inline-flex rounded-2xl border border-border-subtle bg-muted/40 p-1 text-sm font-medium text-muted",iNe="flex items-center gap-2 rounded-xl px-3 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",sNe=[1e3,5e3,1e4,5e4,1e5,5e5],oNe=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Jakarta"}),ZT=new Intl.NumberFormat("id-ID",{minimumFractionDigits:0});function s8(e){const t=String(e??"").replace(/[^0-9]/g,"").replace(/^0+(?=\d)/,"");if(!t)return"";const r=Number.parseInt(t,10);return Number.isFinite(r)?ZT.format(r):""}function kd(e=0){const t=new Date;return t.setUTCDate(t.getUTCDate()+e),oNe.format(t)}function o8(e){return!Number.isFinite(e)||e<=0?"-":`Rp ${ZT.format(e)}`}function lNe(e){if(typeof e=="number")return e;if(!e)return NaN;const t=String(e).replace(/[^0-9,.]/g,"").replace(/\.(?=\d{3})/g,"").replace(/,/g,"."),r=Number.parseFloat(t);return Number.isFinite(r)?r:NaN}async function cNe(e,t){const r=`receipts/${t}/${Date.now()}_${e.name}`,{error:n}=await Ne.storage.from("receipts").upload(r,e,{cacheControl:"3600",upsert:!0});if(n)throw n;const{data:a}=Ne.storage.from("receipts").getPublicUrl(r),i=a?.publicUrl??null;if(i){const{error:s}=await Ne.from("transactions").update({receipt_url:i}).eq("id",t);if(s)throw s}return i}function uNe({onAdd:e}){const t=uo(),{addToast:r}=ci(),{speak:n}=ZG(),[a,i]=B.useState(!0),[s,o]=B.useState(!1),[c,A]=B.useState("expense"),[f,h]=B.useState(()=>kd(0)),[p,g]=B.useState(""),[v,b]=B.useState(""),[x,w]=B.useState(""),[S,N]=B.useState(""),[k,C]=B.useState(""),[T,O]=B.useState(""),[D,R]=B.useState([]),[q,U]=B.useState([]),[I,Q]=B.useState({}),[H,Y]=B.useState(null),[K,J]=B.useState(""),[re,oe]=B.useState(!1),[V,W]=B.useState([]),[P,$]=B.useState(!0),[G,ne]=B.useState(""),[se,ve]=B.useState(!1),[he,fe]=B.useState(null),[Qe,$e]=B.useState(null);B.useEffect(()=>{let Ce=!0;async function Et(){i(!0);try{const[Pt,jr,Ft]=await Promise.all([n1(),hG(),r1("income")]);if(!Ce)return;const mr=Array.isArray(Pt)?Pt.filter(Boolean):[];R(mr),mr.length&&b($r=>$r||mr[0].id);const Nr=[...jr||[],...(Ft||[]).filter(Boolean)];U(Nr)}catch(Pt){r(Pt?.message||"Gagal memuat master data","error")}finally{Ce&&i(!1)}}return Et(),()=>{Ce=!1}},[r]);const de=B.useCallback(async()=>{try{$(!0);const Ce=await eNe();W(Ce)}catch(Ce){const Et=Ce?.message||"Gagal memuat template transaksi";W([]),r(Et,"error")}finally{$(!1)}},[r]);B.useEffect(()=>{de()},[de]),B.useEffect(()=>{c!=="transfer"?w(""):N("")},[c]),B.useEffect(()=>{c==="transfer"&&x&&x===v&&w("")},[v,x,c]),B.useEffect(()=>{if(!H)return;const Ce=URL.createObjectURL(H);return J(Ce),()=>{URL.revokeObjectURL(Ce)}},[H]),B.useEffect(()=>{const Ce=Et=>{Et.key==="Escape"&&(Et.preventDefault(),t("/transactions"))};return window.addEventListener("keydown",Ce),()=>window.removeEventListener("keydown",Ce)},[t]);const ze=B.useMemo(()=>{const Ce={income:[],expense:[]};return q.forEach(Et=>{const Pt=(Et.type||"expense").toLowerCase();Ce[Pt]||(Ce[Pt]=[]),Ce[Pt].push(Et)}),Ce},[q]),nt=B.useMemo(()=>ze[c]||[],[ze,c]),Se=B.useMemo(()=>{if(c==="transfer")return null;const Ce=c==="income"?"Belum ada kategori pemasukan":"Belum ada kategori pengeluaran";return!(ze[c]||[]).length||!nt.length?Ce:null},[c,ze,nt.length]);B.useEffect(()=>{if(c==="transfer")return;const Ce=ze[c]||[];Ce.length&&(!S||!Ce.some(Et=>Et.id===S))&&N(Ce[0].id)},[ze,S,c]);const Z=D.find(Ce=>Ce.id===v),Ke=D.find(Ce=>Ce.id===x),st=q.find(Ce=>Ce.id===S),ye=st?.name||"",He=B.useMemo(()=>i8.find(Ce=>Ce.value===c),[c]),Ve=c==="transfer",ge=lNe(p),je=k.trim(),we=T.trim(),Xe=we?we.length>80?`${we.slice(0,77)}`:we:"Tidak ada catatan",Pe=!!(H||K),At=c==="income"?"Dana masuk ke akun sumber":c==="transfer"?"Memindahkan saldo antar akun":"Dana keluar dari akun sumber",gt=He?.label||"Expense",St=He?.icon||my,Ze=Ve?null:st?.name||"Belum dipilih",rt=Ve?Ke?.name||"Belum dipilih":null,$t=Pe?"1 file terlampir":"Belum ada struk",Ht=Pe?"Struk akan tersimpan bersama transaksi ini.":"Unggah struk untuk dokumentasi dan audit.",Vt=we?`Catatan: ${Xe}`:"Catatan belum diisi",Kt=Ce=>{const Et=s8(Ce.target.value);g(Et),Q(Pt=>({...Pt,amount:void 0}))},nr=Ce=>{const Pt=(Number.isFinite(ge)?ge:0)+Ce;g(s8(Pt)),Q(jr=>({...jr,amount:void 0}))},wr=Ce=>{h(Ce),Q(Et=>({...Et,date:void 0}))},Ge=Ce=>{if(!Ce||!Ce.length)return;const[Et]=Ce;Et&&Y(Et)},Lt=Ce=>{Ce.preventDefault(),oe(!1),Ge(Ce.dataTransfer.files)},Ot=async()=>{const Ce=G.trim();if(!Ce){r("Nama template wajib diisi.","error");return}if(!Number.isFinite(ge)||ge<=0){r("Nominal harus diisi sebelum membuat template.","error");return}if(!v){r("Pilih akun sumber untuk template.","error");return}if(c==="transfer"&&!x){r("Pilih akun tujuan untuk template transfer.","error");return}if(c==="expense"&&!S){r("Pilih kategori untuk template pengeluaran.","error");return}ve(!0);try{await tNe({name:Ce,type:c,amount:ge,account_id:v,to_account_id:c==="transfer"&&x||null,category_id:c==="transfer"?null:S||null,title:je||null,notes:we||null}),ne(""),r("Template transaksi tersimpan.","success"),await de()}catch(Et){r(Et?.message||"Gagal menyimpan template transaksi.","error")}finally{ve(!1)}},Le=async Ce=>{if(!Ce||Qe)return;if(!(Number.isFinite(Ce.amount)&&Ce.amount>0)){r("Nominal pada template tidak valid.","error");return}const Pt=D.find(ur=>ur.id===Ce.account_id);if(!Pt){r("Akun pada template tidak ditemukan.","error");return}let jr=null;if(Ce.type==="transfer"){if(!Ce.to_account_id){r("Template transfer membutuhkan akun tujuan.","error");return}if(jr=D.find(ur=>ur.id===Ce.to_account_id),!jr){r("Akun tujuan pada template tidak ditemukan.","error");return}}let Ft=null;if(Ce.type!=="transfer"){if(Ce.type==="expense"&&!Ce.category_id){r("Template pengeluaran membutuhkan kategori.","error");return}if(Ce.category_id&&(Ft=q.find(ur=>ur.id===Ce.category_id),!Ft)){r("Kategori pada template tidak ditemukan.","error");return}}const mr=Ce.title?.trim()||"",Nr=Ce.notes?.trim()||"",$r=f||kd(0);$e(Ce.id);try{const ur=await a8({type:Ce.type,date:$r,amount:Ce.amount,account_id:Ce.account_id,to_account_id:Ce.type==="transfer"?Ce.to_account_id:null,category_id:Ce.type!=="transfer"&&Ce.category_id||null,title:mr||null,notes:Nr||null}),yn={...ur,amount:ur.amount??Ce.amount,account:Pt?.name||null,account_id:ur.account_id??Ce.account_id,to_account:Ce.type==="transfer"&&jr?.name||null,to_account_id:ur.to_account_id??(Ce.type==="transfer"?Ce.to_account_id:null),category:Ce.type!=="transfer"&&Ft?.name||null,category_id:ur.category_id??(Ce.type!=="transfer"&&Ce.category_id||null),title:ur.title??(mr||null),notes:ur.notes??(Nr||null),note:ur.notes??(Nr||null),receipt_url:ur.receipt_url||null,__persisted:!0};e?.(yn),r("Transaksi dibuat dari template.","success"),t("/transactions")}catch(ur){r(ur?.message||"Gagal membuat transaksi dari template.","error")}finally{$e(null)}},ot=async Ce=>{if(Ce){fe(Ce);try{await rNe(Ce),r("Template transaksi dihapus.","success"),await de()}catch(Et){r(Et?.message||"Gagal menghapus template transaksi.","error")}finally{fe(null)}}},ht=B.useCallback(()=>{const Ce={};return(!Number.isFinite(ge)||ge<=0)&&(Ce.amount="Nominal wajib diisi dan harus lebih besar dari 0."),f||(Ce.date="Pilih tanggal transaksi."),v||(Ce.account_id="Pilih akun sumber."),Ve?x?x===v&&(Ce.to_account_id="Akun tujuan tidak boleh sama dengan sumber."):Ce.to_account_id="Pilih akun tujuan untuk transfer.":x&&(Ce.to_account_id="Akun tujuan hanya digunakan untuk transfer."),!Ve&&c==="expense"&&!S&&(Ce.category_id="Kategori wajib diisi untuk pengeluaran."),Q(Ce),Object.keys(Ce).length===0},[ge,f,v,x,Ve,c,S]),mt=()=>{A("expense"),h(kd(0)),g(""),N(""),C(""),O(""),Y(null),J(""),Q({}),D.length&&b(D[0].id),w("")},It=async Ce=>{if(Ce.preventDefault(),s)return;if(!ht()){r("Periksa kembali data yang wajib diisi.","error");return}o(!0);try{const Pt=await a8({type:c,date:f,amount:ge,account_id:v,to_account_id:Ve?x:null,category_id:Ve?null:S||null,title:je||null,notes:we||null});let jr=Pt.receipt_url||null;if(H)try{jr=await cNe(H,Pt.id)}catch(mr){r(mr?.message||"Struk gagal diunggah, tetapi transaksi tersimpan.","error")}const Ft={...Pt,amount:Pt.amount??ge,account:Z?.name||null,account_id:Pt.account_id??v,to_account:Ve&&Ke?.name||null,to_account_id:Pt.to_account_id??(Ve?x:null),category:Ve?null:st?.name||null,category_id:Pt.category_id??(Ve?null:S||null),title:Pt.title??(je||null),notes:Pt.notes??(we||null),note:Pt.notes??(we||null),receipt_url:jr,__persisted:!0};if(e?.(Ft),r("Transaksi tersimpan","success"),je&&YG(je)){const Nr=!Ve&&ye?ye:null,$r=Number.isFinite(ge)?ge:0,ur=!Ve&&typeof Nr=="string"&&Nr.toLowerCase()==="tabungan";n({category:Nr||void 0,title:je,amount:$r,type:c,context:{isHigh:!1,isSavings:ur,isOverBudget:!1}})}t("/transactions")}catch(Pt){r(Pt?.message||"Gagal menyimpan transaksi","error")}finally{o(!1)}};return a?l.jsx(il,{children:l.jsx(ao,{first:!0,className:"mx-auto max-w-3xl",children:l.jsxs("div",{className:"flex items-center justify-center gap-2 py-16 text-muted",children:[l.jsx(pr,{className:"h-5 w-5 animate-spin","aria-hidden":"true"}),"Memuat formulir..."]})})}):l.jsxs(il,{children:[l.jsxs(fo,{title:"Tambah Transaksi",children:[l.jsx("button",{type:"button",onClick:()=>t("/transactions"),className:"h-11 rounded-2xl border border-border-subtle px-4 text-sm font-medium text-text transition hover:bg-muted/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:"Batal"}),l.jsx("button",{type:"button",onClick:mt,className:"h-11 rounded-2xl border border-border-subtle px-4 text-sm font-medium text-text transition hover:bg-muted/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:"Reset"}),l.jsxs("button",{type:"submit",form:"add-transaction-form",disabled:s,className:"flex h-11 items-center gap-2 rounded-2xl bg-primary px-4 text-sm font-semibold text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[s?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(zI,{className:"h-4 w-4","aria-hidden":"true"}),"Simpan"]})]}),l.jsx(ao,{first:!0,children:l.jsxs("form",{id:"add-transaction-form",onSubmit:It,className:"grid gap-6 md:grid-cols-[minmax(0,1fr)_320px]",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx(Vl,{className:"rounded-2xl border bg-gradient-to-b from-white/80 to-white/50 p-5 shadow-sm backdrop-blur dark:from-zinc-900/60 dark:to-zinc-900/30 md:p-6",children:l.jsxs(Gc,{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Tipe"}),l.jsx("div",{className:"mt-2",children:l.jsx("div",{className:aNe,role:"radiogroup","aria-label":"Pilih tipe transaksi",children:i8.map(Ce=>{const Et=Ce.icon,Pt=c===Ce.value;return l.jsxs("button",{type:"button",role:"radio","aria-checked":Pt,tabIndex:Pt?0:-1,onClick:()=>{A(Ce.value),Q(jr=>({...jr,category_id:void 0,to_account_id:void 0}))},className:`${iNe} ${Pt?"bg-primary text-primary-foreground":"text-muted"}`,children:[l.jsx(Et,{className:"h-4 w-4","aria-hidden":"true"}),l.jsx("span",{children:Ce.label})]},Ce.value)})})})]}),l.jsxs("div",{className:"min-w-[200px]",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Tanggal"}),l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>wr(kd(0)),className:`h-9 rounded-xl border px-3 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary ${f===kd(0)?"border-primary bg-primary text-primary-foreground":"border-border-subtle text-text hover:bg-muted/30"}`,children:"Hari ini"}),l.jsx("button",{type:"button",onClick:()=>wr(kd(-1)),className:`h-9 rounded-xl border px-3 text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary ${f===kd(-1)?"border-primary bg-primary text-primary-foreground":"border-border-subtle text-text hover:bg-muted/30"}`,children:"Kemarin"}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"date",value:f,onChange:Ce=>wr(Ce.target.value),className:Eh})})]}),I.date?l.jsx("p",{className:"mt-1 text-xs text-destructive",children:I.date}):null]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-muted",children:[l.jsx(fj,{className:"h-4 w-4","aria-hidden":"true"}),"Nominal"]}),l.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-border-subtle bg-background px-4 py-4 ring-2 ring-transparent focus-within:ring-2 focus-within:ring-primary",children:[l.jsx("span",{className:"text-sm font-semibold text-muted",children:"Rp"}),l.jsx("input",{value:p,onChange:Kt,onBlur:()=>ht(),inputMode:"decimal",placeholder:"Masukkan jumlah",className:"w-full border-none bg-transparent text-3xl font-bold tracking-tight text-text focus:outline-none"})]}),I.amount?l.jsx("p",{className:"mt-1 text-xs text-destructive",children:I.amount}):null,l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:sNe.map(Ce=>l.jsx("button",{type:"button",onClick:()=>nr(Ce),className:"rounded-xl border border-border-subtle px-3 py-1.5 text-xs font-medium text-muted transition hover:border-primary hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:`+${ZT.format(Ce)}`},Ce))})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"account",className:"mb-2 flex items-center gap-2 text-sm font-medium text-muted",children:[l.jsx(rl,{className:"h-4 w-4","aria-hidden":"true"}),"Akun sumber"]}),l.jsxs("select",{id:"account",value:v,onChange:Ce=>{b(Ce.target.value),Q(Et=>({...Et,account_id:void 0}))},className:Eh,children:[l.jsx("option",{value:"",children:"Pilih akun"}),D.map(Ce=>l.jsx("option",{value:Ce.id,children:Ce.name||"Tanpa nama"},Ce.id))]}),I.account_id?l.jsx("p",{className:"mt-1 text-xs text-destructive",children:I.account_id}):null]}),Ve?l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"to-account",className:"mb-2 flex items-center gap-2 text-sm font-medium text-muted",children:[l.jsx(Xg,{className:"h-4 w-4","aria-hidden":"true"}),"Akun tujuan"]}),l.jsxs("select",{id:"to-account",value:x,onChange:Ce=>{w(Ce.target.value),Q(Et=>({...Et,to_account_id:void 0}))},className:Eh,children:[l.jsx("option",{value:"",children:"Pilih akun tujuan"}),D.filter(Ce=>Ce.id!==v).map(Ce=>l.jsx("option",{value:Ce.id,children:Ce.name||"Tanpa nama"},Ce.id))]}),I.to_account_id?l.jsx("p",{className:"mt-1 text-xs text-destructive",children:I.to_account_id}):null]}):null,Ve?null:l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"category",className:"mb-2 flex items-center gap-2 text-sm font-medium text-muted",children:[l.jsx(hA,{className:"h-4 w-4","aria-hidden":"true"}),"Kategori"]}),l.jsxs("select",{id:"category",value:S,onChange:Ce=>{N(Ce.target.value),Q(Et=>({...Et,category_id:void 0}))},className:Eh,disabled:nt.length===0,children:[l.jsx("option",{value:"",children:"Pilih kategori"}),nt.map(Ce=>l.jsx("option",{value:Ce.id,children:Ce.name},Ce.id))]}),I.category_id?l.jsx("p",{className:"mt-1 text-xs text-destructive",children:I.category_id}):Se?l.jsx("p",{className:"mt-1 text-xs text-muted",children:Se}):null]})]}),l.jsx("div",{children:l.jsx("input",{id:"title","aria-label":"Judul (opsional)",value:k,onChange:Ce=>C(Ce.target.value),placeholder:"Contoh: Makan siang tim",className:Eh})}),l.jsx("div",{children:l.jsx("textarea",{id:"notes","aria-label":"Catatan (opsional)",value:T,onChange:Ce=>O(Ce.target.value),rows:4,placeholder:"Catatan tambahan",className:nNe})}),l.jsxs("div",{children:[l.jsxs("p",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-muted",children:[l.jsx(Zs,{className:"h-4 w-4","aria-hidden":"true"}),"Upload struk (opsional)"]}),l.jsxs("label",{htmlFor:"receipt",onDragOver:Ce=>{Ce.preventDefault(),oe(!0)},onDragLeave:()=>oe(!1),onDrop:Lt,className:`flex cursor-pointer flex-col items-center justify-center gap-3 rounded-2xl border-2 border-dashed px-6 py-8 text-center text-sm transition ${re?"border-primary bg-primary/10 text-primary":"border-border-subtle text-muted hover:border-primary hover:text-primary"}`,children:[l.jsx(Zs,{className:"h-8 w-8","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:"Tarik file ke sini atau klik untuk pilih"}),l.jsx("p",{className:"text-xs text-muted",children:"Mendukung gambar atau PDF"})]}),l.jsx("input",{id:"receipt",type:"file",accept:"image/*,application/pdf",onChange:Ce=>Ge(Ce.target.files),className:"sr-only"}),H?l.jsx("p",{className:"text-xs text-text",children:H.name}):null,K?l.jsx("img",{src:K,alt:"Pratinjau struk",className:"mt-2 max-h-40 rounded-xl object-cover"}):null]}),H?l.jsxs("button",{type:"button",onClick:()=>{Y(null),J("")},className:"mt-2 inline-flex items-center gap-2 text-sm text-muted hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:[l.jsx(Jw,{className:"h-4 w-4","aria-hidden":"true"}),"Hapus file"]}):null]})]})}),l.jsx(Vl,{className:"rounded-2xl border bg-gradient-to-b from-white/80 to-white/50 p-5 shadow-sm backdrop-blur dark:from-zinc-900/60 dark:to-zinc-900/30 md:p-6",children:l.jsxs(Gc,{className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-base font-semibold text-text",children:"Template transaksi"}),l.jsx("p",{className:"mt-1 text-sm text-muted",children:"Simpan pengaturan formulir favorit dan gunakan kembali kapan pun dibutuhkan."})]}),l.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-border-subtle bg-background p-3 sm:flex-row sm:items-end",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("label",{htmlFor:"template-name",className:"mb-2 flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-muted",children:[l.jsx(BZ,{className:"h-4 w-4","aria-hidden":"true"}),"Nama template"]}),l.jsx("input",{id:"template-name",value:G,onChange:Ce=>ne(Ce.target.value),placeholder:"Contoh: Langganan streaming",className:Eh,disabled:se})]}),l.jsxs("button",{type:"button",onClick:Ot,disabled:se,className:"inline-flex h-11 items-center justify-center gap-2 rounded-2xl bg-primary px-4 text-sm font-semibold text-primary-foreground transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[se?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(zI,{className:"h-4 w-4","aria-hidden":"true"}),"Simpan template"]})]}),l.jsx("div",{className:"space-y-3",children:P?l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted",children:[l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),"Memuat template..."]}):V.length===0?l.jsx("p",{className:"text-sm text-muted",children:"Belum ada template. Isi formulir di atas lalu simpan sebagai template untuk mempercepat pencatatan transaksi berikutnya."}):l.jsx("ul",{className:"space-y-3",children:V.map(Ce=>{const Et=D.find(Ft=>Ft.id===Ce.account_id)?.name||"Akun tidak ditemukan",Pt=Ce.to_account_id?D.find(Ft=>Ft.id===Ce.to_account_id)?.name||"Akun tidak ditemukan":null,jr=Ce.category_id?q.find(Ft=>Ft.id===Ce.category_id)?.name||"Kategori tidak ditemukan":null;return l.jsx("li",{className:"group relative overflow-hidden rounded-2xl border border-border-subtle bg-white/80 p-4 shadow-sm transition hover:-translate-y-0.5 hover:border-primary/50 hover:shadow-lg dark:bg-zinc-900/60",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-semibold text-text",children:Ce.name||"Tanpa judul"}),l.jsx("p",{className:"text-2xl font-bold tracking-tight text-text",children:o8(Ce.amount)})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-medium text-muted",children:[l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border-subtle/80 bg-background px-3 py-1 text-muted-foreground",children:[l.jsx(rl,{className:"h-3.5 w-3.5 text-primary","aria-hidden":"true"}),Et]}),l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-border-subtle/80 bg-background px-3 py-1 text-muted-foreground",children:[Ce.type==="transfer"?l.jsx(Xg,{className:"h-3.5 w-3.5 text-primary","aria-hidden":"true"}):l.jsx(hA,{className:"h-3.5 w-3.5 text-primary","aria-hidden":"true"}),Ce.type==="transfer"?Pt||"":jr||""]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>Le(Ce),disabled:!!Qe,className:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-xs font-semibold text-primary-foreground shadow-sm transition hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[Qe===Ce.id?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(Q$,{className:"h-4 w-4","aria-hidden":"true"}),Qe===Ce.id?"Memproses...":"Gunakan"]}),l.jsxs("button",{type:"button",onClick:()=>ot(Ce.id),disabled:he===Ce.id,className:"inline-flex items-center gap-2 rounded-full border border-border-subtle px-4 py-2 text-xs font-semibold text-muted transition hover:border-destructive/60 hover:text-destructive focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-destructive disabled:cursor-not-allowed disabled:opacity-60",children:[he===Ce.id?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"}),"Hapus"]})]})]})},Ce.id)})})})]})})]}),l.jsx("div",{className:"space-y-6",children:l.jsx(Vl,{className:"rounded-2xl border bg-gradient-to-b from-white/80 to-white/50 p-5 shadow-sm backdrop-blur dark:from-zinc-900/60 dark:to-zinc-900/30 md:p-6",children:l.jsxs(Gc,{className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-base font-semibold text-text",children:"Ringkasan cepat"}),l.jsx("p",{className:"mt-1 text-sm text-muted",children:"Pastikan detail berikut sudah sesuai sebelum menyimpan transaksi."})]}),l.jsxs("div",{className:"space-y-3 text-sm text-muted",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(St,{className:"mt-0.5 h-4 w-4 text-primary","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:gt}),l.jsx("p",{className:"text-xs text-muted",children:At})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(fj,{className:"mt-0.5 h-4 w-4 text-primary","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:o8(ge)}),l.jsx("p",{className:"text-xs text-muted",children:"Nominal transaksi"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Kd,{className:"mt-0.5 h-4 w-4 text-primary","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:f}),l.jsx("p",{className:"text-xs text-muted",children:"Tanggal disimpan di zona waktu Asia/Jakarta"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(rl,{className:"mt-0.5 h-4 w-4 text-primary","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:Z?.name||"Belum dipilih"}),l.jsx("p",{className:"text-xs text-muted",children:"Saldo akan bergerak dari akun ini"})]})]}),Ve?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Xg,{className:"mt-0.5 h-4 w-4 text-primary","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:rt}),l.jsx("p",{className:"text-xs text-muted",children:"Saldo akan diterima oleh akun tujuan"})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(hA,{className:"mt-0.5 h-4 w-4 text-primary","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:Ze}),l.jsx("p",{className:"text-xs text-muted",children:"Kategori membantu analisis transaksi"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(yee,{className:"mt-0.5 h-4 w-4 text-primary","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:je||"Belum ada judul"}),l.jsx("p",{className:"text-xs text-muted",children:Vt})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Zs,{className:"mt-0.5 h-4 w-4 text-primary","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text",children:$t}),l.jsx("p",{className:"text-xs text-muted",children:Ht})]})]})]})]})})})]})})]})}const l8=new Intl.NumberFormat("id-ID");function d0({label:e,value:t,sublabel:r,loading:n}){return l.jsxs("div",{className:"rounded-3xl border border-border-subtle bg-surface px-4 py-5 shadow-sm shadow-black/5",children:[l.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted",children:e}),l.jsx("p",{className:"mt-2 text-xl font-semibold text-text",children:n?l.jsx("span",{className:"inline-flex animate-pulse rounded-full bg-surface-2 px-3 py-1 text-sm",children:"Memuat"}):t}),r&&!n&&l.jsx("p",{className:"mt-1 text-xs text-muted",children:r})]})}function ANe({totalActive:e,forecastAmount:t,paidAmount:r,dueSoonCount:n,dueSoonAmount:a,loading:i=!1}){const s=i?"":l8.format(e),o=i?"":l8.format(n),c=i?void 0:hn(a||0,"IDR");return l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[l.jsx(d0,{label:"Total aktif",value:s,loading:i}),l.jsx(d0,{label:"Forecast bulan ini",value:i?"":hn(t||0,"IDR"),loading:i}),l.jsx(d0,{label:"Paid bulan ini",value:i?"":hn(r||0,"IDR"),loading:i}),l.jsx(d0,{label:"Due 7 hari",value:o,sublabel:c,loading:i})]})}const dNe=B.memo(ANe),fNe=[{value:"all",label:"Semua status"},{value:"active",label:"Aktif"},{value:"paused",label:"Paused"},{value:"canceled",label:"Canceled"}],hNe=[{value:"all",label:"Semua periode"},{value:"month",label:"Bulanan"},{value:"week",label:"Mingguan"},{value:"year",label:"Tahunan"},{value:"day",label:"Harian"}],mNe=[{value:"due-asc",label:"Due terdekat"},{value:"due-desc",label:"Due terjauh"},{value:"name-asc",label:"Nama A-Z"},{value:"name-desc",label:"Nama Z-A"},{value:"amount-desc",label:"Nominal tertinggi"},{value:"amount-asc",label:"Nominal terendah"},{value:"created-desc",label:"Terbaru dibuat"},{value:"created-asc",label:"Terlama dibuat"}];function pNe({filters:e,onChange:t,onReset:r,categories:n,accounts:a}){const[i,s]=B.useState(!!e.open);B.useEffect(()=>{s(!!e.open)},[e.open]);const o=B.useMemo(()=>[{id:"all",name:"Semua kategori"},...n],[n]),c=B.useMemo(()=>[{id:"all",name:"Semua akun"},...a],[a]),A=()=>{const f=!i;s(f),t({open:f})};return l.jsxs("div",{className:"rounded-3xl border border-border-subtle bg-surface p-4 shadow-sm shadow-black/5",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("label",{className:"flex-1 text-sm",children:[l.jsx("span",{className:"sr-only",children:"Cari langganan"}),l.jsx("input",{type:"search",value:e.q,onChange:f=>t({q:f.target.value}),placeholder:"Cari nama atau vendor",className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text placeholder:text-muted focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]}),l.jsxs("div",{className:"flex items-center justify-between gap-2 sm:hidden",children:[l.jsx("button",{type:"button",onClick:A,className:"inline-flex h-11 flex-1 items-center justify-center gap-2 rounded-2xl border border-border bg-surface-2 px-3 text-sm font-medium text-text focus:outline-none focus:ring-2 focus:ring-primary/40","aria-expanded":i,"aria-controls":"subscriptions-filter-panel",children:l.jsx("span",{children:i?"Sembunyikan filter":"Tampilkan filter"})}),l.jsx("button",{type:"button",onClick:r,className:"inline-flex h-11 items-center justify-center rounded-2xl border border-border bg-surface-2 px-3 text-sm font-medium text-text focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Reset"})]})]}),l.jsxs("div",{id:"subscriptions-filter-panel",className:`mt-4 grid grid-cols-1 gap-4 transition-[max-height,opacity] duration-200 ease-out sm:grid-cols-2 lg:grid-cols-4 ${i?"max-h-[999px] opacity-100":"max-h-0 overflow-hidden opacity-0 sm:max-h-none sm:opacity-100"}`,children:[l.jsxs("label",{className:"text-sm",children:[l.jsx("span",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-muted",children:"Status"}),l.jsx("select",{className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-3 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",value:e.status,onChange:f=>t({status:f.target.value}),children:fNe.map(f=>l.jsx("option",{value:f.value,children:f.label},f.value))})]}),l.jsxs("label",{className:"text-sm",children:[l.jsx("span",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-muted",children:"Kategori"}),l.jsx("select",{className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-3 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",value:e.categoryId,onChange:f=>t({categoryId:f.target.value}),children:o.map(f=>l.jsx("option",{value:f.id,children:f.name},f.id))})]}),l.jsxs("label",{className:"text-sm",children:[l.jsx("span",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-muted",children:"Akun"}),l.jsx("select",{className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-3 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",value:e.accountId,onChange:f=>t({accountId:f.target.value}),children:c.map(f=>l.jsx("option",{value:f.id,children:f.name},f.id))})]}),l.jsxs("label",{className:"text-sm",children:[l.jsx("span",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-muted",children:"Periode"}),l.jsx("select",{className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-3 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",value:e.unit,onChange:f=>t({unit:f.target.value}),children:hNe.map(f=>l.jsx("option",{value:f.value,children:f.label},f.value))})]}),l.jsxs("label",{className:"text-sm",children:[l.jsx("span",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-muted",children:"Due dari"}),l.jsx("input",{type:"date",value:e.dueFrom??"",onChange:f=>t({dueFrom:f.target.value||null}),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-3 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]}),l.jsxs("label",{className:"text-sm",children:[l.jsx("span",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-muted",children:"Due sampai"}),l.jsx("input",{type:"date",value:e.dueTo??"",onChange:f=>t({dueTo:f.target.value||null}),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-3 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]}),l.jsxs("label",{className:"text-sm",children:[l.jsx("span",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-muted",children:"Dibuat dari"}),l.jsx("input",{type:"date",value:e.createdFrom??"",onChange:f=>t({createdFrom:f.target.value||null}),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-3 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]}),l.jsxs("label",{className:"text-sm",children:[l.jsx("span",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-muted",children:"Dibuat sampai"}),l.jsx("input",{type:"date",value:e.createdTo??"",onChange:f=>t({createdTo:f.target.value||null}),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-3 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]}),l.jsxs("label",{className:"text-sm",children:[l.jsx("span",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-muted",children:"Urutkan"}),l.jsx("select",{className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-3 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",value:e.sort,onChange:f=>t({sort:f.target.value}),children:mNe.map(f=>l.jsx("option",{value:f.value,children:f.label},f.value))})]}),l.jsx("div",{className:"hidden sm:flex sm:flex-col sm:justify-end",children:l.jsx("button",{type:"button",onClick:r,className:"h-11 rounded-2xl border border-border bg-surface-2 px-4 text-sm font-medium text-text focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Reset filter"})})]})]})}const c8={active:{label:"Aktif",tone:"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/15 dark:text-emerald-300"},paused:{label:"Paused",tone:"bg-amber-100 text-amber-700 dark:bg-amber-500/15 dark:text-amber-300"},canceled:{label:"Canceled",tone:"bg-rose-100 text-rose-700 dark:bg-rose-500/20 dark:text-rose-300"}};function gNe(e,t){if(t<=1)switch(e){case"day":return"Harian";case"week":return"Mingguan";case"month":return"Bulanan";case"year":return"Tahunan";default:return e}return`${t} ${e==="day"?"hari":e==="week"?"minggu":e==="month"?"bulan":"tahun"}`}function bNe({subscription:e,onEdit:t,onDelete:r,onToggleStatus:n}){const a=B.useMemo(()=>hn(e.amount,e.currency??"IDR"),[e.amount,e.currency]),i=B.useMemo(()=>gNe(e.interval_unit,e.interval_count??1),[e.interval_unit,e.interval_count]),s=e.next_due_date?new Date(e.next_due_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"",o=e.anchor_date?new Date(e.anchor_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"",c=c8[e.status]??c8.active,A=e.status==="paused",f=e.status==="canceled",h=f?"Aktifkan":A?"Lanjutkan":"Jeda",p=f||A?"active":"paused";return l.jsxs("article",{className:"flex flex-col gap-4 rounded-3xl border border-border-subtle bg-surface p-4 shadow-sm shadow-black/5",children:[l.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[l.jsxs("div",{className:"min-w-0 space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-text",children:e.name}),l.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-medium ${c.tone}`,children:c.label})]}),e.vendor&&l.jsx("p",{className:"text-sm text-muted",children:e.vendor}),l.jsxs("p",{className:"text-sm text-text/80",children:[i,e.trial_end?`  Trial s.d. ${new Date(e.trial_end).toLocaleDateString("id-ID")}`:""]}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted",children:[e.category?.name&&l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-surface-2 px-2 py-1",children:[l.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:e.category?.color??"#64748B"}}),e.category?.name]}),e.account?.name&&l.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-surface-2 px-2 py-1",children:e.account?.name})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-muted",children:"Nominal"}),l.jsx("p",{className:"text-lg font-semibold text-text",children:a}),l.jsxs("p",{className:"text-xs text-muted",children:["Due berikutnya: ",s]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"text-sm text-muted",children:[l.jsxs("p",{children:["Anchor: ",o]}),e.notes&&l.jsx("p",{className:"mt-1 line-clamp-2 text-xs text-muted",children:e.notes})]}),l.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[l.jsx("button",{type:"button",onClick:()=>t(e.id),className:"h-11 rounded-2xl border border-border bg-surface-2 px-4 text-sm font-semibold text-text focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>n(e.id,p),className:"h-11 rounded-2xl border border-border bg-surface-2 px-4 text-sm font-semibold text-text focus:outline-none focus:ring-2 focus:ring-primary/40",children:h}),l.jsx("button",{type:"button",onClick:()=>r(e.id),className:"h-11 rounded-2xl border border-rose-200 bg-rose-500/10 px-4 text-sm font-semibold text-rose-600 hover:bg-rose-500/20 focus:outline-none focus:ring-2 focus:ring-rose-400/50",children:"Hapus"})]})]})]})}const yNe=B.memo(bNe),u8={due:"bg-amber-500/15 text-amber-600",overdue:"bg-rose-500/15 text-rose-600",paid:"bg-emerald-500/15 text-emerald-600",skipped:"bg-slate-500/15 text-slate-500",canceled:"bg-slate-500/15 text-slate-500"};function vNe(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):""}function xNe(e){switch(e){case"paid":return"Paid";case"skipped":return"Skipped";case"canceled":return"Canceled";case"overdue":return"Overdue";default:return"Due"}}function wNe({charges:e,selectedIds:t,loading:r=!1,onToggleSelect:n,onToggleSelectAll:a,onMarkPaid:i,onSkip:s}){const o=B.useMemo(()=>new Set(t),[t]),c=e.length>0&&e.every(A=>o.has(A.id));return l.jsx("div",{className:"hidden overflow-hidden rounded-3xl border border-border-subtle bg-surface shadow-sm shadow-black/5 lg:block",children:l.jsx("div",{className:"max-h-[480px] overflow-y-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-subtle text-sm",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-surface",children:l.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-muted",children:[l.jsx("th",{scope:"col",className:"px-4 py-3",children:l.jsx("input",{type:"checkbox","aria-label":"Pilih semua",className:"h-4 w-4 rounded border-border text-primary focus:outline-none focus:ring-2 focus:ring-primary/40",checked:c,onChange:A=>a(A.target.checked)})}),l.jsx("th",{scope:"col",className:"px-4 py-3",children:"Langganan"}),l.jsx("th",{scope:"col",className:"px-4 py-3",children:"Due"}),l.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:"Nominal"}),l.jsx("th",{scope:"col",className:"px-4 py-3",children:"Status"}),l.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:"Aksi"})]})}),l.jsxs("tbody",{className:"divide-y divide-border-subtle",children:[r&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-muted",children:"Memuat tagihan"})}),!r&&e.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-muted",children:"Tidak ada tagihan pada rentang ini."})}),!r&&e.map(A=>{const f=A.status??"due",h=u8[f]??u8.due,p=A.subscription;return l.jsxs("tr",{className:"align-top text-sm text-text",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsx("input",{type:"checkbox","aria-label":`Pilih ${p?.name??"langganan"}`,className:"h-4 w-4 rounded border-border text-primary focus:outline-none focus:ring-2 focus:ring-primary/40",checked:o.has(A.id),onChange:g=>n(A.id,g.target.checked)})}),l.jsxs("td",{className:"px-4 py-4",children:[l.jsx("div",{className:"font-medium text-text",children:p?.name??"Langganan"}),l.jsx("div",{className:"text-xs text-muted",children:p?.vendor??""})]}),l.jsx("td",{className:"px-4 py-4 text-sm text-muted",children:vNe(A.due_date)}),l.jsx("td",{className:"px-4 py-4 text-right tabular-nums",children:hn(A.amount??0,A.currency??"IDR")}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ${h}`,children:xNe(f)})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>i(A.id),disabled:f==="paid",className:"inline-flex h-9 items-center rounded-2xl border border-border bg-surface-2 px-3 text-xs font-semibold text-text focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:cursor-not-allowed disabled:opacity-60",children:"Tandai Paid"}),l.jsx("button",{type:"button",onClick:()=>s(A.id,A.due_date),disabled:f==="skipped"||f==="paid",className:"inline-flex h-9 items-center rounded-2xl border border-border bg-surface-2 px-3 text-xs font-semibold text-text focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:cursor-not-allowed disabled:opacity-60",children:"Skip"})]})})]},A.id)})]})]})})})}const A8={due:"bg-amber-500/15 text-amber-600",overdue:"bg-rose-500/15 text-rose-600",paid:"bg-emerald-500/15 text-emerald-600",skipped:"bg-slate-500/15 text-slate-500",canceled:"bg-slate-500/15 text-slate-500"};function _Ne(e){switch(e){case"paid":return"Paid";case"skipped":return"Skipped";case"canceled":return"Canceled";case"overdue":return"Overdue";default:return"Due"}}function BNe(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):""}function SNe({charges:e,selectedIds:t,loading:r=!1,onToggleSelect:n,onMarkPaid:a,onSkip:i}){const s=B.useMemo(()=>new Set(t),[t]);return r?l.jsxs("div",{className:"space-y-3 lg:hidden",children:[l.jsx("div",{className:"animate-pulse rounded-3xl border border-border-subtle bg-surface-2 p-4"}),l.jsx("div",{className:"animate-pulse rounded-3xl border border-border-subtle bg-surface-2 p-4"})]}):e.length?l.jsx("div",{className:"space-y-3 lg:hidden",children:e.map(o=>{const c=o.subscription,A=o.status??"due",f=A8[A]??A8.due,h=s.has(o.id);return l.jsxs("article",{className:"rounded-3xl border border-border-subtle bg-surface p-4 shadow-sm shadow-black/5",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("input",{type:"checkbox","aria-label":`Pilih ${c?.name??"langganan"}`,className:"mt-1 h-4 w-4 flex-shrink-0 rounded border-border text-primary focus:outline-none focus:ring-2 focus:ring-primary/40",checked:h,onChange:p=>n(o.id,p.target.checked)}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("h4",{className:"text-base font-semibold text-text",children:c?.name??"Langganan"}),l.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ${f}`,children:_Ne(A)})]}),l.jsx("p",{className:"text-sm text-muted",children:c?.vendor??""}),l.jsx("p",{className:"mt-2 text-sm font-medium text-text",children:hn(o.amount??0,o.currency??"IDR")}),l.jsxs("p",{className:"text-xs text-muted",children:["Jatuh tempo: ",BNe(o.due_date)]}),o.notes&&l.jsxs("p",{className:"mt-2 text-xs text-muted",children:["Catatan: ",o.notes]})]})]}),l.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[l.jsx("button",{type:"button",onClick:()=>a(o.id),disabled:A==="paid",className:"h-11 rounded-2xl border border-border bg-surface-2 px-4 text-sm font-semibold text-text focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:cursor-not-allowed disabled:opacity-60",children:"Tandai Paid"}),l.jsx("button",{type:"button",onClick:()=>i(o.id,o.due_date),disabled:A==="skipped"||A==="paid",className:"h-11 rounded-2xl border border-border bg-surface-2 px-4 text-sm font-semibold text-text focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:cursor-not-allowed disabled:opacity-60",children:"Skip Sekali"})]})]},o.id)})}):l.jsx("div",{className:"rounded-3xl border border-border-subtle bg-surface px-4 py-6 text-center text-sm text-muted lg:hidden",children:"Tidak ada tagihan pada rentang ini."})}const d8={name:"",vendor:"",categoryId:"none",accountId:"none",amount:"",currency:"IDR",intervalUnit:"month",intervalCount:"1",anchorDate:"",anchorDayOfWeek:"0",startDate:"",endDate:"",trialEnd:"",status:"active",reminderDays:"",tags:"",color:"#64748B",icon:"",notes:""},NNe=[{value:"0",label:"Minggu"},{value:"1",label:"Senin"},{value:"2",label:"Selasa"},{value:"3",label:"Rabu"},{value:"4",label:"Kamis"},{value:"5",label:"Jumat"},{value:"6",label:"Sabtu"}],CNe=["IDR","USD"];function jNe({open:e,initial:t,categories:r,accounts:n,saving:a=!1,onClose:i,onSubmit:s}){const[o,c]=B.useState(d8),[A,f]=B.useState({});B.useEffect(()=>{e&&(c(t?{name:t.name??"",vendor:t.vendor??"",categoryId:t.category_id??"none",accountId:t.account_id??"none",amount:t.amount?String(t.amount):"",currency:t.currency??"IDR",intervalUnit:t.interval_unit??"month",intervalCount:String(t.interval_count??1),anchorDate:t.anchor_date??"",anchorDayOfWeek:t.interval_unit==="week"&&t.anchor_day_of_week!=null?String(t.anchor_day_of_week):"0",startDate:t.start_date??"",endDate:t.end_date??"",trialEnd:t.trial_end??"",status:t.status??"active",reminderDays:Array.isArray(t.reminder_days)?t.reminder_days.join(", "):"",tags:Array.isArray(t.tags)?t.tags.join(", "):"",color:t.color??"#64748B",icon:t.icon??"",notes:t.notes??""}:d8),f({}))},[e,t]);const h=t?"Edit Langganan":"Tambah Langganan",p=B.useMemo(()=>[{id:"none",name:"Tanpa kategori"},...r],[r]),g=B.useMemo(()=>[{id:"none",name:"Tanpa akun"},...n],[n]),v=x=>w=>{const S=w.target.value;c(N=>({...N,[x]:S}))},b=async x=>{x.preventDefault();const w={};o.name.trim()||(w.name="Nama wajib diisi");const S=Number.parseFloat(o.amount.replace(/\s+/g,""));if((!Number.isFinite(S)||S<=0)&&(w.amount="Nominal harus lebih besar dari 0"),o.anchorDate||(w.anchorDate="Tanggal anchor wajib diisi"),f(w),Object.keys(w).length>0)return;const N=o.reminderDays.split(",").map(T=>T.trim()).filter(Boolean).map(T=>Number.parseInt(T,10)).filter(T=>Number.isFinite(T)),k=o.tags.split(",").map(T=>T.trim()).filter(Boolean),C={id:t?.id,name:o.name.trim(),vendor:o.vendor.trim()||void 0,category_id:o.categoryId!=="none"?o.categoryId:null,account_id:o.accountId!=="none"?o.accountId:null,amount:S,currency:o.currency,interval_unit:o.intervalUnit,interval_count:o.intervalCount&&Number.parseInt(o.intervalCount,10)||1,anchor_date:o.anchorDate,anchor_day_of_week:o.intervalUnit==="week"?Number.parseInt(o.anchorDayOfWeek,10)||0:void 0,start_date:o.startDate||o.anchorDate,end_date:o.endDate||void 0,trial_end:o.trialEnd||void 0,status:o.status,reminder_days:N,tags:k,color:o.color,icon:o.icon||void 0,notes:o.notes||void 0};try{await s(C)}catch(T){T instanceof Error?f(O=>({...O,submit:T.message})):f(O=>({...O,submit:"Gagal menyimpan. Cek koneksi atau ulangi."}))}};return e?l.jsx("div",{className:"drawer-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"subscription-form-title",onClick:i,children:l.jsxs("div",{className:"drawer-panel w-full max-w-full sm:max-w-xl",onClick:x=>x.stopPropagation(),children:[l.jsxs("header",{className:"drawer-header",children:[l.jsxs("div",{children:[l.jsx("h2",{id:"subscription-form-title",className:"text-lg font-semibold text-text",children:h}),l.jsx("p",{className:"text-xs text-muted",children:"Atur detail langganan dan pengingat pembayaran."})]}),l.jsx("button",{type:"button",onClick:i,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border bg-surface-2 text-text focus:outline-none focus:ring-2 focus:ring-primary/40","aria-label":"Tutup form langganan",children:""})]}),l.jsxs("form",{className:"flex min-h-0 flex-1 flex-col",onSubmit:b,noValidate:!0,children:[l.jsx("div",{className:"drawer-body flex-1 min-h-0 overflow-y-auto",children:l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-name",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Nama*"}),l.jsx("input",{id:"subscription-name",type:"text",value:o.name,onChange:v("name"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",required:!0,"aria-invalid":!!A.name}),A.name&&l.jsx("p",{className:"text-xs text-rose-500",children:A.name})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-vendor",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Vendor"}),l.jsx("input",{id:"subscription-vendor",type:"text",value:o.vendor,onChange:v("vendor"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",placeholder:"Contoh: Netflix"})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-amount",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Nominal*"}),l.jsx("input",{id:"subscription-amount",type:"number",min:0,step:"0.01",value:o.amount,onChange:v("amount"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",required:!0,"aria-invalid":!!A.amount}),A.amount&&l.jsx("p",{className:"text-xs text-rose-500",children:A.amount})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-currency",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Mata uang"}),l.jsx("select",{id:"subscription-currency",value:o.currency,onChange:v("currency"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",children:CNe.map(x=>l.jsx("option",{value:x,children:x},x))})]})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-interval-unit",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Interval"}),l.jsxs("select",{id:"subscription-interval-unit",value:o.intervalUnit,onChange:v("intervalUnit"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",children:[l.jsx("option",{value:"day",children:"Harian"}),l.jsx("option",{value:"week",children:"Mingguan"}),l.jsx("option",{value:"month",children:"Bulanan"}),l.jsx("option",{value:"year",children:"Tahunan"})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-interval-count",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Setiap"}),l.jsx("input",{id:"subscription-interval-count",type:"number",min:1,value:o.intervalCount,onChange:v("intervalCount"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-anchor-date",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Anchor date*"}),l.jsx("input",{id:"subscription-anchor-date",type:"date",value:o.anchorDate,onChange:v("anchorDate"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",required:!0,"aria-invalid":!!A.anchorDate}),A.anchorDate&&l.jsx("p",{className:"text-xs text-rose-500",children:A.anchorDate})]}),o.intervalUnit==="week"&&l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-anchor-weekday",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Hari anchor"}),l.jsx("select",{id:"subscription-anchor-weekday",value:o.anchorDayOfWeek,onChange:v("anchorDayOfWeek"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",children:NNe.map(x=>l.jsx("option",{value:x.value,children:x.label},x.value))})]})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-start-date",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Mulai aktif"}),l.jsx("input",{id:"subscription-start-date",type:"date",value:o.startDate,onChange:v("startDate"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-end-date",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Selesai pada"}),l.jsx("input",{id:"subscription-end-date",type:"date",value:o.endDate,onChange:v("endDate"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-trial-end",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Trial berakhir"}),l.jsx("input",{id:"subscription-trial-end",type:"date",value:o.trialEnd,onChange:v("trialEnd"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-status",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Status"}),l.jsxs("select",{id:"subscription-status",value:o.status,onChange:v("status"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",children:[l.jsx("option",{value:"active",children:"Aktif"}),l.jsx("option",{value:"paused",children:"Paused"}),l.jsx("option",{value:"canceled",children:"Canceled"})]})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-category",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Kategori"}),l.jsx("select",{id:"subscription-category",value:o.categoryId,onChange:v("categoryId"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",children:p.map(x=>l.jsx("option",{value:x.id,children:x.name},x.id))})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-account",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Akun pembayaran"}),l.jsx("select",{id:"subscription-account",value:o.accountId,onChange:v("accountId"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",children:g.map(x=>l.jsx("option",{value:x.id,children:x.name},x.id))})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-reminder",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Pengingat (hari sebelum due)"}),l.jsx("input",{id:"subscription-reminder",type:"text",value:o.reminderDays,onChange:v("reminderDays"),placeholder:"Contoh: 1,3,7",className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-tags",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Tag (pisahkan dengan koma)"}),l.jsx("input",{id:"subscription-tags",type:"text",value:o.tags,onChange:v("tags"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-color",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Warna"}),l.jsx("input",{id:"subscription-color",type:"color",value:o.color,onChange:v("color"),className:"h-11 w-full rounded-2xl border border-border bg-surface-2 p-2"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-icon",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Ikon (emoji)"}),l.jsx("input",{id:"subscription-icon",type:"text",value:o.icon,onChange:v("icon"),maxLength:8,className:"h-11 w-full rounded-2xl border border-border bg-surface-2 px-4 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",placeholder:"Contoh: "})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx("label",{htmlFor:"subscription-notes",className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Catatan"}),l.jsx("textarea",{id:"subscription-notes",value:o.notes,onChange:v("notes"),className:"min-h-[120px] w-full rounded-2xl border border-border bg-surface-2 px-4 py-3 text-sm text-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40",placeholder:"Tambahkan detail atau syarat langganan"})]}),A.submit&&l.jsx("p",{className:"text-sm text-rose-500",children:A.submit})]})}),l.jsxs("footer",{className:"drawer-footer",children:[l.jsx("button",{type:"button",onClick:i,className:"h-11 rounded-2xl border border-border bg-surface-2 px-4 text-sm font-semibold text-text focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Batal"}),l.jsx("button",{type:"submit",disabled:a,className:"inline-flex h-11 items-center rounded-2xl border border-primary bg-primary px-6 text-sm font-semibold text-white shadow focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:cursor-not-allowed disabled:opacity-70",children:a?"Menyimpan":"Simpan"})]})]})]})}):null}async function kNe(e){try{const t=await tr();$A(t);const r=(()=>{if(e)return e.length===7?`${e}-01`:e;const i=new Date;return new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),1)).toISOString().slice(0,10)})(),{data:n,error:a}=await Ne.from("subscriptions_forecast_month").select("*").eq("user_id",t).eq("period_month",r).maybeSingle();if(a)throw a;return n?{user_id:n.user_id,period_month:n.period_month,due_count:Number.parseInt(String(n.due_count??0),10)||0,due_amount:Yc(n.due_amount,0),paid_count:Number.parseInt(String(n.paid_count??0),10)||0,paid_amount:Yc(n.paid_amount,0),skipped_count:Number.parseInt(String(n.skipped_count??0),10)||0,skipped_amount:Yc(n.skipped_amount,0)}:null}catch(t){throw t instanceof Error?new Error(`Gagal memuat ringkasan langganan: ${t.message}`):new Error("Gagal memuat ringkasan langganan. Cek koneksi atau ulangi.")}}function $A(e){if(!e)throw new Error("Anda harus login untuk mengelola langganan")}function Yc(e,t=0){if(e==null||e==="")return t;if(typeof e=="number")return Number.isFinite(e)?e:t;const r=Number.parseFloat(String(e));return Number.isFinite(r)?r:t}function Nw(e){const t={};return Object.entries(e).forEach(([r,n])=>{if(n!==void 0){if(n===null){t[r]=null;return}if(Array.isArray(n)){t[r]=n.filter(a=>a!=null);return}t[r]=n}}),t}function e3(e){return{id:e.id,user_id:e.user_id,name:e.name,vendor:e.vendor??null,category_id:e.category_id??null,account_id:e.account_id??null,amount:Yc(e.amount),currency:e.currency??"IDR",interval_unit:e.interval_unit??"month",interval_count:Number.parseInt(String(e.interval_count??1),10)||1,anchor_date:e.anchor_date,anchor_day_of_week:e.anchor_day_of_week??null,start_date:e.start_date??null,end_date:e.end_date??null,trial_end:e.trial_end??null,status:e.status??"active",reminder_days:Array.isArray(e.reminder_days)?e.reminder_days.map(t=>Number(t)).filter(t=>Number.isFinite(t)):[],tags:Array.isArray(e.tags)?e.tags.map(t=>String(t)):[],color:e.color??null,icon:e.icon??null,notes:e.notes??null,created_at:e.created_at,updated_at:e.updated_at,next_due_date:e.next_due_date??null,last_charge_at:e.last_charge_at??null,total_charges:Number.parseInt(e.total_charges,10)||0,category:e.category??null,account:e.account??null}}function Cw(e){return{id:e.id,user_id:e.user_id,subscription_id:e.subscription_id,due_date:e.due_date,amount:Yc(e.amount),currency:e.currency??"IDR",status:e.status??"due",paid_at:e.paid_at??null,transaction_id:e.transaction_id??null,notes:e.notes??null,created_at:e.created_at,updated_at:e.updated_at,subscription:e.subscription??void 0}}async function f8(e={}){try{const t=await tr();$A(t);let n=Ne.from("subscriptions").select(`
      id,
      user_id,
      name,
      vendor,
      category_id,
      account_id,
      amount,
      currency,
      interval_unit,
      interval_count,
      anchor_date,
      anchor_day_of_week,
      start_date,
      end_date,
      trial_end,
      status,
      reminder_days,
      tags,
      color,
      icon,
      notes,
      created_at,
      updated_at,
      next_due_date,
      last_charge_at,
      total_charges,
      category:category_id (id, name, color),
      account:account_id (id, name, type)
    `).eq("user_id",t);if(e.q){const s=`%${e.q.trim()}%`;n=n.or(`name.ilike.${s},vendor.ilike.${s}`)}switch(e.status&&e.status!=="all"&&(n=n.eq("status",e.status)),e.categoryId&&e.categoryId!=="all"&&(n=n.eq("category_id",e.categoryId)),e.accountId&&e.accountId!=="all"&&(n=n.eq("account_id",e.accountId)),e.unit&&e.unit!=="all"&&(n=n.eq("interval_unit",e.unit)),e.dueFrom&&(n=n.gte("next_due_date",e.dueFrom)),e.dueTo&&(n=n.lte("next_due_date",e.dueTo)),e.createdFrom&&(n=n.gte("created_at",e.createdFrom)),e.createdTo&&(n=n.lte("created_at",e.createdTo)),e.sort){case"name-desc":n=n.order("name",{ascending:!1});break;case"amount-desc":n=n.order("amount",{ascending:!1});break;case"amount-asc":n=n.order("amount",{ascending:!0});break;case"created-asc":n=n.order("created_at",{ascending:!0});break;case"created-desc":n=n.order("created_at",{ascending:!1});break;case"due-desc":n=n.order("next_due_date",{ascending:!1,nullsLast:!0});break;case"name-asc":n=n.order("name",{ascending:!0});break;case"due-asc":default:n=n.order("next_due_date",{ascending:!0,nullsFirst:!0});break}e.limit&&e.limit>0&&(n=n.limit(e.limit));const{data:a,error:i}=await n;if(i)throw i;return Array.isArray(a)?a.map(e3):[]}catch(t){throw t instanceof Error?new Error(`Gagal memuat langganan: ${t.message}`):new Error("Gagal memuat langganan. Cek koneksi atau ulangi.")}}async function ENe(e){try{const t=await tr();$A(t);const r=Yc(e.amount,0);if(r<=0)throw new Error("Nominal langganan harus lebih besar dari 0");const n=Nw({user_id:t,name:e.name.trim(),vendor:e.vendor?.trim()??null,category_id:e.category_id??null,account_id:e.account_id??null,amount:r,currency:e.currency??"IDR",interval_unit:e.interval_unit,interval_count:Math.max(1,Number.parseInt(String(e.interval_count??1),10)||1),anchor_date:e.anchor_date,anchor_day_of_week:e.interval_unit==="week"?e.anchor_day_of_week??null:null,start_date:e.start_date??e.anchor_date,end_date:e.end_date??null,trial_end:e.trial_end??null,status:e.status??"active",reminder_days:Array.isArray(e.reminder_days)?e.reminder_days.map(s=>Number(s)).filter(s=>Number.isFinite(s)):[],tags:Array.isArray(e.tags)?e.tags:[],color:e.color??null,icon:e.icon??null,notes:e.notes??null}),{data:a,error:i}=await Ne.from("subscriptions").insert(n).select(`
        id,
        user_id,
        name,
        vendor,
        category_id,
        account_id,
        amount,
        currency,
        interval_unit,
        interval_count,
        anchor_date,
        anchor_day_of_week,
        start_date,
        end_date,
        trial_end,
        status,
        reminder_days,
        tags,
        color,
        icon,
        notes,
        created_at,
        updated_at,
        next_due_date,
        last_charge_at,
        total_charges,
        category:category_id (id, name, color),
        account:account_id (id, name, type)
      `).single();if(i)throw i;return e3(a)}catch(t){throw t instanceof Error?new Error(`Gagal menyimpan langganan: ${t.message}`):new Error("Gagal menyimpan langganan. Cek koneksi atau ulangi.")}}async function h8(e,t){try{const r=await tr();if($A(r),t.amount!==void 0){const s=Yc(t.amount,0);if(s<=0)throw new Error("Nominal langganan harus lebih besar dari 0");t.amount=s}const n=Nw({...t,name:t.name?.trim(),vendor:t.vendor?.trim()??null,interval_count:t.interval_count!==void 0?Math.max(1,Number.parseInt(String(t.interval_count),10)||1):void 0,anchor_day_of_week:t.interval_unit==="week"?t.anchor_day_of_week??null:t.anchor_day_of_week===void 0?void 0:null,reminder_days:Array.isArray(t.reminder_days)?t.reminder_days.map(s=>Number(s)).filter(s=>Number.isFinite(s)):void 0,tags:Array.isArray(t.tags)?t.tags:void 0}),{data:a,error:i}=await Ne.from("subscriptions").update(n).eq("user_id",r).eq("id",e).select(`
        id,
        user_id,
        name,
        vendor,
        category_id,
        account_id,
        amount,
        currency,
        interval_unit,
        interval_count,
        anchor_date,
        anchor_day_of_week,
        start_date,
        end_date,
        trial_end,
        status,
        reminder_days,
        tags,
        color,
        icon,
        notes,
        created_at,
        updated_at,
        next_due_date,
        last_charge_at,
        total_charges,
        category:category_id (id, name, color),
        account:account_id (id, name, type)
      `).single();if(i)throw i;return e3(a)}catch(r){throw r instanceof Error?new Error(`Gagal memperbarui langganan: ${r.message}`):new Error("Gagal memperbarui langganan. Cek koneksi atau ulangi.")}}async function TNe(e){try{const t=await tr();$A(t);const{error:r}=await Ne.from("subscriptions").delete().eq("user_id",t).eq("id",e);if(r)throw r}catch(t){throw t instanceof Error?new Error(`Gagal menghapus langganan: ${t.message}`):new Error("Gagal menghapus langganan. Cek koneksi atau ulangi.")}}async function m8(e={}){try{const t=await tr();$A(t);const r=new Date,n=e.dueFrom??r.toISOString().slice(0,10),a=(()=>{if(e.dueTo)return e.dueTo;const A=new Date(r);return A.setDate(A.getDate()+90),A.toISOString().slice(0,10)})();let s=Ne.from("subscription_charges").select(`
      id,
      user_id,
      subscription_id,
      due_date,
      amount,
      currency,
      status,
      paid_at,
      transaction_id,
      notes,
      created_at,
      updated_at,
      subscription:subscription_id (
        id,
        name,
        vendor,
        category_id,
        account_id,
        amount,
        currency,
        interval_unit,
        interval_count,
        status,
        color,
        icon
      )
    `).eq("user_id",t).gte("due_date",n).lte("due_date",a).order("due_date",{ascending:!0}).order("created_at",{ascending:!0});e.subscriptionId&&(s=s.eq("subscription_id",e.subscriptionId)),e.status&&e.status!=="due"?s=s.eq("status",e.status):e.includePaid||(s=s.in("status",["due","overdue"])),e.limit&&e.limit>0&&(s=s.limit(e.limit));const{data:o,error:c}=await s;if(c)throw c;return Array.isArray(o)?o.map(Cw):[]}catch(t){throw t instanceof Error?new Error(`Gagal memuat tagihan langganan: ${t.message}`):new Error("Gagal memuat tagihan langganan. Cek koneksi atau ulangi.")}}async function p8(e,t={}){let r=null,n=null;try{const a=await tr();$A(a);const{data:i,error:s}=await Ne.from("subscription_charges").select(`
        id,
        user_id,
        subscription_id,
        due_date,
        amount,
        currency,
        status,
        paid_at,
        transaction_id,
        subscription:subscription_id (
          id,
          name,
          account_id,
          category_id,
          amount,
          currency
        )
      `).eq("user_id",a).eq("id",e).maybeSingle();if(s)throw s;if(!i)throw new Error("Tagihan langganan tidak ditemukan");const o=t.paidAt??new Date().toISOString();if(t.createTransaction)try{const p=i.subscription?.name?`Langganan ${i.subscription.name}`:"Pembayaran langganan",g={user_id:a,type:"expense",amount:Yc(i.amount,0),date:o.slice(0,10),title:p,notes:t.transactionNotes??null,account_id:i.subscription?.account_id??null,category_id:i.subscription?.category_id??null},{data:v,error:b}=await Ne.from("transactions").insert(Nw(g)).select("id").single();if(b)throw b;n=v?.id??null}catch(p){r=p instanceof Error?p:new Error("Gagal membuat transaksi")}const c=Nw({status:"paid",paid_at:o,transaction_id:n??i.transaction_id??null}),{data:A,error:f}=await Ne.from("subscription_charges").update(c).eq("user_id",a).eq("id",e).select(`
        id,
        user_id,
        subscription_id,
        due_date,
        amount,
        currency,
        status,
        paid_at,
        transaction_id,
        notes,
        created_at,
        updated_at,
        subscription:subscription_id (
          id,
          name,
          vendor,
          category_id,
          account_id,
          amount,
          currency,
          interval_unit,
          interval_count,
          status,
          color,
          icon
        )
      `).single();if(f)throw f;return{charge:Cw(A),transactionId:n,transactionError:r}}catch(a){throw a instanceof Error?new Error(`Gagal menandai sudah dibayar: ${a.message}`):new Error("Gagal menandai sudah dibayar. Cek koneksi atau ulangi.")}}async function g8(e,t){try{const r=await tr();$A(r);const{data:n,error:a}=await Ne.from("subscription_charges").select(`
        id,
        user_id,
        subscription_id,
        due_date,
        amount,
        currency,
        status,
        paid_at,
        transaction_id,
        notes,
        created_at,
        updated_at
      `).eq("user_id",r).eq("subscription_id",e).eq("due_date",t).maybeSingle();if(a)throw a;if(n){const{data:f,error:h}=await Ne.from("subscription_charges").update({status:"skipped",paid_at:null,transaction_id:null}).eq("user_id",r).eq("id",n.id).select(`
          id,
          user_id,
          subscription_id,
          due_date,
          amount,
          currency,
          status,
          paid_at,
          transaction_id,
          notes,
          created_at,
          updated_at,
          subscription:subscription_id (
            id,
            name,
            vendor,
            category_id,
            account_id,
            amount,
            currency,
            interval_unit,
            interval_count,
            status,
            color,
            icon
          )
        `).single();if(h)throw h;return Cw(f)}const{data:i,error:s}=await Ne.from("subscriptions").select("id, user_id, amount, currency, interval_unit, interval_count, name").eq("user_id",r).eq("id",e).maybeSingle();if(s)throw s;if(!i)throw new Error("Langganan tidak ditemukan");const o={user_id:r,subscription_id:e,due_date:t,amount:Yc(i.amount,0),currency:i.currency??"IDR",status:"skipped",paid_at:null,transaction_id:null},{data:c,error:A}=await Ne.from("subscription_charges").insert(o).select(`
        id,
        user_id,
        subscription_id,
        due_date,
        amount,
        currency,
        status,
        paid_at,
        transaction_id,
        notes,
        created_at,
        updated_at,
        subscription:subscription_id (
          id,
          name,
          vendor,
          category_id,
          account_id,
          amount,
          currency,
          interval_unit,
          interval_count,
          status,
          color,
          icon
        )
      `).single();if(A)throw A;return Cw(c)}catch(r){throw r instanceof Error?new Error(`Gagal melewati tagihan: ${r.message}`):new Error("Gagal melewati tagihan. Cek koneksi atau ulangi.")}}function Eg(e){if(e==null)return"";const t=String(e).replace(/\r?\n|\r/g," ").trim();return t.includes(",")||t.includes('"')?`"${t.replace(/"/g,'""')}"`:t}function eV(e,t){if(!e)return"";const r=t&&t>0?t:1;return r<=1?e:`${r} ${e}`}function ONe(e){return eV(e.interval_unit,e.interval_count)}function INe(){const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");return`${t}${r}${n}-${a}${i}`}async function UNe({subscriptions:e,charges:t,filters:r}){if(typeof document>"u")throw new Error("Fitur ekspor hanya tersedia di browser.");const n=[];[["Diekspor pada",new Date().toLocaleString("id-ID")],["Pencarian",r.q||""],["Status",r.status],["Kategori",r.categoryId],["Akun",r.accountId],["Periode",r.unit],["Due dari",r.dueFrom??""],["Due sampai",r.dueTo??""],["Dibuat dari",r.createdFrom??""],["Dibuat sampai",r.createdTo??""]].forEach(([c,A])=>{n.push(`${Eg(c)},${Eg(A)}`)}),n.push(""),n.push(["type","subscription_name","vendor","category","account","status","interval","amount","currency","next_due","charge_due","charge_status","charge_amount","notes"].map(Eg).join(",")),e.forEach(c=>{n.push(["subscription",c.name,c.vendor??"",c.category?.name??"",c.account?.name??"",c.status,ONe(c),c.amount,c.currency,c.next_due_date??"","","","",c.notes??""].map(Eg).join(","))}),t.forEach(c=>{const A=c.subscription;n.push(["charge",A?.name??"",A?.vendor??"",A?.category_id??"",A?.account_id??"",A?.status??"",eV(A?.interval_unit,A?.interval_count),A?.amount??"",A?.currency??"",A?.next_due_date??"",c.due_date??"",c.status??"",c.amount??"",c.notes??""].map(Eg).join(","))});const i=new Blob([n.join(`\r
`)],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(i),o=document.createElement("a");o.href=s,o.download=`hematwoi-subscriptions-${INe()}.csv`,document.body.appendChild(o),o.click(),document.body.removeChild(o),setTimeout(()=>URL.revokeObjectURL(s),2e3)}const FNe={},b8={q:"",status:"all",categoryId:"all",accountId:"all",unit:"all",dueFrom:null,dueTo:null,createdFrom:null,createdTo:null,sort:"due-asc",open:!1},lC={totalActive:0,forecastAmount:0,paidAmount:0,dueSoonCount:0,dueSoonAmount:0};function DNe(e){if(e&&e.length>=7)return`${e.slice(0,7)}-01`;const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1).toISOString().slice(0,10)}function LNe(e){const t=new Date,r=new Date(t);return r.setDate(r.getDate()+7),e.filter(n=>{if(!n.due_date||n.status==="paid"||n.status==="skipped"||n.status==="canceled")return!1;const a=new Date(n.due_date);return a>=t&&a<=r}).reduce((n,a)=>(n.count+=1,n.amount+=Number.isFinite(a.amount)?a.amount:0,n),{count:0,amount:0})}function MNe(){const{addToast:e}=ci(),{user:t,loading:r}=YT(),n=!!t?.id,[a,i]=B.useState(b8),[s,o]=B.useState([]),[c,A]=B.useState([]),[f,h]=B.useState([]),[p,g]=B.useState([]),[v,b]=B.useState(!1),[x,w]=B.useState(!1),[S,N]=B.useState(lC),[k,C]=B.useState(!1),[T,O]=B.useState(!1),[D,R]=B.useState(null),[q,U]=B.useState(!1),[I,Q]=B.useState([]),[H,Y]=B.useState(!1),[K,J]=B.useState(!0);B.useEffect(()=>{let Z=!0;if(!n)return o([]),A([]),()=>{Z=!1};async function Ke(){try{const[st,ye]=await Promise.all([Ne.from("categories").select("id, name").order("name"),Ne.from("accounts").select("id, name").order("name")]);if(!Z)return;if(st.error)throw st.error;if(ye.error)throw ye.error;const He=(st.data??[]).filter(ge=>!!ge?.id).map(ge=>({id:ge.id,name:ge.name??"Kategori"})),Ve=(ye.data??[]).filter(ge=>!!ge?.id).map(ge=>({id:ge.id,name:ge.name??"Akun"}));o(He),A(Ve)}catch(st){if(!Z)return;const ye=st instanceof Error&&st.message?st.message:"Gagal memuat referensi. Cek koneksi atau ulangi.";e(`Gagal memuat kategori/akun: ${ye}`,"danger")}}return Ke(),()=>{Z=!1}},[e,n]),B.useEffect(()=>{let Z=!0;if(!n)return h([]),g([]),N(lC),b(!1),w(!1),C(!1),()=>{Z=!1};async function Ke(){b(!0);try{const He=await f8({q:a.q,status:a.status==="all"?void 0:a.status,categoryId:a.categoryId==="all"?void 0:a.categoryId,accountId:a.accountId==="all"?void 0:a.accountId,unit:a.unit==="all"?void 0:a.unit,dueFrom:a.dueFrom??void 0,dueTo:a.dueTo??void 0,createdFrom:a.createdFrom??void 0,createdTo:a.createdTo??void 0,sort:a.sort});if(!Z)return;h(Array.isArray(He)?He:[])}catch(He){if(!Z)return;const Ve=He instanceof Error?He.message:"Gagal memuat/simpan. Cek koneksi atau ulangi.";e(Ve,"danger")}finally{Z&&b(!1)}}async function st(){w(!0);try{const Ve={dueFrom:a.dueFrom??new Date().toISOString().slice(0,10),dueTo:a.dueTo??void 0,includePaid:!1},ge=await m8(Ve);if(!Z)return;g(Array.isArray(ge)?ge:[])}catch(He){if(!Z)return;const Ve=He instanceof Error?He.message:"Gagal memuat tagihan. Cek koneksi atau ulangi.";e(Ve,"danger")}finally{Z&&w(!1)}}async function ye(){C(!0);try{const He=DNe(a.dueFrom),Ve=await kNe(He);if(!Z)return;N(ge=>({...ge,forecastAmount:Ve?.due_amount??0,paidAmount:Ve?.paid_amount??0}))}catch(He){if(!Z)return;const Ve=He instanceof Error?He.message:"Gagal memuat ringkasan. Cek koneksi atau ulangi.";e(Ve,"danger")}finally{Z&&C(!1)}}return Ke(),st(),ye(),()=>{Z=!1}},[a,e,n]);const re=B.useMemo(()=>Array.isArray(p)?p.filter(Z=>{const Ke=Z.subscription;if(!Ke)return!0;if(a.status!=="all"&&Ke.status!==a.status||a.categoryId!=="all"&&Ke.category_id!==a.categoryId||a.accountId!=="all"&&Ke.account_id!==a.accountId||a.unit!=="all"&&Ke.interval_unit!==a.unit)return!1;if(a.q){const st=a.q.toLowerCase(),ye=Ke.name?.toLowerCase().includes(st),He=Ke.vendor?.toLowerCase().includes(st);if(!ye&&!He)return!1}return!0}):[],[p,a]);B.useEffect(()=>{Q(Z=>Z.filter(Ke=>re.some(st=>st.id===Ke)))},[re]),B.useEffect(()=>{const Z=LNe(re);N(Ke=>({...Ke,totalActive:f.filter(st=>st.status==="active").length,dueSoonCount:Z.count,dueSoonAmount:Z.amount}))},[f,re]);const oe=B.useCallback(Z=>{i(Ke=>({...Ke,...Z}))},[]),V=B.useCallback(()=>{i(b8)},[]),W=B.useCallback(()=>{if(!n){e("Masuk untuk menambah langganan.","danger");return}R(null),O(!0)},[n,e]),P=B.useCallback(Z=>{const Ke=f.find(st=>st.id===Z)??null;if(!Ke){e("Langganan tidak ditemukan","danger");return}R(Ke),O(!0)},[f,e]),$=B.useCallback(()=>{O(!1),R(null)},[]),G=B.useCallback(async()=>{if(!n){h([]),g([]),N(lC);return}try{const[Z,Ke]=await Promise.all([f8({q:a.q,status:a.status==="all"?void 0:a.status,categoryId:a.categoryId==="all"?void 0:a.categoryId,accountId:a.accountId==="all"?void 0:a.accountId,unit:a.unit==="all"?void 0:a.unit,dueFrom:a.dueFrom??void 0,dueTo:a.dueTo??void 0,createdFrom:a.createdFrom??void 0,createdTo:a.createdTo??void 0,sort:a.sort}),m8({dueFrom:a.dueFrom??new Date().toISOString().slice(0,10),dueTo:a.dueTo??void 0,includePaid:!1})]);h(Array.isArray(Z)?Z:[]),g(Array.isArray(Ke)?Ke:[])}catch(Z){const Ke=Z instanceof Error?Z.message:"Gagal memuat ulang data. Cek koneksi atau ulangi.";e(Ke,"danger")}},[a,e,n]),ne=B.useCallback(async Z=>{U(!0);try{Z.id?(await h8(Z.id,Z),e("Langganan diperbarui.","success")):(await ENe(Z),e("Langganan ditambahkan.","success")),$(),await G()}catch(Ke){const st=Ke instanceof Error?Ke.message:"Gagal menyimpan. Cek koneksi atau ulangi.";throw e(st,"danger"),Ke}finally{U(!1)}},[e,$,G]),se=B.useCallback(async Z=>{if(globalThis.confirm?.("Yakin ingin menghapus langganan ini?"))try{await TNe(Z),e("Langganan dihapus.","success"),await G()}catch(Ke){const st=Ke instanceof Error?Ke.message:"Gagal menghapus. Cek koneksi atau ulangi.";e(st,"danger")}},[e,G]),ve=B.useCallback(async(Z,Ke)=>{try{await h8(Z,{status:Ke}),e("Status langganan diperbarui.","success"),await G()}catch(st){const ye=st instanceof Error?st.message:"Gagal mengubah status. Cek koneksi atau ulangi.";e(ye,"danger")}},[e,G]),he=B.useCallback(async Z=>{try{(await p8(Z,{createTransaction:K})).transactionError?e("Tagihan dibayar, namun transaksi tidak tercatat.","warning"):e("Tagihan ditandai paid.","success"),await G()}catch(Ke){const st=Ke instanceof Error?Ke.message:"Gagal menandai paid. Cek koneksi atau ulangi.";e(st,"danger")}},[e,G,K]),fe=B.useCallback(async(Z,Ke)=>{try{const st=re.find(He=>He.id===Z);if(!st){e("Tagihan tidak ditemukan.","danger");return}const ye=st.subscription_id??st.subscription?.id;if(!ye){e("Langganan tidak ditemukan.","danger");return}if(!Ke){e("Tanggal jatuh tempo tidak valid.","danger");return}await g8(ye,Ke),e("Tagihan diskip sekali.","success"),await G()}catch(st){const ye=st instanceof Error?st.message:"Gagal skip tagihan. Cek koneksi atau ulangi.";e(ye,"danger")}},[e,G,re]),Qe=B.useCallback((Z,Ke)=>{Q(st=>{const ye=new Set(st);return Ke?ye.add(Z):ye.delete(Z),Array.from(ye)})},[]),$e=B.useCallback(Z=>{if(!Z){Q([]);return}Q(re.map(Ke=>Ke.id))},[re]),de=B.useCallback(async()=>{if(!I.length)return;Y(!0);let Z=!1,Ke=!1;try{for(const st of I)try{(await p8(st,{createTransaction:K})).transactionError&&(Ke=!0)}catch(ye){Z=!0;const He=ye instanceof Error?ye.message:"Gagal memproses salah satu tagihan.";e(He,"danger")}Z||e("Tagihan terpilih ditandai paid.","success"),Ke&&e("Sebagian transaksi gagal dibuat.","warning"),Q([]),await G()}finally{Y(!1)}},[I,K,G,e]),ze=B.useCallback(async()=>{if(!I.length)return;Y(!0);let Z=!1;try{for(const Ke of I){const st=re.find(He=>He.id===Ke);if(!st)continue;const ye=st.subscription_id??st.subscription?.id;if(!ye){Z=!0,e("Langganan tidak ditemukan.","danger");continue}if(!st.due_date){Z=!0,e("Tanggal jatuh tempo tidak valid.","danger");continue}try{await g8(ye,st.due_date)}catch(He){Z=!0;const Ve=He instanceof Error?He.message:"Gagal skip salah satu tagihan.";e(Ve,"danger")}}Z||e("Tagihan terpilih diskip sekali.","success"),Q([]),await G()}finally{Y(!1)}},[I,re,G,e]),nt=B.useCallback(async()=>{try{await UNe({subscriptions:f,charges:re,filters:a}),e("CSV langganan siap diunduh.","success")}catch(Z){const Ke=Z instanceof Error?Z.message:"Gagal mengekspor CSV. Cek koneksi atau ulangi.";e(Ke,"danger")}},[f,re,a,e]);B.useEffect(()=>{if(FNe?.VITE_ENABLE_REALTIME!=="true"||!n)return;const Z=Ne.channel("subscriptions-stream").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},()=>{G()}).on("postgres_changes",{event:"*",schema:"public",table:"subscription_charges"},()=>{G()}).subscribe();return()=>{Z.unsubscribe()}},[G,n]);const Se=I.length;return l.jsxs(Iy,{children:[l.jsxs(il,{children:[l.jsxs(fo,{title:"Langganan",description:"Kelola semua langganan, jadwal tagihan, dan riwayat pembayaran.",children:[l.jsx("button",{type:"button",onClick:nt,className:"inline-flex h-11 items-center gap-2 rounded-2xl border border-border bg-surface-2 px-4 text-sm font-semibold text-text focus:outline-none focus:ring-2 focus:ring-primary/40",disabled:!n,children:"Export CSV"}),l.jsx("button",{type:"button",onClick:W,className:"inline-flex h-11 items-center gap-2 rounded-2xl border border-primary bg-primary px-4 text-sm font-semibold text-white shadow focus:outline-none focus:ring-2 focus:ring-primary/40",disabled:!n,children:"Tambah Langganan"})]}),l.jsxs(ao,{first:!0,children:[!r&&!n?l.jsx("div",{className:"mb-6 rounded-3xl border border-dashed border-border bg-surface-2/70 px-4 py-3 text-sm text-muted",children:"Mode offline aktif. Masuk ke akun HematWoi untuk menyinkronkan dan mengelola data langganan Anda."}):null,l.jsx(dNe,{totalActive:S.totalActive,forecastAmount:S.forecastAmount,paidAmount:S.paidAmount,dueSoonCount:S.dueSoonCount,dueSoonAmount:S.dueSoonAmount,loading:k})]}),l.jsx(ao,{children:l.jsx(pNe,{filters:a,onChange:oe,onReset:V,categories:s,accounts:c})}),l.jsx(ao,{children:l.jsxs("div",{className:"grid gap-4",children:[v&&l.jsx("div",{className:"rounded-3xl border border-border-subtle bg-surface px-4 py-6 text-center text-sm text-muted",children:"Memuat langganan"}),!v&&Array.isArray(f)&&f.length===0&&l.jsx("div",{className:"rounded-3xl border border-border-subtle bg-surface px-4 py-6 text-center text-sm text-muted",children:"Belum ada langganan. Tambah langganan pertama Anda."}),!v&&Array.isArray(f)&&f.length>0&&l.jsx("div",{className:"grid gap-4",children:f.map(Z=>l.jsx(yNe,{subscription:Z,onEdit:P,onDelete:se,onToggleStatus:ve},Z.id))})]})}),l.jsx(ao,{children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2 rounded-3xl border border-border-subtle bg-surface px-4 py-3 shadow-sm shadow-black/5 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-text",children:"Upcoming charges"}),l.jsx("p",{className:"text-xs text-muted",children:"Pantau tagihan 90 hari ke depan dan lakukan aksi cepat."})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:K,onChange:Z=>J(Z.target.checked),className:"h-4 w-4 rounded border-border text-primary focus:outline-none focus:ring-2 focus:ring-primary/40"}),l.jsx("span",{children:"Buat transaksi otomatis saat Paid"})]})]}),Se>0&&l.jsxs("div",{className:"sticky top-[72px] z-20 flex flex-col gap-2 rounded-3xl border border-border-subtle bg-surface px-4 py-3 shadow-md shadow-black/10 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"text-sm text-text",children:[Se," tagihan dipilih"]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{type:"button",onClick:de,disabled:H,className:"inline-flex h-10 items-center rounded-2xl border border-primary bg-primary/90 px-4 text-sm font-semibold text-white focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:cursor-not-allowed disabled:opacity-70",children:["Tandai Paid (",Se,")"]}),l.jsxs("button",{type:"button",onClick:ze,disabled:H,className:"inline-flex h-10 items-center rounded-2xl border border-border bg-surface-2 px-4 text-sm font-semibold text-text focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:cursor-not-allowed disabled:opacity-70",children:["Skip (",Se,")"]}),l.jsx("button",{type:"button",onClick:()=>Q([]),className:"inline-flex h-10 items-center rounded-2xl border border-border bg-surface-2 px-4 text-sm font-semibold text-text focus:outline-none focus:ring-2 focus:ring-primary/40",children:"Batalkan"})]})]}),l.jsx(wNe,{charges:re,selectedIds:I,loading:x,onToggleSelect:Qe,onToggleSelectAll:$e,onMarkPaid:he,onSkip:fe}),l.jsx(SNe,{charges:re,selectedIds:I,loading:x,onToggleSelect:Qe,onMarkPaid:he,onSkip:fe})]})})]}),l.jsx(jNe,{open:T,initial:D,categories:s,accounts:c,saving:q,onClose:$,onSubmit:ne})]})}function PNe({month:e,months:t=[],onChange:r,comparePrev:n,onToggleCompare:a}){const i=new Date().toISOString().slice(0,7),s=o=>{const c=o.target.value||i;r(c)};return l.jsx("div",{className:"card",children:l.jsxs("div",{className:"grid gap-3 sm:grid-cols-4 items-center",children:[l.jsxs("select",{className:"input",value:e,onChange:s,children:[l.jsx("option",{value:"",children:"Pilih bulan"}),t.map(o=>l.jsx("option",{value:o,children:o},o))]}),l.jsx("input",{type:"date",className:"input",disabled:!0}),l.jsx("input",{type:"date",className:"input",disabled:!0}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm text-text",children:[l.jsx("input",{type:"checkbox",checked:n,onChange:o=>a(o.target.checked)}),l.jsx("span",{children:"Bandingkan dengan bulan sebelumnya"})]}),l.jsx("button",{className:"btn btn-secondary",onClick:()=>r(i),children:"Reset"})]})]})})}function cC(e=0){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)}function QNe(e=0){return(e||0).toLocaleString("id-ID",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0})}function uC({data:e=[],color:t}){const r=`spark-${t.replace("#","")}`,n=e.map((a,i)=>({i,v:a}));return l.jsx(y1,{width:"100%",height:36,children:l.jsxs(gwe,{data:n,margin:{left:0,right:0,top:2,bottom:2},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:r,x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:.4}),l.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:0})]})}),l.jsx(gp,{dataKey:"i",hide:!0}),l.jsx(bp,{hide:!0,domain:[0,"dataMax"]}),l.jsx(RA,{type:"monotone",dataKey:"v",stroke:t,fill:`url(#${r})`,strokeWidth:1,dot:!1})]})})}function RNe({income:e=0,expense:t=0,prevIncome:r=0,prevExpense:n=0}){const a=e-t,i=r-n,s=e>0?a/e:0,o=r>0?i/r:0,c=r?(e-r)/r:null,A=n?(t-n)/n:null,f=i?(a-i)/i:null,h=o?(s-o)/o:null,p=w=>{if(w==null||!isFinite(w))return"";const S=w>=0?dE:S$,N=w>=0?"text-success":"text-danger";return l.jsxs("span",{className:`flex items-center justify-center gap-1 ${N}`,children:[l.jsx(S,{className:"h-3 w-3"}),Math.abs(w).toLocaleString("id-ID",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0})]})},g=typeof window<"u"?window.__hw_kpiSeries||{}:{},v=g.income||[],b=g.expense||[],x=g.balance||[];return l.jsx("div",{className:"card",children:l.jsxs("div",{className:"grid gap-4 text-center sm:grid-cols-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm",children:"Pemasukan"}),l.jsx("div",{className:"text-lg font-semibold text-success",children:cC(e)}),l.jsx("div",{className:"text-xs",children:p(c)}),l.jsx(uC,{data:v,color:"#16a34a"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm",children:"Pengeluaran"}),l.jsx("div",{className:"text-lg font-semibold text-danger",children:cC(t)}),l.jsx("div",{className:"text-xs",children:p(A)}),l.jsx(uC,{data:b,color:"#dc2626"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm",children:"Saldo"}),l.jsx("div",{className:"text-lg font-semibold text-brand",children:cC(a)}),l.jsx("div",{className:"text-xs",children:p(f)}),l.jsx(uC,{data:x,color:"#3898f8"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm",children:"Savings Rate"}),l.jsx("div",{className:"text-lg font-semibold",children:QNe(s)}),l.jsx("div",{className:"text-xs",children:p(h)})]})]})})}function HNe(e=0){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)}function $Ne({data:e=[]}){const t=({payload:r,label:n})=>{if(!r?.length)return null;const a=r[0];return l.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/95 px-3 py-2 text-xs text-text shadow-lg dark:bg-slate-900/90",children:[l.jsx("div",{className:"font-medium text-text",children:n}),l.jsx("div",{className:"text-brand",children:HNe(a.value)})]})};return l.jsx(Yz,{title:"Tren Saldo Bulanan",subtext:"Perubahan saldo bersih per bulan",isEmpty:!e.length,children:({height:r})=>l.jsx(y1,{width:"100%",height:r,children:l.jsxs(mwe,{data:e,margin:{top:16,right:16,left:0,bottom:8},children:[l.jsx(Ez,{stroke:"rgba(255,255,255,0.08)",vertical:!1}),l.jsx(gp,{dataKey:"month",tick:{fill:"var(--text-muted)"},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.12)"}}),l.jsx(bp,{tick:{fill:"var(--text-muted)"},tickFormatter:n=>`${Math.round(n/1e3)}k`,tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.12)"}}),l.jsx(Yo,{content:t,cursor:{stroke:"var(--brand-ring)"}}),l.jsx(jy,{type:"monotone",dataKey:"net",stroke:"hsl(var(--brand-h) var(--brand-s) var(--brand-l))",strokeWidth:3,dot:!1,activeDot:{r:6}})]})})})}function qNe(e=0){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)}function KNe({cells:e,weeks:t,width:r,height:n}){const a=r/t,i=n/7;return l.jsx("svg",{width:r,height:n,children:e.map(s=>l.jsx("rect",{x:s.week*a,y:s.dow*i,width:a-2,height:i-2,rx:2,ry:2,fill:s.color,className:"cursor-pointer",onClick:()=>window.dispatchEvent(new CustomEvent("hw:filter-day",{detail:s.date})),children:l.jsx("title",{children:qNe(s.total)})},s.date))})}function zNe({month:e,txs:t=[]}){const[r,n]=e.split("-").map(Number),i=(new Date(r,n-1,1).getDay()+6)%7,s=new Date(r,n,0).getDate(),o=Math.ceil((i+s)/7),c={};t.forEach(v=>{if(v.type==="expense"&&String(v.date).slice(0,7)===e){const b=String(v.date).slice(8,10);c[b]=(c[b]||0)+Number(v.amount||0)}});const A=[];for(let v=1;v<=s;v++){const b=String(v).padStart(2,"0"),x=(i+v-1)%7,w=Math.floor((i+v-1)/7),S=c[b]||0;A.push({date:`${e}-${b}`,dow:x,week:w,total:S})}const f=Math.max(...A.map(v=>v.total),0),h=[226,232,240],p=[251,113,133],g=A.map(v=>{const b=f?v.total/f:0,x=h.map((w,S)=>Math.round(w+(p[S]-w)*b));return{...v,color:`rgb(${x.join(",")})`}});return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"mb-2 font-semibold",children:"Kalender Pengeluaran"}),l.jsx(y1,{width:"100%",height:o*24,children:l.jsx(KNe,{cells:g,weeks:o})})]})}function cn(e){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(e)}var es=Uint8Array,Mi=Uint16Array,sy=Uint32Array,t2=new es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r2=new es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m4=new es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tV=function(e,t){for(var r=new Mi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new sy(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return[r,a]},rV=tV(t2,2),nV=rV[0],p4=rV[1];nV[28]=258,p4[258]=28;var aV=tV(r2,0),GNe=aV[0],y8=aV[1],g4=new Mi(32768);for(var On=0;On<32768;++On){var Zu=(On&43690)>>>1|(On&21845)<<1;Zu=(Zu&52428)>>>2|(Zu&13107)<<2,Zu=(Zu&61680)>>>4|(Zu&3855)<<4,g4[On]=((Zu&65280)>>>8|(Zu&255)<<8)>>>1}var Jl=(function(e,t,r){for(var n=e.length,a=0,i=new Mi(t);a<n;++a)++i[e[a]-1];var s=new Mi(t);for(a=0;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Mi(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var A=a<<4|e[a],f=t-e[a],h=s[e[a]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)o[g4[h]>>>c]=A}else for(o=new Mi(n),a=0;a<n;++a)o[a]=g4[s[e[a]-1]++]>>>15-e[a];return o}),EA=new es(288);for(var On=0;On<144;++On)EA[On]=8;for(var On=144;On<256;++On)EA[On]=9;for(var On=256;On<280;++On)EA[On]=7;for(var On=280;On<288;++On)EA[On]=8;var oy=new es(32);for(var On=0;On<32;++On)oy[On]=5;var VNe=Jl(EA,9,0),WNe=Jl(EA,9,1),YNe=Jl(oy,5,0),XNe=Jl(oy,5,1),AC=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ho=function(e,t,r){var n=t/8>>0;return(e[n]|e[n+1]<<8)>>>(t&7)&r},dC=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(t&7)},t3=function(e){return(e/8>>0)+(e&7&&1)},iV=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof Mi?Mi:e instanceof sy?sy:es)(r-t);return n.set(e.subarray(t,r)),n},JNe=function(e,t,r){var n=e.length,a=!t||r,i=!r||r.i;r||(r={}),t||(t=new es(n*3));var s=function(se){var ve=t.length;if(se>ve){var he=new es(Math.max(ve*2,se));he.set(t),t=he}},o=r.f||0,c=r.p||0,A=r.b||0,f=r.l,h=r.d,p=r.m,g=r.n,v=n*8;do{if(!f){r.f=o=Ho(e,c,1);var b=Ho(e,c+1,3);if(c+=3,b)if(b==1)f=WNe,h=XNe,p=9,g=5;else if(b==2){var N=Ho(e,c,31)+257,k=Ho(e,c+10,15)+4,C=N+Ho(e,c+5,31)+1;c+=14;for(var T=new es(C),O=new es(19),D=0;D<k;++D)O[m4[D]]=Ho(e,c+D*3,7);c+=k*3;var R=AC(O),q=(1<<R)-1;if(!i&&c+C*(R+7)>v)break;for(var U=Jl(O,R,1),D=0;D<C;){var I=U[Ho(e,c,q)];c+=I&15;var x=I>>>4;if(x<16)T[D++]=x;else{var Q=0,H=0;for(x==16?(H=3+Ho(e,c,3),c+=2,Q=T[D-1]):x==17?(H=3+Ho(e,c,7),c+=3):x==18&&(H=11+Ho(e,c,127),c+=7);H--;)T[D++]=Q}}var Y=T.subarray(0,N),K=T.subarray(N);p=AC(Y),g=AC(K),f=Jl(Y,p,1),h=Jl(K,g,1)}else throw"invalid block type";else{var x=t3(c)+4,w=e[x-4]|e[x-3]<<8,S=x+w;if(S>n){if(i)throw"unexpected EOF";break}a&&s(A+w),t.set(e.subarray(x,S),A),r.b=A+=w,r.p=c=S*8;continue}if(c>v)throw"unexpected EOF"}a&&s(A+131072);for(var J=(1<<p)-1,re=(1<<g)-1,oe=p+g+18;i||c+oe<v;){var Q=f[dC(e,c)&J],V=Q>>>4;if(c+=Q&15,c>v)throw"unexpected EOF";if(!Q)throw"invalid length/literal";if(V<256)t[A++]=V;else if(V==256){f=null;break}else{var W=V-254;if(V>264){var D=V-257,P=t2[D];W=Ho(e,c,(1<<P)-1)+nV[D],c+=P}var $=h[dC(e,c)&re],G=$>>>4;if(!$)throw"invalid distance";c+=$&15;var K=GNe[G];if(G>3){var P=r2[G];K+=dC(e,c)&(1<<P)-1,c+=P}if(c>v)throw"unexpected EOF";a&&s(A+131072);for(var ne=A+W;A<ne;A+=4)t[A]=t[A-K],t[A+1]=t[A+1-K],t[A+2]=t[A+2-K],t[A+3]=t[A+3-K];A=ne}}r.l=f,r.p=c,r.b=A,f&&(o=1,r.m=p,r.d=h,r.n=g)}while(!o);return A==t.length?t:iV(t,0,A)},Uc=function(e,t,r){r<<=t&7;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},Tg=function(e,t,r){r<<=t&7;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},fC=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return[new es(0),0];if(a==1){var s=new es(r[0].s+1);return s[r[0].s]=1,[s,1]}r.sort(function(C,T){return C.f-T.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],A=0,f=1,h=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};f!=a-1;)o=r[r[A].f<r[h].f?A++:h++],c=r[A!=f&&r[A].f<r[h].f?A++:h++],r[f++]={s:-1,f:o.f+c.f,l:o,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var g=new Mi(p+1),v=b4(r[f-1],g,0);if(v>t){var n=0,b=0,x=v-t,w=1<<x;for(i.sort(function(T,O){return g[O.s]-g[T.s]||T.f-O.f});n<a;++n){var S=i[n].s;if(g[S]>t)b+=w-(1<<v-g[S]),g[S]=t;else break}for(b>>>=x;b>0;){var N=i[n].s;g[N]<t?b-=1<<t-g[N]++-1:++n}for(;n>=0&&b;--n){var k=i[n].s;g[k]==t&&(--g[k],++b)}v=t}return[new es(g),v]},b4=function(e,t,r){return e.s==-1?Math.max(b4(e.l,t,r+1),b4(e.r,t,r+1)):t[e.s]=r},v8=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Mi(++t),n=0,a=e[0],i=1,s=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return[r.subarray(0,n),t]},Og=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},y4=function(e,t,r){var n=r.length,a=t3(t+2);e[a]=n&255,e[a+1]=n>>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},x8=function(e,t,r,n,a,i,s,o,c,A,f){Uc(t,f++,r),++a[256];for(var h=fC(a,15),p=h[0],g=h[1],v=fC(i,15),b=v[0],x=v[1],w=v8(p),S=w[0],N=w[1],k=v8(b),C=k[0],T=k[1],O=new Mi(19),D=0;D<S.length;++D)O[S[D]&31]++;for(var D=0;D<C.length;++D)O[C[D]&31]++;for(var R=fC(O,7),q=R[0],U=R[1],I=19;I>4&&!q[m4[I-1]];--I);var Q=A+5<<3,H=Og(a,EA)+Og(i,oy)+s,Y=Og(a,p)+Og(i,b)+s+14+3*I+Og(O,q)+(2*O[16]+3*O[17]+7*O[18]);if(Q<=H&&Q<=Y)return y4(t,f,e.subarray(c,c+A));var K,J,re,oe;if(Uc(t,f,1+(Y<H)),f+=2,Y<H){K=Jl(p,g,0),J=p,re=Jl(b,x,0),oe=b;var V=Jl(q,U,0);Uc(t,f,N-257),Uc(t,f+5,T-1),Uc(t,f+10,I-4),f+=14;for(var D=0;D<I;++D)Uc(t,f+3*D,q[m4[D]]);f+=3*I;for(var W=[S,C],P=0;P<2;++P)for(var $=W[P],D=0;D<$.length;++D){var G=$[D]&31;Uc(t,f,V[G]),f+=q[G],G>15&&(Uc(t,f,$[D]>>>5&127),f+=$[D]>>>12)}}else K=VNe,J=EA,re=YNe,oe=oy;for(var D=0;D<o;++D)if(n[D]>255){var G=n[D]>>>18&31;Tg(t,f,K[G+257]),f+=J[G+257],G>7&&(Uc(t,f,n[D]>>>23&31),f+=t2[G]);var ne=n[D]&31;Tg(t,f,re[ne]),f+=oe[ne],ne>3&&(Tg(t,f,n[D]>>>5&8191),f+=r2[ne])}else Tg(t,f,K[n[D]]),f+=J[n[D]];return Tg(t,f,K[256]),f+J[256]},ZNe=new sy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),e5e=function(e,t,r,n,a,i){var s=e.length,o=new es(n+s+5*(1+Math.floor(s/7e3))+a),c=o.subarray(n,o.length-a),A=0;if(!t||s<8)for(var f=0;f<=s;f+=65535){var h=f+65535;h<s?A=y4(c,A,e.subarray(f,h)):(c[f]=i,A=y4(c,A,e.subarray(f,s)))}else{for(var p=ZNe[t-1],g=p>>>13,v=p&8191,b=(1<<r)-1,x=new Mi(32768),w=new Mi(b+1),S=Math.ceil(r/3),N=2*S,k=function(nt){return(e[nt]^e[nt+1]<<S^e[nt+2]<<N)&b},C=new sy(25e3),T=new Mi(288),O=new Mi(32),D=0,R=0,f=0,q=0,U=0,I=0;f<s;++f){var Q=k(f),H=f&32767,Y=w[Q];if(x[H]=Y,w[Q]=H,U<=f){var K=s-f;if((D>7e3||q>24576)&&K>423){A=x8(e,c,0,C,T,O,R,q,I,f-I,A),q=D=R=0,I=f;for(var J=0;J<286;++J)T[J]=0;for(var J=0;J<30;++J)O[J]=0}var re=2,oe=0,V=v,W=H-Y&32767;if(K>2&&Q==k(f-W))for(var P=Math.min(g,K)-1,$=Math.min(32767,f),G=Math.min(258,K);W<=$&&--V&&H!=Y;){if(e[f+re]==e[f+re-W]){for(var ne=0;ne<G&&e[f+ne]==e[f+ne-W];++ne);if(ne>re){if(re=ne,oe=W,ne>P)break;for(var se=Math.min(W,ne-2),ve=0,J=0;J<se;++J){var he=f-W+J+32768&32767,fe=x[he],Qe=he-fe+32768&32767;Qe>ve&&(ve=Qe,Y=he)}}}H=Y,Y=x[H],W+=H-Y+32768&32767}if(oe){C[q++]=268435456|p4[re]<<18|y8[oe];var $e=p4[re]&31,de=y8[oe]&31;R+=t2[$e]+r2[de],++T[257+$e],++O[de],U=f+re,++D}else C[q++]=e[f],++T[e[f]]}}A=x8(e,c,i,C,T,O,R,q,I,f-I,A)}return iV(o,0,n+t3(A)+a)},t5e=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length,s=0;s!=i;){for(var o=Math.min(s+5552,i);s<o;++s)n+=r[s],a+=n;n%=65521,a%=65521}e=n,t=a},d:function(){return(e>>>8<<16|(t&255)<<8|t>>>8)+((e&255)<<23)*2}}},r5e=function(e,t,r,n,a){return e5e(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,r,n,!0)},n5e=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},a5e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)},i5e=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function v4(e,t){t===void 0&&(t={});var r=t5e();r.p(e);var n=r5e(e,t,2,4);return a5e(n,t),n5e(n,n.length-4,r.d()),n}function s5e(e,t){return JNe((i5e(e),e.subarray(2,-4)),t)}var dr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function hC(){dr.console&&typeof dr.console.log=="function"&&dr.console.log.apply(dr.console,arguments)}var gn={log:hC,warn:function(e){dr.console&&(typeof dr.console.warn=="function"?dr.console.warn.apply(dr.console,arguments):hC.call(null,arguments))},error:function(e){dr.console&&(typeof dr.console.error=="function"?dr.console.error.apply(dr.console,arguments):hC(e))}};function mC(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ld(n.response,t,r)},n.onerror=function(){gn.error("could not download file")},n.send()}function w8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function f0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var cb,x4,Ld=dr.saveAs||((typeof window>"u"?"undefined":cn(window))!=="object"||window!==dr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=dr.URL||dr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?w8(a.href)?mC(e,t,r):f0(a,a.target="_blank"):f0(a)):(a.href=n.createObjectURL(e),setTimeout((function(){n.revokeObjectURL(a.href)}),4e4),setTimeout((function(){f0(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(w8(e))mC(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout((function(){f0(n)}))}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:cn(i)!=="object"&&(gn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return mC(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(dr.HTMLElement)||dr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":cn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(e)}else{var c=dr.URL||dr.webkitURL,A=c.createObjectURL(e);n?n.location=A:location.href=A,n=null,setTimeout((function(){c.revokeObjectURL(A)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function sV(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),A=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),A.length==1&&(A="0"+A),"#"+o+c+A}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pC(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=bi(r,n,a,i,t[0],7,-680876936),i=bi(i,r,n,a,t[1],12,-389564586),a=bi(a,i,r,n,t[2],17,606105819),n=bi(n,a,i,r,t[3],22,-1044525330),r=bi(r,n,a,i,t[4],7,-176418897),i=bi(i,r,n,a,t[5],12,1200080426),a=bi(a,i,r,n,t[6],17,-1473231341),n=bi(n,a,i,r,t[7],22,-45705983),r=bi(r,n,a,i,t[8],7,1770035416),i=bi(i,r,n,a,t[9],12,-1958414417),a=bi(a,i,r,n,t[10],17,-42063),n=bi(n,a,i,r,t[11],22,-1990404162),r=bi(r,n,a,i,t[12],7,1804603682),i=bi(i,r,n,a,t[13],12,-40341101),a=bi(a,i,r,n,t[14],17,-1502002290),r=yi(r,n=bi(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=yi(i,r,n,a,t[6],9,-1069501632),a=yi(a,i,r,n,t[11],14,643717713),n=yi(n,a,i,r,t[0],20,-373897302),r=yi(r,n,a,i,t[5],5,-701558691),i=yi(i,r,n,a,t[10],9,38016083),a=yi(a,i,r,n,t[15],14,-660478335),n=yi(n,a,i,r,t[4],20,-405537848),r=yi(r,n,a,i,t[9],5,568446438),i=yi(i,r,n,a,t[14],9,-1019803690),a=yi(a,i,r,n,t[3],14,-187363961),n=yi(n,a,i,r,t[8],20,1163531501),r=yi(r,n,a,i,t[13],5,-1444681467),i=yi(i,r,n,a,t[2],9,-51403784),a=yi(a,i,r,n,t[7],14,1735328473),r=vi(r,n=yi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=vi(i,r,n,a,t[8],11,-2022574463),a=vi(a,i,r,n,t[11],16,1839030562),n=vi(n,a,i,r,t[14],23,-35309556),r=vi(r,n,a,i,t[1],4,-1530992060),i=vi(i,r,n,a,t[4],11,1272893353),a=vi(a,i,r,n,t[7],16,-155497632),n=vi(n,a,i,r,t[10],23,-1094730640),r=vi(r,n,a,i,t[13],4,681279174),i=vi(i,r,n,a,t[0],11,-358537222),a=vi(a,i,r,n,t[3],16,-722521979),n=vi(n,a,i,r,t[6],23,76029189),r=vi(r,n,a,i,t[9],4,-640364487),i=vi(i,r,n,a,t[12],11,-421815835),a=vi(a,i,r,n,t[15],16,530742520),r=xi(r,n=vi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=xi(i,r,n,a,t[7],10,1126891415),a=xi(a,i,r,n,t[14],15,-1416354905),n=xi(n,a,i,r,t[5],21,-57434055),r=xi(r,n,a,i,t[12],6,1700485571),i=xi(i,r,n,a,t[3],10,-1894986606),a=xi(a,i,r,n,t[10],15,-1051523),n=xi(n,a,i,r,t[1],21,-2054922799),r=xi(r,n,a,i,t[8],6,1873313359),i=xi(i,r,n,a,t[15],10,-30611744),a=xi(a,i,r,n,t[6],15,-1560198380),n=xi(n,a,i,r,t[13],21,1309151649),r=xi(r,n,a,i,t[4],6,-145523070),i=xi(i,r,n,a,t[11],10,-1120210379),a=xi(a,i,r,n,t[2],15,718787259),n=xi(n,a,i,r,t[9],21,-343485551),e[0]=bA(r,e[0]),e[1]=bA(n,e[1]),e[2]=bA(a,e[2]),e[3]=bA(i,e[3])}function n2(e,t,r,n,a,i){return t=bA(bA(t,e),bA(n,i)),bA(t<<a|t>>>32-a,r)}function bi(e,t,r,n,a,i,s){return n2(t&r|~t&n,e,t,a,i,s)}function yi(e,t,r,n,a,i,s){return n2(t&n|r&~n,e,t,a,i,s)}function vi(e,t,r,n,a,i,s){return n2(t^r^n,e,t,a,i,s)}function xi(e,t,r,n,a,i,s){return n2(r^(t|~n),e,t,a,i,s)}function oV(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)pC(n,o5e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(pC(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,pC(n,a),n}function o5e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}cb=dr.atob.bind(dr),x4=dr.btoa.bind(dr);var _8="0123456789abcdef".split("");function l5e(e){for(var t="",r=0;r<4;r++)t+=_8[e>>8*r+4&15]+_8[e>>8*r&15];return t}function c5e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function w4(e){return oV(e).map(c5e).join("")}var u5e=(function(e){for(var t=0;t<e.length;t++)e[t]=l5e(e[t]);return e.join("")})(oV("hello"))!="5d41402abc4b2a76b9719d911017c592";function bA(e,t){if(u5e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _4(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var A=0;for(c=0;c<256;c++){var f=o[c];A=(A+f+s.charCodeAt(c))%256,o[c]=o[A],o[A]=f}r=e,n=o}else o=n;var h=t.length,p=0,g=0,v="";for(c=0;c<h;c++)g=(g+(f=o[p=(p+1)%256]))%256,o[p]=o[g],o[g]=f,s=o[(o[p]+o[g])%256],v+=String.fromCharCode(t.charCodeAt(c)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var B8={print:4,modify:8,copy:16,"annot-forms":32};function zh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach((function(o){if(B8.perm!==void 0)throw new Error("Invalid permission: "+o);a+=B8[o]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=w4(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_4(this.encryptionKey,this.padding)}function Gh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function S8(e){if(cn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){dr.console&&gn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function jw(e){if(!(this instanceof jw))return new jw(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function lV(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Hd(e,t,r,n,a){if(!(this instanceof Hd))return new Hd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,lV.call(this,n,a)}function am(e,t,r,n,a){if(!(this instanceof am))return new am(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,lV.call(this,n,a)}function lr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,c=16,A="S",f=null;cn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),A=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=S8;var v="1.3",b=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(L){v=L};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return x};var w=g.__private__.getPageFormat=function(L){return x[L]};a=a||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},N=S.COMPAT;function k(){this.saveGraphicsState(),Z(new Ft(rt,0,0,-rt,0,bl()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),A="n",N=S.ADVANCED}function C(){this.restoreGraphicsState(),A="S",N=S.COMPAT}var T=g.__private__.combineFontStyleAndFontWeight=function(L,te){if(L=="bold"&&te=="normal"||L=="bold"&&te==400||L=="normal"&&te=="italic"||L=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(L=te==400||te==="normal"?L==="italic"?"italic":"normal":te!=700&&te!=="bold"||L!=="normal"?(te==700?"bold":te)+""+L:"bold"),L};g.advancedAPI=function(L){var te=N===S.COMPAT;return te&&k.call(this),typeof L!="function"||(L(this),te&&C.call(this)),this},g.compatAPI=function(L){var te=N===S.ADVANCED;return te&&C.call(this),typeof L!="function"||(L(this),te&&k.call(this)),this},g.isAdvancedAPI=function(){return N===S.ADVANCED};var O,D=function(L){if(N!==S.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=g.roundToPrecision=g.__private__.roundToPrecision=function(L,te){var be=t||te;if(isNaN(L)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(be).replace(/0+$/,"")};O=g.hpf=g.__private__.hpf=typeof c=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return R(L,c)}:c==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return R(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return R(L,16)};var q=g.f2=g.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return R(L,2)},U=g.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return R(L,3)},I=g.scale=g.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return N===S.COMPAT?L*rt:N===S.ADVANCED?L:void 0},Q=function(L){return N===S.COMPAT?bl()-L:N===S.ADVANCED?L:void 0},H=function(L){return I(Q(L))};g.__private__.setPrecision=g.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var Y,K="00000000000000000000000000000000",J=g.__private__.getFileId=function(){return K},re=g.__private__.setFileId=function(L){return K=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():K.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),f!==null&&(zn=new zh(f.userPermissions,f.userPassword,f.ownerPassword,K)),K};g.setFileId=function(L){return re(L),this},g.getFileId=function(){return J()};var oe=g.__private__.convertDateToPDFDate=function(L){var te=L.getTimezoneOffset(),be=te<0?"+":"-",ke=Math.floor(Math.abs(te/60)),qe=Math.abs(te%60),ut=[be,G(ke),"'",G(qe),"'"].join("");return["D:",L.getFullYear(),G(L.getMonth()+1),G(L.getDate()),G(L.getHours()),G(L.getMinutes()),G(L.getSeconds()),ut].join("")},V=g.__private__.convertPDFDateToDate=function(L){var te=parseInt(L.substr(2,4),10),be=parseInt(L.substr(6,2),10)-1,ke=parseInt(L.substr(8,2),10),qe=parseInt(L.substr(10,2),10),ut=parseInt(L.substr(12,2),10),jt=parseInt(L.substr(14,2),10);return new Date(te,be,ke,qe,ut,jt,0)},W=g.__private__.setCreationDate=function(L){var te;if(L===void 0&&(L=new Date),L instanceof Date)te=oe(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=L}return Y=te},P=g.__private__.getCreationDate=function(L){var te=Y;return L==="jsDate"&&(te=V(Y)),te};g.setCreationDate=function(L){return W(L),this},g.getCreationDate=function(L){return P(L)};var $,G=g.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},ne=g.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},se=0,ve=[],he=[],fe=0,Qe=[],$e=[],de=!1,ze=he,nt=function(){se=0,fe=0,he=[],ve=[],Qe=[],Xa=yn(),Ja=yn()};g.__private__.setCustomOutputDestination=function(L){de=!0,ze=L};var Se=function(L){de||(ze=L)};g.__private__.resetCustomOutputDestination=function(){de=!1,ze=he};var Z=g.__private__.out=function(L){return L=L.toString(),fe+=L.length+1,ze.push(L),ze},Ke=g.__private__.write=function(L){return Z(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},st=g.__private__.getArrayBuffer=function(L){for(var te=L.length,be=new ArrayBuffer(te),ke=new Uint8Array(be);te--;)ke[te]=L.charCodeAt(te);return be},ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ye};var He=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(L){return He=N===S.ADVANCED?L/rt:L,this};var Ve,ge=g.__private__.getFontSize=g.getFontSize=function(){return N===S.COMPAT?He:He*rt},je=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(L){return je=L,this},g.__private__.getR2L=g.getR2L=function(){return je};var we,Xe=g.__private__.setZoomMode=function(L){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Ve=L;else if(isNaN(L)){if(te.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Ve=L}else Ve=parseInt(L,10)};g.__private__.getZoomMode=function(){return Ve};var Pe,At=g.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');we=L};g.__private__.getPageMode=function(){return we};var gt=g.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Pe=L};g.__private__.getLayoutMode=function(){return Pe},g.__private__.setDisplayMode=g.setDisplayMode=function(L,te,be){return Xe(L),gt(te),At(be),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(L){if(Object.keys(St).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[L]},g.__private__.getDocumentProperties=function(){return St},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(L){for(var te in St)St.hasOwnProperty(te)&&L[te]&&(St[te]=L[te]);return this},g.__private__.setDocumentProperty=function(L,te){if(Object.keys(St).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[L]=te};var Ze,rt,$t,Ht,Vt,Kt={},nr={},wr=[],Ge={},Lt={},Ot={},Le={},ot=null,ht=0,mt=[],It=new S8(g),Ce=e.hotfixes||[],Et={},Pt={},jr=[],Ft=function L(te,be,ke,qe,ut,jt){if(!(this instanceof L))return new L(te,be,ke,qe,ut,jt);isNaN(te)&&(te=1),isNaN(be)&&(be=0),isNaN(ke)&&(ke=0),isNaN(qe)&&(qe=1),isNaN(ut)&&(ut=0),isNaN(jt)&&(jt=0),this._matrix=[te,be,ke,qe,ut,jt]};Object.defineProperty(Ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ft.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(L)},Ft.prototype.multiply=function(L){var te=L.sx*this.sx+L.shy*this.shx,be=L.sx*this.shy+L.shy*this.sy,ke=L.shx*this.sx+L.sy*this.shx,qe=L.shx*this.shy+L.sy*this.sy,ut=L.tx*this.sx+L.ty*this.shx+this.tx,jt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Ft(te,be,ke,qe,ut,jt)},Ft.prototype.decompose=function(){var L=this.sx,te=this.shy,be=this.shx,ke=this.sy,qe=this.tx,ut=this.ty,jt=Math.sqrt(L*L+te*te),Mt=(L/=jt)*be+(te/=jt)*ke;be-=L*Mt,ke-=te*Mt;var Xt=Math.sqrt(be*be+ke*ke);return Mt/=Xt,L*(ke/=Xt)<te*(be/=Xt)&&(L=-L,te=-te,Mt=-Mt,jt=-jt),{scale:new Ft(jt,0,0,Xt,0,0),translate:new Ft(1,0,0,1,qe,ut),rotate:new Ft(L,te,-te,L,0,0),skew:new Ft(1,0,Mt,1,0,0)}},Ft.prototype.toString=function(L){return this.join(" ")},Ft.prototype.inversed=function(){var L=this.sx,te=this.shy,be=this.shx,ke=this.sy,qe=this.tx,ut=this.ty,jt=1/(L*ke-te*be),Mt=ke*jt,Xt=-te*jt,yr=-be*jt,xr=L*jt;return new Ft(Mt,Xt,yr,xr,-Mt*qe-yr*ut,-Xt*qe-xr*ut)},Ft.prototype.applyToPoint=function(L){var te=L.x*this.sx+L.y*this.shx+this.tx,be=L.x*this.shy+L.y*this.sy+this.ty;return new bu(te,be)},Ft.prototype.applyToRectangle=function(L){var te=this.applyToPoint(L),be=this.applyToPoint(new bu(L.x+L.w,L.y+L.h));return new WA(te.x,te.y,be.x-te.x,be.y-te.y)},Ft.prototype.clone=function(){var L=this.sx,te=this.shy,be=this.shx,ke=this.sy,qe=this.tx,ut=this.ty;return new Ft(L,te,be,ke,qe,ut)},g.Matrix=Ft;var mr=g.matrixMult=function(L,te){return te.multiply(L)},Nr=new Ft(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Nr;var $r=function(L,te){if(!Lt[L]){var be=(te instanceof Hd?"Sh":"P")+(Object.keys(Ge).length+1).toString(10);te.id=be,Lt[L]=be,Ge[be]=te,It.publish("addPattern",te)}};g.ShadingPattern=Hd,g.TilingPattern=am,g.addShadingPattern=function(L,te){return D("addShadingPattern()"),$r(L,te),this},g.beginTilingPattern=function(L){D("beginTilingPattern()"),yu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},g.endTilingPattern=function(L,te){D("endTilingPattern()"),te.stream=$e[$].join(`
`),$r(L,te),It.publish("endTilingPattern",te),jr.pop().restore()};var ur=g.__private__.newObject=function(){var L=yn();return Ya(L,!0),L},yn=g.__private__.newObjectDeferred=function(){return se++,ve[se]=function(){return fe},se},Ya=function(L,te){return te=typeof te=="boolean"&&te,ve[L]=fe,te&&Z(L+" 0 obj"),L},ho=g.__private__.newAdditionalObject=function(){var L={objId:yn(),content:""};return Qe.push(L),L},Xa=yn(),Ja=yn(),da=g.__private__.decodeColorString=function(L){var te=L.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var be=parseFloat(te[0]);te=[be,be,be,"r"]}for(var ke="#",qe=0;qe<3;qe++)ke+=("0"+Math.floor(255*parseFloat(te[qe])).toString(16)).slice(-2);return ke},fa=g.__private__.encodeColorString=function(L){var te;typeof L=="string"&&(L={ch1:L});var be=L.ch1,ke=L.ch2,qe=L.ch3,ut=L.ch4,jt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var Mt=new sV(be);if(Mt.ok)be=Mt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var Xt=parseInt(be.substr(1),16);be=Xt>>16&255,ke=Xt>>8&255,qe=255&Xt}if(ke===void 0||ut===void 0&&be===ke&&ke===qe)if(typeof be=="string")te=be+" "+jt[0];else switch(L.precision){case 2:te=q(be/255)+" "+jt[0];break;case 3:default:te=U(be/255)+" "+jt[0]}else if(ut===void 0||cn(ut)==="object"){if(ut&&!isNaN(ut.a)&&ut.a===0)return te=["1.","1.","1.",jt[1]].join(" ");if(typeof be=="string")te=[be,ke,qe,jt[1]].join(" ");else switch(L.precision){case 2:te=[q(be/255),q(ke/255),q(qe/255),jt[1]].join(" ");break;default:case 3:te=[U(be/255),U(ke/255),U(qe/255),jt[1]].join(" ")}}else if(typeof be=="string")te=[be,ke,qe,ut,jt[2]].join(" ");else switch(L.precision){case 2:te=[q(be),q(ke),q(qe),q(ut),jt[2]].join(" ");break;case 3:default:te=[U(be),U(ke),U(qe),U(ut),jt[2]].join(" ")}return te},Ua=g.__private__.getFilters=function(){return s},Jn=g.__private__.putStream=function(L){var te=(L=L||{}).data||"",be=L.filters||Ua(),ke=L.alreadyAppliedFilters||[],qe=L.addLength1||!1,ut=te.length,jt=L.objectId,Mt=function(Qn){return Qn};if(f!==null&&jt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Mt=zn.encryptor(jt,0));var Xt={};be===!0&&(be=["FlateEncode"]);var yr=L.additionalKeyValues||[],xr=(Xt=lr.API.processDataByFilters!==void 0?lr.API.processDataByFilters(te,be):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(Xt.data.length!==0&&(yr.push({key:"Length",value:Xt.data.length}),qe===!0&&yr.push({key:"Length1",value:ut})),xr.length!=0)if(xr.split("/").length-1==1)yr.push({key:"Filter",value:xr});else{yr.push({key:"Filter",value:"["+xr+"]"});for(var Or=0;Or<yr.length;Or+=1)if(yr[Or].key==="DecodeParms"){for(var vn=[],kn=0;kn<Xt.reverseChain.split("/").length-1;kn+=1)vn.push("null");vn.push(yr[Or].value),yr[Or].value="["+vn.join(" ")+"]"}}Z("<<");for(var Pn=0;Pn<yr.length;Pn++)Z("/"+yr[Pn].key+" "+yr[Pn].value);Z(">>"),Xt.data.length!==0&&(Z("stream"),Z(Mt(Xt.data)),Z("endstream"))},Yr=g.__private__.putPage=function(L){var te=L.number,be=L.data,ke=L.objId,qe=L.contentsObjId;Ya(ke,!0),Z("<</Type /Page"),Z("/Parent "+L.rootDictionaryObjId+" 0 R"),Z("/Resources "+L.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(O(L.mediaBox.bottomLeftX))+" "+parseFloat(O(L.mediaBox.bottomLeftY))+" "+O(L.mediaBox.topRightX)+" "+O(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&Z("/CropBox ["+O(L.cropBox.bottomLeftX)+" "+O(L.cropBox.bottomLeftY)+" "+O(L.cropBox.topRightX)+" "+O(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&Z("/BleedBox ["+O(L.bleedBox.bottomLeftX)+" "+O(L.bleedBox.bottomLeftY)+" "+O(L.bleedBox.topRightX)+" "+O(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&Z("/TrimBox ["+O(L.trimBox.bottomLeftX)+" "+O(L.trimBox.bottomLeftY)+" "+O(L.trimBox.topRightX)+" "+O(L.trimBox.topRightY)+"]"),L.artBox!==null&&Z("/ArtBox ["+O(L.artBox.bottomLeftX)+" "+O(L.artBox.bottomLeftY)+" "+O(L.artBox.topRightX)+" "+O(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&Z("/UserUnit "+L.userUnit),It.publish("putPage",{objId:ke,pageContext:mt[te],pageNumber:te,page:be}),Z("/Contents "+qe+" 0 R"),Z(">>"),Z("endobj");var ut=be.join(`
`);return N===S.ADVANCED&&(ut+=`
Q`),Ya(qe,!0),Jn({data:ut,filters:Ua(),objectId:qe}),Z("endobj"),ke},ks=g.__private__.putPages=function(){var L,te,be=[];for(L=1;L<=ht;L++)mt[L].objId=yn(),mt[L].contentsObjId=yn();for(L=1;L<=ht;L++)be.push(Yr({number:L,data:$e[L],objId:mt[L].objId,contentsObjId:mt[L].contentsObjId,mediaBox:mt[L].mediaBox,cropBox:mt[L].cropBox,bleedBox:mt[L].bleedBox,trimBox:mt[L].trimBox,artBox:mt[L].artBox,userUnit:mt[L].userUnit,rootDictionaryObjId:Xa,resourceDictionaryObjId:Ja}));Ya(Xa,!0),Z("<</Type /Pages");var ke="/Kids [";for(te=0;te<ht;te++)ke+=be[te]+" 0 R ";Z(ke+"]"),Z("/Count "+ht),Z(">>"),Z("endobj"),It.publish("postPutPages")},mo=function(L){It.publish("putFont",{font:L,out:Z,newObject:ur,putStream:Jn}),L.isAlreadyPutted!==!0&&(L.objectNumber=ur(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Gh(L.postScriptName)),Z("/Subtype /Type1"),typeof L.encoding=="string"&&Z("/Encoding /"+L.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},ui=function(){for(var L in Kt)Kt.hasOwnProperty(L)&&(h===!1||h===!0&&p.hasOwnProperty(L))&&mo(Kt[L])},Ni=function(L){L.objectNumber=ur();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[O(L.x),O(L.y),O(L.x+L.width),O(L.y+L.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var be=L.pages[1].join(`
`);Jn({data:be,additionalKeyValues:te,objectId:L.objectNumber}),Z("endobj")},Al=function(){for(var L in Et)Et.hasOwnProperty(L)&&Ni(Et[L])},dl=function(L,te){var be,ke=[],qe=1/(te-1);for(be=0;be<1;be+=qe)ke.push(be);if(ke.push(1),L[0].offset!=0){var ut={offset:0,color:L[0].color};L.unshift(ut)}if(L[L.length-1].offset!=1){var jt={offset:1,color:L[L.length-1].color};L.push(jt)}for(var Mt="",Xt=0,yr=0;yr<ke.length;yr++){for(be=ke[yr];be>L[Xt+1].offset;)Xt++;var xr=L[Xt].offset,Or=(be-xr)/(L[Xt+1].offset-xr),vn=L[Xt].color,kn=L[Xt+1].color;Mt+=ne(Math.round((1-Or)*vn[0]+Or*kn[0]).toString(16))+ne(Math.round((1-Or)*vn[1]+Or*kn[1]).toString(16))+ne(Math.round((1-Or)*vn[2]+Or*kn[2]).toString(16))}return Mt.trim()},Es=function(L,te){te||(te=21);var be=ur(),ke=dl(L.colors,te),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+te+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jn({data:ke,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),Z("endobj"),L.objectNumber=ur(),Z("<< /ShadingType "+L.type),Z("/ColorSpace /DeviceRGB");var ut="/Coords ["+O(parseFloat(L.coords[0]))+" "+O(parseFloat(L.coords[1]))+" ";L.type===2?ut+=O(parseFloat(L.coords[2]))+" "+O(parseFloat(L.coords[3])):ut+=O(parseFloat(L.coords[2]))+" "+O(parseFloat(L.coords[3]))+" "+O(parseFloat(L.coords[4]))+" "+O(parseFloat(L.coords[5])),Z(ut+="]"),L.matrix&&Z("/Matrix ["+L.matrix.toString()+"]"),Z("/Function "+be+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},uu=function(L,te){var be=yn(),ke=ur();te.push({resourcesOid:be,objectOid:ke}),L.objectNumber=ke;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+L.boundingBox.map(O).join(" ")+"]"}),qe.push({key:"XStep",value:O(L.xStep)}),qe.push({key:"YStep",value:O(L.yStep)}),qe.push({key:"Resources",value:be+" 0 R"}),L.matrix&&qe.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Jn({data:L.stream,additionalKeyValues:qe,objectId:L.objectNumber}),Z("endobj")},Fa=function(L){var te;for(te in Ge)Ge.hasOwnProperty(te)&&(Ge[te]instanceof Hd?Es(Ge[te]):Ge[te]instanceof am&&uu(Ge[te],L))},po=function(L){for(var te in L.objectNumber=ur(),Z("<<"),L)switch(te){case"opacity":Z("/ca "+q(L[te]));break;case"stroke-opacity":Z("/CA "+q(L[te]))}Z(">>"),Z("endobj")},Da=function(){var L;for(L in Ot)Ot.hasOwnProperty(L)&&po(Ot[L])},as=function(){for(var L in Z("/XObject <<"),Et)Et.hasOwnProperty(L)&&Et[L].objectNumber>=0&&Z("/"+L+" "+Et[L].objectNumber+" 0 R");It.publish("putXobjectDict"),Z(">>")},Au=function(){zn.oid=ur(),Z("<<"),Z("/Filter /Standard"),Z("/V "+zn.v),Z("/R "+zn.r),Z("/U <"+zn.toHexString(zn.U)+">"),Z("/O <"+zn.toHexString(zn.O)+">"),Z("/P "+zn.P),Z(">>"),Z("endobj")},is=function(){for(var L in Z("/Font <<"),Kt)Kt.hasOwnProperty(L)&&(h===!1||h===!0&&p.hasOwnProperty(L))&&Z("/"+L+" "+Kt[L].objectNumber+" 0 R");Z(">>")},go=function(){if(Object.keys(Ge).length>0){for(var L in Z("/Shading <<"),Ge)Ge.hasOwnProperty(L)&&Ge[L]instanceof Hd&&Ge[L].objectNumber>=0&&Z("/"+L+" "+Ge[L].objectNumber+" 0 R");It.publish("putShadingPatternDict"),Z(">>")}},Ts=function(L){if(Object.keys(Ge).length>0){for(var te in Z("/Pattern <<"),Ge)Ge.hasOwnProperty(te)&&Ge[te]instanceof g.TilingPattern&&Ge[te].objectNumber>=0&&Ge[te].objectNumber<L&&Z("/"+te+" "+Ge[te].objectNumber+" 0 R");It.publish("putTilingPatternDict"),Z(">>")}},KA=function(){if(Object.keys(Ot).length>0){var L;for(L in Z("/ExtGState <<"),Ot)Ot.hasOwnProperty(L)&&Ot[L].objectNumber>=0&&Z("/"+L+" "+Ot[L].objectNumber+" 0 R");It.publish("putGStateDict"),Z(">>")}},ce=function(L){Ya(L.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),is(),go(),Ts(L.objectOid),KA(),as(),Z(">>"),Z("endobj")},Be=function(){var L=[];ui(),Da(),Al(),Fa(L),It.publish("putResources"),L.forEach(ce),ce({resourcesOid:Ja,objectOid:Number.MAX_SAFE_INTEGER}),It.publish("postPutResources")},pe=function(){It.publish("putAdditionalObjects");for(var L=0;L<Qe.length;L++){var te=Qe[L];Ya(te.objId,!0),Z(te.content),Z("endobj")}It.publish("postPutAdditionalObjects")},Fe=function(L){nr[L.fontName]=nr[L.fontName]||{},nr[L.fontName][L.fontStyle]=L.id},Me=function(L,te,be,ke,qe){var ut={id:"F"+(Object.keys(Kt).length+1).toString(10),postScriptName:L,fontName:te,fontStyle:be,encoding:ke,isStandardFont:qe||!1,metadata:{}};return It.publish("addFont",{font:ut,instance:this}),Kt[ut.id]=ut,Fe(ut),ut.id},Ie=function(L){for(var te=0,be=ye.length;te<be;te++){var ke=Me.call(this,L[te][0],L[te][1],L[te][2],ye[te][3],!0);h===!1&&(p[ke]=!0);var qe=L[te][0].split("-");Fe({id:ke,fontName:qe[0],fontStyle:qe[1]||""})}It.publish("addFonts",{fonts:Kt,dictionary:nr})},ct=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(ke){var te=ke.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var be="Error in function "+te.split(`
`)[0].split("<")[0]+": "+ke.message;if(!dr.console)throw new Error(be);dr.console.error(be,ke),dr.alert&&alert(be)}},L.foo.bar=L,L.foo},Nt=function(L,te){var be,ke,qe,ut,jt,Mt,Xt,yr,xr;if(qe=(te=te||{}).sourceEncoding||"Unicode",jt=te.outputEncoding,(te.autoencode||jt)&&Kt[Ze].metadata&&Kt[Ze].metadata[qe]&&Kt[Ze].metadata[qe].encoding&&(ut=Kt[Ze].metadata[qe].encoding,!jt&&Kt[Ze].encoding&&(jt=Kt[Ze].encoding),!jt&&ut.codePages&&(jt=ut.codePages[0]),typeof jt=="string"&&(jt=ut[jt]),jt)){for(Xt=!1,Mt=[],be=0,ke=L.length;be<ke;be++)(yr=jt[L.charCodeAt(be)])?Mt.push(String.fromCharCode(yr)):Mt.push(L[be]),Mt[be].charCodeAt(0)>>8&&(Xt=!0);L=Mt.join("")}for(be=L.length;Xt===void 0&&be!==0;)L.charCodeAt(be-1)>>8&&(Xt=!0),be--;if(!Xt)return L;for(Mt=te.noBOM?[]:[254,255],be=0,ke=L.length;be<ke;be++){if((xr=(yr=L.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(xr),Mt.push(yr-(xr<<8))}return String.fromCharCode.apply(void 0,Mt)},yt=g.__private__.pdfEscape=g.pdfEscape=function(L,te){return Nt(L,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ct=g.__private__.beginPage=function(L){$e[++ht]=[],mt[ht]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},ir(ht),Se($e[$])},Tt=function(L,te){var be,ke,qe;switch(r=te||r,typeof L=="string"&&(be=w(L.toLowerCase()),Array.isArray(be)&&(ke=be[0],qe=be[1])),Array.isArray(L)&&(ke=L[0]*rt,qe=L[1]*rt),isNaN(ke)&&(ke=a[0],qe=a[1]),(ke>14400||qe>14400)&&(gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),qe=Math.min(14400,qe)),a=[ke,qe],r.substr(0,1)){case"l":qe>ke&&(a=[qe,ke]);break;case"p":ke>qe&&(a=[qe,ke])}Ct(a),Of(ml),Z(ls),VA!==0&&Z(VA+" J"),gu!==0&&Z(gu+" j"),It.publish("addPage",{pageNumber:ht})},zt=function(L){L>0&&L<=ht&&($e.splice(L,1),mt.splice(L,1),ht--,$>ht&&($=ht),this.setPage($))},ir=function(L){L>0&&L<=ht&&($=L)},Er=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return $e.length-1},Tr=function(L,te,be){var ke,qe=void 0;return be=be||{},L=L!==void 0?L:Kt[Ze].fontName,te=te!==void 0?te:Kt[Ze].fontStyle,ke=L.toLowerCase(),nr[ke]!==void 0&&nr[ke][te]!==void 0?qe=nr[ke][te]:nr[L]!==void 0&&nr[L][te]!==void 0?qe=nr[L][te]:be.disableWarning===!1&&gn.warn("Unable to look up font label for font '"+L+"', '"+te+"'. Refer to getFontList() for available fonts."),qe||be.noFallback||(qe=nr.times[te])==null&&(qe=nr.times.normal),qe},Xr=g.__private__.putInfo=function(){var L=ur(),te=function(ke){return ke};for(var be in f!==null&&(te=zn.encryptor(L,0)),Z("<<"),Z("/Producer ("+yt(te("jsPDF "+lr.version))+")"),St)St.hasOwnProperty(be)&&St[be]&&Z("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+yt(te(St[be]))+")");Z("/CreationDate ("+yt(te(Y))+")"),Z(">>"),Z("endobj")},nn=g.__private__.putCatalog=function(L){var te=(L=L||{}).rootDictionaryObjId||Xa;switch(ur(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+te+" 0 R"),Ve||(Ve="fullwidth"),Ve){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+Ve;be.substr(be.length-1)==="%"&&(Ve=parseInt(Ve)/100),typeof Ve=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+q(Ve)+"]")}switch(Pe||(Pe="continuous"),Pe){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}we&&Z("/PageMode /"+we),It.publish("putCatalog"),Z(">>"),Z("endobj")},xa=g.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(se+1)),Z("/Root "+se+" 0 R"),Z("/Info "+(se-1)+" 0 R"),f!==null&&Z("/Encrypt "+zn.oid+" 0 R"),Z("/ID [ <"+K+"> <"+K+"> ]"),Z(">>")},Os=g.__private__.putHeader=function(){Z("%PDF-"+v),Z("%")},bo=g.__private__.putXRef=function(){var L="0000000000";Z("xref"),Z("0 "+(se+1)),Z("0000000000 65535 f ");for(var te=1;te<=se;te++)typeof ve[te]=="function"?Z((L+ve[te]()).slice(-10)+" 00000 n "):ve[te]!==void 0?Z((L+ve[te]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},ss=g.__private__.buildDocument=function(){nt(),Se(he),It.publish("buildDocument"),Os(),ks(),pe(),Be(),f!==null&&Au(),Xr(),nn();var L=fe;return bo(),xa(),Z("startxref"),Z(""+L),Z("%%EOF"),Se($e[$]),he.join(`
`)},Is=g.__private__.getBlob=function(L){return new Blob([st(L)],{type:"application/pdf"})},Us=g.output=g.__private__.output=ct((function(L,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",L){case void 0:return ss();case"save":g.save(te.filename);break;case"arraybuffer":return st(ss());case"blob":return Is(ss());case"bloburi":case"bloburl":if(dr.URL!==void 0&&typeof dr.URL.createObjectURL=="function")return dr.URL&&dr.URL.createObjectURL(Is(ss()))||void 0;gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",ke=ss();try{be=x4(ke)}catch{be=x4(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+te.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dr)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(qe=te.pdfObjectUrl,ut="");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Mt=dr.open();return Mt!==null&&Mt.document.write(jt),Mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dr)==="[object Window]"){var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',yr=dr.open();if(yr!==null){yr.document.write(Xt);var xr=this;yr.document.documentElement.querySelector("#pdfViewer").onload=function(){yr.document.title=te.filename,yr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return yr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Or='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',vn=dr.open();if(vn!==null&&(vn.document.write(Or),vn.document.title=te.filename),vn||typeof safari>"u")return vn;break;case"datauri":case"dataurl":return dr.document.location.href=this.output("datauristring",te);default:return null}})),fl=function(L){return Array.isArray(Ce)===!0&&Ce.indexOf(L)>-1};switch(n){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=fl("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);rt=n}var zn=null;W(),re();var os=function(L){return f!==null?zn.encryptor(L,0):function(te){return te}},yo=g.__private__.getPageInfo=g.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[L].objId,pageNumber:L,pageContext:mt[L]}},fr=g.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in mt)if(mt[te].objId===L)break;return yo(te)},zA=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:mt[$].objId,pageNumber:$,pageContext:mt[$]}};g.addPage=function(){return Tt.apply(this,arguments),this},g.setPage=function(){return ir.apply(this,arguments),Se.call(this,$e[$]),this},g.insertPage=function(L){return this.addPage(),this.movePage($,L),this},g.movePage=function(L,te){var be,ke;if(L>te){be=$e[L],ke=mt[L];for(var qe=L;qe>te;qe--)$e[qe]=$e[qe-1],mt[qe]=mt[qe-1];$e[te]=be,mt[te]=ke,this.setPage(te)}else if(L<te){be=$e[L],ke=mt[L];for(var ut=L;ut<te;ut++)$e[ut]=$e[ut+1],mt[ut]=mt[ut+1];$e[te]=be,mt[te]=ke,this.setPage(te)}return this},g.deletePage=function(){return zt.apply(this,arguments),this},g.__private__.text=g.text=function(L,te,be,ke,qe){var ut,jt,Mt,Xt,yr,xr,Or,vn,kn,Pn=(ke=ke||{}).scope||this;if(typeof L=="number"&&typeof te=="number"&&(typeof be=="string"||Array.isArray(be))){var Qn=be;be=te,te=L,L=Qn}if(arguments[3]instanceof Ft?(D("The transform parameter of text() with a Matrix value"),kn=qe):(Mt=arguments[4],Xt=arguments[5],cn(Or=arguments[3])==="object"&&Or!==null||(typeof Mt=="string"&&(Xt=Mt,Mt=null),typeof Or=="string"&&(Xt=Or,Or=null),typeof Or=="number"&&(Mt=Or,Or=null),ke={flags:Or,angle:Mt,align:Xt})),isNaN(te)||isNaN(be)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Pn;var ha="",cs=!1,ji=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:Ci,Ms=Pn.internal.scaleFactor;function JA(un){return un=un.split("	").join(Array(ke.TabLen||9).join(" ")),yt(un,Or)}function wo(un){for(var an,Un=un.concat(),Rn=[],Zn=Un.length;Zn--;)typeof(an=Un.shift())=="string"?Rn.push(an):Array.isArray(un)&&(an.length===1||an[1]===void 0&&an[2]===void 0)?Rn.push(an[0]):Rn.push([an[0],an[1],an[2]]);return Rn}function _o(un,an){var Un;if(typeof un=="string")Un=an(un)[0];else if(Array.isArray(un)){for(var Rn,Zn,Co=un.concat(),_a=[],ei=Co.length;ei--;)typeof(Rn=Co.shift())=="string"?_a.push(an(Rn)[0]):Array.isArray(Rn)&&typeof Rn[0]=="string"&&(Zn=an(Rn[0],Rn[1],Rn[2]),_a.push([Zn[0],Zn[1],Zn[2]]));Un=_a}return Un}var wu=!1,yl=!0;if(typeof L=="string")wu=!0;else if(Array.isArray(L)){var _u=L.concat();jt=[];for(var uc,Ma=_u.length;Ma--;)(typeof(uc=_u.shift())!="string"||Array.isArray(uc)&&typeof uc[0]!="string")&&(yl=!1);wu=yl}if(wu===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var vl=He/Pn.internal.scaleFactor,Ac=vl*(ji-1);switch(ke.baseline){case"bottom":be-=Ac;break;case"top":be+=vl-Ac;break;case"hanging":be+=vl-2*Ac;break;case"middle":be+=vl/2-Ac}if((xr=ke.maxWidth||0)>0&&(typeof L=="string"?L=Pn.splitTextToSize(L,xr):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce((function(un,an){return un.concat(Pn.splitTextToSize(an,xr))}),[]))),ut={text:L,x:te,y:be,options:ke,mutex:{pdfEscape:yt,activeFontKey:Ze,fonts:Kt,activeFontSize:He}},It.publish("preProcessText",ut),L=ut.text,Mt=(ke=ut.options).angle,!(kn instanceof Ft)&&Mt&&typeof Mt=="number"){Mt*=Math.PI/180,ke.rotationDirection===0&&(Mt=-Mt),N===S.ADVANCED&&(Mt=-Mt);var dc=Math.cos(Mt),Bu=Math.sin(Mt);kn=new Ft(dc,Bu,-Bu,dc,0,0)}else Mt&&Mt instanceof Ft&&(kn=Mt);N!==S.ADVANCED||kn||(kn=Nr),(yr=ke.charSpace||pu)!==void 0&&(ha+=O(I(yr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(vn=ke.horizontalScale)!==void 0&&(ha+=O(100*vn)+` Tz
`),ke.lang;var di=-1,jp=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,ZA=Pn.internal.getCurrentPageInfo().pageContext;switch(jp){case 0:case!1:case"fill":di=0;break;case 1:case!0:case"stroke":di=1;break;case 2:case"fillThenStroke":di=2;break;case 3:case"invisible":di=3;break;case 4:case"fillAndAddForClipping":di=4;break;case 5:case"strokeAndAddPathForClipping":di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":di=6;break;case 7:case"addToPathForClipping":di=7}var Uf=ZA.usedRenderingMode!==void 0?ZA.usedRenderingMode:-1;di!==-1?ha+=di+` Tr
`:Uf!==-1&&(ha+=`0 Tr
`),di!==-1&&(ZA.usedRenderingMode=di),Xt=ke.align||"left";var us,wa=He*ji,fc=Pn.internal.pageSize.getWidth(),Ff=Kt[Ze];yr=ke.charSpace||pu,xr=ke.maxWidth||0,Or=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Bo=[];if(Object.prototype.toString.call(L)==="[object Array]"){var ki;jt=wo(L),Xt!=="left"&&(us=jt.map((function(un){return Pn.getStringUnitWidth(un,{font:Ff,charSpace:yr,fontSize:He,doKerning:!1})*He/Ms})));var $i,Ps=0;if(Xt==="right"){te-=us[0],L=[],Ma=jt.length;for(var Qs=0;Qs<Ma;Qs++)Qs===0?($i=Hi(te),ki=xo(be)):($i=I(Ps-us[Qs]),ki=-wa),L.push([jt[Qs],$i,ki]),Ps=us[Qs]}else if(Xt==="center"){te-=us[0]/2,L=[],Ma=jt.length;for(var fi=0;fi<Ma;fi++)fi===0?($i=Hi(te),ki=xo(be)):($i=I((Ps-us[fi])/2),ki=-wa),L.push([jt[fi],$i,ki]),Ps=us[fi]}else if(Xt==="left"){L=[],Ma=jt.length;for(var xl=0;xl<Ma;xl++)L.push(jt[xl])}else{if(Xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');L=[],Ma=jt.length,xr=xr!==0?xr:fc;for(var Za=0;Za<Ma;Za++)ki=Za===0?xo(be):-wa,$i=Za===0?Hi(te):0,Za<Ma-1?Bo.push(O(I((xr-us[Za])/(jt[Za].split(" ").length-1)))):Bo.push(0),L.push([jt[Za],$i,ki])}}var wl=typeof ke.R2L=="boolean"?ke.R2L:je;wl===!0&&(L=_o(L,(function(un,an,Un){return[un.split("").reverse().join(""),an,Un]}))),ut={text:L,x:te,y:be,options:ke,mutex:{pdfEscape:yt,activeFontKey:Ze,fonts:Kt,activeFontSize:He}},It.publish("postProcessText",ut),L=ut.text,cs=ut.mutex.isHex||!1;var Su=Kt[Ze].encoding;Su!=="WinAnsiEncoding"&&Su!=="StandardEncoding"||(L=_o(L,(function(un,an,Un){return[JA(un),an,Un]}))),jt=wo(L),L=[];for(var hi,Pa,As,_l=0,qi=1,Bl=Array.isArray(jt[0])?qi:_l,So="",Nu=function(un,an,Un){var Rn="";return Un instanceof Ft?(Un=typeof ke.angle=="number"?mr(Un,new Ft(1,0,0,1,un,an)):mr(new Ft(1,0,0,1,un,an),Un),N===S.ADVANCED&&(Un=mr(new Ft(1,0,0,-1,0,0),Un)),Rn=Un.join(" ")+` Tm
`):Rn=O(un)+" "+O(an)+` Td
`,Rn},Ki=0;Ki<jt.length;Ki++){switch(So="",Bl){case qi:As=(cs?"<":"(")+jt[Ki][0]+(cs?">":")"),hi=parseFloat(jt[Ki][1]),Pa=parseFloat(jt[Ki][2]);break;case _l:As=(cs?"<":"(")+jt[Ki]+(cs?">":")"),hi=Hi(te),Pa=xo(be)}Bo!==void 0&&Bo[Ki]!==void 0&&(So=Bo[Ki]+` Tw
`),Ki===0?L.push(So+Nu(hi,Pa,kn)+As):Bl===_l?L.push(So+As):Bl===qi&&L.push(So+Nu(hi,Pa,kn)+As)}L=Bl===_l?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var No=`BT
/`;return No+=Ze+" "+He+` Tf
`,No+=O(He*ji)+` TL
`,No+=lc+`
`,No+=ha,No+=L,Z(No+="ET"),p[Ze]=!0,Pn};var Ef=g.__private__.clip=g.clip=function(L){return Z(L==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Ef("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Z("n"),this};var Ai=g.__private__.isValidStyle=function(L){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(te=!0),te};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(L){return Ai(L)&&(A=L),this};var Qi=g.__private__.getStyle=g.getStyle=function(L){var te=A;switch(L){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=L}return te},du=g.close=function(){return Z("h"),this};g.stroke=function(){return Z("S"),this},g.fill=function(L){return Fs("f",L),this},g.fillEvenOdd=function(L){return Fs("f*",L),this},g.fillStroke=function(L){return Fs("B",L),this},g.fillStrokeEvenOdd=function(L){return Fs("B*",L),this};var Fs=function(L,te){cn(te)==="object"?fu(te,L):Z(L)},Ri=function(L){L===null||N===S.ADVANCED&&L===void 0||(L=Qi(L),Z(L))};function GA(L,te,be,ke,qe){var ut=new am(te||this.boundingBox,be||this.xStep,ke||this.yStep,this.gState,qe||this.matrix);ut.stream=this.stream;var jt=L+"$$"+this.cloneIndex+++"$$";return $r(jt,ut),ut}var fu=function(L,te){var be=Lt[L.key],ke=Ge[be];if(ke instanceof Hd)Z("q"),Z(Tf(te)),ke.gState&&g.setGState(ke.gState),Z(L.matrix.toString()+" cm"),Z("/"+be+" sh"),Z("Q");else if(ke instanceof am){var qe=new Ft(1,0,0,-1,0,bl());L.matrix&&(qe=qe.multiply(L.matrix||Nr),be=GA.call(ke,L.key,L.boundingBox,L.xStep,L.yStep,qe).id),Z("q"),Z("/Pattern cs"),Z("/"+be+" scn"),ke.gState&&g.setGState(ke.gState),Z(te),Z("Q")}},Tf=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},hl=g.moveTo=function(L,te){return Z(O(I(L))+" "+O(H(te))+" m"),this},Ds=g.lineTo=function(L,te){return Z(O(I(L))+" "+O(H(te))+" l"),this},vo=g.curveTo=function(L,te,be,ke,qe,ut){return Z([O(I(L)),O(H(te)),O(I(be)),O(H(ke)),O(I(qe)),O(H(ut)),"c"].join(" ")),this};g.__private__.line=g.line=function(L,te,be,ke,qe){if(isNaN(L)||isNaN(te)||isNaN(be)||isNaN(ke)||!Ai(qe))throw new Error("Invalid arguments passed to jsPDF.line");return N===S.COMPAT?this.lines([[be-L,ke-te]],L,te,[1,1],qe||"S"):this.lines([[be-L,ke-te]],L,te,[1,1]).stroke()},g.__private__.lines=g.lines=function(L,te,be,ke,qe,ut){var jt,Mt,Xt,yr,xr,Or,vn,kn,Pn,Qn,ha,cs;if(typeof L=="number"&&(cs=be,be=te,te=L,L=cs),ke=ke||[1,1],ut=ut||!1,isNaN(te)||isNaN(be)||!Array.isArray(L)||!Array.isArray(ke)||!Ai(qe)||typeof ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hl(te,be),jt=ke[0],Mt=ke[1],yr=L.length,Qn=te,ha=be,Xt=0;Xt<yr;Xt++)(xr=L[Xt]).length===2?(Qn=xr[0]*jt+Qn,ha=xr[1]*Mt+ha,Ds(Qn,ha)):(Or=xr[0]*jt+Qn,vn=xr[1]*Mt+ha,kn=xr[2]*jt+Qn,Pn=xr[3]*Mt+ha,Qn=xr[4]*jt+Qn,ha=xr[5]*Mt+ha,vo(Or,vn,kn,Pn,Qn,ha));return ut&&du(),Ri(qe),this},g.path=function(L){for(var te=0;te<L.length;te++){var be=L[te],ke=be.c;switch(be.op){case"m":hl(ke[0],ke[1]);break;case"l":Ds(ke[0],ke[1]);break;case"c":vo.apply(this,ke);break;case"h":du()}}return this},g.__private__.rect=g.rect=function(L,te,be,ke,qe){if(isNaN(L)||isNaN(te)||isNaN(be)||isNaN(ke)||!Ai(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return N===S.COMPAT&&(ke=-ke),Z([O(I(L)),O(H(te)),O(I(be)),O(I(ke)),"re"].join(" ")),Ri(qe),this},g.__private__.triangle=g.triangle=function(L,te,be,ke,qe,ut,jt){if(isNaN(L)||isNaN(te)||isNaN(be)||isNaN(ke)||isNaN(qe)||isNaN(ut)||!Ai(jt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-L,ke-te],[qe-be,ut-ke],[L-qe,te-ut]],L,te,[1,1],jt,!0),this},g.__private__.roundedRect=g.roundedRect=function(L,te,be,ke,qe,ut,jt){if(isNaN(L)||isNaN(te)||isNaN(be)||isNaN(ke)||isNaN(qe)||isNaN(ut)||!Ai(jt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mt=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*be),ut=Math.min(ut,.5*ke),this.lines([[be-2*qe,0],[qe*Mt,0,qe,ut-ut*Mt,qe,ut],[0,ke-2*ut],[0,ut*Mt,-qe*Mt,ut,-qe,ut],[2*qe-be,0],[-qe*Mt,0,-qe,-ut*Mt,-qe,-ut],[0,2*ut-ke],[0,-ut*Mt,qe*Mt,-ut,qe,-ut]],L+qe,te,[1,1],jt,!0),this},g.__private__.ellipse=g.ellipse=function(L,te,be,ke,qe){if(isNaN(L)||isNaN(te)||isNaN(be)||isNaN(ke)||!Ai(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ut=4/3*(Math.SQRT2-1)*be,jt=4/3*(Math.SQRT2-1)*ke;return hl(L+be,te),vo(L+be,te-jt,L+ut,te-ke,L,te-ke),vo(L-ut,te-ke,L-be,te-jt,L-be,te),vo(L-be,te+jt,L-ut,te+ke,L,te+ke),vo(L+ut,te+ke,L+be,te+jt,L+be,te),Ri(qe),this},g.__private__.circle=g.circle=function(L,te,be,ke){if(isNaN(L)||isNaN(te)||isNaN(be)||!Ai(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,te,be,be,ke)},g.setFont=function(L,te,be){return be&&(te=T(te,be)),Ze=Tr(L,te,{disableWarning:!1}),this};var La=g.__private__.getFont=g.getFont=function(){return Kt[Tr.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var L,te,be={};for(L in nr)if(nr.hasOwnProperty(L))for(te in be[L]=[],nr[L])nr[L].hasOwnProperty(te)&&be[L].push(te);return be},g.addFont=function(L,te,be,ke,qe){var ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ut.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&ut.indexOf(arguments[3])==-1&&(be=T(be,ke)),qe=qe||"Identity-H",Me.call(this,L,te,be,qe)};var Ci,ml=e.lineWidth||.200025,Ls=g.__private__.getLineWidth=g.getLineWidth=function(){return ml},Of=g.__private__.setLineWidth=g.setLineWidth=function(L){return ml=L,Z(O(I(L))+" w"),this};g.__private__.setLineDash=lr.API.setLineDash=lr.API.setLineDashPattern=function(L,te){if(L=L||[],te=te||0,isNaN(te)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map((function(be){return O(I(be))})).join(" "),te=O(I(te)),Z("["+L+"] "+te+" d"),this};var hu=g.__private__.getLineHeight=g.getLineHeight=function(){return He*Ci};g.__private__.getLineHeight=g.getLineHeight=function(){return He*Ci};var mu=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Ci=L),this},pl=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ci};mu(e.lineHeight);var Hi=g.__private__.getHorizontalCoordinate=function(L){return I(L)},xo=g.__private__.getVerticalCoordinate=function(L){return N===S.ADVANCED?L:mt[$].mediaBox.topRightY-mt[$].mediaBox.bottomLeftY-I(L)},Bp=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(L){return O(Hi(L))},gl=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(L){return O(xo(L))},ls=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return da(ls)},g.__private__.setStrokeColor=g.setDrawColor=function(L,te,be,ke){return ls=fa({ch1:L,ch2:te,ch3:be,ch4:ke,pdfColorType:"draw",precision:2}),Z(ls),this};var oc=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return da(oc)},g.__private__.setFillColor=g.setFillColor=function(L,te,be,ke){return oc=fa({ch1:L,ch2:te,ch3:be,ch4:ke,pdfColorType:"fill",precision:2}),Z(oc),this};var lc=e.textColor||"0 g",Sp=g.__private__.getTextColor=g.getTextColor=function(){return da(lc)};g.__private__.setTextColor=g.setTextColor=function(L,te,be,ke){return lc=fa({ch1:L,ch2:te,ch3:be,ch4:ke,pdfColorType:"text",precision:3}),this};var pu=e.charSpace,Np=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(pu||0)};g.__private__.setCharSpace=g.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return pu=L,this};var VA=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(L){var te=g.CapJoinStyles[L];if(te===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return VA=te,Z(te+" J"),this};var gu=0;g.__private__.setLineJoin=g.setLineJoin=function(L){var te=g.CapJoinStyles[L];if(te===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gu=te,Z(te+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(O(I(L))+" M"),this},g.GState=jw,g.setGState=function(L){(L=typeof L=="string"?Ot[Le[L]]:If(null,L)).equals(ot)||(Z("/"+L.id+" gs"),ot=L)};var If=function(L,te){if(!L||!Le[L]){var be=!1;for(var ke in Ot)if(Ot.hasOwnProperty(ke)&&Ot[ke].equals(te)){be=!0;break}if(be)te=Ot[ke];else{var qe="GS"+(Object.keys(Ot).length+1).toString(10);Ot[qe]=te,te.id=qe}return L&&(Le[L]=te.id),It.publish("addGState",te),te}};g.addGState=function(L,te){return If(L,te),this},g.saveGraphicsState=function(){return Z("q"),wr.push({key:Ze,size:He,color:lc}),this},g.restoreGraphicsState=function(){Z("Q");var L=wr.pop();return Ze=L.key,He=L.size,lc=L.color,ot=null,this},g.setCurrentTransformationMatrix=function(L){return Z(L.toString()+" cm"),this},g.comment=function(L){return Z("#"+L),this};var bu=function(L,te){var be=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(ut){isNaN(ut)||(be=parseFloat(ut))}});var ke=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(ut){isNaN(ut)||(ke=parseFloat(ut))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(ut){qe=ut.toString()}}),this},WA=function(L,te,be,ke){bu.call(this,L,te),this.type="rect";var qe=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(jt){isNaN(jt)||(qe=parseFloat(jt))}});var ut=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ut},set:function(jt){isNaN(jt)||(ut=parseFloat(jt))}}),this},YA=function(){this.page=ht,this.currentPage=$,this.pages=$e.slice(0),this.pagesContext=mt.slice(0),this.x=$t,this.y=Ht,this.matrix=Vt,this.width=cc($),this.height=bl($),this.outputDestination=ze,this.id="",this.objectNumber=-1};YA.prototype.restore=function(){ht=this.page,$=this.currentPage,mt=this.pagesContext,$e=this.pages,$t=this.x,Ht=this.y,Vt=this.matrix,xu($,this.width),XA($,this.height),ze=this.outputDestination};var yu=function(L,te,be,ke,qe){jr.push(new YA),ht=$=0,$e=[],$t=L,Ht=te,Vt=qe,Ct([be,ke])},Cp=function(L){if(Pt[L])jr.pop().restore();else{var te=new YA,be="Xo"+(Object.keys(Et).length+1).toString(10);te.id=be,Pt[L]=be,Et[be]=te,It.publish("addFormObject",te),jr.pop().restore()}};for(var vu in g.beginFormObject=function(L,te,be,ke,qe){return yu(L,te,be,ke,qe),this},g.endFormObject=function(L){return Cp(L),this},g.doFormObject=function(L,te){var be=Et[Pt[L]];return Z("q"),Z(te.toString()+" cm"),Z("/"+be.id+" Do"),Z("Q"),this},g.getFormObject=function(L){var te=Et[Pt[L]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},g.save=function(L,te){return L=L||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Ld(Is(ss()),L),typeof Ld.unload=="function"&&dr.setTimeout&&setTimeout(Ld.unload,911),this):new Promise((function(be,ke){try{var qe=Ld(Is(ss()),L);typeof Ld.unload=="function"&&dr.setTimeout&&setTimeout(Ld.unload,911),be(qe)}catch(ut){ke(ut.message)}}))},lr.API)lr.API.hasOwnProperty(vu)&&(vu==="events"&&lr.API.events.length?(function(L,te){var be,ke,qe;for(qe=te.length-1;qe!==-1;qe--)be=te[qe][0],ke=te[qe][1],L.subscribe.apply(L,[be].concat(typeof ke=="function"?[ke]:ke))})(It,lr.API.events):g[vu]=lr.API[vu]);var cc=g.getPageWidth=function(L){return(mt[L=L||$].mediaBox.topRightX-mt[L].mediaBox.bottomLeftX)/rt},xu=g.setPageWidth=function(L,te){mt[L].mediaBox.topRightX=te*rt+mt[L].mediaBox.bottomLeftX},bl=g.getPageHeight=function(L){return(mt[L=L||$].mediaBox.topRightY-mt[L].mediaBox.bottomLeftY)/rt},XA=g.setPageHeight=function(L,te){mt[L].mediaBox.topRightY=te*rt+mt[L].mediaBox.bottomLeftY};return g.internal={pdfEscape:yt,getStyle:Qi,getFont:La,getFontSize:ge,getCharSpace:Np,getTextColor:Sp,getLineHeight:hu,getLineHeightFactor:pl,getLineWidth:Ls,write:Ke,getHorizontalCoordinate:Hi,getVerticalCoordinate:xo,getCoordinateString:Bp,getVerticalCoordinateString:gl,collections:{},newObject:ur,newAdditionalObject:ho,newObjectDeferred:yn,newObjectDeferredBegin:Ya,getFilters:Ua,putStream:Jn,events:It,scaleFactor:rt,pageSize:{getWidth:function(){return cc($)},setWidth:function(L){xu($,L)},getHeight:function(){return bl($)},setHeight:function(L){XA($,L)}},encryptionOptions:f,encryption:zn,getEncryptor:os,output:Us,getNumberOfPages:Er,pages:$e,out:Z,f2:q,f3:U,getPageInfo:yo,getPageInfoByObjId:fr,getCurrentPageInfo:zA,getPDFVersion:b,Point:bu,Rectangle:WA,Matrix:Ft,hasHotfix:fl},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return cc($)},set:function(L){xu($,L)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return bl($)},set:function(L){XA($,L)},enumerable:!0,configurable:!0}),Ie.call(g,ye),Ze="F1",Tt(a,r),It.publish("initialized"),g}zh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},zh.prototype.toHexString=function(e){return e.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},zh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},zh.prototype.processOwnerPassword=function(e,t){return _4(w4(t).substr(0,5),e)},zh.prototype.encryptor=function(e,t){var r=w4(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return _4(r,n)}},jw.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||cn(e)!==cn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},lr.API={events:[]},lr.version="2.5.1";var Yn=lr.API,r3=1,Cf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Th=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vr=function(e){return e.toFixed(2)},eA=function(e){return e.toFixed(5)};Yn.__acroform__={};var ns=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},N8=function(e){return e*r3},Ql=function(e){var t=new uV,r=Yt.internal.getHeight(e)||0,n=Yt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(vr(n)),Number(vr(r))],t},A5e=Yn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},d5e=Yn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},f5e=Yn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},la=Yn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return f5e(e,t-1)},ca=Yn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return A5e(e,t-1)},ua=Yn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return d5e(e,t-1)},h5e=Yn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(vr(c.lowerLeft_X)),Number(vr(c.lowerLeft_Y)),Number(vr(c.upperRight_X)),Number(vr(c.upperRight_Y))]},m5e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=B4(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+vr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ql(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},B4=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map((function(U){return U.split(`
`)})):a.map((function(U){return[U]}));var i=r,s=Yt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Yt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(U,I,Q){if(U+1<a.length){var H=I+" "+a[U+1][0];return h0(H,e,Q).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var A,f,h=h0("3",e,i).height,p=e.multiline?s-i:(s-h)/2,g=p+=2,v=0,b=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+h0(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var w="",S=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var k=!1;if(a[N].length!==1&&x!==a[N].length-1){if((h+2)*(S+2)+2>s)continue e;w+=a[N][x],k=!0,b=N,N--}else{w=(w+=a[N][x]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var C=parseInt(N),T=c(C,w,i),O=N>=a.length-1;if(T&&!O){w+=" ",x=0;continue}if(T||O){if(O)b=C;else if(e.multiline&&(h+2)*(S+2)+2>s)continue e}else{if(!e.multiline||(h+2)*(S+2)+2>s)continue e;b=C}}for(var D="",R=v;R<=b;R++){var q=a[R];if(e.multiline){if(R===b){D+=q[x]+" ",x=(x+1)%q.length;continue}if(R===v){D+=q[q.length-1]+" ";continue}}D+=q[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,f=h0(D,e,i).width,e.textAlign){case"right":A=o-f-2;break;case"center":A=(o-f)/2;break;case"left":default:A=2}t+=vr(A)+" "+vr(g)+` Td
`,t+="("+Cf(D)+`) Tj
`,t+=-vr(A)+` 0 Td
`,g=-(i+2),f=0,v=k?b:b+1,S++,w=""}break}return n.text=t,n.fontSize=i,n},h0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},p5e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},g5e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find((function(n){return n.type===r.type&&n.object===r.object}))===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},b5e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),cn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},y5e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ol.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(p5e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new AV,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)})),e.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&g5e(i,r)}})(e)})),e.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)})),e.internal.events.subscribe("postPutPages",(function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],A=o.Rect;if(o.Rect&&(o.Rect=h5e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Yt.createDefaultAppearanceStream(o),cn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=A,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=m5e(o);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var g=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var v=g[s];typeof v=="function"&&(v=v.call(a,o)),h+="/"+s+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(a,o)),h+="/"+s+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}i&&b5e(a.internal.acroformPlugin.xForms,a)})(r,e)})),e.internal.acroformPlugin.isInitialized=!0}},cV=Yn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),cn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Cf(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gC=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Cf(n(e))+")"},Gl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gl.prototype.toString=function(){return this.objId+" 0 R"},Gl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Gl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:cV(a,this.objId,this.scope)}):a instanceof Gl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var uV=function(){Gl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ns(uV,Gl);var AV=function(){Gl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Cf(r(e))+")"}},set:function(r){e=r}})};ns(AV,Gl);var ol=function e(){Gl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!la(t,3)},set:function(w){w?this.F=ca(t,3):this.F=ua(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof kw)return;i="FieldObject"+e.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Cf(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/r3:A},set:function(w){A=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof kw||this instanceof rf))return gC(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ga?p:gC(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof Ga?w:w.substr(0,1)==="("?Th(w.substr(1,w.length-2)):Th(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga?Th(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Ga?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ga?g:gC(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof Ga?w:w.substr(0,1)==="("?Th(w.substr(1,w.length-2)):Th(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga?Th(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Ga?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(w){w=!!w,b=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,1)},set:function(w){w?this.Ff=ca(this.Ff,1):this.Ff=ua(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,2)},set:function(w){w?this.Ff=ca(this.Ff,2):this.Ff=ua(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,3)},set:function(w){w?this.Ff=ca(this.Ff,3):this.Ff=ua(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');x=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(x){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};ns(ol,Gl);var gm=function(){ol.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cV(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,s,o){o||(o=1);for(var c,A=[];c=s.exec(i);)A.push(c[o]);return A})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,18)},set:function(r){r?this.Ff=ca(this.Ff,18):this.Ff=ua(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ca(this.Ff,19):this.Ff=ua(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,20)},set:function(r){r?(this.Ff=ca(this.Ff,20),t.sort()):this.Ff=ua(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,22)},set:function(r){r?this.Ff=ca(this.Ff,22):this.Ff=ua(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,23)},set:function(r){r?this.Ff=ca(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,27)},set:function(r){r?this.Ff=ca(this.Ff,27):this.Ff=ua(this.Ff,27)}}),this.hasAppearanceStream=!1};ns(gm,ol);var bm=function(){gm.call(this),this.fontName="helvetica",this.combo=!1};ns(bm,gm);var ym=function(){bm.call(this),this.combo=!0};ns(ym,bm);var tx=function(){ym.call(this),this.edit=!0};ns(tx,ym);var Ga=function(){ol.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,15)},set:function(r){r?this.Ff=ca(this.Ff,15):this.Ff=ua(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,16)},set:function(r){r?this.Ff=ca(this.Ff,16):this.Ff=ua(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,17)},set:function(r){r?this.Ff=ca(this.Ff,17):this.Ff=ua(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,26)},set:function(r){r?this.Ff=ca(this.Ff,26):this.Ff=ua(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Cf(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){cn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ns(Ga,ol);var rx=function(){Ga.call(this),this.pushButton=!0};ns(rx,Ga);var vm=function(){Ga.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ns(vm,Ga);var kw=function(){var e,t;ol.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Cf(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){cn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ns(kw,ol),vm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},vm.prototype.createOption=function(e){var t=new kw;return t.Parent=this,t.optionName=e,this.Kids.push(t),v5e.call(this.scope,t),t};var nx=function(){Ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Yt.CheckBox.createAppearanceStream()};ns(nx,Ga);var rf=function(){ol.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,13)},set:function(t){t?this.Ff=ca(this.Ff,13):this.Ff=ua(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,21)},set:function(t){t?this.Ff=ca(this.Ff,21):this.Ff=ua(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,23)},set:function(t){t?this.Ff=ca(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,24)},set:function(t){t?this.Ff=ca(this.Ff,24):this.Ff=ua(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,25)},set:function(t){t?this.Ff=ca(this.Ff,25):this.Ff=ua(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,26)},set:function(t){t?this.Ff=ca(this.Ff,26):this.Ff=ua(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ns(rf,ol);var ax=function(){rf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,14)},set:function(e){e?this.Ff=ca(this.Ff,14):this.Ff=ua(this.Ff,14)}}),this.password=!0};ns(ax,rf);var Yt={CheckBox:{createAppearanceStream:function(){return{N:{On:Yt.CheckBox.YesNormal},D:{On:Yt.CheckBox.YesPushDown,Off:Yt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ql(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=B4(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+vr(Yt.internal.getWidth(e))+" "+vr(Yt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+vr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ql(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Yt.internal.getHeight(e),s=Yt.internal.getWidth(e),o=B4(e,e.caption);return a.push("1 g"),a.push("0 0 "+vr(s)+" "+vr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+vr(s-1)+" "+vr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+vr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ql(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vr(Yt.internal.getWidth(e))+" "+vr(Yt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Yt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Yt.RadioButton.Circle.YesNormal,t.D[e]=Yt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ql(e);t.scope=e.scope;var r=[],n=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Yt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+eA(Yt.internal.getWidth(e)/2)+" "+eA(Yt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ql(e);t.scope=e.scope;var r=[],n=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Yt.internal.Bezier_C).toFixed(5)),s=Number((n*Yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+eA(Yt.internal.getWidth(e)/2)+" "+eA(Yt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+eA(Yt.internal.getWidth(e)/2)+" "+eA(Yt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ql(e);t.scope=e.scope;var r=[],n=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+eA(Yt.internal.getWidth(e)/2)+" "+eA(Yt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Yt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Yt.RadioButton.Cross.YesNormal,t.D[e]=Yt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ql(e);t.scope=e.scope;var r=[],n=Yt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+vr(Yt.internal.getWidth(e)-2)+" "+vr(Yt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(vr(n.x1.x)+" "+vr(n.x1.y)+" m"),r.push(vr(n.x2.x)+" "+vr(n.x2.y)+" l"),r.push(vr(n.x4.x)+" "+vr(n.x4.y)+" m"),r.push(vr(n.x3.x)+" "+vr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ql(e);t.scope=e.scope;var r=Yt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+vr(Yt.internal.getWidth(e))+" "+vr(Yt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+vr(Yt.internal.getWidth(e)-2)+" "+vr(Yt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(vr(r.x1.x)+" "+vr(r.x1.y)+" m"),n.push(vr(r.x2.x)+" "+vr(r.x2.y)+" l"),n.push(vr(r.x4.x)+" "+vr(r.x4.y)+" m"),n.push(vr(r.x3.x)+" "+vr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ql(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vr(Yt.internal.getWidth(e))+" "+vr(Yt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Yt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Yt.internal.getWidth(e),r=Yt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Yt.internal.getWidth=function(e){var t=0;return cn(e)==="object"&&(t=N8(e.Rect[2])),t},Yt.internal.getHeight=function(e){var t=0;return cn(e)==="object"&&(t=N8(e.Rect[3])),t};var v5e=Yn.addField=function(e){if(y5e(this,e),!(e instanceof ol))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Yn.AcroFormChoiceField=gm,Yn.AcroFormListBox=bm,Yn.AcroFormComboBox=ym,Yn.AcroFormEditBox=tx,Yn.AcroFormButton=Ga,Yn.AcroFormPushButton=rx,Yn.AcroFormRadioButton=vm,Yn.AcroFormCheckBox=nx,Yn.AcroFormTextField=rf,Yn.AcroFormPasswordField=ax,Yn.AcroFormAppearance=Yt,Yn.AcroForm={ChoiceField:gm,ListBox:bm,ComboBox:ym,EditBox:tx,Button:Ga,PushButton:rx,RadioButton:vm,CheckBox:nx,TextField:rf,PasswordField:ax,Appearance:Yt},lr.AcroForm={ChoiceField:gm,ListBox:bm,ComboBox:ym,EditBox:tx,Button:Ga,PushButton:rx,RadioButton:vm,CheckBox:nx,TextField:rf,PasswordField:ax,Appearance:Yt};lr.AcroForm;function dV(e){return e.reduce((function(t,r,n){return t[r]=n,t}),{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(U,I){var Q,H,Y,K,J,re=t;if((I=I||t)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(T(U))for(J in r)for(Y=r[J],Q=0;Q<Y.length;Q+=1){for(K=!0,H=0;H<Y[Q].length;H+=1)if(Y[Q][H]!==void 0&&Y[Q][H]!==U[H]){K=!1;break}if(K===!0){re=J;break}}else for(J in r)for(Y=r[J],Q=0;Q<Y.length;Q+=1){for(K=!0,H=0;H<Y[Q].length;H+=1)if(Y[Q][H]!==void 0&&Y[Q][H]!==U.charCodeAt(H)){K=!1;break}if(K===!0){re=J;break}}return re===t&&I!==t&&(re=I),re},a=function U(I){for(var Q=this.internal.write,H=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:I.width}),K.push({key:"Height",value:I.height}),I.colorSpace===x.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===x.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var J="",re=0,oe=I.transparency.length;re<oe;re++)J+=I.transparency[re]+" "+I.transparency[re]+" ";K.push({key:"Mask",value:"["+J+"]"})}I.sMask!==void 0&&K.push({key:"SMask",value:I.objectId+1+" 0 R"});var V=I.filter!==void 0?["/"+I.filter]:void 0;if(H({data:I.data,additionalKeyValues:K,alreadyAppliedFilters:V,objectId:I.objectId}),Q("endobj"),"sMask"in I&&I.sMask!==void 0){var W="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,P={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:W,data:I.sMask};"filter"in I&&(P.filter=I.filter),U.call(this,P)}if(I.colorSpace===x.INDEXED){var $=this.internal.newObject();H({data:D(new Uint8Array(I.palette)),objectId:$}),Q("endobj")}},i=function(){var U=this.internal.collections.addImage_images;for(var I in U)a.call(this,U[I])},s=function(){var U,I=this.internal.collections.addImage_images,Q=this.internal.write;for(var H in I)Q("/I"+(U=I[H]).index,U.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var U=this.internal.collections.addImage_images;return o.call(this),U},A=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(U){return typeof e["process"+U.toUpperCase()]=="function"},h=function(U){return cn(U)==="object"&&U.nodeType===1},p=function(U,I){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var Q=""+U.getAttribute("src");if(Q.indexOf("data:image/")===0)return cb(unescape(Q).split("base64,").pop());var H=e.loadFile(Q,!0);if(H!==void 0)return H}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var Y;switch(I){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;case"JPEG":case"JPG":default:Y="image/jpeg"}return cb(U.toDataURL(Y,1).split("base64,").pop())}},g=function(U){var I=this.internal.collections.addImage_images;if(I){for(var Q in I)if(U===I[Q].alias)return I[Q]}},v=function(U,I,Q){return U||I||(U=-96,I=-96),U<0&&(U=-1*Q.width*72/U/this.internal.scaleFactor),I<0&&(I=-1*Q.height*72/I/this.internal.scaleFactor),U===0&&(U=I*Q.width/Q.height),I===0&&(I=U*Q.height/Q.width),[U,I]},b=function(U,I,Q,H,Y,K){var J=v.call(this,Q,H,Y),re=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,V=c.call(this);if(Q=J[0],H=J[1],V[Y.index]=Y,K){K*=Math.PI/180;var W=Math.cos(K),P=Math.sin(K),$=function(ne){return ne.toFixed(4)},G=[$(W),$(P),$(-1*P),$(W),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,re(U),oe(I+H),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([re(Q),"0","0",re(H),"0","0","cm"].join(" "))):this.internal.write([re(Q),"0","0",re(H),re(U),oe(I+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(U){var I,Q,H=0;if(typeof U=="string")for(Q=U.length,I=0;I<Q;I++)H=(H<<5)-H+U.charCodeAt(I),H|=0;else if(T(U))for(Q=U.byteLength/2,I=0;I<Q;I++)H=(H<<5)-H+U[I],H|=0;return H},N=e.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var I=!0;return U.length===0&&(I=!1),U.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(I=!1),I},k=e.__addimage__.extractImageFromDataUrl=function(U){var I=(U=U||"").split("base64,"),Q=null;if(I.length===2){var H=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(I[0]);Array.isArray(H)&&(Q={mimeType:H[1],charset:H[2],data:I[1]})}return Q},C=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(U){return C()&&U instanceof ArrayBuffer};var T=e.__addimage__.isArrayBufferView=function(U){return C()&&typeof Uint32Array<"u"&&(U instanceof Int8Array||U instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(U){for(var I=U.length,Q=new Uint8Array(I),H=0;H<I;H++)Q[H]=U.charCodeAt(H);return Q},D=e.__addimage__.arrayBufferToBinaryString=function(U){for(var I="",Q=T(U)?U:new Uint8Array(U),H=0;H<Q.length;H+=8192)I+=String.fromCharCode.apply(null,Q.subarray(H,H+8192));return I};e.addImage=function(){var U,I,Q,H,Y,K,J,re,oe;if(typeof arguments[1]=="number"?(I=t,Q=arguments[1],H=arguments[2],Y=arguments[3],K=arguments[4],J=arguments[5],re=arguments[6],oe=arguments[7]):(I=arguments[1],Q=arguments[2],H=arguments[3],Y=arguments[4],K=arguments[5],J=arguments[6],re=arguments[7],oe=arguments[8]),cn(U=arguments[0])==="object"&&!h(U)&&"imageData"in U){var V=U;U=V.imageData,I=V.format||I||t,Q=V.x||Q||0,H=V.y||H||0,Y=V.w||V.width||Y,K=V.h||V.height||K,J=V.alias||J,re=V.compression||re,oe=V.rotation||V.angle||oe}var W=this.internal.getFilters();if(re===void 0&&W.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(Q)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var P=R.call(this,U,I,J,re);return b.call(this,Q,H,Y,K,P,oe),this};var R=function(U,I,Q,H){var Y,K,J;if(typeof U=="string"&&n(U)===t){U=unescape(U);var re=q(U,!1);(re!==""||(re=e.loadFile(U,!0))!==void 0)&&(U=re)}if(h(U)&&(U=p(U,I)),I=n(U,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((J=Q)==null||J.length===0)&&(Q=(function(oe){return typeof oe=="string"||T(oe)?S(oe):T(oe.data)?S(oe.data):null})(U)),(Y=g.call(this,Q))||(C()&&(U instanceof Uint8Array||I==="RGBA"||(K=U,U=O(U))),Y=this["process"+I.toUpperCase()](U,A.call(this),Q,(function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in e.image_compression?oe:w.NONE})(H),K)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},q=e.__addimage__.convertBase64ToBinaryString=function(U,I){var Q;I=typeof I!="boolean"||I;var H,Y="";if(typeof U=="string"){H=(Q=k(U))!==null?Q.data:U;try{Y=cb(H)}catch(K){if(I)throw N(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};e.getImageProperties=function(U){var I,Q,H="";if(h(U)&&(U=p(U)),typeof U=="string"&&n(U)===t&&((H=q(U,!1))===""&&(H=e.loadFile(U)||""),U=H),Q=n(U),!f(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!C()||U instanceof Uint8Array||(U=O(U)),!(I=this["process"+Q.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=Q,I}})(lr.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};lr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),A=r.pageContext.annotations,f=!1,h=0;h<A.length&&!f;h++)switch((n=A[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var p=0;p<A.length;p++){n=A[p];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(b.objId),S=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+g(w(S))+") >>",b.content=i;var N=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(b.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var T=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+T+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:A(n),w:c(r+a),h:A(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,c=this.getTextWidth(r),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var f=this.splitTextToSize(r,o).length;s=Math.ceil(A*f)}else o=c,s=A;return this.text(r,n,a,i),a+=.2*A,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-A,o,s,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(lr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=e.__arabicParser__.isArabicEndLetter=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(b){return s(b)&&a.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(b){var x=0,w=r,S="",N=0;for(x=0;x<b.length;x+=1)w[b.charCodeAt(x)]!==void 0?(N++,typeof(w=w[b.charCodeAt(x)])=="number"&&(S+=String.fromCharCode(w),w=r,N=0),x===b.length-1&&(w=r,S+=b.charAt(x-(N-1)),x-=N-1,N=0)):(w=r,S+=b.charAt(x-N),x-=N,N=0);return S};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(b,x,w){return s(b)?i(b)===!1?-1:!A(b)||!s(x)&&!s(w)||!s(w)&&o(x)||o(b)&&!s(x)||o(b)&&c(x)||o(b)&&o(x)?0:f(b)&&s(x)&&!o(x)&&s(w)&&A(w)?3:o(b)||!s(w)?1:2:-1},g=function(b){var x=0,w=0,S=0,N="",k="",C="",T=(b=b||"").split("\\s+"),O=[];for(x=0;x<T.length;x+=1){for(O.push(""),w=0;w<T[x].length;w+=1)N=T[x][w],k=T[x][w-1],C=T[x][w+1],s(N)?(S=p(N,k,C),O[x]+=S!==-1?String.fromCharCode(t[N.charCodeAt(0)][S]):N):O[x]+=N;O[x]=h(O[x])}return O.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var b,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(x)){var S=0;for(w=[],S=0;S<x.length;S+=1)Array.isArray(x[S])?w.push([g(x[S][0]),x[S][1],x[S][2]]):w.push([g(x[S])]);b=w}else b=g(x);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",v])})(lr.API),lr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(lr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(b){A=b}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,A){n.call(this);var f=(A=A||{}).fontSize||this.getFontSize(),h=A.font||this.getFont(),p=A.scaleFactor||this.internal.scaleFactor,g=0,v=0,b=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=A.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(N,k){return N.concat(x.splitTextToSize(k,w))}),[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)g<(b=this.getStringUnitWidth(c[S],{font:h})*f)&&(g=b);return g!==0&&(v=c.length),{w:g/=p,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var A=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===c.lineNumber?(c.x=(A.x||0)+(A.width||0),c.y=A.y||0):A.y+A.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,g&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=A.y+A.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,A,f,h,p){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,v,b,x,w=[],S=[],N=[],k={},C={},T=[],O=[],D=(p=p||{}).autoSize||!1,R=p.printHeaders!==!1,q=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,U=p.margins||Object.assign({width:this.getPageWidth()},t),I=typeof p.padding=="number"?p.padding:3,Q=p.headerBackgroundColor||"#c8c8c8",H=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=H,this.setFontSize(q),h==null)S=w=Object.keys(f[0]),N=w.map((function(){return"left"}));else if(Array.isArray(h)&&cn(h[0])==="object")for(w=h.map((function(V){return V.name})),S=h.map((function(V){return V.prompt||V.name||""})),N=h.map((function(V){return V.align||"left"})),g=0;g<h.length;g+=1)C[h[g].name]=h[g].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(S=w=h,N=w.map((function(){return"left"})));if(D||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<w.length;g+=1){for(k[x=w[g]]=f.map((function(V){return V[x]})),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(S[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[x],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)T.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[x]=Math.max.apply(null,T)+I+I,T=[]}if(R){var Y={};for(g=0;g<w.length;g+=1)Y[w[g]]={},Y[w[g]].text=S[g],Y[w[g]].align=N[g];var K=o.call(this,Y,C);O=w.map((function(V){return new i(c,A,C[V],K,Y[V].text,void 0,Y[V].align)})),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var J=h.reduce((function(V,W){return V[W.name]=W.align,V}),{});for(g=0;g<f.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:f[g]},this);var re=o.call(this,f[g],C);for(b=0;b<w.length;b+=1){var oe=f[g][w[b]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:b,data:oe},this),s.call(this,new i(c,A,C[w[b]],re,oe,g+2,J[w[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=A,this};var o=function(c,A){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map((function(g){var v=c[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,A[g]-f-f)}),this).map((function(g){return this.getLineHeightFactor()*g.length*h/p+f+f}),this).reduce((function(g,v){return Math.max(g,v)}),0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,A){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),A&&(f.y=this.internal.__cell__.margins.top||0,p.push(f)),f.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(lr.API);var fV={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hV=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],S4=dV(hV),mV=[100,200,300,400,500,600,700,800,900],x5e=dV(mV);function N4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return fV[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(e.weight),a=(function(i){return typeof S4[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function C8(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var w5e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},j8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function k8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function _5e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},w5e,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=N4(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+k8(i)+"' and default family '"+n+"'.");if(s=(function(c,A){if(A[c])return A[c];var f=S4[c],h=f<=S4.normal?-1:1,p=C8(A,hV,f,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+c);return p})(i.stretch,s),s=(function(c,A){if(A[c])return A[c];for(var f=fV[c],h=0;h<f.length;++h)if(A[f[h]])return A[f[h]];throw new Error("Could not find a matching font-style for "+c)})(i.style,s),!(s=(function(c,A){if(A[c])return A[c];if(c===400&&A[500])return A[500];if(c===500&&A[400])return A[400];var f=x5e[c],h=C8(A,mV,f,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h})(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+k8(i)+"'.");return s}function E8(e){return e.trimLeft()}function B5e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function S5e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var m0,T8,O8,bC=["times"];(function(e){var t,r,n,a,i,s,o,c,A,f=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new c,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,A=new f}]);var h=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=P;Object.defineProperty(this,"pdf",{get:function(){return $}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(Se){G=!!Se}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Se){ne=!!Se}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Se){isNaN(Se)||(se=Se)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Se){isNaN(Se)||(ve=Se)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(Se){var Z;typeof Se=="number"?Z=[Se,Se,Se,Se]:((Z=new Array(4))[0]=Se[0],Z[1]=Se.length>=2?Se[1]:Z[0],Z[2]=Se.length>=3?Se[2]:Z[0],Z[3]=Se.length>=4?Se[3]:Z[1]),A.margin=Z}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Se){he=Se}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(Se){fe=Se}});var Qe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Qe},set:function(Se){Qe=Se}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(Se){Se instanceof f&&(A=Se)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(Se){A.path=Se}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(Se){$e=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var Z;Z=p(Se),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var Z=p(Se);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var de=null;function ze(Se,Z){if(de===null){var Ke=(function(st){var ye=[];return Object.keys(st).forEach((function(He){st[He].forEach((function(Ve){var ge=null;switch(Ve){case"bold":ge={family:He,weight:"bold"};break;case"italic":ge={family:He,style:"italic"};break;case"bolditalic":ge={family:He,weight:"bold",style:"italic"};break;case"":case"normal":ge={family:He}}ge!==null&&(ge.ref={name:He,style:Ve},ye.push(ge))}))})),ye})(Se.getFontList());de=(function(st){for(var ye={},He=0;He<st.length;++He){var Ve=N4(st[He]),ge=Ve.family,je=Ve.stretch,we=Ve.style,Xe=Ve.weight;ye[ge]=ye[ge]||{},ye[ge][je]=ye[ge][je]||{},ye[ge][je][we]=ye[ge][je][we]||{},ye[ge][je][we][Xe]=Ve}return ye})(Ke.concat(Z))}return de}var nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(Se){de=null,nt=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var Z;if(this.ctx.font=Se,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var Ke=Z[1],st=(Z[2],Z[3]),ye=Z[4],He=(Z[5],Z[6]),Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ye)[2];ye=Math.floor(Ve==="px"?parseFloat(ye)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(ye)*this.pdf.getFontSize():parseFloat(ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ye);var ge=(function(St){var Ze,rt,$t=[],Ht=St.trim();if(Ht==="")return bC;if(Ht in j8)return[j8[Ht]];for(;Ht!=="";){switch(rt=null,Ze=(Ht=E8(Ht)).charAt(0)){case'"':case"'":rt=B5e(Ht.substring(1),Ze);break;default:rt=S5e(Ht)}if(rt===null||($t.push(rt[0]),(Ht=E8(rt[1]))!==""&&Ht.charAt(0)!==","))return bC;Ht=Ht.replace(/^,/,"")}return $t})(He);if(this.fontFaces){var je=_5e(ze(this.pdf,this.fontFaces),ge.map((function(St){return{family:St,stretch:"normal",weight:st,style:Ke}})));this.pdf.setFont(je.ref.name,je.ref.style)}else{var we="";(st==="bold"||parseInt(st,10)>=700||Ke==="bold")&&(we="bold"),Ke==="italic"&&(we+="italic"),we.length===0&&(we="normal");for(var Xe="",Pe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<ge.length;At++){if(this.pdf.internal.getFont(ge[At],we,{noFallback:!0,disableWarning:!0})!==void 0){Xe=ge[At];break}if(we==="bolditalic"&&this.pdf.internal.getFont(ge[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xe=ge[At],we="bold";else if(this.pdf.internal.getFont(ge[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xe=ge[At],we="normal";break}}if(Xe===""){for(var gt=0;gt<ge.length;gt++)if(Pe[ge[gt]]){Xe=Pe[ge[gt]];break}}Xe=Xe===""?"Times":Xe,this.pdf.setFont(Xe,we)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};h.prototype.setLineDash=function(P){this.lineDash=P},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(P,$){if(isNaN(P)||isNaN($))throw gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new s(P,$));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(P,$)},h.prototype.closePath=function(){var P=new s(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&cn(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){P=new s(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},h.prototype.lineTo=function(P,$){if(isNaN(P)||isNaN($))throw gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new s(P,$));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(P,$,G,ne){if(isNaN(G)||isNaN(ne)||isNaN(P)||isNaN($))throw gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new s(G,ne)),ve=this.ctx.transform.applyToPoint(new s(P,$));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},h.prototype.bezierCurveTo=function(P,$,G,ne,se,ve){if(isNaN(se)||isNaN(ve)||isNaN(P)||isNaN($)||isNaN(G)||isNaN(ne))throw gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new s(se,ve)),fe=this.ctx.transform.applyToPoint(new s(P,$)),Qe=this.ctx.transform.applyToPoint(new s(G,ne));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Qe.x,y2:Qe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},h.prototype.arc=function(P,$,G,ne,se,ve){if(isNaN(P)||isNaN($)||isNaN(G)||isNaN(ne)||isNaN(se))throw gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new s(P,$));P=he.x,$=he.y;var fe=this.ctx.transform.applyToPoint(new s(0,G)),Qe=this.ctx.transform.applyToPoint(new s(0,0));G=Math.sqrt(Math.pow(fe.x-Qe.x,2)+Math.pow(fe.y-Qe.y,2))}Math.abs(se-ne)>=2*Math.PI&&(ne=0,se=2*Math.PI),this.path.push({type:"arc",x:P,y:$,radius:G,startAngle:ne,endAngle:se,counterclockwise:ve})},h.prototype.arcTo=function(P,$,G,ne,se){throw new Error("arcTo not implemented.")},h.prototype.rect=function(P,$,G,ne){if(isNaN(P)||isNaN($)||isNaN(G)||isNaN(ne))throw gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,$),this.lineTo(P+G,$),this.lineTo(P+G,$+ne),this.lineTo(P,$+ne),this.lineTo(P,$),this.lineTo(P+G,$),this.lineTo(P,$)},h.prototype.fillRect=function(P,$,G,ne){if(isNaN(P)||isNaN($)||isNaN(G)||isNaN(ne))throw gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,$,G,ne),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},h.prototype.strokeRect=function(P,$,G,ne){if(isNaN(P)||isNaN($)||isNaN(G)||isNaN(ne))throw gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(P,$,G,ne),this.stroke())},h.prototype.clearRect=function(P,$,G,ne){if(isNaN(P)||isNaN($)||isNaN(G)||isNaN(ne))throw gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,$,G,ne))},h.prototype.save=function(P){P=typeof P!="boolean"||P;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage($),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},h.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage($),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(P){var $,G,ne,se;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))$=0,G=0,ne=0,se=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ve!==null)$=parseInt(ve[1]),G=parseInt(ve[2]),ne=parseInt(ve[3]),se=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)$=parseInt(ve[1]),G=parseInt(ve[2]),ne=parseInt(ve[3]),se=parseFloat(ve[4]);else{if(se=1,typeof P=="string"&&P.charAt(0)!=="#"){var he=new sV(P);P=he.ok?he.toHex():"#000000"}P.length===4?($=P.substring(1,2),$+=$,G=P.substring(2,3),G+=G,ne=P.substring(3,4),ne+=ne):($=P.substring(1,3),G=P.substring(3,5),ne=P.substring(5,7)),$=parseInt($,16),G=parseInt(G,16),ne=parseInt(ne,16)}}return{r:$,g:G,b:ne,a:se,style:P}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(P,$,G,ne){if(isNaN($)||isNaN(G)||typeof P!="string")throw gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!g.call(this)){var se=re(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;I.call(this,{text:P,x:$,y:G,scale:ve,angle:se,align:this.textAlign,maxWidth:ne})}},h.prototype.strokeText=function(P,$,G,ne){if(isNaN($)||isNaN(G)||typeof P!="string")throw gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ne=isNaN(ne)?void 0:ne;var se=re(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;I.call(this,{text:P,x:$,y:G,scale:ve,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ne})}},h.prototype.measureText=function(P){if(typeof P!="string")throw gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,G=this.pdf.internal.scaleFactor,ne=$.internal.getFontSize(),se=$.getStringUnitWidth(P)*ne/$.internal.scaleFactor,ve=function(he){var fe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new ve({width:se*=Math.round(96*G/72*1e4)/1e4})},h.prototype.scale=function(P,$){if(isNaN(P)||isNaN($))throw gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(P,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.rotate=function(P){if(isNaN(P))throw gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new c(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.translate=function(P,$){if(isNaN(P)||isNaN($))throw gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,P,$);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.transform=function(P,$,G,ne,se,ve){if(isNaN(P)||isNaN($)||isNaN(G)||isNaN(ne)||isNaN(se)||isNaN(ve))throw gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new c(P,$,G,ne,se,ve);this.ctx.transform=this.ctx.transform.multiply(he)},h.prototype.setTransform=function(P,$,G,ne,se,ve){P=isNaN(P)?1:P,$=isNaN($)?0:$,G=isNaN(G)?0:G,ne=isNaN(ne)?1:ne,se=isNaN(se)?0:se,ve=isNaN(ve)?0:ve,this.ctx.transform=new c(P,$,G,ne,se,ve)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(P,$,G,ne,se,ve,he,fe,Qe){var $e=this.pdf.getImageProperties(P),de=1,ze=1,nt=1,Se=1;ne!==void 0&&fe!==void 0&&(nt=fe/ne,Se=Qe/se,de=$e.width/ne*fe/ne,ze=$e.height/se*Qe/se),ve===void 0&&(ve=$,he=G,$=0,G=0),ne!==void 0&&fe===void 0&&(fe=ne,Qe=se),ne===void 0&&fe===void 0&&(fe=$e.width,Qe=$e.height);for(var Z,Ke=this.ctx.transform.decompose(),st=re(Ke.rotate.shx),ye=new c,He=(ye=(ye=(ye=ye.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new o(ve-$*nt,he-G*Se,ne*de,se*ze)),Ve=x.call(this,He),ge=[],je=0;je<Ve.length;je+=1)ge.indexOf(Ve[je])===-1&&ge.push(Ve[je]);if(N(ge),this.autoPaging)for(var we=ge[0],Xe=ge[ge.length-1],Pe=we;Pe<Xe+1;Pe++){this.pdf.setPage(Pe);var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=Pe===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Pe===1?0:St+(Pe-2)*Ze;if(this.ctx.clip_path.length!==0){var $t=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Z,this.posX+this.margin[3],-rt+gt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=$t}var Ht=JSON.parse(JSON.stringify(He));Ht=S([Ht],this.posX+this.margin[3],-rt+gt+this.ctx.prevPageLastElemOffset)[0];var Vt=(Pe>we||Pe<Xe)&&b.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Ze,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Ht.x,Ht.y,Ht.w,Ht.h,null,null,st),Vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",He.x,He.y,He.w,He.h,null,null,st)};var x=function(P,$,G){var ne=[];$=$||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ne.push(Math.floor((P.y+se)/G)+1);break;case"arc":ne.push(Math.floor((P.y+se-P.radius)/G)+1),ne.push(Math.floor((P.y+se+P.radius)/G)+1);break;case"qct":var ve=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ne.push(Math.floor((ve.y+se)/G)+1),ne.push(Math.floor((ve.y+ve.h+se)/G)+1);break;case"bct":var he=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ne.push(Math.floor((he.y+se)/G)+1),ne.push(Math.floor((he.y+he.h+se)/G)+1);break;case"rect":ne.push(Math.floor((P.y+se)/G)+1),ne.push(Math.floor((P.y+P.h+se)/G)+1)}for(var fe=0;fe<ne.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<ne[fe];)w.call(this);return ne},w=function(){var P=this.fillStyle,$=this.strokeStyle,G=this.font,ne=this.lineCap,se=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=$,this.font=G,this.lineCap=ne,this.lineWidth=se,this.lineJoin=ve},S=function(P,$,G){for(var ne=0;ne<P.length;ne++)switch(P[ne].type){case"bct":P[ne].x2+=$,P[ne].y2+=G;case"qct":P[ne].x1+=$,P[ne].y1+=G;case"mt":case"lt":case"arc":default:P[ne].x+=$,P[ne].y+=G}return P},N=function(P){return P.sort((function($,G){return $-G}))},k=function(P,$){for(var G,ne,se=this.fillStyle,ve=this.strokeStyle,he=this.lineCap,fe=this.lineWidth,Qe=Math.abs(fe*this.ctx.transform.scaleX),$e=this.lineJoin,de=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),nt=[],Se=0;Se<ze.length;Se++)if(ze[Se].x!==void 0)for(var Z=x.call(this,ze[Se]),Ke=0;Ke<Z.length;Ke+=1)nt.indexOf(Z[Ke])===-1&&nt.push(Z[Ke]);for(var st=0;st<nt.length;st++)for(;this.pdf.internal.getNumberOfPages()<nt[st];)w.call(this);if(N(nt),this.autoPaging)for(var ye=nt[0],He=nt[nt.length-1],Ve=ye;Ve<He+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=se,this.strokeStyle=ve,this.lineCap=he,this.lineWidth=Qe,this.lineJoin=$e;var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=Ve===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pe=Ve===1?0:we+(Ve-2)*Xe;if(this.ctx.clip_path.length!==0){var At=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(G,this.posX+this.margin[3],-Pe+je+this.ctx.prevPageLastElemOffset),C.call(this,P,!0),this.path=At}if(ne=JSON.parse(JSON.stringify(de)),this.path=S(ne,this.posX+this.margin[3],-Pe+je+this.ctx.prevPageLastElemOffset),$===!1||Ve===0){var gt=(Ve>ye||Ve<He)&&b.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,Xe,null).clip().discardPath()),C.call(this,P,$),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Qe,C.call(this,P,$),this.lineWidth=fe;this.path=de},C=function(P,$){if((P!=="stroke"||$||!v.call(this))&&(P==="stroke"||$||!g.call(this))){for(var G,ne,se=[],ve=this.path,he=0;he<ve.length;he++){var fe=ve[he];switch(fe.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:fe,deltas:[],abs:[]});break;case"lt":var Qe=se.length;if(ve[he-1]&&!isNaN(ve[he-1].x)&&(G=[fe.x-ve[he-1].x,fe.y-ve[he-1].y],Qe>0)){for(;Qe>=0;Qe--)if(se[Qe-1].close!==!0&&se[Qe-1].begin!==!0){se[Qe-1].deltas.push(G),se[Qe-1].abs.push(fe);break}}break;case"bct":G=[fe.x1-ve[he-1].x,fe.y1-ve[he-1].y,fe.x2-ve[he-1].x,fe.y2-ve[he-1].y,fe.x-ve[he-1].x,fe.y-ve[he-1].y],se[se.length-1].deltas.push(G);break;case"qct":var $e=ve[he-1].x+2/3*(fe.x1-ve[he-1].x),de=ve[he-1].y+2/3*(fe.y1-ve[he-1].y),ze=fe.x+2/3*(fe.x1-fe.x),nt=fe.y+2/3*(fe.y1-fe.y),Se=fe.x,Z=fe.y;G=[$e-ve[he-1].x,de-ve[he-1].y,ze-ve[he-1].x,nt-ve[he-1].y,Se-ve[he-1].x,Z-ve[he-1].y],se[se.length-1].deltas.push(G);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(fe)}}ne=$?null:P==="stroke"?"stroke":"fill";for(var Ke=!1,st=0;st<se.length;st++)if(se[st].arc)for(var ye=se[st].abs,He=0;He<ye.length;He++){var Ve=ye[He];Ve.type==="arc"?D.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,$,!Ke):Q.call(this,Ve.x,Ve.y),Ke=!0}else if(se[st].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(se[st].begin!==!0){var ge=se[st].start.x,je=se[st].start.y;H.call(this,se[st].deltas,ge,je),Ke=!0}ne&&R.call(this,ne),$&&q.call(this)}},T=function(P){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-G;case"top":return P+$-G;case"hanging":return P+$-2*G;case"middle":return P+$/2-G;case"ideographic":return P;case"alphabetic":default:return P}},O=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function($,G){this.colorStops.push([$,G])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(P,$,G,ne,se,ve,he,fe,Qe){for(var $e=K.call(this,G,ne,se,ve),de=0;de<$e.length;de++){var ze=$e[de];de===0&&(Qe?U.call(this,ze.x1+P,ze.y1+$):Q.call(this,ze.x1+P,ze.y1+$)),Y.call(this,P,$,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}fe?q.call(this):R.call(this,he)},R=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(P,$){this.pdf.internal.out(r(P)+" "+n($)+" m")},I=function(P){var $;switch(P.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var G=this.pdf.getTextDimensions(P.text),ne=T.call(this,P.y),se=O.call(this,ne)-G.h,ve=this.ctx.transform.applyToPoint(new s(P.x,ne)),he=this.ctx.transform.decompose(),fe=new c;fe=(fe=(fe=fe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Qe,$e,de,ze=this.ctx.transform.applyToRectangle(new o(P.x,ne,G.w,G.h)),nt=fe.applyToRectangle(new o(P.x,se,G.w,G.h)),Se=x.call(this,nt),Z=[],Ke=0;Ke<Se.length;Ke+=1)Z.indexOf(Se[Ke])===-1&&Z.push(Se[Ke]);if(N(Z),this.autoPaging)for(var st=Z[0],ye=Z[Z.length-1],He=st;He<ye+1;He++){this.pdf.setPage(He);var Ve=He===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],we=je-this.margin[0],Xe=this.pdf.internal.pageSize.width-this.margin[1],Pe=Xe-this.margin[3],At=He===1?0:ge+(He-2)*we;if(this.ctx.clip_path.length!==0){var gt=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Qe,this.posX+this.margin[3],-1*At+Ve),C.call(this,"fill",!0),this.path=gt}var St=S([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-At+Ve+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*P.scale),de=this.lineWidth,this.lineWidth=de*P.scale);var Ze=this.autoPaging!=="text";if(Ze||St.y+St.h<=je){if(Ze||St.y>=Ve&&St.x<=Xe){var rt=Ze?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Xe-St.x)[0],$t=S([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-At+Ve+this.ctx.prevPageLastElemOffset)[0],Ht=Ze&&(He>st||He<ye)&&b.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,we,null).clip().discardPath()),this.pdf.text(rt,$t.x,$t.y,{angle:P.angle,align:$,renderingMode:P.renderingMode}),Ht&&this.pdf.restoreGraphicsState()}}else St.y<je&&(this.ctx.prevPageLastElemOffset+=je-St.y);P.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=de)}else P.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*P.scale),de=this.lineWidth,this.lineWidth=de*P.scale),this.pdf.text(P.text,ve.x+this.posX,ve.y+this.posY,{angle:P.angle,align:$,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=de)},Q=function(P,$,G,ne){G=G||0,ne=ne||0,this.pdf.internal.out(r(P+G)+" "+n($+ne)+" l")},H=function(P,$,G){return this.pdf.lines(P,$,G,null,null)},Y=function(P,$,G,ne,se,ve,he,fe){this.pdf.internal.out([t(a(G+P)),t(i(ne+$)),t(a(se+P)),t(i(ve+$)),t(a(he+P)),t(i(fe+$)),"c"].join(" "))},K=function(P,$,G,ne){for(var se=2*Math.PI,ve=Math.PI/2;$>G;)$-=se;var he=Math.abs(G-$);he<se&&ne&&(he=se-he);for(var fe=[],Qe=ne?-1:1,$e=$;he>1e-5;){var de=$e+Qe*Math.min(he,ve);fe.push(J.call(this,P,$e,de)),he-=Math.abs(de-$e),$e=de}return fe},J=function(P,$,G){var ne=(G-$)/2,se=P*Math.cos(ne),ve=P*Math.sin(ne),he=se,fe=-ve,Qe=he*he+fe*fe,$e=Qe+he*se+fe*ve,de=4/3*(Math.sqrt(2*Qe*$e)-$e)/(he*ve-fe*se),ze=he-de*fe,nt=fe+de*he,Se=ze,Z=-nt,Ke=ne+$,st=Math.cos(Ke),ye=Math.sin(Ke);return{x1:P*Math.cos($),y1:P*Math.sin($),x2:ze*st-nt*ye,y2:ze*ye+nt*st,x3:Se*st-Z*ye,y3:Se*ye+Z*st,x4:P*Math.cos(G),y4:P*Math.sin(G)}},re=function(P){return 180*P/Math.PI},oe=function(P,$,G,ne,se,ve){var he=P+.5*(G-P),fe=$+.5*(ne-$),Qe=se+.5*(G-se),$e=ve+.5*(ne-ve),de=Math.min(P,se,he,Qe),ze=Math.max(P,se,he,Qe),nt=Math.min($,ve,fe,$e),Se=Math.max($,ve,fe,$e);return new o(de,nt,ze-de,Se-nt)},V=function(P,$,G,ne,se,ve,he,fe){var Qe,$e,de,ze,nt,Se,Z,Ke,st,ye,He,Ve,ge,je,we=G-P,Xe=ne-$,Pe=se-G,At=ve-ne,gt=he-se,St=fe-ve;for($e=0;$e<41;$e++)st=(Z=(de=P+(Qe=$e/40)*we)+Qe*((nt=G+Qe*Pe)-de))+Qe*(nt+Qe*(se+Qe*gt-nt)-Z),ye=(Ke=(ze=$+Qe*Xe)+Qe*((Se=ne+Qe*At)-ze))+Qe*(Se+Qe*(ve+Qe*St-Se)-Ke),$e==0?(He=st,Ve=ye,ge=st,je=ye):(He=Math.min(He,st),Ve=Math.min(Ve,ye),ge=Math.max(ge,st),je=Math.max(je,ye));return new o(Math.round(He),Math.round(Ve),Math.round(ge-He),Math.round(je-Ve))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,$,G=(P=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:$}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(lr.API),(function(e){var t=function(i){var s,o,c,A,f,h,p,g,v,b;for(o=[],c=0,A=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;A>c;c+=4)(f=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(b=f%85))/85)-(v=f%85))/85)-(g=f%85))/85)-(p=f%85))/85)%85,o.push(h+33,p+33,g+33,v+33,b+33)):o.push(122);return(function(x,w){for(var S=w;S>0;S--)x.pop()})(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,c,A,f,h=String,p="length",g=255,v="charCodeAt",b="slice",x="replace";for(i[b](-2),i=i[b](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],A=0,f=(i+=s="uuuuu"[b](i[p]%5||5))[p];f>A;A+=5)o=52200625*(i[v](A)-33)+614125*(i[v](A+1)-33)+7225*(i[v](A+2)-33)+85*(i[v](A+3)-33)+(i[v](A+4)-33),c.push(g&o>>24,g&o>>16,g&o>>8,g&o);return(function(w,S){for(var N=S;N>0;N--)w.pop()})(c,s[p]),h.fromCharCode.apply(h,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=v4(s)).reduce((function(c,A){return c+String.fromCharCode(A)}),"")};e.processDataByFilters=function(i,s){var o=0,c=i||"",A=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)})).join("")+">",A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:c,reverseChain:A.reverse().join(" ")}}})(lr.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(c,A,f){var h=new XMLHttpRequest,p=0,g=function(v){var b=v.length,x=[],w=String.fromCharCode;for(p=0;p<b;p+=1)x.push(w(255&v.charCodeAt(p)));return x.join("")};if(h.open("GET",c,!A),h.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(h.onload=function(){h.status===200?f(g(this.responseText)):f(void 0)}),h.send(null),A&&h.status===200)return g(h.responseText)})(a,i,s)}catch{}return o})(t,r,n)},e.loadImageFile=e.loadFile})(lr.API),(function(e){function t(){return(dr.html2canvas?Promise.resolve(dr.html2canvas):Cs(()=>Promise.resolve().then(()=>fTe),void 0)).catch((function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))})).then((function(s){return s.default?s.default:s}))}function r(){return(dr.DOMPurify?Promise.resolve(dr.DOMPurify):Cs(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load dompurify: "+s))})).then((function(s){return s.default?s.default:s}))}var n=function(s){var o=cn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var c=document.createElement(s);for(var A in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[A]=o.style[A];return c},i=function s(o){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),A=s.convert(Promise.resolve(),c);return A=(A=A.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then((function(){switch(o=o||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s)){case"string":return this.then(r).then((function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})}));case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=(function c(A,f){for(var h=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),p=A.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(c(p,f));return A.nodeType===1&&(A.nodeName==="CANVAS"?(h.width=A.width,h.height=A.height,h.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(h.value=A.value),h.addEventListener("load",(function(){h.scrollTop=A.scrollTop,h.scrollLeft=A.scrollLeft}),!0)),h})(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then((function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)})).then((function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then((function(o){var c=this.opt.jsPDF,A=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=A,A)for(var p=0;p<A.length;++p){var g=A[p],v=g.src.find((function(b){return b.format==="truetype"}));v&&c.addFont(v.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),o(this.prop.container,h)})).then((function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(s,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(s,o)}))},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}}))},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map((function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}}),this);return this.then((function(){return this.thenList(o)}))},i.prototype.get=function(s,o){return this.then((function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(c):c}))},i.prototype.setMargin=function(s){return this.then((function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s})).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(c,A){return Math.floor(c*A/72*96)}return this.then((function(){(s=s||lr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s}))},i.prototype.setProgress=function(s,o,c,A){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,c,A){return this.setProgress(s?this.progress.val+s:null,o||null,c?this.progress.n+c:null,A?this.progress.stack.concat(A):null)},i.prototype.then=function(s,o){var c=this;return this.thenCore(s,o,(function(A,f){return c.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,(function(h){return c.updateProgress(null,A),h})).then(A,f).then((function(h){return c.updateProgress(1),h}))}))},i.prototype.thenCore=function(s,o,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=c.call(A,s,o);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach((function(c){o=o.thenCore(c)})),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then((function(){throw new Error(s)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,lr.getPageSize=function(s,o,c){if(cn(s)==="object"){var A=s;s=A.orientation,o=A.unit||o,c=A.format||c}o=o||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var g,v=0,b=0;if(p.hasOwnProperty(h))v=p[h][1]/f,b=p[h][0]/f;else try{v=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",b>v&&(g=b,b=v,v=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",v>b&&(g=b,b=v,v=g)}return{width:b,height:v,unit:o,k:f,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(N4):null;var c=new i(o);return o.worker?c:c.from(s).doCallback()}})(lr.API),lr.API.addJS=function(e){return O8=e,this.internal.events.subscribe("postPutResources",(function(){m0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(m0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),T8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+O8+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){m0!==void 0&&T8!==void 0&&this.internal.out("/Names <</JavaScript "+m0+" 0 R>>")})),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,f=[];for(i=0;i<A;i++){var h=r.internal.newObject();f.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var A=0;A<n.children.length;A++)this.renderItems(n.children[A])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(lr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var c,A=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=(function(h){for(var p,g=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,b={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=g,t.indexOf(h.charCodeAt(x+1))!==-1){p=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),b={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:p,numcomponents:h.charCodeAt(x+9)};break}g=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return b})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:A,index:n,alias:a}}return f}})(lr.API);var Oh,p0,I8,U8,F8,N5e=(function(){var e,t,r;function n(i){var s,o,c,A,f,h,p,g,v,b,x,w,S,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(s=this.readUInt32(),v=(function(){var k,C;for(C=[],k=0;k<4;++k)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),A=this.readUInt16()||100,h.delay=1e3*f/A,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,s-=4),i=h?.data||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((b=c-this.transparency.indexed.length)>0)for(S=0;0<=b?S<b:S>b;0<=b?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":p=(x=this.read(s)).indexOf(0),g=String.fromCharCode.apply(String,x.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,x.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),c=0,A=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(h,p,g,v){var b,x,w,S,N,k,C,T,O,D,R,q,U,I,Q,H,Y,K,J,re,oe,V=Math.ceil((A.width-h)/g),W=Math.ceil((A.height-p)/v),P=A.width==V&&A.height==W;for(I=s*V,q=P?o:new Uint8Array(I*W),k=i.length,U=0,x=0;U<W&&c<k;){switch(i[c++]){case 0:for(S=Y=0;Y<I;S=Y+=1)q[x++]=i[c++];break;case 1:for(S=K=0;K<I;S=K+=1)b=i[c++],N=S<s?0:q[x-s],q[x++]=(b+N)%256;break;case 2:for(S=J=0;J<I;S=J+=1)b=i[c++],w=(S-S%s)/s,Q=U&&q[(U-1)*I+w*s+S%s],q[x++]=(Q+b)%256;break;case 3:for(S=re=0;re<I;S=re+=1)b=i[c++],w=(S-S%s)/s,N=S<s?0:q[x-s],Q=U&&q[(U-1)*I+w*s+S%s],q[x++]=(b+Math.floor((N+Q)/2))%256;break;case 4:for(S=oe=0;oe<I;S=oe+=1)b=i[c++],w=(S-S%s)/s,N=S<s?0:q[x-s],U===0?Q=H=0:(Q=q[(U-1)*I+w*s+S%s],H=w&&q[(U-1)*I+(w-1)*s+S%s]),C=N+Q-H,T=Math.abs(C-N),D=Math.abs(C-Q),R=Math.abs(C-H),O=T<=D&&T<=R?N:D<=R?Q:H,q[x++]=(b+O)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!P){var $=((p+U*v)*A.width+h)*s,G=U*I;for(S=0;S<V;S+=1){for(var ne=0;ne<s;ne+=1)o[$++]=q[G++];$+=(g-1)*s}}U++}}return i=s5e(i),A.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,c,A,f,h,p,g;for(o=this.palette,f=this.transparency.indexed||[],A=new Uint8Array((f.length||0)+o.length),c=0,i=0,s=h=0,p=o.length;h<p;s=h+=3)A[c++]=o[s],A[c++]=o[s+1],A[c++]=o[s+2],A[c++]=(g=f[i++])!=null?g:255;return A},n.prototype.copyToImageData=function(i,s){var o,c,A,f,h,p,g,v,b,x,w;if(c=this.colors,b=null,o=this.hasAlphaChannel,this.palette.length&&(b=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),c=4,o=!0),v=(A=i.data||i).length,h=b||s,f=p=0,c===1)for(;f<v;)g=b?4*s[f/4]:p,x=h[g++],A[f++]=x,A[f++]=x,A[f++]=x,A[f++]=o?h[g++]:255,p=g;else for(;f<v;)g=b?4*s[f/4]:p,A[f++]=h[g++],A[f++]=h[g++],A[f++]=h[g++],A[f++]=o?h[g++]:255,p=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(dr)==="[object Window]"){try{t=dr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,c,A,f,h,p,g;if(this.animation){for(g=[],o=f=0,h=(p=this.animation.frames).length;f<h;o=++f)s=p[o],c=i.createImageData(s.width,s.height),A=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,A),s.imageData=c,g.push(s.image=e(c));return g}},n.prototype.renderFrame=function(i,s){var o,c,A;return o=(c=this.animation.frames)[s],A=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),A?.disposeOp===1?i.clearRect(A.xOffset,A.yOffset,A.width,A.height):A?.disposeOp===2&&i.putImageData(A.imageData,A.xOffset,A.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,c,A,f,h,p=this;return o=0,h=this.animation,A=h.numFrames,c=h.frames,f=h.numPlays,(s=function(){var g,v;if(g=o++%A,v=c[g],p.renderFrame(i,g),A>1&&o/A<f)return p.animation._timeout=setTimeout(s,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function C5e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,c=null;i&&(o=t,c=s,t+=3*s);var A=!0,f=[],h=0,p=null,g=0,v=null;for(this.width=r,this.height=n;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],(1&b)==0&&(p=null),g=b>>2&7,t++;break;case 254:for(;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,k=e[t++],C=k>>6&1,T=1<<(7&k)+1,O=o,D=c,R=!1;k>>7&&(R=!0,O=t,D=T,t+=3*T);var q=t;for(t++;;){var U;if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}f.push({x,y:w,width:S,height:N,has_local_palette:R,palette_offset:O,palette_size:D,data_offset:q,data_length:t-q,transparent_index:p,interlaced:!!C,delay:h,disposal:g});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(I){if(I<0||I>=f.length)throw new Error("Frame index out of range.");return f[I]},this.decodeAndBlitFrameBGRA=function(I,Q){var H=this.frameInfo(I),Y=H.width*H.height,K=new Uint8Array(Y);D8(e,H.data_offset,K,Y);var J=H.palette_offset,re=H.transparent_index;re===null&&(re=256);var oe=H.width,V=r-oe,W=oe,P=4*(H.y*r+H.x),$=4*((H.y+H.height)*r+H.x),G=P,ne=4*V;H.interlaced===!0&&(ne+=4*r*7);for(var se=8,ve=0,he=K.length;ve<he;++ve){var fe=K[ve];if(W===0&&(W=oe,(G+=ne)>=$&&(ne=4*V+4*r*(se-1),G=P+(oe+V)*(se<<1),se>>=1)),fe===re)G+=4;else{var Qe=e[J+3*fe],$e=e[J+3*fe+1],de=e[J+3*fe+2];Q[G++]=de,Q[G++]=$e,Q[G++]=Qe,Q[G++]=255}--W}},this.decodeAndBlitFrameRGBA=function(I,Q){var H=this.frameInfo(I),Y=H.width*H.height,K=new Uint8Array(Y);D8(e,H.data_offset,K,Y);var J=H.palette_offset,re=H.transparent_index;re===null&&(re=256);var oe=H.width,V=r-oe,W=oe,P=4*(H.y*r+H.x),$=4*((H.y+H.height)*r+H.x),G=P,ne=4*V;H.interlaced===!0&&(ne+=4*r*7);for(var se=8,ve=0,he=K.length;ve<he;++ve){var fe=K[ve];if(W===0&&(W=oe,(G+=ne)>=$&&(ne=4*V+4*r*(se-1),G=P+(oe+V)*(se<<1),se>>=1)),fe===re)G+=4;else{var Qe=e[J+3*fe],$e=e[J+3*fe+1],de=e[J+3*fe+2];Q[G++]=Qe,Q[G++]=$e,Q[G++]=de,Q[G++]=255}--W}}}function D8(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,c=a+1,A=(1<<c)-1,f=0,h=0,p=0,g=e[t++],v=new Int32Array(4096),b=null;;){for(;f<16&&g!==0;)h|=e[t++]<<f,f+=8,g===1?g=e[t++]:--g;if(f<c)break;var x=h&A;if(h>>=c,f-=c,x!==i){if(x===s)break;for(var w=x<o?x:b,S=0,N=w;N>i;)N=v[N]>>8,++S;var k=N;if(p+S+(w!==x?1:0)>n)return void gn.log("Warning, gif stream longer than expected.");r[p++]=k;var C=p+=S;for(w!==x&&(r[p++]=k),N=w;S--;)N=v[N],r[--C]=255&N,N>>=8;b!==null&&o<4096&&(v[o++]=b<<8|k,o>=A+1&&c<12&&(++c,A=A<<1|1)),b=x}else o=s+1,A=(1<<(c=a+1))-1,b=null}return p!==n&&gn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yC(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),c=new Array(64),A=new Array(64),f=new Array(64),h=new Array(65535),p=new Array(65535),g=new Array(64),v=new Array(64),b=[],x=0,w=7,S=new Array(64),N=new Array(64),k=new Array(64),C=new Array(256),T=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(P,$){for(var G=0,ne=0,se=new Array,ve=1;ve<=16;ve++){for(var he=1;he<=P[ve];he++)se[$[ne]]=[],se[$[ne]][0]=G,se[$[ne]][1]=ve,ne++,G++;G*=2}return se}function J(P){for(var $=P[0],G=P[1]-1;G>=0;)$&1<<G&&(x|=1<<w),G--,--w<0&&(x==255?(re(255),re(0)):re(x),w=7,x=0)}function re(P){b.push(P)}function oe(P){re(P>>8&255),re(255&P)}function V(P,$,G,ne,se){for(var ve,he=se[0],fe=se[240],Qe=(function(ye,He){var Ve,ge,je,we,Xe,Pe,At,gt,St,Ze,rt=0;for(St=0;St<8;++St){Ve=ye[rt],ge=ye[rt+1],je=ye[rt+2],we=ye[rt+3],Xe=ye[rt+4],Pe=ye[rt+5],At=ye[rt+6];var $t=Ve+(gt=ye[rt+7]),Ht=Ve-gt,Vt=ge+At,Kt=ge-At,nr=je+Pe,wr=je-Pe,Ge=we+Xe,Lt=we-Xe,Ot=$t+Ge,Le=$t-Ge,ot=Vt+nr,ht=Vt-nr;ye[rt]=Ot+ot,ye[rt+4]=Ot-ot;var mt=.707106781*(ht+Le);ye[rt+2]=Le+mt,ye[rt+6]=Le-mt;var It=.382683433*((Ot=Lt+wr)-(ht=Kt+Ht)),Ce=.5411961*Ot+It,Et=1.306562965*ht+It,Pt=.707106781*(ot=wr+Kt),jr=Ht+Pt,Ft=Ht-Pt;ye[rt+5]=Ft+Ce,ye[rt+3]=Ft-Ce,ye[rt+1]=jr+Et,ye[rt+7]=jr-Et,rt+=8}for(rt=0,St=0;St<8;++St){Ve=ye[rt],ge=ye[rt+8],je=ye[rt+16],we=ye[rt+24],Xe=ye[rt+32],Pe=ye[rt+40],At=ye[rt+48];var mr=Ve+(gt=ye[rt+56]),Nr=Ve-gt,$r=ge+At,ur=ge-At,yn=je+Pe,Ya=je-Pe,ho=we+Xe,Xa=we-Xe,Ja=mr+ho,da=mr-ho,fa=$r+yn,Ua=$r-yn;ye[rt]=Ja+fa,ye[rt+32]=Ja-fa;var Jn=.707106781*(Ua+da);ye[rt+16]=da+Jn,ye[rt+48]=da-Jn;var Yr=.382683433*((Ja=Xa+Ya)-(Ua=ur+Nr)),ks=.5411961*Ja+Yr,mo=1.306562965*Ua+Yr,ui=.707106781*(fa=Ya+ur),Ni=Nr+ui,Al=Nr-ui;ye[rt+40]=Al+ks,ye[rt+24]=Al-ks,ye[rt+8]=Ni+mo,ye[rt+56]=Ni-mo,rt++}for(St=0;St<64;++St)Ze=ye[St]*He[St],g[St]=Ze>0?Ze+.5|0:Ze-.5|0;return g})(P,$),$e=0;$e<64;++$e)v[O[$e]]=Qe[$e];var de=v[0]-G;G=v[0],de==0?J(ne[0]):(J(ne[p[ve=32767+de]]),J(h[ve]));for(var ze=63;ze>0&&v[ze]==0;)ze--;if(ze==0)return J(he),G;for(var nt,Se=1;Se<=ze;){for(var Z=Se;v[Se]==0&&Se<=ze;)++Se;var Ke=Se-Z;if(Ke>=16){nt=Ke>>4;for(var st=1;st<=nt;++st)J(fe);Ke&=15}ve=32767+v[Se],J(se[(Ke<<4)+p[ve]]),J(h[ve]),Se++}return ze!=63&&J(he),G}function W(P){P=Math.min(Math.max(P,1),100),i!=P&&((function($){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var se=s((G[ne]*$+50)/100);se=Math.min(Math.max(se,1),255),o[O[ne]]=se}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var fe=s((ve[he]*$+50)/100);fe=Math.min(Math.max(fe,1),255),c[O[he]]=fe}for(var Qe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,de=0;de<8;de++)for(var ze=0;ze<8;ze++)A[$e]=1/(o[O[$e]]*Qe[de]*Qe[ze]*8),f[$e]=1/(c[O[$e]]*Qe[de]*Qe[ze]*8),$e++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,$){$&&W($),b=new Array,x=0,w=7,oe(65496),oe(65504),oe(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),oe(1),oe(1),re(0),re(0),(function(){oe(65499),oe(132),re(0);for(var ge=0;ge<64;ge++)re(o[ge]);re(1);for(var je=0;je<64;je++)re(c[je])})(),(function(ge,je){oe(65472),oe(17),re(8),oe(je),oe(ge),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(P.width,P.height),(function(){oe(65476),oe(418),re(0);for(var ge=0;ge<16;ge++)re(D[ge+1]);for(var je=0;je<=11;je++)re(R[je]);re(16);for(var we=0;we<16;we++)re(q[we+1]);for(var Xe=0;Xe<=161;Xe++)re(U[Xe]);re(1);for(var Pe=0;Pe<16;Pe++)re(I[Pe+1]);for(var At=0;At<=11;At++)re(Q[At]);re(17);for(var gt=0;gt<16;gt++)re(H[gt+1]);for(var St=0;St<=161;St++)re(Y[St])})(),oe(65498),oe(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var G=0,ne=0,se=0;x=0,w=7,this.encode.displayName="_encode_";for(var ve,he,fe,Qe,$e,de,ze,nt,Se,Z=P.data,Ke=P.width,st=P.height,ye=4*Ke,He=0;He<st;){for(ve=0;ve<ye;){for($e=ye*He+ve,ze=-1,nt=0,Se=0;Se<64;Se++)de=$e+(nt=Se>>3)*ye+(ze=4*(7&Se)),He+nt>=st&&(de-=ye*(He+1+nt-st)),ve+ze>=ye&&(de-=ve+ze-ye+4),he=Z[de++],fe=Z[de++],Qe=Z[de++],S[Se]=(T[he]+T[fe+256>>0]+T[Qe+512>>0]>>16)-128,N[Se]=(T[he+768>>0]+T[fe+1024>>0]+T[Qe+1280>>0]>>16)-128,k[Se]=(T[he+1280>>0]+T[fe+1536>>0]+T[Qe+1792>>0]>>16)-128;G=V(S,A,G,t,n),ne=V(N,f,ne,r,a),se=V(k,f,se,r,a),ve+=32}He+=8}if(w>=0){var Ve=[];Ve[1]=w+1,Ve[0]=(1<<w+1)-1,J(Ve)}return oe(65497),new Uint8Array(b)},e=e||50,(function(){for(var P=String.fromCharCode,$=0;$<256;$++)C[$]=P($)})(),t=K(D,R),r=K(I,Q),n=K(q,U),a=K(H,Y),(function(){for(var P=1,$=2,G=1;G<=15;G++){for(var ne=P;ne<$;ne++)p[32767+ne]=G,h[32767+ne]=[],h[32767+ne][1]=G,h[32767+ne][0]=ne;for(var se=-($-1);se<=-P;se++)p[32767+se]=G,h[32767+se]=[],h[32767+se][1]=G,h[32767+se][0]=$-1+se;P<<=1,$<<=1}})(),(function(){for(var P=0;P<256;P++)T[P]=19595*P,T[P+256>>0]=38470*P,T[P+512>>0]=7471*P+32768,T[P+768>>0]=-11059*P,T[P+1024>>0]=-21709*P,T[P+1280>>0]=32768*P+8421375,T[P+1536>>0]=-27439*P,T[P+1792>>0]=-5329*P})(),W(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function $o(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function L8(e){function t(D){if(!D)throw Error("assert :P")}function r(D,R,q){for(var U=0;4>U;U++)if(D[R+U]!=q.charCodeAt(U))return!0;return!1}function n(D,R,q,U,I){for(var Q=0;Q<I;Q++)D[R+Q]=q[U+Q]}function a(D,R,q,U){for(var I=0;I<U;I++)D[R+I]=q}function i(D){return new Int32Array(D)}function s(D,R){for(var q=[],U=0;U<D;U++)q.push(new R);return q}function o(D,R){var q=[];return(function U(I,Q,H){for(var Y=H[Q],K=0;K<Y&&(I.push(H.length>Q+1?[]:new R),!(H.length<Q+1));K++)U(I[K],Q+1,H)})(q,0,D),q}var c=function(){var D=this;function R(_,E){for(var M=1<<E-1>>>0;_&M;)M>>>=1;return M?(_&M-1)+M:_}function q(_,E,M,z,ee){t(!(z%M));do _[E+(z-=M)]=ee;while(0<z)}function U(_,E,M,z,ee){if(t(2328>=ee),512>=ee)var ae=i(512);else if((ae=i(ee))==null)return 0;return(function(ie,le,Ae,me,Ee,Je){var We,De,xt=le,lt=1<<Ae,Te=i(16),Ue=i(16);for(t(Ee!=0),t(me!=null),t(ie!=null),t(0<Ae),De=0;De<Ee;++De){if(15<me[De])return 0;++Te[me[De]]}if(Te[0]==Ee)return 0;for(Ue[1]=0,We=1;15>We;++We){if(Te[We]>1<<We)return 0;Ue[We+1]=Ue[We]+Te[We]}for(De=0;De<Ee;++De)We=me[De],0<me[De]&&(Je[Ue[We]++]=De);if(Ue[15]==1)return(me=new I).g=0,me.value=Je[0],q(ie,xt,1,lt,me),lt;var dt,wt=-1,bt=lt-1,Qt=0,Ut=1,Jt=1,Dt=1<<Ae;for(De=0,We=1,Ee=2;We<=Ae;++We,Ee<<=1){if(Ut+=Jt<<=1,0>(Jt-=Te[We]))return 0;for(;0<Te[We];--Te[We])(me=new I).g=We,me.value=Je[De++],q(ie,xt+Qt,Ee,Dt,me),Qt=R(Qt,We)}for(We=Ae+1,Ee=2;15>=We;++We,Ee<<=1){if(Ut+=Jt<<=1,0>(Jt-=Te[We]))return 0;for(;0<Te[We];--Te[We]){if(me=new I,(Qt&bt)!=wt){for(xt+=Dt,dt=1<<(wt=We)-Ae;15>wt&&!(0>=(dt-=Te[wt]));)++wt,dt<<=1;lt+=Dt=1<<(dt=wt-Ae),ie[le+(wt=Qt&bt)].g=dt+Ae,ie[le+wt].value=xt-le-wt}me.g=We-Ae,me.value=Je[De++],q(ie,xt+(Qt>>Ae),Ee,Dt,me),Qt=R(Qt,We)}}return Ut!=2*Ue[15]-1?0:lt})(_,E,M,z,ee,ae)}function I(){this.value=this.g=0}function Q(){this.value=this.g=0}function H(){this.G=s(5,I),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ma,Q)}function Y(_,E,M,z){t(_!=null),t(E!=null),t(2147483648>z),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=E,_.pa=M,_.Jd=E,_.Yc=M+z,_.Zc=4<=z?M+z-4+1:M,ve(_)}function K(_,E){for(var M=0;0<E--;)M|=fe(_,128)<<E;return M}function J(_,E){var M=K(_,E);return he(_)?-M:M}function re(_,E,M,z){var ee,ae=0;for(t(_!=null),t(E!=null),t(4294967288>z),_.Sb=z,_.Ra=0,_.u=0,_.h=0,4<z&&(z=4),ee=0;ee<z;++ee)ae+=E[M+ee]<<8*ee;_.Ra=ae,_.bb=z,_.oa=E,_.pa=M}function oe(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<dc-8>>>0,++_.bb,_.u-=8;G(_)&&(_.h=1,_.u=0)}function V(_,E){if(t(0<=E),!_.h&&E<=Ac){var M=$(_)&vl[E];return _.u+=E,oe(_),M}return _.h=1,_.u=0}function W(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(_){return _.Ra>>>(_.u&dc-1)>>>0}function G(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>dc}function ne(_,E){_.u=E,_.h=G(_)}function se(_){_.u>=Bu&&(t(_.u>=Bu),oe(_))}function ve(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function he(_){return K(_,1)}function fe(_,E){var M=_.Ca;0>_.b&&ve(_);var z=_.b,ee=M*E>>>8,ae=(_.I>>>z>ee)+0;for(ae?(M-=ee,_.I-=ee+1<<z>>>0):M=ee+1,z=M,ee=0;256<=z;)ee+=8,z>>=8;return z=7^ee+di[z],_.b-=z,_.Ca=(M<<z)-1,ae}function Qe(_,E,M){_[E+0]=M>>24&255,_[E+1]=M>>16&255,_[E+2]=M>>8&255,_[E+3]=M>>0&255}function $e(_,E){return _[E+0]<<0|_[E+1]<<8}function de(_,E){return $e(_,E)|_[E+2]<<16}function ze(_,E){return $e(_,E)|$e(_,E+2)<<16}function nt(_,E){var M=1<<E;return t(_!=null),t(0<E),_.X=i(M),_.X==null?0:(_.Mb=32-E,_.Xa=E,1)}function Se(_,E){t(_!=null),t(E!=null),t(_.Xa==E.Xa),n(E.X,0,_.X,0,1<<E.Xa)}function Z(){this.X=[],this.Xa=this.Mb=0}function Ke(_,E,M,z){t(M!=null),t(z!=null);var ee=M[0],ae=z[0];return ee==0&&(ee=(_*ae+E/2)/E),ae==0&&(ae=(E*ee+_/2)/_),0>=ee||0>=ae?0:(M[0]=ee,z[0]=ae,1)}function st(_,E){return _+(1<<E)-1>>>E}function ye(_,E){return((4278255360&_)+(4278255360&E)>>>0&4278255360)+((16711935&_)+(16711935&E)>>>0&16711935)>>>0}function He(_,E){D[E]=function(M,z,ee,ae,ie,le,Ae){var me;for(me=0;me<ie;++me){var Ee=D[_](le[Ae+me-1],ee,ae+me);le[Ae+me]=ye(M[z+me],Ee)}}}function Ve(){this.ud=this.hd=this.jd=0}function ge(_,E){return((4278124286&(_^E))>>>1)+(_&E)>>>0}function je(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function we(_,E){return je(_+(_-E+.5>>1))}function Xe(_,E,M){return Math.abs(E-M)-Math.abs(_-M)}function Pe(_,E,M,z,ee,ae,ie){for(z=ae[ie-1],M=0;M<ee;++M)ae[ie+M]=z=ye(_[E+M],z)}function At(_,E,M,z,ee){var ae;for(ae=0;ae<M;++ae){var ie=_[E+ae],le=ie>>8&255,Ae=16711935&(Ae=(Ae=16711935&ie)+((le<<16)+le));z[ee+ae]=(4278255360&ie)+Ae>>>0}}function gt(_,E){E.jd=_>>0&255,E.hd=_>>8&255,E.ud=_>>16&255}function St(_,E,M,z,ee,ae){var ie;for(ie=0;ie<z;++ie){var le=E[M+ie],Ae=le>>>8,me=le,Ee=255&(Ee=(Ee=le>>>16)+((_.jd<<24>>24)*(Ae<<24>>24)>>>5));me=255&(me=(me=me+((_.hd<<24>>24)*(Ae<<24>>24)>>>5))+((_.ud<<24>>24)*(Ee<<24>>24)>>>5)),ee[ae+ie]=(4278255360&le)+(Ee<<16)+me}}function Ze(_,E,M,z,ee){D[E]=function(ae,ie,le,Ae,me,Ee,Je,We,De){for(Ae=Je;Ae<We;++Ae)for(Je=0;Je<De;++Je)me[Ee++]=ee(le[z(ae[ie++])])},D[_]=function(ae,ie,le,Ae,me,Ee,Je){var We=8>>ae.b,De=ae.Ea,xt=ae.K[0],lt=ae.w;if(8>We)for(ae=(1<<ae.b)-1,lt=(1<<We)-1;ie<le;++ie){var Te,Ue=0;for(Te=0;Te<De;++Te)Te&ae||(Ue=z(Ae[me++])),Ee[Je++]=ee(xt[Ue&lt]),Ue>>=We}else D["VP8LMapColor"+M](Ae,me,xt,lt,Ee,Je,ie,le,De)}}function rt(_,E,M,z,ee){for(M=E+M;E<M;){var ae=_[E++];z[ee++]=ae>>16&255,z[ee++]=ae>>8&255,z[ee++]=ae>>0&255}}function $t(_,E,M,z,ee){for(M=E+M;E<M;){var ae=_[E++];z[ee++]=ae>>16&255,z[ee++]=ae>>8&255,z[ee++]=ae>>0&255,z[ee++]=ae>>24&255}}function Ht(_,E,M,z,ee){for(M=E+M;E<M;){var ae=(ie=_[E++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;z[ee++]=ae,z[ee++]=ie}}function Vt(_,E,M,z,ee){for(M=E+M;E<M;){var ae=(ie=_[E++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;z[ee++]=ae,z[ee++]=ie}}function Kt(_,E,M,z,ee){for(M=E+M;E<M;){var ae=_[E++];z[ee++]=ae>>0&255,z[ee++]=ae>>8&255,z[ee++]=ae>>16&255}}function nr(_,E,M,z,ee,ae){if(ae==0)for(M=E+M;E<M;)Qe(z,((ae=_[E++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),ee+=32;else n(z,ee,_,E,M)}function wr(_,E){D[E][0]=D[_+"0"],D[E][1]=D[_+"1"],D[E][2]=D[_+"2"],D[E][3]=D[_+"3"],D[E][4]=D[_+"4"],D[E][5]=D[_+"5"],D[E][6]=D[_+"6"],D[E][7]=D[_+"7"],D[E][8]=D[_+"8"],D[E][9]=D[_+"9"],D[E][10]=D[_+"10"],D[E][11]=D[_+"11"],D[E][12]=D[_+"12"],D[E][13]=D[_+"13"],D[E][14]=D[_+"0"],D[E][15]=D[_+"0"]}function Ge(_){return _==nd||_==Sl||_==ko||_==ju}function Lt(){this.eb=[],this.size=this.A=this.fb=0}function Ot(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Le(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lt,this.f.kb=new Ot,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function mt(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function It(_,E){var M=_.T,z=E.ba.f.RGBA,ee=z.eb,ae=z.fb+_.ka*z.A,ie=pa[E.ba.S],le=_.y,Ae=_.O,me=_.f,Ee=_.N,Je=_.ea,We=_.W,De=E.cc,xt=E.dc,lt=E.Mc,Te=E.Nc,Ue=_.ka,dt=_.ka+_.T,wt=_.U,bt=wt+1>>1;for(Ue==0?ie(le,Ae,null,null,me,Ee,Je,We,me,Ee,Je,We,ee,ae,null,null,wt):(ie(E.ec,E.fc,le,Ae,De,xt,lt,Te,me,Ee,Je,We,ee,ae-z.A,ee,ae,wt),++M);Ue+2<dt;Ue+=2)De=me,xt=Ee,lt=Je,Te=We,Ee+=_.Rc,We+=_.Rc,ae+=2*z.A,ie(le,(Ae+=2*_.fa)-_.fa,le,Ae,De,xt,lt,Te,me,Ee,Je,We,ee,ae-z.A,ee,ae,wt);return Ae+=_.fa,_.j+dt<_.o?(n(E.ec,E.fc,le,Ae,wt),n(E.cc,E.dc,me,Ee,bt),n(E.Mc,E.Nc,Je,We,bt),M--):1&dt||ie(le,Ae,null,null,me,Ee,Je,We,me,Ee,Je,We,ee,ae+z.A,null,null,wt),M}function Ce(_,E,M){var z=_.F,ee=[_.J];if(z!=null){var ae=_.U,ie=E.ba.S,le=ie==gc||ie==ko;E=E.ba.f.RGBA;var Ae=[0],me=_.ka;Ae[0]=_.T,_.Kb&&(me==0?--Ae[0]:(--me,ee[0]-=_.width),_.j+_.ka+_.T==_.o&&(Ae[0]=_.o-_.j-me));var Ee=E.eb;me=E.fb+me*E.A,_=ei(z,ee[0],_.width,ae,Ae,Ee,me+(le?0:3),E.A),t(M==Ae),_&&Ge(ie)&&Co(Ee,me,le,ae,Ae,E.A)}return 0}function Et(_){var E=_.ma,M=E.ba.S,z=11>M,ee=M==Cu||M==rd||M==gc||M==jo||M==12||Ge(M);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!yl(E.Oa,_,ee?11:12))return 0;if(ee&&Ge(M)&&jt(),_.da)alert("todo:use_scaling");else{if(z){if(E.Ib=mt,_.Kb){if(M=_.U+1>>1,E.memory=i(_.U+2*M),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+_.U,E.Mc=E.cc,E.Nc=E.dc+M,E.Ib=It,jt()}}else alert("todo:EmitYUV");ee&&(E.Jb=Ce,z&&qe())}if(z&&!$y){for(_=0;256>_;++_)y2[_]=89858*(_-128)+ta>>Ks,sd[_]=-22014*(_-128)+ta,Ep[_]=-45773*(_-128),ra[_]=113618*(_-128)+ta>>Ks;for(_=jl;_<qf;++_)E=76283*(_-16)+ta>>Ks,od[_-jl]=ji(E,255),Tp[_-jl]=ji(E+8>>4,15);$y=1}return 1}function Pt(_){var E=_.ma,M=_.U,z=_.T;return t(!(1&_.ka)),0>=M||0>=z?0:(M=E.Ib(_,E),E.Jb!=null&&E.Jb(_,E,M),E.Dc+=M,1)}function jr(_){_.ma.memory=null}function Ft(_,E,M,z){return V(_,8)!=47?0:(E[0]=V(_,14)+1,M[0]=V(_,14)+1,z[0]=V(_,1),V(_,3)!=0?0:!_.h)}function mr(_,E){if(4>_)return _+1;var M=_-2>>1;return(2+(1&_)<<M)+V(E,M)+1}function Nr(_,E){return 120<E?E-120:1<=(M=((M=To[E-1])>>4)*_+(8-(15&M)))?M:1;var M}function $r(_,E,M){var z=$(M),ee=_[E+=255&z].g-8;return 0<ee&&(ne(M,M.u+8),z=$(M),E+=_[E].value,E+=z&(1<<ee)-1),ne(M,M.u+_[E].g),_[E].value}function ur(_,E,M){return M.g+=_.g,M.value+=_.value<<E>>>0,t(8>=M.g),_.g}function yn(_,E,M){var z=_.xc;return t((E=z==0?0:_.vc[_.md*(M>>z)+(E>>z)])<_.Wb),_.Ya[E]}function Ya(_,E,M,z){var ee=_.ab,ae=_.c*E,ie=_.C;E=ie+E;var le=M,Ae=z;for(z=_.Ta,M=_.Ua;0<ee--;){var me=_.gc[ee],Ee=ie,Je=E,We=le,De=Ae,xt=(Ae=z,le=M,me.Ea);switch(t(Ee<Je),t(Je<=me.nc),me.hc){case 2:Uf(We,De,(Je-Ee)*xt,Ae,le);break;case 0:var lt=Ee,Te=Je,Ue=Ae,dt=le,wt=(Dt=me).Ea;lt==0&&(jp(We,De,null,null,1,Ue,dt),Pe(We,De+1,0,0,wt-1,Ue,dt+1),De+=wt,dt+=wt,++lt);for(var bt=1<<Dt.b,Qt=bt-1,Ut=st(wt,Dt.b),Jt=Dt.K,Dt=Dt.w+(lt>>Dt.b)*Ut;lt<Te;){var Pr=Jt,Kr=Dt,Cr=1;for(ZA(We,De,Ue,dt-wt,1,Ue,dt);Cr<wt;){var Br=(Cr&~Qt)+bt;Br>wt&&(Br=wt),(0,Bo[Pr[Kr++]>>8&15])(We,De+ +Cr,Ue,dt+Cr-wt,Br-Cr,Ue,dt+Cr),Cr=Br}De+=wt,dt+=wt,++lt&Qt||(Dt+=Ut)}Je!=me.nc&&n(Ae,le-xt,Ae,le+(Je-Ee-1)*xt,xt);break;case 1:for(xt=We,Te=De,wt=(We=me.Ea)-(dt=We&~(Ue=(De=1<<me.b)-1)),lt=st(We,me.b),bt=me.K,me=me.w+(Ee>>me.b)*lt;Ee<Je;){for(Qt=bt,Ut=me,Jt=new Ve,Dt=Te+dt,Pr=Te+We;Te<Dt;)gt(Qt[Ut++],Jt),ki(Jt,xt,Te,De,Ae,le),Te+=De,le+=De;Te<Pr&&(gt(Qt[Ut++],Jt),ki(Jt,xt,Te,wt,Ae,le),Te+=wt,le+=wt),++Ee&Ue||(me+=lt)}break;case 3:if(We==Ae&&De==le&&0<me.b){for(Te=Ae,We=xt=le+(Je-Ee)*xt-(dt=(Je-Ee)*st(me.Ea,me.b)),De=Ae,Ue=le,lt=[],dt=(wt=dt)-1;0<=dt;--dt)lt[dt]=De[Ue+dt];for(dt=wt-1;0<=dt;--dt)Te[We+dt]=lt[dt];us(me,Ee,Je,Ae,xt,Ae,le)}else us(me,Ee,Je,We,De,Ae,le)}le=z,Ae=M}Ae!=M&&n(z,M,le,Ae,ae)}function ho(_,E){var M=_.V,z=_.Ba+_.c*_.C,ee=E-_.C;if(t(E<=_.l.o),t(16>=ee),0<ee){var ae=_.l,ie=_.Ta,le=_.Ua,Ae=ae.width;if(Ya(_,ee,M,z),ee=le=[le],t((M=_.C)<(z=E)),t(ae.v<ae.va),z>ae.o&&(z=ae.o),M<ae.j){var me=ae.j-M;M=ae.j,ee[0]+=me*Ae}if(M>=z?M=0:(ee[0]+=4*ae.v,ae.ka=M-ae.j,ae.U=ae.va-ae.v,ae.T=z-M,M=1),M){if(le=le[0],11>(M=_.ca).S){var Ee=M.f.RGBA,Je=(z=M.S,ee=ae.U,ae=ae.T,me=Ee.eb,Ee.A),We=ae;for(Ee=Ee.fb+_.Ma*Ee.A;0<We--;){var De=ie,xt=le,lt=ee,Te=me,Ue=Ee;switch(z){case Qa:$i(De,xt,lt,Te,Ue);break;case Cu:Ps(De,xt,lt,Te,Ue);break;case nd:Ps(De,xt,lt,Te,Ue),Co(Te,Ue,0,lt,1,0);break;case Rs:xl(De,xt,lt,Te,Ue);break;case rd:nr(De,xt,lt,Te,Ue,1);break;case Sl:nr(De,xt,lt,Te,Ue,1),Co(Te,Ue,0,lt,1,0);break;case gc:nr(De,xt,lt,Te,Ue,0);break;case ko:nr(De,xt,lt,Te,Ue,0),Co(Te,Ue,1,lt,1,0);break;case jo:Qs(De,xt,lt,Te,Ue);break;case ju:Qs(De,xt,lt,Te,Ue),_a(Te,Ue,lt,1,0);break;case Pf:fi(De,xt,lt,Te,Ue);break;default:t(0)}le+=Ae,Ee+=Je}_.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=M.height)}}_.C=E,t(_.C<=_.i)}function Xa(_){var E;if(0<_.ua)return 0;for(E=0;E<_.Wb;++E){var M=_.Ya[E].G,z=_.Ya[E].H;if(0<M[1][z[1]+0].g||0<M[2][z[2]+0].g||0<M[3][z[3]+0].g)return 0}return 1}function Ja(_,E,M,z,ee,ae){if(_.Z!=0){var ie=_.qd,le=_.rd;for(t($s[_.Z]!=null);E<M;++E)$s[_.Z](ie,le,z,ee,z,ee,ae),ie=z,le=ee,ee+=ae;_.qd=ie,_.rd=le}}function da(_,E){var M=_.l.ma,z=M.Z==0||M.Z==1?_.l.j:_.C;if(z=_.C<z?z:_.C,t(E<=_.l.o),E>z){var ee=_.l.width,ae=M.ca,ie=M.tb+ee*z,le=_.V,Ae=_.Ba+_.c*z,me=_.gc;t(_.ab==1),t(me[0].hc==3),fc(me[0],z,E,le,Ae,ae,ie),Ja(M,z,E,ae,ie,ee)}_.C=_.Ma=E}function fa(_,E,M,z,ee,ae,ie){var le=_.$/z,Ae=_.$%z,me=_.m,Ee=_.s,Je=M+_.$,We=Je;ee=M+z*ee;var De=M+z*ae,xt=280+Ee.ua,lt=_.Pb?le:16777216,Te=0<Ee.ua?Ee.Wa:null,Ue=Ee.wc,dt=Je<De?yn(Ee,Ae,le):null;t(_.C<ae),t(De<=ee);var wt=!1;e:for(;;){for(;wt||Je<De;){var bt=0;if(le>=lt){var Qt=Je-M;t((lt=_).Pb),lt.wd=lt.m,lt.xd=Qt,0<lt.s.ua&&Se(lt.s.Wa,lt.s.vb),lt=le+Qy}if(Ae&Ue||(dt=yn(Ee,Ae,le)),t(dt!=null),dt.Qb&&(E[Je]=dt.qb,wt=!0),!wt)if(se(me),dt.jc){bt=me,Qt=E;var Ut=Je,Jt=dt.pd[$(bt)&Ma-1];t(dt.jc),256>Jt.g?(ne(bt,bt.u+Jt.g),Qt[Ut]=Jt.value,bt=0):(ne(bt,bt.u+Jt.g-256),t(256<=Jt.value),bt=Jt.value),bt==0&&(wt=!0)}else bt=$r(dt.G[0],dt.H[0],me);if(me.h)break;if(wt||256>bt){if(!wt)if(dt.nd)E[Je]=(dt.qb|bt<<8)>>>0;else{if(se(me),wt=$r(dt.G[1],dt.H[1],me),se(me),Qt=$r(dt.G[2],dt.H[2],me),Ut=$r(dt.G[3],dt.H[3],me),me.h)break;E[Je]=(Ut<<24|wt<<16|bt<<8|Qt)>>>0}if(wt=!1,++Je,++Ae>=z&&(Ae=0,++le,ie!=null&&le<=ae&&!(le%16)&&ie(_,le),Te!=null))for(;We<Je;)bt=E[We++],Te.X[(506832829*bt&4294967295)>>>Te.Mb]=bt}else if(280>bt){if(bt=mr(bt-256,me),Qt=$r(dt.G[4],dt.H[4],me),se(me),Qt=Nr(z,Qt=mr(Qt,me)),me.h)break;if(Je-M<Qt||ee-Je<bt)break e;for(Ut=0;Ut<bt;++Ut)E[Je+Ut]=E[Je+Ut-Qt];for(Je+=bt,Ae+=bt;Ae>=z;)Ae-=z,++le,ie!=null&&le<=ae&&!(le%16)&&ie(_,le);if(t(Je<=ee),Ae&Ue&&(dt=yn(Ee,Ae,le)),Te!=null)for(;We<Je;)bt=E[We++],Te.X[(506832829*bt&4294967295)>>>Te.Mb]=bt}else{if(!(bt<xt))break e;for(wt=bt-280,t(Te!=null);We<Je;)bt=E[We++],Te.X[(506832829*bt&4294967295)>>>Te.Mb]=bt;bt=Je,t(!(wt>>>(Qt=Te).Xa)),E[bt]=Qt.X[wt],wt=!0}wt||t(me.h==G(me))}if(_.Pb&&me.h&&Je<ee)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&Se(_.s.vb,_.s.Wa);else{if(me.h)break e;ie?.(_,le>ae?ae:le),_.a=0,_.$=Je-M}return 1}return _.a=3,0}function Ua(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var E=_.Wa;E!=null&&(E.X=null),_.vb=null,t(_!=null)}function Jn(){var _=new Cp;return _==null?null:(_.a=0,_.xb=ku,wr("Predictor","VP8LPredictors"),wr("Predictor","VP8LPredictors_C"),wr("PredictorAdd","VP8LPredictorsAdd"),wr("PredictorAdd","VP8LPredictorsAdd_C"),Uf=At,ki=St,$i=rt,Ps=$t,Qs=Ht,fi=Vt,xl=Kt,D.VP8LMapColor32b=wa,D.VP8LMapColor8b=Ff,_)}function Yr(_,E,M,z,ee){var ae=1,ie=[_],le=[E],Ae=z.m,me=z.s,Ee=null,Je=0;e:for(;;){if(M)for(;ae&&V(Ae,1);){var We=ie,De=le,xt=z,lt=1,Te=xt.m,Ue=xt.gc[xt.ab],dt=V(Te,2);if(xt.Oc&1<<dt)ae=0;else{switch(xt.Oc|=1<<dt,Ue.hc=dt,Ue.Ea=We[0],Ue.nc=De[0],Ue.K=[null],++xt.ab,t(4>=xt.ab),dt){case 0:case 1:Ue.b=V(Te,3)+2,lt=Yr(st(Ue.Ea,Ue.b),st(Ue.nc,Ue.b),0,xt,Ue.K),Ue.K=Ue.K[0];break;case 3:var wt,bt=V(Te,8)+1,Qt=16<bt?0:4<bt?1:2<bt?2:3;if(We[0]=st(Ue.Ea,Qt),Ue.b=Qt,wt=lt=Yr(bt,1,0,xt,Ue.K)){var Ut,Jt=bt,Dt=Ue,Pr=1<<(8>>Dt.b),Kr=i(Pr);if(Kr==null)wt=0;else{var Cr=Dt.K[0],Br=Dt.w;for(Kr[0]=Dt.K[0][0],Ut=1;Ut<1*Jt;++Ut)Kr[Ut]=ye(Cr[Br+Ut],Kr[Ut-1]);for(;Ut<4*Pr;++Ut)Kr[Ut]=0;Dt.K[0]=null,Dt.K[0]=Kr,wt=1}}lt=wt;break;case 2:break;default:t(0)}ae=lt}}if(ie=ie[0],le=le[0],ae&&V(Ae,1)&&!(ae=1<=(Je=V(Ae,4))&&11>=Je)){z.a=3;break e}var Zr;if(Zr=ae)t:{var zr,gr,sn,rr=z,Ar=ie,Mr=le,Qr=Je,ga=M,na=rr.m,Hn=rr.s,$n=[null],Gn=1,Vi=0,Gr=yc[Qr];r:for(;;){if(ga&&V(na,1)){var Vn=V(na,3)+2,ds=st(Ar,Vn),kl=st(Mr,Vn),wc=ds*kl;if(!Yr(ds,kl,0,rr,$n))break r;for($n=$n[0],Hn.xc=Vn,zr=0;zr<wc;++zr){var El=$n[zr]>>8&65535;$n[zr]=El,El>=Gn&&(Gn=El+1)}}if(na.h)break r;for(gr=0;5>gr;++gr){var xn=Ei[gr];!gr&&0<Qr&&(xn+=1<<Qr),Vi<xn&&(Vi=xn)}var ld=s(Gn*Gr,I),Kf=Gn,ri=s(Kf,H);if(ri==null)var En=null;else t(65536>=Kf),En=ri;var _c=i(Vi);if(En==null||_c==null||ld==null){rr.a=1;break r}var Tl=ld;for(zr=sn=0;zr<Gn;++zr){var mi=En[zr],Ol=mi.G,pi=mi.H,cd=0,Tu=1,zf=0;for(gr=0;5>gr;++gr){xn=Ei[gr],Ol[gr]=Tl,pi[gr]=sn,!gr&&0<Qr&&(xn+=1<<Qr);a:{var ud,Gf=xn,Ad=rr,Ou=_c,zy=Tl,Gy=sn,dd=0,Fo=Ad.m,x2=V(Fo,1);if(a(Ou,0,0,Gf),x2){var Vy=V(Fo,1)+1,Wy=V(Fo,1),Op=V(Fo,Wy==0?1:8);Ou[Op]=1,Vy==2&&(Ou[Op=V(Fo,8)]=1);var Iu=1}else{var Ip=i(19),Up=V(Fo,4)+4;if(19<Up){Ad.a=3;var fd=0;break a}for(ud=0;ud<Up;++ud)Ip[Eo[ud]]=V(Fo,3);var Vf=void 0,Uu=void 0,Yy=Ad,Xy=Ip,Do=Gf,hd=Ou,Wf=0,fs=Yy.m,Fu=8,Fp=s(128,I);n:for(;U(Fp,0,7,Xy,19);){if(V(fs,1)){var Jy=2+2*V(fs,3);if((Vf=2+V(fs,Jy))>Do)break n}else Vf=Do;for(Uu=0;Uu<Do&&Vf--;){se(fs);var Dp=Fp[0+(127&$(fs))];ne(fs,fs.u+Dp.g);var Bc=Dp.value;if(16>Bc)hd[Uu++]=Bc,Bc!=0&&(Fu=Bc);else{var Zy=Bc==16,Lp=Bc-16,Mp=Gi[Lp],Pp=V(fs,Qf[Lp])+Mp;if(Uu+Pp>Do)break n;for(var ev=Zy?Fu:0;0<Pp--;)hd[Uu++]=ev}}Wf=1;break n}Wf||(Yy.a=3),Iu=Wf}(Iu=Iu&&!Fo.h)&&(dd=U(zy,Gy,8,Ou,Gf)),Iu&&dd!=0?fd=dd:(Ad.a=3,fd=0)}if(fd==0)break r;if(Tu&&bc[gr]==1&&(Tu=Tl[sn].g==0),cd+=Tl[sn].g,sn+=fd,3>=gr){var Sc,Yf=_c[0];for(Sc=1;Sc<xn;++Sc)_c[Sc]>Yf&&(Yf=_c[Sc]);zf+=Yf}}if(mi.nd=Tu,mi.Qb=0,Tu&&(mi.qb=(Ol[3][pi[3]+0].value<<24|Ol[1][pi[1]+0].value<<16|Ol[2][pi[2]+0].value)>>>0,cd==0&&256>Ol[0][pi[0]+0].value&&(mi.Qb=1,mi.qb+=Ol[0][pi[0]+0].value<<8)),mi.jc=!mi.Qb&&6>zf,mi.jc){var md,Lo=mi;for(md=0;md<Ma;++md){var zs=md,Mo=Lo.pd[zs],pd=Lo.G[0][Lo.H[0]+zs];256<=pd.value?(Mo.g=pd.g+256,Mo.value=pd.value):(Mo.g=0,Mo.value=0,zs>>=ur(pd,8,Mo),zs>>=ur(Lo.G[1][Lo.H[1]+zs],16,Mo),zs>>=ur(Lo.G[2][Lo.H[2]+zs],0,Mo),ur(Lo.G[3][Lo.H[3]+zs],24,Mo))}}}Hn.vc=$n,Hn.Wb=Gn,Hn.Ya=En,Hn.yc=ld,Zr=1;break t}Zr=0}if(!(ae=Zr)){z.a=3;break e}if(0<Je){if(me.ua=1<<Je,!nt(me.Wa,Je)){z.a=1,ae=0;break e}}else me.ua=0;var gd=z,Qp=ie,tv=le,Rp=gd.s,Hp=Rp.xc;if(gd.c=Qp,gd.i=tv,Rp.md=st(Qp,Hp),Rp.wc=Hp==0?-1:(1<<Hp)-1,M){z.xb=Hy;break e}if((Ee=i(ie*le))==null){z.a=1,ae=0;break e}ae=(ae=fa(z,Ee,0,ie,le,le,null))&&!Ae.h;break e}return ae?(ee!=null?ee[0]=Ee:(t(Ee==null),t(M)),z.$=0,M||Ua(me)):Ua(me),ae}function ks(_,E){var M=_.c*_.i,z=M+E+16*E;return t(_.c<=E),_.V=i(z),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+M+E,1)}function mo(_,E){var M=_.C,z=E-M,ee=_.V,ae=_.Ba+_.c*M;for(t(E<=_.l.o);0<z;){var ie=16<z?16:z,le=_.l.ma,Ae=_.l.width,me=Ae*ie,Ee=le.ca,Je=le.tb+Ae*M,We=_.Ta,De=_.Ua;Ya(_,ie,ee,ae),hc(We,De,Ee,Je,me),Ja(le,M,M+ie,Ee,Je,Ae),z-=ie,ee+=ie*_.c,M+=ie}t(M==E),_.C=_.Ma=E}function ui(){this.ub=this.yd=this.td=this.Rb=0}function Ni(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Al(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function dl(){this.Yb=(function(){var _=[];return(function E(M,z,ee){for(var ae=ee[z],ie=0;ie<ae&&(M.push(ee.length>z+1?[]:0),!(ee.length<z+1));ie++)E(M[ie],z+1,ee)})(_,0,[3,11]),_})()}function Es(){this.jb=i(3),this.Wc=o([4,8],dl),this.Xc=o([4,17],dl)}function uu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Fa(){this.ld=this.La=this.dd=this.tc=0}function po(){this.Na=this.la=0}function Da(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function as(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Au(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fa),this.Y=0,this.ya=Array(new as),this.aa=0,this.l=new Ts}function is(){this.y=i(16),this.f=i(8),this.ea=i(8)}function go(){this.cb=this.a=0,this.sc="",this.m=new W,this.Od=new ui,this.Kc=new Ni,this.ed=new uu,this.Qa=new Al,this.Ic=this.$c=this.Aa=0,this.D=new Au,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,W),this.ia=0,this.pb=s(4,Da),this.Pa=new Es,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new is),this.Hd=0,this.rb=Array(new po),this.sb=0,this.wa=Array(new Fa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new as),this.L=this.aa=0,this.gd=o([4,2],Fa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ts(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function KA(){var _=new go;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,ea||(ea=Fe)),_}function ce(_,E,M){return _.a==0&&(_.a=E,_.sc=M,_.cb=0),0}function Be(_,E,M){return 3<=M&&_[E+0]==157&&_[E+1]==1&&_[E+2]==42}function pe(_,E){if(_==null)return 0;if(_.a=0,_.sc="OK",E==null)return ce(_,2,"null VP8Io passed to VP8GetHeaders()");var M=E.data,z=E.w,ee=E.ha;if(4>ee)return ce(_,7,"Truncated header.");var ae=M[z+0]|M[z+1]<<8|M[z+2]<<16,ie=_.Od;if(ie.Rb=!(1&ae),ie.td=ae>>1&7,ie.yd=ae>>4&1,ie.ub=ae>>5,3<ie.td)return ce(_,3,"Incorrect keyframe parameters.");if(!ie.yd)return ce(_,4,"Frame not displayable.");z+=3,ee-=3;var le=_.Kc;if(ie.Rb){if(7>ee)return ce(_,7,"cannot parse picture header");if(!Be(M,z,ee))return ce(_,3,"Bad code word");le.c=16383&(M[z+4]<<8|M[z+3]),le.Td=M[z+4]>>6,le.i=16383&(M[z+6]<<8|M[z+5]),le.Ud=M[z+6]>>6,z+=7,ee-=7,_.za=le.c+15>>4,_.Ub=le.i+15>>4,E.width=le.c,E.height=le.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((ae=_.Pa).jb,0,255,ae.jb.length),t((ae=_.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,a(ae.Zb,0,0,ae.Zb.length),a(ae.Lb,0,0,ae.Lb)}if(ie.ub>ee)return ce(_,7,"bad partition length");Y(ae=_.m,M,z,ie.ub),z+=ie.ub,ee-=ie.ub,ie.Rb&&(le.Ld=he(ae),le.Kd=he(ae)),le=_.Qa;var Ae,me=_.Pa;if(t(ae!=null),t(le!=null),le.Cb=he(ae),le.Cb){if(le.Bb=he(ae),he(ae)){for(le.Fb=he(ae),Ae=0;4>Ae;++Ae)le.Zb[Ae]=he(ae)?J(ae,7):0;for(Ae=0;4>Ae;++Ae)le.Lb[Ae]=he(ae)?J(ae,6):0}if(le.Bb)for(Ae=0;3>Ae;++Ae)me.jb[Ae]=he(ae)?K(ae,8):255}else le.Bb=0;if(ae.Ka)return ce(_,3,"cannot parse segment header");if((le=_.ed).zd=he(ae),le.Tb=K(ae,6),le.wb=K(ae,3),le.Pc=he(ae),le.Pc&&he(ae)){for(me=0;4>me;++me)he(ae)&&(le.vd[me]=J(ae,6));for(me=0;4>me;++me)he(ae)&&(le.od[me]=J(ae,6))}if(_.L=le.Tb==0?0:le.zd?1:2,ae.Ka)return ce(_,3,"cannot parse filter header");var Ee=ee;if(ee=Ae=z,z=Ae+Ee,le=Ee,_.Xb=(1<<K(_.m,2))-1,Ee<3*(me=_.Xb))M=7;else{for(Ae+=3*me,le-=3*me,Ee=0;Ee<me;++Ee){var Je=M[ee+0]|M[ee+1]<<8|M[ee+2]<<16;Je>le&&(Je=le),Y(_.Jc[+Ee],M,Ae,Je),Ae+=Je,le-=Je,ee+=3}Y(_.Jc[+me],M,Ae,le),M=Ae<z?0:5}if(M!=0)return ce(_,M,"cannot parse partitions");for(M=K(Ae=_.m,7),ee=he(Ae)?J(Ae,4):0,z=he(Ae)?J(Ae,4):0,le=he(Ae)?J(Ae,4):0,me=he(Ae)?J(Ae,4):0,Ae=he(Ae)?J(Ae,4):0,Ee=_.Qa,Je=0;4>Je;++Je){if(Ee.Cb){var We=Ee.Zb[Je];Ee.Fb||(We+=M)}else{if(0<Je){_.pb[Je]=_.pb[0];continue}We=M}var De=_.pb[Je];De.Sc[0]=ad[ji(We+ee,127)],De.Sc[1]=id[ji(We+0,127)],De.Eb[0]=2*ad[ji(We+z,127)],De.Eb[1]=101581*id[ji(We+le,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=ad[ji(We+me,117)],De.Qc[1]=id[ji(We+Ae,127)],De.lc=We+Ae}if(!ie.Rb)return ce(_,4,"Not a key frame.");for(he(ae),ie=_.Pa,M=0;4>M;++M){for(ee=0;8>ee;++ee)for(z=0;3>z;++z)for(le=0;11>le;++le)me=fe(ae,vc[M][ee][z][le])?K(ae,8):Hs[M][ee][z][le],ie.Wc[M][ee].Yb[z][le]=me;for(ee=0;17>ee;++ee)ie.Xc[M][ee]=ie.Wc[M][Ry[ee]]}return _.kc=he(ae),_.kc&&(_.Bd=K(ae,8)),_.cb=1}function Fe(_,E,M,z,ee,ae,ie){var le=E[ee].Yb[M];for(M=0;16>ee;++ee){if(!fe(_,le[M+0]))return ee;for(;!fe(_,le[M+1]);)if(le=E[++ee].Yb[0],M=0,ee==16)return 16;var Ae=E[ee+1].Yb;if(fe(_,le[M+2])){var me=_,Ee=0;if(fe(me,(We=le)[(Je=M)+3]))if(fe(me,We[Je+6])){for(le=0,Je=2*(Ee=fe(me,We[Je+8]))+(We=fe(me,We[Je+9+Ee])),Ee=0,We=Fn[Je];We[le];++le)Ee+=Ee+fe(me,We[le]);Ee+=3+(8<<Je)}else fe(me,We[Je+7])?(Ee=7+2*fe(me,165),Ee+=fe(me,145)):Ee=5+fe(me,159);else Ee=fe(me,We[Je+4])?3+fe(me,We[Je+5]):2;le=Ae[2]}else Ee=1,le=Ae[1];Ae=ie+qr[ee],0>(me=_).b&&ve(me);var Je,We=me.b,De=(Je=me.Ca>>1)-(me.I>>We)>>31;--me.b,me.Ca+=De,me.Ca|=1,me.I-=(Je+1&De)<<We,ae[Ae]=((Ee^De)-De)*z[(0<ee)+0]}return 16}function Me(_){var E=_.rb[_.sb-1];E.la=0,E.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function Ie(_,E){if(_==null)return 0;if(E==null)return ce(_,2,"NULL VP8Io parameter in VP8Decode().");if(!_.cb&&!pe(_,E))return 0;if(t(_.cb),E.ac==null||E.ac(E)){E.ob&&(_.L=0);var M=Uo[_.L];if(_.L==2?(_.yb=0,_.zb=0):(_.yb=E.v-M>>4,_.zb=E.j-M>>4,0>_.yb&&(_.yb=0),0>_.zb&&(_.zb=0)),_.Va=E.o+15+M>>4,_.Hb=E.va+15+M>>4,_.Hb>_.za&&(_.Hb=_.za),_.Va>_.Ub&&(_.Va=_.Ub),0<_.L){var z=_.ed;for(M=0;4>M;++M){var ee;if(_.Qa.Cb){var ae=_.Qa.Lb[M];_.Qa.Fb||(ae+=z.Tb)}else ae=z.Tb;for(ee=0;1>=ee;++ee){var ie=_.gd[M][ee],le=ae;if(z.Pc&&(le+=z.vd[0],ee&&(le+=z.od[0])),0<(le=0>le?0:63<le?63:le)){var Ae=le;0<z.wb&&(Ae=4<z.wb?Ae>>2:Ae>>1)>9-z.wb&&(Ae=9-z.wb),1>Ae&&(Ae=1),ie.dd=Ae,ie.tc=2*le+Ae,ie.ld=40<=le?2:15<=le?1:0}else ie.tc=0;ie.La=ee}}}M=0}else ce(_,6,"Frame setup failed"),M=_.a;if(M=M==0){if(M){_.$c=0,0<_.Aa||(_.Ic=qy);e:{M=_.Ic,z=4*(Ae=_.za);var me=32*Ae,Ee=Ae+1,Je=0<_.L?Ae*(0<_.Aa?2:1):0,We=(_.Aa==2?2:1)*Ae;if((ie=z+832+(ee=3*(16*M+Uo[_.L])/2*me)+(ae=_.Fa!=null&&0<_.Fa.length?_.Kc.c*_.Kc.i:0))!=ie)M=0;else{if(ie>_.Vb){if(_.Vb=0,_.Ec=i(ie),_.Fc=0,_.Ec==null){M=ce(_,1,"no memory during frame initialization.");break e}_.Vb=ie}ie=_.Ec,le=_.Fc,_.Ac=ie,_.Bc=le,le+=z,_.Gd=s(me,is),_.Hd=0,_.rb=s(Ee+1,po),_.sb=1,_.wa=Je?s(Je,Fa):null,_.Y=0,_.D.Nb=0,_.D.wa=_.wa,_.D.Y=_.Y,0<_.Aa&&(_.D.Y+=Ae),t(!0),_.oc=ie,_.pc=le,le+=832,_.ya=s(We,as),_.aa=0,_.D.ya=_.ya,_.D.aa=_.aa,_.Aa==2&&(_.D.aa+=Ae),_.R=16*Ae,_.B=8*Ae,Ae=(me=Uo[_.L])*_.R,me=me/2*_.B,_.sa=ie,_.ta=le+Ae,_.qa=_.sa,_.ra=_.ta+16*M*_.R+me,_.Ha=_.qa,_.Ia=_.ra+8*M*_.B+me,_.$c=0,le+=ee,_.mb=ae?ie:null,_.nb=ae?le:null,t(le+ae<=_.Fc+_.Vb),Me(_),a(_.Ac,_.Bc,0,z),M=1}}if(M){if(E.ka=0,E.y=_.sa,E.O=_.ta,E.f=_.qa,E.N=_.ra,E.ea=_.Ha,E.Vd=_.Ia,E.fa=_.R,E.Rc=_.B,E.F=null,E.J=0,!mc){for(M=-255;255>=M;++M)Df[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)ed[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)td[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Lf[255+M]=0>M?0:255<M?255:M;mc=1}Za=Xr,wl=zt,hi=ir,Pa=Er,As=Tr,Su=Tt,_l=oc,qi=lc,Bl=Np,So=VA,Nu=Sp,Ki=pu,No=gu,un=If,an=pl,Un=Hi,Rn=xo,Zn=Bp,ti[0]=Ai,ti[1]=xa,ti[2]=zA,ti[3]=Ef,ti[4]=Qi,ti[5]=Fs,ti[6]=du,ti[7]=Ri,ti[8]=fu,ti[9]=GA,Oo[0]=fl,Oo[1]=bo,Oo[2]=ss,Oo[3]=Is,Oo[4]=zn,Oo[5]=os,Oo[6]=yo,Ti[0]=vo,Ti[1]=Os,Ti[2]=Tf,Ti[3]=hl,Ti[4]=Ci,Ti[5]=La,Ti[6]=ml,M=1}else M=0}M&&(M=(function(De,xt){for(De.M=0;De.M<De.Va;++De.M){var lt,Te=De.Jc[De.M&De.Xb],Ue=De.m,dt=De;for(lt=0;lt<dt.za;++lt){var wt=Ue,bt=dt,Qt=bt.Ac,Ut=bt.Bc+4*lt,Jt=bt.zc,Dt=bt.ya[bt.aa+lt];if(bt.Qa.Bb?Dt.$b=fe(wt,bt.Pa.jb[0])?2+fe(wt,bt.Pa.jb[2]):fe(wt,bt.Pa.jb[1]):Dt.$b=0,bt.kc&&(Dt.Ad=fe(wt,bt.Bd)),Dt.Za=!fe(wt,145)+0,Dt.Za){var Pr=Dt.Ob,Kr=0;for(bt=0;4>bt;++bt){var Cr,Br=Jt[0+bt];for(Cr=0;4>Cr;++Cr){Br=kp[Qt[Ut+Cr]][Br];for(var Zr=Nl[fe(wt,Br[0])];0<Zr;)Zr=Nl[2*Zr+fe(wt,Br[Zr])];Br=-Zr,Qt[Ut+Cr]=Br}n(Pr,Kr,Qt,Ut,4),Kr+=4,Jt[0+bt]=Br}}else Br=fe(wt,156)?fe(wt,128)?1:3:fe(wt,163)?2:0,Dt.Ob[0]=Br,a(Qt,Ut,Br,4),a(Jt,0,Br,4);Dt.Dd=fe(wt,142)?fe(wt,114)?fe(wt,183)?1:3:2:0}if(dt.m.Ka)return ce(De,7,"Premature end-of-partition0 encountered.");for(;De.ja<De.za;++De.ja){if(dt=Te,wt=(Ue=De).rb[Ue.sb-1],Qt=Ue.rb[Ue.sb+Ue.ja],lt=Ue.ya[Ue.aa+Ue.ja],Ut=Ue.kc?lt.Ad:0)wt.la=Qt.la=0,lt.Za||(wt.Na=Qt.Na=0),lt.Hc=0,lt.Gc=0,lt.ia=0;else{var zr,gr;if(wt=Qt,Qt=dt,Ut=Ue.Pa.Xc,Jt=Ue.ya[Ue.aa+Ue.ja],Dt=Ue.pb[Jt.$b],bt=Jt.ad,Pr=0,Kr=Ue.rb[Ue.sb-1],Br=Cr=0,a(bt,Pr,0,384),Jt.Za)var sn=0,rr=Ut[3];else{Zr=i(16);var Ar=wt.Na+Kr.Na;if(Ar=ea(Qt,Ut[1],Ar,Dt.Eb,0,Zr,0),wt.Na=Kr.Na=(0<Ar)+0,1<Ar)Za(Zr,0,bt,Pr);else{var Mr=Zr[0]+3>>3;for(Zr=0;256>Zr;Zr+=16)bt[Pr+Zr]=Mr}sn=1,rr=Ut[0]}var Qr=15&wt.la,ga=15&Kr.la;for(Zr=0;4>Zr;++Zr){var na=1&ga;for(Mr=gr=0;4>Mr;++Mr)Qr=Qr>>1|(na=(Ar=ea(Qt,rr,Ar=na+(1&Qr),Dt.Sc,sn,bt,Pr))>sn)<<7,gr=gr<<2|(3<Ar?3:1<Ar?2:bt[Pr+0]!=0),Pr+=16;Qr>>=4,ga=ga>>1|na<<7,Cr=(Cr<<8|gr)>>>0}for(rr=Qr,sn=ga>>4,zr=0;4>zr;zr+=2){for(gr=0,Qr=wt.la>>4+zr,ga=Kr.la>>4+zr,Zr=0;2>Zr;++Zr){for(na=1&ga,Mr=0;2>Mr;++Mr)Ar=na+(1&Qr),Qr=Qr>>1|(na=0<(Ar=ea(Qt,Ut[2],Ar,Dt.Qc,0,bt,Pr)))<<3,gr=gr<<2|(3<Ar?3:1<Ar?2:bt[Pr+0]!=0),Pr+=16;Qr>>=2,ga=ga>>1|na<<5}Br|=gr<<4*zr,rr|=Qr<<4<<zr,sn|=(240&ga)<<zr}wt.la=rr,Kr.la=sn,Jt.Hc=Cr,Jt.Gc=Br,Jt.ia=43690&Br?0:Dt.ia,Ut=!(Cr|Br)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[lt.$b][lt.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Ut),dt.Ka)return ce(De,7,"Premature end-of-file encountered.")}if(Me(De),Ue=xt,dt=1,lt=(Te=De).D,wt=0<Te.L&&Te.M>=Te.zb&&Te.M<=Te.Va,Te.Aa==0)e:{if(lt.M=Te.M,lt.uc=wt,_o(Te,lt),dt=1,lt=(gr=Te.D).Nb,wt=(Br=Uo[Te.L])*Te.R,Qt=Br/2*Te.B,Zr=16*lt*Te.R,Mr=8*lt*Te.B,Ut=Te.sa,Jt=Te.ta-wt+Zr,Dt=Te.qa,bt=Te.ra-Qt+Mr,Pr=Te.Ha,Kr=Te.Ia-Qt+Mr,ga=(Qr=gr.M)==0,Cr=Qr>=Te.Va-1,Te.Aa==2&&_o(Te,gr),gr.uc)for(na=(Ar=Te).D.M,t(Ar.D.uc),gr=Ar.yb;gr<Ar.Hb;++gr){sn=gr,rr=na;var Hn=($n=(xn=Ar).D).Nb;zr=xn.R;var $n=$n.wa[$n.Y+sn],Gn=xn.sa,Vi=xn.ta+16*Hn*zr+16*sn,Gr=$n.dd,Vn=$n.tc;if(Vn!=0)if(t(3<=Vn),xn.L==1)0<sn&&Un(Gn,Vi,zr,Vn+4),$n.La&&Zn(Gn,Vi,zr,Vn),0<rr&&an(Gn,Vi,zr,Vn+4),$n.La&&Rn(Gn,Vi,zr,Vn);else{var ds=xn.B,kl=xn.qa,wc=xn.ra+8*Hn*ds+8*sn,El=xn.Ha,xn=xn.Ia+8*Hn*ds+8*sn;Hn=$n.ld,0<sn&&(qi(Gn,Vi,zr,Vn+4,Gr,Hn),So(kl,wc,El,xn,ds,Vn+4,Gr,Hn)),$n.La&&(Ki(Gn,Vi,zr,Vn,Gr,Hn),un(kl,wc,El,xn,ds,Vn,Gr,Hn)),0<rr&&(_l(Gn,Vi,zr,Vn+4,Gr,Hn),Bl(kl,wc,El,xn,ds,Vn+4,Gr,Hn)),$n.La&&(Nu(Gn,Vi,zr,Vn,Gr,Hn),No(kl,wc,El,xn,ds,Vn,Gr,Hn))}}if(Te.ia&&alert("todo:DitherRow"),Ue.put!=null){if(gr=16*Qr,Qr=16*(Qr+1),ga?(Ue.y=Te.sa,Ue.O=Te.ta+Zr,Ue.f=Te.qa,Ue.N=Te.ra+Mr,Ue.ea=Te.Ha,Ue.W=Te.Ia+Mr):(gr-=Br,Ue.y=Ut,Ue.O=Jt,Ue.f=Dt,Ue.N=bt,Ue.ea=Pr,Ue.W=Kr),Cr||(Qr-=Br),Qr>Ue.o&&(Qr=Ue.o),Ue.F=null,Ue.J=null,Te.Fa!=null&&0<Te.Fa.length&&gr<Qr&&(Ue.J=XA(Te,Ue,gr,Qr-gr),Ue.F=Te.mb,Ue.F==null&&Ue.F.length==0)){dt=ce(Te,3,"Could not decode alpha data.");break e}gr<Ue.j&&(Br=Ue.j-gr,gr=Ue.j,t(!(1&Br)),Ue.O+=Te.R*Br,Ue.N+=Te.B*(Br>>1),Ue.W+=Te.B*(Br>>1),Ue.F!=null&&(Ue.J+=Ue.width*Br)),gr<Qr&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=gr-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=Qr-gr,dt=Ue.put(Ue))}lt+1!=Te.Ic||Cr||(n(Te.sa,Te.ta-wt,Ut,Jt+16*Te.R,wt),n(Te.qa,Te.ra-Qt,Dt,bt+8*Te.B,Qt),n(Te.Ha,Te.Ia-Qt,Pr,Kr+8*Te.B,Qt))}if(!dt)return ce(De,6,"Output aborted.")}return 1})(_,E)),E.bc!=null&&E.bc(E),M&=1}return M?(_.cb=0,M):0}function ct(_,E,M,z,ee){ee=_[E+M+32*z]+(ee>>3),_[E+M+32*z]=-256&ee?0>ee?0:255:ee}function Nt(_,E,M,z,ee,ae){ct(_,E,0,M,z+ee),ct(_,E,1,M,z+ae),ct(_,E,2,M,z-ae),ct(_,E,3,M,z-ee)}function yt(_){return(20091*_>>16)+_}function Ct(_,E,M,z){var ee,ae=0,ie=i(16);for(ee=0;4>ee;++ee){var le=_[E+0]+_[E+8],Ae=_[E+0]-_[E+8],me=(35468*_[E+4]>>16)-yt(_[E+12]),Ee=yt(_[E+4])+(35468*_[E+12]>>16);ie[ae+0]=le+Ee,ie[ae+1]=Ae+me,ie[ae+2]=Ae-me,ie[ae+3]=le-Ee,ae+=4,E++}for(ee=ae=0;4>ee;++ee)le=(_=ie[ae+0]+4)+ie[ae+8],Ae=_-ie[ae+8],me=(35468*ie[ae+4]>>16)-yt(ie[ae+12]),ct(M,z,0,0,le+(Ee=yt(ie[ae+4])+(35468*ie[ae+12]>>16))),ct(M,z,1,0,Ae+me),ct(M,z,2,0,Ae-me),ct(M,z,3,0,le-Ee),ae++,z+=32}function Tt(_,E,M,z){var ee=_[E+0]+4,ae=35468*_[E+4]>>16,ie=yt(_[E+4]),le=35468*_[E+1]>>16;Nt(M,z,0,ee+ie,_=yt(_[E+1]),le),Nt(M,z,1,ee+ae,_,le),Nt(M,z,2,ee-ae,_,le),Nt(M,z,3,ee-ie,_,le)}function zt(_,E,M,z,ee){Ct(_,E,M,z),ee&&Ct(_,E+16,M,z+4)}function ir(_,E,M,z){wl(_,E+0,M,z,1),wl(_,E+32,M,z+128,1)}function Er(_,E,M,z){var ee;for(_=_[E+0]+4,ee=0;4>ee;++ee)for(E=0;4>E;++E)ct(M,z,E,ee,_)}function Tr(_,E,M,z){_[E+0]&&Pa(_,E+0,M,z),_[E+16]&&Pa(_,E+16,M,z+4),_[E+32]&&Pa(_,E+32,M,z+128),_[E+48]&&Pa(_,E+48,M,z+128+4)}function Xr(_,E,M,z){var ee,ae=i(16);for(ee=0;4>ee;++ee){var ie=_[E+0+ee]+_[E+12+ee],le=_[E+4+ee]+_[E+8+ee],Ae=_[E+4+ee]-_[E+8+ee],me=_[E+0+ee]-_[E+12+ee];ae[0+ee]=ie+le,ae[8+ee]=ie-le,ae[4+ee]=me+Ae,ae[12+ee]=me-Ae}for(ee=0;4>ee;++ee)ie=(_=ae[0+4*ee]+3)+ae[3+4*ee],le=ae[1+4*ee]+ae[2+4*ee],Ae=ae[1+4*ee]-ae[2+4*ee],me=_-ae[3+4*ee],M[z+0]=ie+le>>3,M[z+16]=me+Ae>>3,M[z+32]=ie-le>>3,M[z+48]=me-Ae>>3,z+=64}function nn(_,E,M){var z,ee=E-32,ae=ma,ie=255-_[ee-1];for(z=0;z<M;++z){var le,Ae=ae,me=ie+_[E-1];for(le=0;le<M;++le)_[E+le]=Ae[me+_[ee+le]];E+=32}}function xa(_,E){nn(_,E,4)}function Os(_,E){nn(_,E,8)}function bo(_,E){nn(_,E,16)}function ss(_,E){var M;for(M=0;16>M;++M)n(_,E+32*M,_,E-32,16)}function Is(_,E){var M;for(M=16;0<M;--M)a(_,E,_[E-1],16),E+=32}function Us(_,E,M){var z;for(z=0;16>z;++z)a(E,M+32*z,_,16)}function fl(_,E){var M,z=16;for(M=0;16>M;++M)z+=_[E-1+32*M]+_[E+M-32];Us(z>>5,_,E)}function zn(_,E){var M,z=8;for(M=0;16>M;++M)z+=_[E-1+32*M];Us(z>>4,_,E)}function os(_,E){var M,z=8;for(M=0;16>M;++M)z+=_[E+M-32];Us(z>>4,_,E)}function yo(_,E){Us(128,_,E)}function fr(_,E,M){return _+2*E+M+2>>2}function zA(_,E){var M,z=E-32;for(z=new Uint8Array([fr(_[z-1],_[z+0],_[z+1]),fr(_[z+0],_[z+1],_[z+2]),fr(_[z+1],_[z+2],_[z+3]),fr(_[z+2],_[z+3],_[z+4])]),M=0;4>M;++M)n(_,E+32*M,z,0,z.length)}function Ef(_,E){var M=_[E-1],z=_[E-1+32],ee=_[E-1+64],ae=_[E-1+96];Qe(_,E+0,16843009*fr(_[E-1-32],M,z)),Qe(_,E+32,16843009*fr(M,z,ee)),Qe(_,E+64,16843009*fr(z,ee,ae)),Qe(_,E+96,16843009*fr(ee,ae,ae))}function Ai(_,E){var M,z=4;for(M=0;4>M;++M)z+=_[E+M-32]+_[E-1+32*M];for(z>>=3,M=0;4>M;++M)a(_,E+32*M,z,4)}function Qi(_,E){var M=_[E-1+0],z=_[E-1+32],ee=_[E-1+64],ae=_[E-1-32],ie=_[E+0-32],le=_[E+1-32],Ae=_[E+2-32],me=_[E+3-32];_[E+0+96]=fr(z,ee,_[E-1+96]),_[E+1+96]=_[E+0+64]=fr(M,z,ee),_[E+2+96]=_[E+1+64]=_[E+0+32]=fr(ae,M,z),_[E+3+96]=_[E+2+64]=_[E+1+32]=_[E+0+0]=fr(ie,ae,M),_[E+3+64]=_[E+2+32]=_[E+1+0]=fr(le,ie,ae),_[E+3+32]=_[E+2+0]=fr(Ae,le,ie),_[E+3+0]=fr(me,Ae,le)}function du(_,E){var M=_[E+1-32],z=_[E+2-32],ee=_[E+3-32],ae=_[E+4-32],ie=_[E+5-32],le=_[E+6-32],Ae=_[E+7-32];_[E+0+0]=fr(_[E+0-32],M,z),_[E+1+0]=_[E+0+32]=fr(M,z,ee),_[E+2+0]=_[E+1+32]=_[E+0+64]=fr(z,ee,ae),_[E+3+0]=_[E+2+32]=_[E+1+64]=_[E+0+96]=fr(ee,ae,ie),_[E+3+32]=_[E+2+64]=_[E+1+96]=fr(ae,ie,le),_[E+3+64]=_[E+2+96]=fr(ie,le,Ae),_[E+3+96]=fr(le,Ae,Ae)}function Fs(_,E){var M=_[E-1+0],z=_[E-1+32],ee=_[E-1+64],ae=_[E-1-32],ie=_[E+0-32],le=_[E+1-32],Ae=_[E+2-32],me=_[E+3-32];_[E+0+0]=_[E+1+64]=ae+ie+1>>1,_[E+1+0]=_[E+2+64]=ie+le+1>>1,_[E+2+0]=_[E+3+64]=le+Ae+1>>1,_[E+3+0]=Ae+me+1>>1,_[E+0+96]=fr(ee,z,M),_[E+0+64]=fr(z,M,ae),_[E+0+32]=_[E+1+96]=fr(M,ae,ie),_[E+1+32]=_[E+2+96]=fr(ae,ie,le),_[E+2+32]=_[E+3+96]=fr(ie,le,Ae),_[E+3+32]=fr(le,Ae,me)}function Ri(_,E){var M=_[E+0-32],z=_[E+1-32],ee=_[E+2-32],ae=_[E+3-32],ie=_[E+4-32],le=_[E+5-32],Ae=_[E+6-32],me=_[E+7-32];_[E+0+0]=M+z+1>>1,_[E+1+0]=_[E+0+64]=z+ee+1>>1,_[E+2+0]=_[E+1+64]=ee+ae+1>>1,_[E+3+0]=_[E+2+64]=ae+ie+1>>1,_[E+0+32]=fr(M,z,ee),_[E+1+32]=_[E+0+96]=fr(z,ee,ae),_[E+2+32]=_[E+1+96]=fr(ee,ae,ie),_[E+3+32]=_[E+2+96]=fr(ae,ie,le),_[E+3+64]=fr(ie,le,Ae),_[E+3+96]=fr(le,Ae,me)}function GA(_,E){var M=_[E-1+0],z=_[E-1+32],ee=_[E-1+64],ae=_[E-1+96];_[E+0+0]=M+z+1>>1,_[E+2+0]=_[E+0+32]=z+ee+1>>1,_[E+2+32]=_[E+0+64]=ee+ae+1>>1,_[E+1+0]=fr(M,z,ee),_[E+3+0]=_[E+1+32]=fr(z,ee,ae),_[E+3+32]=_[E+1+64]=fr(ee,ae,ae),_[E+3+64]=_[E+2+64]=_[E+0+96]=_[E+1+96]=_[E+2+96]=_[E+3+96]=ae}function fu(_,E){var M=_[E-1+0],z=_[E-1+32],ee=_[E-1+64],ae=_[E-1+96],ie=_[E-1-32],le=_[E+0-32],Ae=_[E+1-32],me=_[E+2-32];_[E+0+0]=_[E+2+32]=M+ie+1>>1,_[E+0+32]=_[E+2+64]=z+M+1>>1,_[E+0+64]=_[E+2+96]=ee+z+1>>1,_[E+0+96]=ae+ee+1>>1,_[E+3+0]=fr(le,Ae,me),_[E+2+0]=fr(ie,le,Ae),_[E+1+0]=_[E+3+32]=fr(M,ie,le),_[E+1+32]=_[E+3+64]=fr(z,M,ie),_[E+1+64]=_[E+3+96]=fr(ee,z,M),_[E+1+96]=fr(ae,ee,z)}function Tf(_,E){var M;for(M=0;8>M;++M)n(_,E+32*M,_,E-32,8)}function hl(_,E){var M;for(M=0;8>M;++M)a(_,E,_[E-1],8),E+=32}function Ds(_,E,M){var z;for(z=0;8>z;++z)a(E,M+32*z,_,8)}function vo(_,E){var M,z=8;for(M=0;8>M;++M)z+=_[E+M-32]+_[E-1+32*M];Ds(z>>4,_,E)}function La(_,E){var M,z=4;for(M=0;8>M;++M)z+=_[E+M-32];Ds(z>>3,_,E)}function Ci(_,E){var M,z=4;for(M=0;8>M;++M)z+=_[E-1+32*M];Ds(z>>3,_,E)}function ml(_,E){Ds(128,_,E)}function Ls(_,E,M){var z=_[E-M],ee=_[E+0],ae=3*(ee-z)+Mf[1020+_[E-2*M]-_[E+M]],ie=pc[112+(ae+4>>3)];_[E-M]=ma[255+z+pc[112+(ae+3>>3)]],_[E+0]=ma[255+ee-ie]}function Of(_,E,M,z){var ee=_[E+0],ae=_[E+M];return zi[255+_[E-2*M]-_[E-M]]>z||zi[255+ae-ee]>z}function hu(_,E,M,z){return 4*zi[255+_[E-M]-_[E+0]]+zi[255+_[E-2*M]-_[E+M]]<=z}function mu(_,E,M,z,ee){var ae=_[E-3*M],ie=_[E-2*M],le=_[E-M],Ae=_[E+0],me=_[E+M],Ee=_[E+2*M],Je=_[E+3*M];return 4*zi[255+le-Ae]+zi[255+ie-me]>z?0:zi[255+_[E-4*M]-ae]<=ee&&zi[255+ae-ie]<=ee&&zi[255+ie-le]<=ee&&zi[255+Je-Ee]<=ee&&zi[255+Ee-me]<=ee&&zi[255+me-Ae]<=ee}function pl(_,E,M,z){var ee=2*z+1;for(z=0;16>z;++z)hu(_,E+z,M,ee)&&Ls(_,E+z,M)}function Hi(_,E,M,z){var ee=2*z+1;for(z=0;16>z;++z)hu(_,E+z*M,1,ee)&&Ls(_,E+z*M,1)}function xo(_,E,M,z){var ee;for(ee=3;0<ee;--ee)pl(_,E+=4*M,M,z)}function Bp(_,E,M,z){var ee;for(ee=3;0<ee;--ee)Hi(_,E+=4,M,z)}function gl(_,E,M,z,ee,ae,ie,le){for(ae=2*ae+1;0<ee--;){if(mu(_,E,M,ae,ie))if(Of(_,E,M,le))Ls(_,E,M);else{var Ae=_,me=E,Ee=M,Je=Ae[me-2*Ee],We=Ae[me-Ee],De=Ae[me+0],xt=Ae[me+Ee],lt=Ae[me+2*Ee],Te=27*(dt=Mf[1020+3*(De-We)+Mf[1020+Je-xt]])+63>>7,Ue=18*dt+63>>7,dt=9*dt+63>>7;Ae[me-3*Ee]=ma[255+Ae[me-3*Ee]+dt],Ae[me-2*Ee]=ma[255+Je+Ue],Ae[me-Ee]=ma[255+We+Te],Ae[me+0]=ma[255+De-Te],Ae[me+Ee]=ma[255+xt-Ue],Ae[me+2*Ee]=ma[255+lt-dt]}E+=z}}function ls(_,E,M,z,ee,ae,ie,le){for(ae=2*ae+1;0<ee--;){if(mu(_,E,M,ae,ie))if(Of(_,E,M,le))Ls(_,E,M);else{var Ae=_,me=E,Ee=M,Je=Ae[me-Ee],We=Ae[me+0],De=Ae[me+Ee],xt=pc[112+((lt=3*(We-Je))+4>>3)],lt=pc[112+(lt+3>>3)],Te=xt+1>>1;Ae[me-2*Ee]=ma[255+Ae[me-2*Ee]+Te],Ae[me-Ee]=ma[255+Je+lt],Ae[me+0]=ma[255+We-xt],Ae[me+Ee]=ma[255+De-Te]}E+=z}}function oc(_,E,M,z,ee,ae){gl(_,E,M,1,16,z,ee,ae)}function lc(_,E,M,z,ee,ae){gl(_,E,1,M,16,z,ee,ae)}function Sp(_,E,M,z,ee,ae){var ie;for(ie=3;0<ie;--ie)ls(_,E+=4*M,M,1,16,z,ee,ae)}function pu(_,E,M,z,ee,ae){var ie;for(ie=3;0<ie;--ie)ls(_,E+=4,1,M,16,z,ee,ae)}function Np(_,E,M,z,ee,ae,ie,le){gl(_,E,ee,1,8,ae,ie,le),gl(M,z,ee,1,8,ae,ie,le)}function VA(_,E,M,z,ee,ae,ie,le){gl(_,E,1,ee,8,ae,ie,le),gl(M,z,1,ee,8,ae,ie,le)}function gu(_,E,M,z,ee,ae,ie,le){ls(_,E+4*ee,ee,1,8,ae,ie,le),ls(M,z+4*ee,ee,1,8,ae,ie,le)}function If(_,E,M,z,ee,ae,ie,le){ls(_,E+4,1,ee,8,ae,ie,le),ls(M,z+4,1,ee,8,ae,ie,le)}function bu(){this.ba=new Le,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function WA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function YA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yu(){this.ua=0,this.Wa=new Z,this.vb=new Z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new I}function Cp(){this.xb=this.a=0,this.l=new Ts,this.ca=new Le,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yu,this.ab=0,this.gc=s(4,YA),this.Oc=0}function vu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ts,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cc(_,E,M,z,ee,ae,ie){for(_=_==null?0:_[E+0],E=0;E<ie;++E)ee[ae+E]=_+M[z+E]&255,_=ee[ae+E]}function xu(_,E,M,z,ee,ae,ie){var le;if(_==null)cc(null,null,M,z,ee,ae,ie);else for(le=0;le<ie;++le)ee[ae+le]=_[E+le]+M[z+le]&255}function bl(_,E,M,z,ee,ae,ie){if(_==null)cc(null,null,M,z,ee,ae,ie);else{var le,Ae=_[E+0],me=Ae,Ee=Ae;for(le=0;le<ie;++le)me=Ee+(Ae=_[E+le])-me,Ee=M[z+le]+(-256&me?0>me?0:255:me)&255,me=Ae,ee[ae+le]=Ee}}function XA(_,E,M,z){var ee=E.width,ae=E.o;if(t(_!=null&&E!=null),0>M||0>=z||M+z>ae)return null;if(!_.Cc){if(_.ga==null){var ie;if(_.ga=new vu,(ie=_.ga==null)||(ie=E.width*E.o,t(_.Gb.length==0),_.Gb=i(ie),_.Uc=0,_.Gb==null?ie=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ie=1),ie=!ie),!ie){ie=_.ga;var le=_.Fa,Ae=_.P,me=_.qc,Ee=_.mb,Je=_.nb,We=Ae+1,De=me-1,xt=ie.l;if(t(le!=null&&Ee!=null&&E!=null),$s[0]=null,$s[1]=cc,$s[2]=xu,$s[3]=bl,ie.ca=Ee,ie.tb=Je,ie.c=E.width,ie.i=E.height,t(0<ie.c&&0<ie.i),1>=me)E=0;else if(ie.$a=le[Ae+0]>>0&3,ie.Z=le[Ae+0]>>2&3,ie.Lc=le[Ae+0]>>4&3,Ae=le[Ae+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||Ae)E=0;else if(xt.put=Pt,xt.ac=Et,xt.bc=jr,xt.ma=ie,xt.width=E.width,xt.height=E.height,xt.Da=E.Da,xt.v=E.v,xt.va=E.va,xt.j=E.j,xt.o=E.o,ie.$a)e:{t(ie.$a==1),E=Jn();t:for(;;){if(E==null){E=0;break e}if(t(ie!=null),ie.mc=E,E.c=ie.c,E.i=ie.i,E.l=ie.l,E.l.ma=ie,E.l.width=ie.c,E.l.height=ie.i,E.a=0,re(E.m,le,We,De),!Yr(ie.c,ie.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&Xa(E.s)?(ie.ic=1,le=E.c*E.i,E.Ta=null,E.Ua=0,E.V=i(le),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(ie.ic=0,E=ks(E,ie.c)),!E))break t;E=1;break e}ie.mc=null,E=0}else E=De>=ie.c*ie.i;ie=!E}if(ie)return null;_.ga.Lc!=1?_.Ga=0:z=ae-M}t(_.ga!=null),t(M+z<=ae);e:{if(E=(le=_.ga).c,ae=le.l.o,le.$a==0){if(We=_.rc,De=_.Vc,xt=_.Fa,Ae=_.P+1+M*E,me=_.mb,Ee=_.nb+M*E,t(Ae<=_.P+_.qc),le.Z!=0)for(t($s[le.Z]!=null),ie=0;ie<z;++ie)$s[le.Z](We,De,xt,Ae,me,Ee,E),We=me,De=Ee,Ee+=E,Ae+=E;else for(ie=0;ie<z;++ie)n(me,Ee,xt,Ae,E),We=me,De=Ee,Ee+=E,Ae+=E;_.rc=We,_.Vc=De}else{if(t(le.mc!=null),E=M+z,t((ie=le.mc)!=null),t(E<=ie.i),ie.C>=E)E=1;else if(le.ic||qe(),le.ic){le=ie.V,We=ie.Ba,De=ie.c;var lt=ie.i,Te=(xt=1,Ae=ie.$/De,me=ie.$%De,Ee=ie.m,Je=ie.s,ie.$),Ue=De*lt,dt=De*E,wt=Je.wc,bt=Te<dt?yn(Je,me,Ae):null;t(Te<=Ue),t(E<=lt),t(Xa(Je));t:for(;;){for(;!Ee.h&&Te<dt;){if(me&wt||(bt=yn(Je,me,Ae)),t(bt!=null),se(Ee),256>(lt=$r(bt.G[0],bt.H[0],Ee)))le[We+Te]=lt,++Te,++me>=De&&(me=0,++Ae<=E&&!(Ae%16)&&da(ie,Ae));else{if(!(280>lt)){xt=0;break t}lt=mr(lt-256,Ee);var Qt,Ut=$r(bt.G[4],bt.H[4],Ee);if(se(Ee),!(Te>=(Ut=Nr(De,Ut=mr(Ut,Ee)))&&Ue-Te>=lt)){xt=0;break t}for(Qt=0;Qt<lt;++Qt)le[We+Te+Qt]=le[We+Te+Qt-Ut];for(Te+=lt,me+=lt;me>=De;)me-=De,++Ae<=E&&!(Ae%16)&&da(ie,Ae);Te<dt&&me&wt&&(bt=yn(Je,me,Ae))}t(Ee.h==G(Ee))}da(ie,Ae>E?E:Ae);break t}!xt||Ee.h&&Te<Ue?(xt=0,ie.a=Ee.h?5:3):ie.$=Te,E=xt}else E=fa(ie,ie.V,ie.Ba,ie.c,ie.i,E,mo);if(!E){z=0;break e}}M+z>=ae&&(_.Cc=1),z=1}if(!z)return null;if(_.Cc&&((z=_.ga)!=null&&(z.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+M*ee}function L(_,E,M,z,ee,ae){for(;0<ee--;){var ie,le=_,Ae=E+(M?1:0),me=_,Ee=E+(M?0:3);for(ie=0;ie<z;++ie){var Je=me[Ee+4*ie];Je!=255&&(Je*=32897,le[Ae+4*ie+0]=le[Ae+4*ie+0]*Je>>23,le[Ae+4*ie+1]=le[Ae+4*ie+1]*Je>>23,le[Ae+4*ie+2]=le[Ae+4*ie+2]*Je>>23)}E+=ae}}function te(_,E,M,z,ee){for(;0<z--;){var ae;for(ae=0;ae<M;++ae){var ie=_[E+2*ae+0],le=15&(me=_[E+2*ae+1]),Ae=4369*le,me=(240&me|me>>4)*Ae>>16;_[E+2*ae+0]=(240&ie|ie>>4)*Ae>>16&240|(15&ie|ie<<4)*Ae>>16>>4&15,_[E+2*ae+1]=240&me|le}E+=ee}}function be(_,E,M,z,ee,ae,ie,le){var Ae,me,Ee=255;for(me=0;me<ee;++me){for(Ae=0;Ae<z;++Ae){var Je=_[E+Ae];ae[ie+4*Ae]=Je,Ee&=Je}E+=M,ie+=le}return Ee!=255}function ke(_,E,M,z,ee){var ae;for(ae=0;ae<ee;++ae)M[z+ae]=_[E+ae]>>8}function qe(){Co=L,_a=te,ei=be,hc=ke}function ut(_,E,M){D[_]=function(z,ee,ae,ie,le,Ae,me,Ee,Je,We,De,xt,lt,Te,Ue,dt,wt){var bt,Qt=wt-1>>1,Ut=le[Ae+0]|me[Ee+0]<<16,Jt=Je[We+0]|De[xt+0]<<16;t(z!=null);var Dt=3*Ut+Jt+131074>>2;for(E(z[ee+0],255&Dt,Dt>>16,lt,Te),ae!=null&&(Dt=3*Jt+Ut+131074>>2,E(ae[ie+0],255&Dt,Dt>>16,Ue,dt)),bt=1;bt<=Qt;++bt){var Pr=le[Ae+bt]|me[Ee+bt]<<16,Kr=Je[We+bt]|De[xt+bt]<<16,Cr=Ut+Pr+Jt+Kr+524296,Br=Cr+2*(Pr+Jt)>>3;Dt=Br+Ut>>1,Ut=(Cr=Cr+2*(Ut+Kr)>>3)+Pr>>1,E(z[ee+2*bt-1],255&Dt,Dt>>16,lt,Te+(2*bt-1)*M),E(z[ee+2*bt-0],255&Ut,Ut>>16,lt,Te+(2*bt-0)*M),ae!=null&&(Dt=Cr+Jt>>1,Ut=Br+Kr>>1,E(ae[ie+2*bt-1],255&Dt,Dt>>16,Ue,dt+(2*bt-1)*M),E(ae[ie+2*bt+0],255&Ut,Ut>>16,Ue,dt+(2*bt+0)*M)),Ut=Pr,Jt=Kr}1&wt||(Dt=3*Ut+Jt+131074>>2,E(z[ee+wt-1],255&Dt,Dt>>16,lt,Te+(wt-1)*M),ae!=null&&(Dt=3*Jt+Ut+131074>>2,E(ae[ie+wt-1],255&Dt,Dt>>16,Ue,dt+(wt-1)*M)))}}function jt(){pa[Qa]=Io,pa[Cu]=qs,pa[Rs]=Cl,pa[rd]=Rf,pa[gc]=Hf,pa[jo]=Eu,pa[Pf]=$f,pa[nd]=qs,pa[Sl]=Rf,pa[ko]=Hf,pa[ju]=Eu}function Mt(_){return _&-16384?0>_?0:255:_>>b2}function Xt(_,E){return Mt((19077*_>>8)+(26149*E>>8)-14234)}function yr(_,E,M){return Mt((19077*_>>8)-(6419*E>>8)-(13320*M>>8)+8708)}function xr(_,E){return Mt((19077*_>>8)+(33050*E>>8)-17685)}function Or(_,E,M,z,ee){z[ee+0]=Xt(_,M),z[ee+1]=yr(_,E,M),z[ee+2]=xr(_,E)}function vn(_,E,M,z,ee){z[ee+0]=xr(_,E),z[ee+1]=yr(_,E,M),z[ee+2]=Xt(_,M)}function kn(_,E,M,z,ee){var ae=yr(_,E,M);E=ae<<3&224|xr(_,E)>>3,z[ee+0]=248&Xt(_,M)|ae>>5,z[ee+1]=E}function Pn(_,E,M,z,ee){var ae=240&xr(_,E)|15;z[ee+0]=240&Xt(_,M)|yr(_,E,M)>>4,z[ee+1]=ae}function Qn(_,E,M,z,ee){z[ee+0]=255,Or(_,E,M,z,ee+1)}function ha(_,E,M,z,ee){vn(_,E,M,z,ee),z[ee+3]=255}function cs(_,E,M,z,ee){Or(_,E,M,z,ee),z[ee+3]=255}function ji(_,E){return 0>_?0:_>E?E:_}function Ms(_,E,M){D[_]=function(z,ee,ae,ie,le,Ae,me,Ee,Je){for(var We=Ee+(-2&Je)*M;Ee!=We;)E(z[ee+0],ae[ie+0],le[Ae+0],me,Ee),E(z[ee+1],ae[ie+0],le[Ae+0],me,Ee+M),ee+=2,++ie,++Ae,Ee+=2*M;1&Je&&E(z[ee+0],ae[ie+0],le[Ae+0],me,Ee)}}function JA(_,E,M){return M==0?_==0?E==0?6:5:E==0?4:0:M}function wo(_,E,M,z,ee){switch(_>>>30){case 3:wl(E,M,z,ee,0);break;case 2:Su(E,M,z,ee);break;case 1:Pa(E,M,z,ee)}}function _o(_,E){var M,z,ee=E.M,ae=E.Nb,ie=_.oc,le=_.pc+40,Ae=_.oc,me=_.pc+584,Ee=_.oc,Je=_.pc+600;for(M=0;16>M;++M)ie[le+32*M-1]=129;for(M=0;8>M;++M)Ae[me+32*M-1]=129,Ee[Je+32*M-1]=129;for(0<ee?ie[le-1-32]=Ae[me-1-32]=Ee[Je-1-32]=129:(a(ie,le-32-1,127,21),a(Ae,me-32-1,127,9),a(Ee,Je-32-1,127,9)),z=0;z<_.za;++z){var We=E.ya[E.aa+z];if(0<z){for(M=-1;16>M;++M)n(ie,le+32*M-4,ie,le+32*M+12,4);for(M=-1;8>M;++M)n(Ae,me+32*M-4,Ae,me+32*M+4,4),n(Ee,Je+32*M-4,Ee,Je+32*M+4,4)}var De=_.Gd,xt=_.Hd+z,lt=We.ad,Te=We.Hc;if(0<ee&&(n(ie,le-32,De[xt].y,0,16),n(Ae,me-32,De[xt].f,0,8),n(Ee,Je-32,De[xt].ea,0,8)),We.Za){var Ue=ie,dt=le-32+16;for(0<ee&&(z>=_.za-1?a(Ue,dt,De[xt].y[15],4):n(Ue,dt,De[xt+1].y,0,4)),M=0;4>M;M++)Ue[dt+128+M]=Ue[dt+256+M]=Ue[dt+384+M]=Ue[dt+0+M];for(M=0;16>M;++M,Te<<=2)Ue=ie,dt=le+xc[M],ti[We.Ob[M]](Ue,dt),wo(Te,lt,16*+M,Ue,dt)}else if(Ue=JA(z,ee,We.Ob[0]),Oo[Ue](ie,le),Te!=0)for(M=0;16>M;++M,Te<<=2)wo(Te,lt,16*+M,ie,le+xc[M]);for(M=We.Gc,Ue=JA(z,ee,We.Dd),Ti[Ue](Ae,me),Ti[Ue](Ee,Je),Te=lt,Ue=Ae,dt=me,255&(We=M>>0)&&(170&We?hi(Te,256,Ue,dt):As(Te,256,Ue,dt)),We=Ee,Te=Je,255&(M>>=8)&&(170&M?hi(lt,320,We,Te):As(lt,320,We,Te)),ee<_.Ub-1&&(n(De[xt].y,0,ie,le+480,16),n(De[xt].f,0,Ae,me+224,8),n(De[xt].ea,0,Ee,Je+224,8)),M=8*ae*_.B,De=_.sa,xt=_.ta+16*z+16*ae*_.R,lt=_.qa,We=_.ra+8*z+M,Te=_.Ha,Ue=_.Ia+8*z+M,M=0;16>M;++M)n(De,xt+M*_.R,ie,le+32*M,16);for(M=0;8>M;++M)n(lt,We+M*_.B,Ae,me+32*M,8),n(Te,Ue+M*_.B,Ee,Je+32*M,8)}}function wu(_,E,M,z,ee,ae,ie,le,Ae){var me=[0],Ee=[0],Je=0,We=Ae!=null?Ae.kd:0,De=Ae??new WA;if(_==null||12>M)return 7;De.data=_,De.w=E,De.ha=M,E=[E],M=[M],De.gb=[De.gb];e:{var xt=E,lt=M,Te=De.gb;if(t(_!=null),t(lt!=null),t(Te!=null),Te[0]=0,12<=lt[0]&&!r(_,xt[0],"RIFF")){if(r(_,xt[0]+8,"WEBP")){Te=3;break e}var Ue=ze(_,xt[0]+4);if(12>Ue||4294967286<Ue){Te=3;break e}if(We&&Ue>lt[0]-8){Te=7;break e}Te[0]=Ue,xt[0]+=12,lt[0]-=12}Te=0}if(Te!=0)return Te;for(Ue=0<De.gb[0],M=M[0];;){e:{var dt=_;lt=E,Te=M;var wt=me,bt=Ee,Qt=xt=[0];if((Dt=Je=[Je])[0]=0,8>Te[0])Te=7;else{if(!r(dt,lt[0],"VP8X")){if(ze(dt,lt[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var Ut=ze(dt,lt[0]+8),Jt=1+de(dt,lt[0]+12);if(2147483648<=Jt*(dt=1+de(dt,lt[0]+15))){Te=3;break e}Qt!=null&&(Qt[0]=Ut),wt!=null&&(wt[0]=Jt),bt!=null&&(bt[0]=dt),lt[0]+=18,Te[0]-=18,Dt[0]=1}Te=0}}if(Je=Je[0],xt=xt[0],Te!=0)return Te;if(lt=!!(2&xt),!Ue&&Je)return 3;if(ae!=null&&(ae[0]=!!(16&xt)),ie!=null&&(ie[0]=lt),le!=null&&(le[0]=0),ie=me[0],xt=Ee[0],Je&&lt&&Ae==null){Te=0;break}if(4>M){Te=7;break}if(Ue&&Je||!Ue&&!Je&&!r(_,E[0],"ALPH")){M=[M],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{Ut=_,Te=E,Ue=M;var Dt=De.gb;wt=De.na,bt=De.P,Qt=De.Sa,Jt=22,t(Ut!=null),t(Ue!=null),dt=Te[0];var Pr=Ue[0];for(t(wt!=null),t(Qt!=null),wt[0]=null,bt[0]=null,Qt[0]=0;;){if(Te[0]=dt,Ue[0]=Pr,8>Pr){Te=7;break e}var Kr=ze(Ut,dt+4);if(4294967286<Kr){Te=3;break e}var Cr=8+Kr+1&-2;if(Jt+=Cr,0<Dt&&Jt>Dt){Te=3;break e}if(!r(Ut,dt,"VP8 ")||!r(Ut,dt,"VP8L")){Te=0;break e}if(Pr[0]<Cr){Te=7;break e}r(Ut,dt,"ALPH")||(wt[0]=Ut,bt[0]=dt+8,Qt[0]=Kr),dt+=Cr,Pr-=Cr}}if(M=M[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Te!=0)break}M=[M],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Dt=_,Te=E,Ue=M,wt=De.gb[0],bt=De.Ja,Qt=De.xa,Ut=Te[0],dt=!r(Dt,Ut,"VP8 "),Jt=!r(Dt,Ut,"VP8L"),t(Dt!=null),t(Ue!=null),t(bt!=null),t(Qt!=null),8>Ue[0])Te=7;else{if(dt||Jt){if(Dt=ze(Dt,Ut+4),12<=wt&&Dt>wt-12){Te=3;break e}if(We&&Dt>Ue[0]-8){Te=7;break e}bt[0]=Dt,Te[0]+=8,Ue[0]-=8,Qt[0]=Jt}else Qt[0]=5<=Ue[0]&&Dt[Ut+0]==47&&!(Dt[Ut+4]>>5),bt[0]=Ue[0];Te=0}if(M=M[0],De.Ja=De.Ja[0],De.xa=De.xa[0],E=E[0],Te!=0)break;if(4294967286<De.Ja)return 3;if(le==null||lt||(le[0]=De.xa?2:1),ie=[ie],xt=[xt],De.xa){if(5>M){Te=7;break}le=ie,We=xt,lt=ae,_==null||5>M?_=0:5<=M&&_[E+0]==47&&!(_[E+4]>>5)?(Ue=[0],Dt=[0],wt=[0],re(bt=new P,_,E,M),Ft(bt,Ue,Dt,wt)?(le!=null&&(le[0]=Ue[0]),We!=null&&(We[0]=Dt[0]),lt!=null&&(lt[0]=wt[0]),_=1):_=0):_=0}else{if(10>M){Te=7;break}le=xt,_==null||10>M||!Be(_,E+3,M-3)?_=0:(We=_[E+0]|_[E+1]<<8|_[E+2]<<16,lt=16383&(_[E+7]<<8|_[E+6]),_=16383&(_[E+9]<<8|_[E+8]),1&We||3<(We>>1&7)||!(We>>4&1)||We>>5>=De.Ja||!lt||!_?_=0:(ie&&(ie[0]=lt),le&&(le[0]=_),_=1))}if(!_||(ie=ie[0],xt=xt[0],Je&&(me[0]!=ie||Ee[0]!=xt)))return 3;Ae!=null&&(Ae[0]=De,Ae.offset=E-Ae.w,t(4294967286>E-Ae.w),t(Ae.offset==Ae.ha-M));break}return Te==0||Te==7&&Je&&Ae==null?(ae!=null&&(ae[0]|=De.na!=null&&0<De.na.length),z!=null&&(z[0]=ie),ee!=null&&(ee[0]=xt),0):Te}function yl(_,E,M){var z=E.width,ee=E.height,ae=0,ie=0,le=z,Ae=ee;if(E.Da=_!=null&&0<_.Da,E.Da&&(le=_.cd,Ae=_.bd,ae=_.v,ie=_.j,11>M||(ae&=-2,ie&=-2),0>ae||0>ie||0>=le||0>=Ae||ae+le>z||ie+Ae>ee))return 0;if(E.v=ae,E.j=ie,E.va=ae+le,E.o=ie+Ae,E.U=le,E.T=Ae,E.da=_!=null&&0<_.da,E.da){if(!Ke(le,Ae,M=[_.ib],ae=[_.hb]))return 0;E.ib=M[0],E.hb=ae[0]}return E.ob=_!=null&&_.ob,E.Kb=_==null||!_.Sd,E.da&&(E.ob=E.ib<3*z/4&&E.hb<3*ee/4,E.Kb=0),1}function _u(_){if(_==null)return 2;if(11>_.S){var E=_.f.RGBA;E.fb+=(_.height-1)*E.A,E.A=-E.A}else E=_.f.kb,_=_.height,E.O+=(_-1)*E.fa,E.fa=-E.fa,E.N+=(_-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(_-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(_-1)*E.lb,E.lb=-E.lb);return 0}function uc(_,E,M,z){if(z==null||0>=_||0>=E)return 2;if(M!=null){if(M.Da){var ee=M.cd,ae=M.bd,ie=-2&M.v,le=-2&M.j;if(0>ie||0>le||0>=ee||0>=ae||ie+ee>_||le+ae>E)return 2;_=ee,E=ae}if(M.da){if(!Ke(_,E,ee=[M.ib],ae=[M.hb]))return 2;_=ee[0],E=ae[0]}}z.width=_,z.height=E;e:{var Ae=z.width,me=z.height;if(_=z.S,0>=Ae||0>=me||!(_>=Qa&&13>_))_=2;else{if(0>=z.Rd&&z.sd==null){ie=ae=ee=E=0;var Ee=(le=Ae*Ky[_])*me;if(11>_||(ae=(me+1)/2*(E=(Ae+1)/2),_==12&&(ie=(ee=Ae)*me)),(me=i(Ee+2*ae+ie))==null){_=1;break e}z.sd=me,11>_?((Ae=z.f.RGBA).eb=me,Ae.fb=0,Ae.A=le,Ae.size=Ee):((Ae=z.f.kb).y=me,Ae.O=0,Ae.fa=le,Ae.Fd=Ee,Ae.f=me,Ae.N=0+Ee,Ae.Ab=E,Ae.Cd=ae,Ae.ea=me,Ae.W=0+Ee+ae,Ae.Db=E,Ae.Ed=ae,_==12&&(Ae.F=me,Ae.J=0+Ee+2*ae),Ae.Tc=ie,Ae.lb=ee)}if(E=1,ee=z.S,ae=z.width,ie=z.height,ee>=Qa&&13>ee)if(11>ee)_=z.f.RGBA,E&=(le=Math.abs(_.A))*(ie-1)+ae<=_.size,E&=le>=ae*Ky[ee],E&=_.eb!=null;else{_=z.f.kb,le=(ae+1)/2,Ee=(ie+1)/2,Ae=Math.abs(_.fa),me=Math.abs(_.Ab);var Je=Math.abs(_.Db),We=Math.abs(_.lb),De=We*(ie-1)+ae;E&=Ae*(ie-1)+ae<=_.Fd,E&=me*(Ee-1)+le<=_.Cd,E=(E&=Je*(Ee-1)+le<=_.Ed)&Ae>=ae&me>=le&Je>=le,E&=_.y!=null,E&=_.f!=null,E&=_.ea!=null,ee==12&&(E&=We>=ae,E&=De<=_.Tc,E&=_.F!=null)}else E=0;_=E?0:2}}return _!=0||M!=null&&M.fd&&(_=_u(z)),_}var Ma=64,vl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ac=24,dc=32,Bu=8,di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];He("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(_){return _},D.Predictor2=function(_,E,M){return E[M+0]},D.Predictor3=function(_,E,M){return E[M+1]},D.Predictor4=function(_,E,M){return E[M-1]},D.Predictor5=function(_,E,M){return ge(ge(_,E[M+1]),E[M+0])},D.Predictor6=function(_,E,M){return ge(_,E[M-1])},D.Predictor7=function(_,E,M){return ge(_,E[M+0])},D.Predictor8=function(_,E,M){return ge(E[M-1],E[M+0])},D.Predictor9=function(_,E,M){return ge(E[M+0],E[M+1])},D.Predictor10=function(_,E,M){return ge(ge(_,E[M-1]),ge(E[M+0],E[M+1]))},D.Predictor11=function(_,E,M){var z=E[M+0];return 0>=Xe(z>>24&255,_>>24&255,(E=E[M-1])>>24&255)+Xe(z>>16&255,_>>16&255,E>>16&255)+Xe(z>>8&255,_>>8&255,E>>8&255)+Xe(255&z,255&_,255&E)?z:_},D.Predictor12=function(_,E,M){var z=E[M+0];return(je((_>>24&255)+(z>>24&255)-((E=E[M-1])>>24&255))<<24|je((_>>16&255)+(z>>16&255)-(E>>16&255))<<16|je((_>>8&255)+(z>>8&255)-(E>>8&255))<<8|je((255&_)+(255&z)-(255&E)))>>>0},D.Predictor13=function(_,E,M){var z=E[M-1];return(we((_=ge(_,E[M+0]))>>24&255,z>>24&255)<<24|we(_>>16&255,z>>16&255)<<16|we(_>>8&255,z>>8&255)<<8|we(_>>0&255,z>>0&255))>>>0};var jp=D.PredictorAdd0;D.PredictorAdd1=Pe,He("Predictor2","PredictorAdd2"),He("Predictor3","PredictorAdd3"),He("Predictor4","PredictorAdd4"),He("Predictor5","PredictorAdd5"),He("Predictor6","PredictorAdd6"),He("Predictor7","PredictorAdd7"),He("Predictor8","PredictorAdd8"),He("Predictor9","PredictorAdd9"),He("Predictor10","PredictorAdd10"),He("Predictor11","PredictorAdd11"),He("Predictor12","PredictorAdd12"),He("Predictor13","PredictorAdd13");var ZA=D.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",(function(_){return _>>8&255}),(function(_){return _})),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(_){return _}),(function(_){return _>>8&255}));var Uf,us=D.ColorIndexInverseTransform,wa=D.MapARGB,fc=D.VP8LColorIndexInverseTransformAlpha,Ff=D.MapAlpha,Bo=D.VP8LPredictorsAdd=[];Bo.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var ki,$i,Ps,Qs,fi,xl,Za,wl,Su,hi,Pa,As,_l,qi,Bl,So,Nu,Ki,No,un,an,Un,Rn,Zn,Co,_a,ei,hc,Df=i(511),ed=i(2041),td=i(225),Lf=i(767),mc=0,Mf=ed,pc=td,ma=Lf,zi=Df,Qa=0,Cu=1,Rs=2,rd=3,gc=4,jo=5,Pf=6,nd=7,Sl=8,ko=9,ju=10,Qf=[2,3,7],Gi=[3,3,11],Ei=[280,256,256,256,40],bc=[0,1,1,1,0],Eo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],To=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qy=8,ad=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],id=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ea=null,Fn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Nl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Hs=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ry=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oo=[],ti=[],Ti=[],Hy=1,ku=2,$s=[],pa=[];ut("UpsampleRgbLinePair",Or,3),ut("UpsampleBgrLinePair",vn,3),ut("UpsampleRgbaLinePair",cs,4),ut("UpsampleBgraLinePair",ha,4),ut("UpsampleArgbLinePair",Qn,4),ut("UpsampleRgba4444LinePair",Pn,2),ut("UpsampleRgb565LinePair",kn,2);var Io=D.UpsampleRgbLinePair,Cl=D.UpsampleBgrLinePair,qs=D.UpsampleRgbaLinePair,Rf=D.UpsampleBgraLinePair,Hf=D.UpsampleArgbLinePair,Eu=D.UpsampleRgba4444LinePair,$f=D.UpsampleRgb565LinePair,Ks=16,ta=1<<Ks-1,jl=-227,qf=482,b2=6,$y=0,y2=i(256),ra=i(256),Ep=i(256),sd=i(256),od=i(qf-jl),Tp=i(qf-jl);Ms("YuvToRgbRow",Or,3),Ms("YuvToBgrRow",vn,3),Ms("YuvToRgbaRow",cs,4),Ms("YuvToBgraRow",ha,4),Ms("YuvToArgbRow",Qn,4),Ms("YuvToRgba4444Row",Pn,2),Ms("YuvToRgb565Row",kn,2);var xc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Uo=[0,2,8],v2=[8,7,6,4,4,2,2,2,1,1,1,1],qy=1;this.WebPDecodeRGBA=function(_,E,M,z,ee){var ae=Cu,ie=new bu,le=new Le;ie.ba=le,le.S=ae,le.width=[le.width],le.height=[le.height];var Ae=le.width,me=le.height,Ee=new ot;if(Ee==null||_==null)var Je=2;else t(Ee!=null),Je=wu(_,E,M,Ee.width,Ee.height,Ee.Pd,Ee.Qd,Ee.format,null);if(Je!=0?Ae=0:(Ae!=null&&(Ae[0]=Ee.width[0]),me!=null&&(me[0]=Ee.height[0]),Ae=1),Ae){le.width=le.width[0],le.height=le.height[0],z!=null&&(z[0]=le.width),ee!=null&&(ee[0]=le.height);e:{if(z=new Ts,(ee=new WA).data=_,ee.w=E,ee.ha=M,ee.kd=1,E=[0],t(ee!=null),((_=wu(ee.data,ee.w,ee.ha,null,null,null,E,null,ee))==0||_==7)&&E[0]&&(_=4),(E=_)==0){if(t(ie!=null),z.data=ee.data,z.w=ee.w+ee.offset,z.ha=ee.ha-ee.offset,z.put=Pt,z.ac=Et,z.bc=jr,z.ma=ie,ee.xa){if((_=Jn())==null){ie=1;break e}if((function(We,De){var xt=[0],lt=[0],Te=[0];t:for(;;){if(We==null)return 0;if(De==null)return We.a=2,0;if(We.l=De,We.a=0,re(We.m,De.data,De.w,De.ha),!Ft(We.m,xt,lt,Te)){We.a=3;break t}if(We.xb=ku,De.width=xt[0],De.height=lt[0],!Yr(xt[0],lt[0],1,We,null))break t;return 1}return t(We.a!=0),0})(_,z)){if(z=(E=uc(z.width,z.height,ie.Oa,ie.ba))==0){t:{z=_;r:for(;;){if(z==null){z=0;break t}if(t(z.s.yc!=null),t(z.s.Ya!=null),t(0<z.s.Wb),t((M=z.l)!=null),t((ee=M.ma)!=null),z.xb!=0){if(z.ca=ee.ba,z.tb=ee.tb,t(z.ca!=null),!yl(ee.Oa,M,rd)){z.a=2;break r}if(!ks(z,M.width)||M.da)break r;if((M.da||Ge(z.ca.S))&&qe(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&qe()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!nt(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!fa(z,z.V,z.Ba,z.c,z.i,M.o,ho))break r;ee.Dc=z.Ma,z=1;break t}t(z.a!=0),z=0}z=!z}z&&(E=_.a)}else E=_.a}else{if((_=new KA)==null){ie=1;break e}if(_.Fa=ee.na,_.P=ee.P,_.qc=ee.Sa,pe(_,z)){if((E=uc(z.width,z.height,ie.Oa,ie.ba))==0){if(_.Aa=0,M=ie.Oa,t((ee=_)!=null),M!=null){if(0<(Ae=0>(Ae=M.Md)?0:100<Ae?255:255*Ae/100)){for(me=Ee=0;4>me;++me)12>(Je=ee.pb[me]).lc&&(Je.ia=Ae*v2[0>Je.lc?0:Je.lc]>>3),Ee|=Je.ia;Ee&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=M.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}Ie(_,z)||(E=_.a)}}else E=_.a}E==0&&ie.Oa!=null&&ie.Oa.fd&&(E=_u(ie.ba))}ie=E}ae=ie!=0?null:11>ae?le.f.RGBA.eb:le.f.kb.y}else ae=null;return ae};var Ky=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(D,R){for(var q="",U=0;U<4;U++)q+=String.fromCharCode(D[R++]);return q}function f(D,R){return(D[R+0]<<0|D[R+1]<<8|D[R+2]<<16)>>>0}function h(D,R){return(D[R+0]<<0|D[R+1]<<8|D[R+2]<<16|D[R+3]<<24)>>>0}new c;var p=[0],g=[0],v=[],b=new c,x=e,w=(function(D,R){var q={},U=0,I=!1,Q=0,H=0;if(q.frames=[],!(function($,G,ne,se){for(var ve=0;ve<se;ve++)if($[G+ve]!=ne.charCodeAt(ve))return!0;return!1})(D,R,"RIFF",4)){var Y,K;for(h(D,R+=4),R+=8;R<D.length;){var J=A(D,R),re=h(D,R+=4);R+=4;var oe=re+(1&re);switch(J){case"VP8 ":case"VP8L":q.frames[U]===void 0&&(q.frames[U]={}),(P=q.frames[U]).src_off=I?H:R-8,P.src_size=Q+re+8,U++,I&&(I=!1,Q=0,H=0);break;case"VP8X":(P=q.header={}).feature_flags=D[R];var V=R+4;P.canvas_width=1+f(D,V),V+=3,P.canvas_height=1+f(D,V),V+=3;break;case"ALPH":I=!0,Q=oe+8,H=R-8;break;case"ANIM":(P=q.header).bgcolor=h(D,R),V=R+4,P.loop_count=(Y=D)[(K=V)+0]<<0|Y[K+1]<<8,V+=2;break;case"ANMF":var W,P;(P=q.frames[U]={}).offset_x=2*f(D,R),R+=3,P.offset_y=2*f(D,R),R+=3,P.width=1+f(D,R),R+=3,P.height=1+f(D,R),R+=3,P.duration=f(D,R),R+=3,W=D[R++],P.dispose=1&W,P.blend=W>>1&1}J!="ANMF"&&(R+=oe)}return q}})(x,0);w.response=x,w.rgbaoutput=!0,w.dataurl=!1;var S=w.header?w.header:null,N=w.frames?w.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],g=[S.canvas_width];for(var k=0;k<N.length&&N[k].blend!=0;k++);}var C=N[0],T=b.WebPDecodeRGBA(x,C.src_off,C.src_size,g,p);C.rgba=T,C.imgwidth=g[0],C.imgheight=p[0];for(var O=0;O<g[0]*p[0]*4;O++)v[O]=T[O];return this.width=g,this.height=p,this.data=v,this}(function(e){var t=function(){return typeof v4=="function"},r=function(p,g,v,b){var x=4,w=s;switch(b){case e.image_compression.FAST:x=1,w=i;break;case e.image_compression.MEDIUM:x=6,w=o;break;case e.image_compression.SLOW:x=9,w=c}p=n(p,g,v,w);var S=v4(p,{level:x});return e.__addimage__.arrayBufferToBinaryString(S)},n=function(p,g,v,b){for(var x,w,S,N=p.length/g,k=new Uint8Array(p.length+N),C=f(),T=0;T<N;T+=1){if(S=T*g,x=p.subarray(S,S+g),b)k.set(b(x,v,w),S+T);else{for(var O,D=C.length,R=[];O<D;O+=1)R[O]=C[O](x,v,w);var q=h(R.concat());k.set(R[q],S+T)}w=x}return k},a=function(p){var g=Array.apply([],p);return g.unshift(0),g},i=function(p,g){var v,b=[],x=p.length;b[0]=1;for(var w=0;w<x;w+=1)v=p[w-g]||0,b[w+1]=p[w]-v+256&255;return b},s=function(p,g,v){var b,x=[],w=p.length;x[0]=2;for(var S=0;S<w;S+=1)b=v&&v[S]||0,x[S+1]=p[S]-b+256&255;return x},o=function(p,g,v){var b,x,w=[],S=p.length;w[0]=3;for(var N=0;N<S;N+=1)b=p[N-g]||0,x=v&&v[N]||0,w[N+1]=p[N]+256-(b+x>>>1)&255;return w},c=function(p,g,v){var b,x,w,S,N=[],k=p.length;N[0]=4;for(var C=0;C<k;C+=1)b=p[C-g]||0,x=v&&v[C]||0,w=v&&v[C-g]||0,S=A(b,x,w),N[C+1]=p[C]-S+256&255;return N},A=function(p,g,v){if(p===g&&g===v)return p;var b=Math.abs(g-v),x=Math.abs(p-v),w=Math.abs(p+g-v-v);return b<=x&&b<=w?p:x<=w?g:v},f=function(){return[a,i,s,o,c]},h=function(p){var g=p.map((function(v){return v.reduce((function(b,x){return b+Math.abs(x)}),0)}));return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(p,g,v,b){var x,w,S,N,k,C,T,O,D,R,q,U,I,Q,H,Y=this.decode.FLATE_DECODE,K="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(S=new N5e(p)).imgData,w=S.bits,x=S.colorSpace,k=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){D=(O=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,q=new Uint8Array(D*S.colors),R=new Uint8Array(D);var J,re=S.pixelBitlength-S.bits;for(Q=0,H=0;Q<D;Q++){for(I=O[Q],J=0;J<re;)q[H++]=I>>>J&255,J+=S.bits;R[Q]=I>>>J&255}}if(S.bits===16){D=(O=new Uint32Array(S.decodePixels().buffer)).length,q=new Uint8Array(D*(32/S.pixelBitlength)*S.colors),R=new Uint8Array(D*(32/S.pixelBitlength)),U=S.colors>1,Q=0,H=0;for(var oe=0;Q<D;)I=O[Q++],q[H++]=I>>>0&255,U&&(q[H++]=I>>>16&255,I=O[Q++],q[H++]=I>>>0&255),R[oe++]=I>>>16&255;w=8}b!==e.image_compression.NONE&&t()?(p=r(q,S.width*S.colors,S.colors,b),T=r(R,S.width,1,b)):(p=q,T=R,Y=void 0)}if(S.colorType===3&&(x=this.color_spaces.INDEXED,C=S.palette,S.transparency.indexed)){var V=S.transparency.indexed,W=0;for(Q=0,D=V.length;Q<D;++Q)W+=V[Q];if((W/=255)===D-1&&V.indexOf(0)!==-1)N=[V.indexOf(0)];else if(W!==D){for(O=S.decodePixels(),R=new Uint8Array(O.length),Q=0,D=O.length;Q<D;Q++)R[Q]=V[O[Q]];T=r(R,S.width,1)}}var P=(function($){var G;switch($){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G})(b);return Y===this.decode.FLATE_DECODE&&(K="/Predictor "+P+" "),K+="/Colors "+k+" /BitsPerComponent "+w+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(T&&this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T))&&(T=this.__addimage__.arrayBufferToBinaryString(T)),{alias:v,data:p,index:g,filter:Y,decodeParameters:K,transparency:N,palette:C,sMask:T,predictor:P,width:S.width,height:S.height,bitsPerComponent:w,colorSpace:x}}}})(lr.API),(function(e){e.processGIF89A=function(t,r,n,a){var i=new C5e(t),s=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var A={data:c,width:s,height:o},f=new yC(100).encode(A,100);return e.processJPEG.call(this,f,r,n,a)},e.processGIF87A=e.processGIF89A})(lr.API),$o.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},$o.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){gn.log("bit decode error:"+r)}},$o.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},$o.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,c=15&i,A=this.palette[o];if(this.data[s]=A.blue,this.data[s+1]=A.green,this.data[s+2]=A.red,this.data[s+3]=255,2*a+1>=this.width)break;A=this.palette[c],this.data[s+4]=A.blue,this.data[s+4+1]=A.green,this.data[s+4+2]=A.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},$o.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},$o.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,A=i>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=s,this.data[f+3]=A}this.pos+=e}},$o.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,A=(s>>11)/t*255|0,f=a*this.width*4+4*i;this.data[f]=A,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=255}this.pos+=e}},$o.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},$o.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},$o.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new $o(t,!1),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},A=new yC(100).encode(c,100);return e.processJPEG.call(this,A,r,n,a)}})(lr.API),L8.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new L8(t),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},A=new yC(100).encode(c,100);return e.processJPEG.call(this,A,r,n,a)}})(lr.API),lr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,c=0,A=0;A<a;A+=4){var f=n[A],h=n[A+1],p=n[A+2],g=n[A+3];i[o++]=f,i[o++]=h,i[o++]=p,s[c++]=g}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},lr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Oh=lr.API,p0=Oh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,A=t.kerning?t.kerning:a.metadata.Unicode.kerning,f=A.fof?A.fof:1,h=t.doKerning!==!1,p=0,g=e.length,v=0,b=o[0]||c,x=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(p=h&&cn(A[n])==="object"&&!isNaN(parseInt(A[n][v],10))?A[n][v]/f:0,x.push((o[n]||b)/c+p)),v=n;return x},I8=Oh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Oh.processArabic&&(e=Oh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:p0.apply(this,arguments).reduce((function(i,s){return i+s}),0)},U8=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var c=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},F8=function(e,t,r){r||(r={});var n,a,i,s,o,c,A,f=[],h=[f],p=r.textIndent||0,g=0,v=0,b=e.split(" "),x=p0.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var w=Array(c).join(" "),S=[];b.map((function(k){(k=k.split(/\s*\n/)).length>1?S=S.concat(k.map((function(C,T){return(T&&C.length?`
`:"")+C}))):S.push(k[0])})),b=S,c=I8.apply(this,[w,r])}for(i=0,s=b.length;i<s;i++){var N=0;if(n=b[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),p+g+(v=(a=p0.apply(this,[n,r])).reduce((function(k,C){return k+C}),0))>t||N){if(v>t){for(o=U8.apply(this,[n,a,t-(p+g),t]),f.push(o.shift()),f=[o.pop()];o.length;)h.push([o.shift()]);v=a.slice(n.length-(f[0]?f[0].length:0)).reduce((function(k,C){return k+C}),0)}else f=[n];h.push(f),p=v+c,g=x}else f.push(n),p+=g+v,g=x}return A=c?function(k,C){return(C?w:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(A)},Oh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,c,A=[];for(o=0,c=n.length;o<c;o++)A=A.concat(F8.apply(this,[n[o],s,i]));return A},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(h){return"0x"+parseInt(h,10).toString(16)},s=e.__fontmetrics__.compress=function(h){var p,g,v,b,x=["{"];for(var w in h){if(p=h[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=i(w).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof p=="number")p<0?(v=i(p).slice(3),b="-"):(v=i(p).slice(2),b=""),v=b+v.slice(0,-1)+n[v.slice(-1)];else{if(cn(p)!=="object")throw new Error("Don't know what to do with value type "+cn(p)+".");v=s(p)}x.push(g+v)}return x.push("}"),x.join("")},o=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,v,b,x={},w=1,S=x,N=[],k="",C="",T=h.length-1,O=1;O<T;O+=1)(b=h[O])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(N.push([S,v]),S={},v=void 0):b=="}"?((g=N.pop())[0][g[1]]=S,v=void 0,S=g[0]):b=="-"?w=-1:v===void 0?r.hasOwnProperty(b)?(k+=r[b],v=parseInt(k,16)*w,w=1,k=""):k+=b:r.hasOwnProperty(b)?(C+=r[b],S[v]=parseInt(C,16)*w,w=1,v=void 0,C=""):C+=b;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var p=h.font,g=f.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var v=A.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])})(lr.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(cb(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])})(lr),(function(e){function t(){return(dr.canvg?Promise.resolve(dr.canvg):Cs(()=>import("./index.es-CUHYd85Q.js"),[])).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}lr.API.addSvgAsImage=function(r,n,a,i,s,o,c,A){if(isNaN(n)||isNaN(a))throw gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=s;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then((function(v){return v.fromString(h,r,p)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(v){return v.render(p)})).then((function(){g.addImage(f.toDataURL("image/jpeg",1),n,a,i,s,c,A)}))}})(),lr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},lr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],A=0,f=0,h=0;function p(v,b){var x,w=!1;for(x=0;x<v.length;x+=1)v[x]===b&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=o.length;for(h=0;h<g;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(cn(e)==="object"){for(a in e)if(i=e[a],p(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(A=0;A<i.length;A+=1)if(n=!0,i[A].length===1&&typeof i[A][0]=="number")c.push(String(i[A]-1));else if(i[A].length>1){for(f=0;f<i[A].length;f+=1)typeof i[A][f]!="number"&&(n=!1);n===!0&&c.push([i[A][0]-1,i[A][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var v,b=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?b.push("/"+v+" /"+r[v].value):b.push("/"+v+" "+r[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),A=i.length+s.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(lr.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,c=s.metadata.Unicode.widths,A=["","0","00","000","0000"],f=[""],h=0,p=i.length;h<p;++h){if(o=s.metadata.characterToGlyph(i.charCodeAt(h)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(A[4-o.length],o)}return f.join("")},n=function(i){var s,o,c,A,f,h,p;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(o=Object.keys(i).sort((function(g,v){return g-v}))).length;h<p;h++)s=o[h],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(A=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+A+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,A=s.newObject,f=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",v=0;v<p.length;v++)g+=String.fromCharCode(p[v]);var b=A();f({data:g,addLength1:!0,objectId:b}),c("endobj");var x=A();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var w=A();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Gh(o.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var S=A();c("<<"),c("/Type /Font"),c("/BaseFont /"+Gh(o.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=A(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+Gh(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,A=s.newObject,f=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var v=A();f({data:p,addLength1:!0,objectId:v}),c("endobj");var b=A();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var x=A();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Gh(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=A();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Gh(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",c=i.x,A=i.y,f=i.options||{},h=i.mutex||{},p=h.pdfEscape,g=h.activeFontKey,v=h.fonts,b=g,x="",w=0,S="",N=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:o,x:c,y:A,options:f,mutex:h};for(S=o,b=g,Array.isArray(o)&&(S=o[0]),w=0;w<S.length;w+=1)v[b].metadata.hasOwnProperty("cmap")&&(s=v[b].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),s||S[w].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?x+=S[w]:x+="";var k="";return parseInt(b.slice(1))<14||N==="WinAnsiEncoding"?k=p(x,b).split("").map((function(C){return C.charCodeAt(0).toString(16)})).join(""):N==="Identity-H"&&(k=r(x,v[b])),h.isHex=!0,{text:k,x:c,y:A,options:f,mutex:h}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var A=0;for(A=0;A<s.length;A+=1)Array.isArray(s[A])&&s[A].length===3?o.push([a(Object.assign({},c,{text:s[A][0]})).text,s[A][1],s[A][2]]):o.push(a(Object.assign({},c,{text:s[A]})).text);i.text=o}else i.text=a(Object.assign({},c,{text:s})).text}])})(lr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(lr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,c,A,f,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,N=0;this.__bidiEngine__={};var k=function(U){var I=U.charCodeAt(),Q=I>>8,H=b[Q];return H!==void 0?h[256*H+(255&I)]:Q===252||Q===253?"AL":w.test(Q)?"L":Q===8?"R":"N"},C=function(U){for(var I,Q=0;Q<U.length;Q++){if((I=k(U.charAt(Q)))==="L")return!1;if(I==="R")return!0}return!1},T=function(U,I,Q,H){var Y,K,J,re,oe=I[H];switch(oe){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(oe="AN");break;case"AL":S=!0,oe="R";break;case"WS":oe="N";break;case"CS":H<1||H+1>=I.length||(Y=Q[H-1])!=="EN"&&Y!=="AN"||(K=I[H+1])!=="EN"&&K!=="AN"?oe="N":S&&(K="AN"),oe=K===Y?K:"N";break;case"ES":oe=(Y=H>0?Q[H-1]:"B")==="EN"&&H+1<I.length&&I[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&Q[H-1]==="EN"){oe="EN";break}if(S){oe="N";break}for(J=H+1,re=I.length;J<re&&I[J]==="ET";)J++;oe=J<re&&I[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(re=I.length,J=H+1;J<re&&I[J]==="NSM";)J++;if(J<re){var V=U[H],W=V>=1425&&V<=2303||V===64286;if(Y=I[J],W&&(Y==="R"||Y==="AL")){oe="R";break}}}oe=H<1||(Y=I[H-1])==="B"?"N":Q[H-1];break;case"B":S=!1,a=!0,oe=N;break;case"S":i=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":oe="N"}return oe},O=function(U,I,Q){var H=U.split("");return Q&&D(H,Q,{hiLevel:N}),H.reverse(),I&&I.reverse(),H.join("")},D=function(U,I,Q){var H,Y,K,J,re,oe=-1,V=U.length,W=0,P=[],$=N?g:p,G=[];for(S=!1,a=!1,i=!1,Y=0;Y<V;Y++)G[Y]=k(U[Y]);for(K=0;K<V;K++){if(re=W,P[K]=T(U,G,P,K),H=240&(W=$[re][v[P[K]]]),W&=15,I[K]=J=$[W][5],H>0)if(H===16){for(Y=oe;Y<K;Y++)I[Y]=1;oe=-1}else oe=-1;if($[W][6])oe===-1&&(oe=K);else if(oe>-1){for(Y=oe;Y<K;Y++)I[Y]=J;oe=-1}G[K]==="B"&&(I[K]=0),Q.hiLevel|=J}i&&(function(ne,se,ve){for(var he=0;he<ve;he++)if(ne[he]==="S"){se[he]=N;for(var fe=he-1;fe>=0&&ne[fe]==="WS";fe--)se[fe]=N}})(G,I,V)},R=function(U,I,Q,H,Y){if(!(Y.hiLevel<U)){if(U===1&&N===1&&!a)return I.reverse(),void(Q&&Q.reverse());for(var K,J,re,oe,V=I.length,W=0;W<V;){if(H[W]>=U){for(re=W+1;re<V&&H[re]>=U;)re++;for(oe=W,J=re-1;oe<J;oe++,J--)K=I[oe],I[oe]=I[J],I[J]=K,Q&&(K=Q[oe],Q[oe]=Q[J],Q[J]=K);W=re}W++}}},q=function(U,I,Q){var H=U.split(""),Y={hiLevel:N};return Q||(Q=[]),D(H,Q,Y),(function(K,J,re){if(re.hiLevel!==0&&f)for(var oe,V=0;V<K.length;V++)J[V]===1&&(oe=x.indexOf(K[V]))>=0&&(K[V]=x[oe+1])})(H,Q,Y),R(2,H,I,Q,Y),R(1,H,I,Q,Y),H.join("")};return this.__bidiEngine__.doBidiReorder=function(U,I,Q){if((function(Y,K){if(K)for(var J=0;J<Y.length;J++)K[J]=J;o===void 0&&(o=C(Y)),A===void 0&&(A=C(Y))})(U,I),s||!c||A)if(s&&c&&o^A)N=o?1:0,U=O(U,I,Q);else if(!s&&c&&A)N=o?1:0,U=q(U,I,Q),U=O(U,I);else if(!s||o||c||A){if(s&&!c&&o^A)U=O(U,I),o?(N=0,U=q(U,I,Q)):(N=1,U=q(U,I,Q),U=O(U,I));else if(s&&o&&!c&&A)N=1,U=q(U,I,Q),U=O(U,I);else if(!s&&!c&&o^A){var H=f;o?(N=1,U=q(U,I,Q),N=0,f=!1,U=q(U,I,Q),f=H):(N=0,U=q(U,I,Q),U=O(U,I),N=1,f=!1,U=q(U,I,Q),f=H,U=O(U,I))}}else N=0,U=q(U,I,Q);else N=o?1:0,U=q(U,I,Q);return U},this.__bidiEngine__.setOptions=function(U){U&&(s=U.isInputVisual,c=U.isOutputVisual,o=U.isInputRtl,A=U.isOutputRtl,f=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),s=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(lr),lr.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new TA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new H5e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new j5e(this.contents),this.head=new E5e(this),this.name=new F5e(this),this.cmap=new pV(this),this.toUnicode={},this.hhea=new T5e(this),this.maxp=new D5e(this),this.hmtx=new L5e(this),this.post=new I5e(this),this.os2=new O5e(this),this.loca=new R5e(this),this.glyf=new M5e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,A;for(A=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],A.push(Math.round(t*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var ll,TA=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),j5e=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,c,A,f,h,p,g,v,b;for(b in g=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(g)/c),s=Math.floor(h/c),f=16*g-h,(a=new TA).writeInt(this.scalarType),a.writeShort(g),a.writeShort(h),a.writeShort(s),a.writeShort(f),i=16*g,A=a.pos+i,o=null,v=[],r)for(p=r[b],a.writeString(b),a.writeInt(e(p)),a.writeInt(A),a.writeInt(p.length),v=v.concat(p),b==="head"&&(o=A),A+=p.length;A%4;)v.push(0),A++;return a.write(v),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=gV.call(r);r.length%4;)r.push(0);for(i=new TA(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),k5e={}.hasOwnProperty,ac=function(e,t){for(var r in t)k5e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ll=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var E5e=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,ll),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new TA).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t})(),M8=(function(){function e(t,r){var n,a,i,s,o,c,A,f,h,p,g,v,b,x,w,S,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),p=g/2,t.pos+=6,i=(function(){var k,C;for(C=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)C.push(t.readUInt16());return C})(),t.pos+=2,b=(function(){var k,C;for(C=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)C.push(t.readUInt16());return C})(),A=(function(){var k,C;for(C=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)C.push(t.readUInt16());return C})(),f=(function(){var k,C;for(C=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)C.push(t.readUInt16());return C})(),a=(this.length-t.pos+this.offset)/2,o=(function(){var k,C;for(C=[],c=k=0;0<=a?k<a:k>a;c=0<=a?++k:--k)C.push(t.readUInt16());return C})(),c=w=0,N=i.length;w<N;c=++w)for(x=i[c],n=S=v=b[c];v<=x?S<=x:S>=x;n=v<=x?++S:--S)f[c]===0?s=n+A[c]:(s=o[f[c]/2+(n-v)-(p-c)]||0)!==0&&(s+=A[c]),this.codeMap[n]=65535&s}t.pos=h}return e.encode=function(t,r){var n,a,i,s,o,c,A,f,h,p,g,v,b,x,w,S,N,k,C,T,O,D,R,q,U,I,Q,H,Y,K,J,re,oe,V,W,P,$,G,ne,se,ve,he,fe,Qe,$e,de;switch(H=new TA,s=Object.keys(t).sort((function(ze,nt){return ze-nt})),r){case"macroman":for(b=0,x=(function(){var ze=[];for(v=0;v<256;++v)ze.push(0);return ze})(),S={0:0},i={},Y=0,oe=s.length;Y<oe;Y++)S[fe=t[a=s[Y]]]==null&&(S[fe]=++b),i[a]={old:t[a],new:S[t[a]]},x[a]=S[t[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(x),{charMap:i,subtable:H.data,maxGlyphID:b+1};case"unicode":for(I=[],h=[],N=0,S={},n={},w=A=null,K=0,V=s.length;K<V;K++)S[C=t[a=s[K]]]==null&&(S[C]=++N),n[a]={old:C,new:S[C]},o=S[C]-a,w!=null&&o===A||(w&&h.push(w),I.push(a),A=o),w=a;for(w&&h.push(w),h.push(65535),I.push(65535),q=2*(R=I.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),p=Math.log(D/2)/Math.LN2,O=2*R-D,c=[],T=[],g=[],v=J=0,W=I.length;J<W;v=++J){if(U=I[v],f=h[v],U===65535){c.push(0),T.push(0);break}if(U-(Q=n[U].new)>=32768)for(c.push(0),T.push(2*(g.length+R-v)),a=re=U;U<=f?re<=f:re>=f;a=U<=f?++re:--re)g.push(n[a].new);else c.push(Q-U),T.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*R+2*g.length),H.writeUInt16(0),H.writeUInt16(q),H.writeUInt16(D),H.writeUInt16(p),H.writeUInt16(O),ve=0,P=h.length;ve<P;ve++)a=h[ve],H.writeUInt16(a);for(H.writeUInt16(0),he=0,$=I.length;he<$;he++)a=I[he],H.writeUInt16(a);for(Qe=0,G=c.length;Qe<G;Qe++)o=c[Qe],H.writeUInt16(o);for($e=0,ne=T.length;$e<ne;$e++)k=T[$e],H.writeUInt16(k);for(de=0,se=g.length;de<se;de++)b=g[de],H.writeUInt16(b);return{charMap:n,subtable:H.data,maxGlyphID:N+1}}},e})(),pV=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,ll),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new M8(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=M8.encode(r,n),(i=new TA).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t})(),T5e=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,ll),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t})(),O5e=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,ll),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t})(),I5e=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,ll),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,c,A;for(A=[],s=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;s=0<=c?++o:--o)A.push(r.readUInt32());return A}).call(this)}},t})(),U5e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},F5e=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,ll),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,c,A,f,h,p,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(A={},s=h=0,p=a.length;h<p;s=++h)i=a[s],r.pos=i.offset,f=r.readString(i.length),o=new U5e(f,i),A[g=i.nameID]==null&&(A[g]=[]),A[i.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},t})(),D5e=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,ll),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t})(),L5e=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,ll),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,c,A;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)h.push(r.readInt16());return h})(),this.widths=(function(){var f,h,p,g;for(g=[],f=0,h=(p=this.metrics).length;f<h;f++)s=p[f],g.push(s.advance);return g}).call(this),a=this.widths[this.widths.length-1],A=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)A.push(this.widths.push(a));return A},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t})(),gV=[].slice,M5e=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,ll),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,c,A,f,h,p;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(c=new TA(n.read(i))).readShort(),f=c.readShort(),p=c.readShort(),A=c.readShort(),h=c.readShort(),this.cache[r]=o===-1?new Q5e(c,f,p,A,h):new P5e(c,o,f,p,A,h),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,c,A;for(o=[],s=[],c=0,A=n.length;c<A;c++)i=r[n[c]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t})(),P5e=(function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Q5e=(function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new TA(gV.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),R5e=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,ll),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var c=this.offsets[o],A=this.offsets[o+1]-c;A>0&&(i+=A)}for(var f=new Array(4*a.length),h=0;h<a.length;++h)f[4*h+3]=255&a[h],f[4*h+2]=(65280&a[h])>>8,f[4*h+1]=(16711680&a[h])>>16,f[4*h]=(4278190080&a[h])>>24;return f},t})(),H5e=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,c;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,c,A,f,h,p,g,v,b,x,w;for(a in n=pV.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),g={0:0},w=n.charMap)g[(c=w[a]).old]=c.new;for(v in p=n.maxGlyphID,s)v in g||(g[v]=p++);return f=(function(S){var N,k;for(N in k={},S)k[S[N]]=N;return k})(g),h=Object.keys(f).sort((function(S,N){return S-N})),b=(function(){var S,N,k;for(k=[],S=0,N=h.length;S<N;S++)o=h[S],k.push(f[o]);return k})(),i=this.font.glyf.encode(s,b,g),A=this.font.loca.encode(i.offsets,b),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e})();lr.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+(function(){var o,c,A;for(A=[],o=0,c=r.length;o<c;o++)n=r[o],A.push(t.convert(n));return A})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t})();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var C4=function(e,t){return C4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},C4(e,t)};function cl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");C4(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var j4=function(){return j4=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},j4.apply(this,arguments)};function Ii(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{A(n.next(f))}catch(h){s(h)}}function c(f){try{A(n.throw(f))}catch(h){s(h)}}function A(f){f.done?i(f.value):a(f.value).then(o,c)}A((n=n.apply(e,[])).next())})}function wi(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(A){return function(f){return c([A,f])}}function c(A){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=A[0]&2?a.return:A[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,A[1])).done)return i;switch(a=0,i&&(A=[A[0]&2,i.value]),A[0]){case 0:case 1:i=A;break;case 4:return r.label++,{value:A[1],done:!1};case 5:r.label++,a=A[1],A=[0];continue;case 7:A=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(A[0]===6||A[0]===2)){r=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){r.label=A[1];break}if(A[0]===6&&r.label<i[1]){r.label=i[1],i=A;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(A);break}i[2]&&r.ops.pop(),r.trys.pop();continue}A=t.call(e,r)}catch(f){A=[6,f],a=0}finally{n=i=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function g0(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var ru=(function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),a2=function(e,t){return ru.fromClientRect(e,t.getBoundingClientRect())},$5e=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new ru(0,0,n,a)},i2=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},oa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var s=e[a];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},P8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q5e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var b0=0;b0<P8.length;b0++)q5e[P8.charCodeAt(b0)]=b0;var Q8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var y0=0;y0<Q8.length;y0++)qg[Q8.charCodeAt(y0)]=y0;var K5e=function(e){var t=e.length*.75,r=e.length,n,a=0,i,s,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)i=qg[e.charCodeAt(n)],s=qg[e.charCodeAt(n+1)],o=qg[e.charCodeAt(n+2)],c=qg[e.charCodeAt(n+3)],f[a++]=i<<2|s>>4,f[a++]=(s&15)<<4|o>>2,f[a++]=(o&3)<<6|c&63;return A},z5e=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},G5e=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},nf=5,n3=11,vC=2,V5e=n3-nf,bV=65536>>nf,W5e=1<<nf,xC=W5e-1,Y5e=1024>>nf,X5e=bV+Y5e,J5e=X5e,Z5e=32,eCe=J5e+Z5e,tCe=65536>>n3,rCe=1<<V5e,nCe=rCe-1,R8=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},aCe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},iCe=function(e,t){var r=K5e(e),n=Array.isArray(r)?G5e(r):new Uint32Array(r),a=Array.isArray(r)?z5e(r):new Uint16Array(r),i=24,s=R8(a,i/2,n[4]/2),o=n[5]===2?R8(a,(i+n[4])/2):aCe(n,Math.ceil((i+n[4])/4));return new sCe(n[0],n[1],n[2],n[3],s,o)},sCe=(function(){function e(t,r,n,a,i,s){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=s}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>nf],r=(r<<vC)+(t&xC),this.data[r];if(t<=65535)return r=this.index[bV+(t-55296>>nf)],r=(r<<vC)+(t&xC),this.data[r];if(t<this.highStart)return r=eCe-tCe+(t>>n3),r=this.index[r],r+=t>>nf&nCe,r=this.index[r],r=(r<<vC)+(t&xC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),H8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oCe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var v0=0;v0<H8.length;v0++)oCe[H8.charCodeAt(v0)]=v0;var lCe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",$8=50,cCe=1,yV=2,vV=3,uCe=4,ACe=5,q8=7,xV=8,K8=9,yA=10,k4=11,z8=12,E4=13,dCe=14,Kg=15,T4=16,x0=17,Ig=18,fCe=19,G8=20,O4=21,Ug=22,wC=23,Ih=24,vs=25,zg=26,Gg=27,Uh=28,hCe=29,$d=30,mCe=31,w0=32,_0=33,I4=34,U4=35,F4=36,ly=37,D4=38,ix=39,sx=40,_C=41,wV=42,pCe=43,gCe=[9001,65288],_V="!",Lr="",B0="",L4=iCe(lCe),Fc=[$d,F4],M4=[cCe,yV,vV,ACe],BV=[yA,xV],V8=[Gg,zg],bCe=M4.concat(BV),W8=[D4,ix,sx,I4,U4],yCe=[Kg,E4],vCe=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(i,s){var o=L4.get(i);if(o>$8?(a.push(!0),o-=$8):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(s),r.push(T4);if(o===uCe||o===k4){if(s===0)return n.push(s),r.push($d);var c=r[s-1];return bCe.indexOf(c)===-1?(n.push(n[s-1]),r.push(c)):(n.push(s),r.push($d))}if(n.push(s),o===mCe)return r.push(t==="strict"?O4:ly);if(o===wV||o===hCe)return r.push($d);if(o===pCe)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(ly):r.push($d);r.push(o)}),[n,r,a]},BC=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var i=r;i<=n.length;){i++;var s=n[i];if(s===t)return!0;if(s!==yA)break}if(a===yA)for(var i=r;i>0;){i--;var o=n[i];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var c=r;c<=n.length;){c++;var s=n[c];if(s===t)return!0;if(s!==yA)break}if(o!==yA)break}return!1},Y8=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===yA)r--;else return n}return 0},xCe=function(e,t,r,n,a){if(r[n]===0)return Lr;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return Lr;var s=i-1,o=i+1,c=t[i],A=s>=0?t[s]:0,f=t[o];if(c===yV&&f===vV)return Lr;if(M4.indexOf(c)!==-1)return _V;if(M4.indexOf(f)!==-1||BV.indexOf(f)!==-1)return Lr;if(Y8(i,t)===xV)return B0;if(L4.get(e[i])===k4||(c===w0||c===_0)&&L4.get(e[o])===k4||c===q8||f===q8||c===K8||[yA,E4,Kg].indexOf(c)===-1&&f===K8||[x0,Ig,fCe,Ih,Uh].indexOf(f)!==-1||Y8(i,t)===Ug||BC(wC,Ug,i,t)||BC([x0,Ig],O4,i,t)||BC(z8,z8,i,t))return Lr;if(c===yA)return B0;if(c===wC||f===wC)return Lr;if(f===T4||c===T4)return B0;if([E4,Kg,O4].indexOf(f)!==-1||c===dCe||A===F4&&yCe.indexOf(c)!==-1||c===Uh&&f===F4||f===G8||Fc.indexOf(f)!==-1&&c===vs||Fc.indexOf(c)!==-1&&f===vs||c===Gg&&[ly,w0,_0].indexOf(f)!==-1||[ly,w0,_0].indexOf(c)!==-1&&f===zg||Fc.indexOf(c)!==-1&&V8.indexOf(f)!==-1||V8.indexOf(c)!==-1&&Fc.indexOf(f)!==-1||[Gg,zg].indexOf(c)!==-1&&(f===vs||[Ug,Kg].indexOf(f)!==-1&&t[o+1]===vs)||[Ug,Kg].indexOf(c)!==-1&&f===vs||c===vs&&[vs,Uh,Ih].indexOf(f)!==-1)return Lr;if([vs,Uh,Ih,x0,Ig].indexOf(f)!==-1)for(var h=i;h>=0;){var p=t[h];if(p===vs)return Lr;if([Uh,Ih].indexOf(p)!==-1)h--;else break}if([Gg,zg].indexOf(f)!==-1)for(var h=[x0,Ig].indexOf(c)!==-1?s:i;h>=0;){var p=t[h];if(p===vs)return Lr;if([Uh,Ih].indexOf(p)!==-1)h--;else break}if(D4===c&&[D4,ix,I4,U4].indexOf(f)!==-1||[ix,I4].indexOf(c)!==-1&&[ix,sx].indexOf(f)!==-1||[sx,U4].indexOf(c)!==-1&&f===sx||W8.indexOf(c)!==-1&&[G8,zg].indexOf(f)!==-1||W8.indexOf(f)!==-1&&c===Gg||Fc.indexOf(c)!==-1&&Fc.indexOf(f)!==-1||c===Ih&&Fc.indexOf(f)!==-1||Fc.concat(vs).indexOf(c)!==-1&&f===Ug&&gCe.indexOf(e[o])===-1||Fc.concat(vs).indexOf(f)!==-1&&c===Ig)return Lr;if(c===_C&&f===_C){for(var g=r[i],v=1;g>0&&(g--,t[g]===_C);)v++;if(v%2!==0)return Lr}return c===w0&&f===_0?Lr:B0},wCe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=vCe(e,t.lineBreak),n=r[0],a=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(o){return[vs,$d,wV].indexOf(o)!==-1?ly:o}));var s=t.wordBreak==="keep-all"?i.map(function(o,c){return o&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,a,s]},_Ce=(function(){function e(t,r,n,a){this.codePoints=t,this.required=r===_V,this.start=n,this.end=a}return e.prototype.slice=function(){return oa.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),BCe=function(e,t){var r=i2(e),n=wCe(r,t),a=n[0],i=n[1],s=n[2],o=r.length,c=0,A=0;return{next:function(){if(A>=o)return{done:!0,value:null};for(var f=Lr;A<o&&(f=xCe(r,i,a,++A,s))===Lr;);if(f!==Lr||A===o){var h=new _Ce(r,f,c,A);return c=A,{value:h,done:!1}}return{done:!0,value:null}}}},SCe=1,NCe=2,Uy=4,X8=8,Ew=10,J8=47,ub=92,CCe=9,jCe=32,S0=34,Fg=61,kCe=35,ECe=36,TCe=37,N0=39,C0=40,Dg=41,OCe=95,Xi=45,ICe=33,UCe=60,FCe=62,DCe=64,LCe=91,MCe=93,PCe=61,QCe=123,j0=63,RCe=125,Z8=124,HCe=126,$Ce=128,e7=65533,SC=42,Xd=43,qCe=44,KCe=58,zCe=59,cy=46,GCe=0,VCe=8,WCe=11,YCe=14,XCe=31,JCe=127,Ml=-1,SV=48,NV=97,CV=101,ZCe=102,eje=117,tje=122,jV=65,kV=69,EV=70,rje=85,nje=90,Bi=function(e){return e>=SV&&e<=57},aje=function(e){return e>=55296&&e<=57343},Fh=function(e){return Bi(e)||e>=jV&&e<=EV||e>=NV&&e<=ZCe},ije=function(e){return e>=NV&&e<=tje},sje=function(e){return e>=jV&&e<=nje},oje=function(e){return ije(e)||sje(e)},lje=function(e){return e>=$Ce},k0=function(e){return e===Ew||e===CCe||e===jCe},Tw=function(e){return oje(e)||lje(e)||e===OCe},t7=function(e){return Tw(e)||Bi(e)||e===Xi},cje=function(e){return e>=GCe&&e<=VCe||e===WCe||e>=YCe&&e<=XCe||e===JCe},lA=function(e,t){return e!==ub?!1:t!==Ew},E0=function(e,t,r){return e===Xi?Tw(t)||lA(t,r):Tw(e)?!0:!!(e===ub&&lA(e,t))},NC=function(e,t,r){return e===Xd||e===Xi?Bi(t)?!0:t===cy&&Bi(r):Bi(e===cy?t:e)},uje=function(e){var t=0,r=1;(e[t]===Xd||e[t]===Xi)&&(e[t]===Xi&&(r=-1),t++);for(var n=[];Bi(e[t]);)n.push(e[t++]);var a=n.length?parseInt(oa.apply(void 0,n),10):0;e[t]===cy&&t++;for(var i=[];Bi(e[t]);)i.push(e[t++]);var s=i.length,o=s?parseInt(oa.apply(void 0,i),10):0;(e[t]===kV||e[t]===CV)&&t++;var c=1;(e[t]===Xd||e[t]===Xi)&&(e[t]===Xi&&(c=-1),t++);for(var A=[];Bi(e[t]);)A.push(e[t++]);var f=A.length?parseInt(oa.apply(void 0,A),10):0;return r*(a+o*Math.pow(10,-s))*Math.pow(10,c*f)},Aje={type:2},dje={type:3},fje={type:4},hje={type:13},mje={type:8},pje={type:21},gje={type:9},bje={type:10},yje={type:11},vje={type:12},xje={type:14},T0={type:23},wje={type:1},_je={type:25},Bje={type:24},Sje={type:26},Nje={type:27},Cje={type:28},jje={type:29},kje={type:31},P4={type:32},TV=(function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(i2(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==P4;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case S0:return this.consumeStringToken(S0);case kCe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(t7(r)||lA(n,a)){var i=E0(r,n,a)?NCe:SCe,s=this.consumeName();return{type:5,value:s,flags:i}}break;case ECe:if(this.peekCodePoint(0)===Fg)return this.consumeCodePoint(),hje;break;case N0:return this.consumeStringToken(N0);case C0:return Aje;case Dg:return dje;case SC:if(this.peekCodePoint(0)===Fg)return this.consumeCodePoint(),xje;break;case Xd:if(NC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case qCe:return fje;case Xi:var o=t,c=this.peekCodePoint(0),A=this.peekCodePoint(1);if(NC(o,c,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(E0(o,c,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Xi&&A===FCe)return this.consumeCodePoint(),this.consumeCodePoint(),Bje;break;case cy:if(NC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case J8:if(this.peekCodePoint(0)===SC)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===SC&&(f=this.consumeCodePoint(),f===J8))return this.consumeToken();if(f===Ml)return this.consumeToken()}break;case KCe:return Sje;case zCe:return Nje;case UCe:if(this.peekCodePoint(0)===ICe&&this.peekCodePoint(1)===Xi&&this.peekCodePoint(2)===Xi)return this.consumeCodePoint(),this.consumeCodePoint(),_je;break;case DCe:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(E0(h,p,g)){var s=this.consumeName();return{type:7,value:s}}break;case LCe:return Cje;case ub:if(lA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case MCe:return jje;case PCe:if(this.peekCodePoint(0)===Fg)return this.consumeCodePoint(),mje;break;case QCe:return yje;case RCe:return vje;case eje:case rje:var v=this.peekCodePoint(0),b=this.peekCodePoint(1);return v===Xd&&(Fh(b)||b===j0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Z8:if(this.peekCodePoint(0)===Fg)return this.consumeCodePoint(),gje;if(this.peekCodePoint(0)===Z8)return this.consumeCodePoint(),pje;break;case HCe:if(this.peekCodePoint(0)===Fg)return this.consumeCodePoint(),bje;break;case Ml:return P4}return k0(t)?(this.consumeWhiteSpace(),kje):Bi(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Tw(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:oa(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Fh(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===j0&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(oa.apply(void 0,t.map(function(c){return c===j0?SV:c})),16),i=parseInt(oa.apply(void 0,t.map(function(c){return c===j0?EV:c})),16);return{type:30,start:a,end:i}}var s=parseInt(oa.apply(void 0,t),16);if(this.peekCodePoint(0)===Xi&&Fh(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];Fh(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var i=parseInt(oa.apply(void 0,o),16);return{type:30,start:s,end:i}}else return{type:30,start:s,end:s}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===C0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===C0?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ml)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===N0||r===S0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ml||this.peekCodePoint(0)===Dg)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),T0)}for(;;){var a=this.consumeCodePoint();if(a===Ml||a===Dg)return{type:22,value:oa.apply(void 0,t)};if(k0(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ml||this.peekCodePoint(0)===Dg?(this.consumeCodePoint(),{type:22,value:oa.apply(void 0,t)}):(this.consumeBadUrlRemnants(),T0);if(a===S0||a===N0||a===C0||cje(a))return this.consumeBadUrlRemnants(),T0;if(a===ub)if(lA(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),T0;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;k0(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Dg||t===Ml)return;lA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=oa.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===Ml||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Ew)return this._value.splice(0,n),wje;if(a===ub){var i=this._value[n+1];i!==Ml&&i!==void 0&&(i===Ew?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):lA(a,i)&&(r+=this.consumeStringSlice(n),r+=oa(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Uy,n=this.peekCodePoint(0);for((n===Xd||n===Xi)&&t.push(this.consumeCodePoint());Bi(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===cy&&Bi(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=X8;Bi(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===kV||n===CV)&&((a===Xd||a===Xi)&&Bi(i)||Bi(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=X8;Bi(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[uje(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(E0(a,i,s)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return a===TCe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Fh(t)){for(var r=oa(t);Fh(this.peekCodePoint(0))&&r.length<6;)r+=oa(this.consumeCodePoint());k0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||aje(n)||n>1114111?e7:n}return t===Ml?e7:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(t7(r))t+=oa(r);else if(lA(r,this.peekCodePoint(0)))t+=oa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e})(),OV=(function(){function e(t){this._tokens=t}return e.create=function(t){var r=new TV;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||Tje(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?P4:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e})(),Fy=function(e){return e.type===15},_p=function(e){return e.type===17},mn=function(e){return e.type===20},Eje=function(e){return e.type===0},Q4=function(e,t){return mn(e)&&e.value===t},IV=function(e){return e.type!==31},rp=function(e){return e.type!==31&&e.type!==4},ic=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},Tje=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},OA=function(e){return e.type===17||e.type===15},ya=function(e){return e.type===16||OA(e)},UV=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},li={type:17,number:0,flags:Uy},a3={type:16,number:50,flags:Uy},vA={type:16,number:100,flags:Uy},Vg=function(e,t,r){var n=e[0],a=e[1];return[Cn(n,t),Cn(typeof a<"u"?a:n,r)]},Cn=function(e,t){if(e.type===16)return e.number/100*t;if(Fy(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},FV="deg",DV="grad",LV="rad",MV="turn",s2={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case FV:return Math.PI*t.number/180;case DV:return Math.PI/200*t.number;case LV:return t.number;case MV:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},PV=function(e){return e.type===15&&(e.unit===FV||e.unit===DV||e.unit===LV||e.unit===MV)},QV=function(e){var t=e.filter(mn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[li,li];case"to top":case"bottom":return so(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[li,vA];case"to right":case"left":return so(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[vA,vA];case"to bottom":case"top":return so(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[vA,li];case"to left":case"right":return so(270)}return 0},so=function(e){return Math.PI*e/180},CA={name:"color",parse:function(e,t){if(t.type===18){var r=Oje[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return xA(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),s=t.value.substring(3,4);return xA(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return xA(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),s=t.value.substring(6,8);return xA(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(s,16)/255)}}if(t.type===20){var o=Xc[t.value.toUpperCase()];if(typeof o<"u")return o}return Xc.TRANSPARENT}},jA=function(e){return(255&e)===0},Ka=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},xA=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},r7=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},n7=function(e,t){var r=t.filter(rp);if(r.length===3){var n=r.map(r7),a=n[0],i=n[1],s=n[2];return xA(a,i,s,1)}if(r.length===4){var o=r.map(r7),a=o[0],i=o[1],s=o[2],c=o[3];return xA(a,i,s,c)}return 0};function CC(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var a7=function(e,t){var r=t.filter(rp),n=r[0],a=r[1],i=r[2],s=r[3],o=(n.type===17?so(n.number):s2.parse(e,n))/(Math.PI*2),c=ya(a)?a.number/100:0,A=ya(i)?i.number/100:0,f=typeof s<"u"&&ya(s)?Cn(s,1):1;if(c===0)return xA(A*255,A*255,A*255,1);var h=A<=.5?A*(c+1):A+c-A*c,p=A*2-h,g=CC(p,h,o+1/3),v=CC(p,h,o),b=CC(p,h,o-1/3);return xA(g*255,v*255,b*255,f)},Oje={hsl:a7,hsla:a7,rgb:n7,rgba:n7},Ab=function(e,t){return CA.parse(e,OV.create(t).parseComponentValue())},Xc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ije={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(mn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Uje={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},o2=function(e,t){var r=CA.parse(e,t[0]),n=t[1];return n&&ya(n)?{color:r,stop:n}:{color:r,stop:null}},i7=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=li),n.stop===null&&(n.stop=vA);for(var a=[],i=0,s=0;s<e.length;s++){var o=e[s].stop;if(o!==null){var c=Cn(o,t);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var A=null,s=0;s<a.length;s++){var f=a[s];if(f===null)A===null&&(A=s);else if(A!==null){for(var h=s-A,p=a[A-1],g=(f-p)/(h+1),v=1;v<=h;v++)a[A+v-1]=g*v;A=null}}return e.map(function(b,x){var w=b.color;return{color:w,stop:Math.max(Math.min(1,a[x]/t),0)}})},Fje=function(e,t,r){var n=t/2,a=r/2,i=Cn(e[0],t)-n,s=a-Cn(e[1],r);return(Math.atan2(s,i)+Math.PI*2)%(Math.PI*2)},Dje=function(e,t,r){var n=typeof e=="number"?e:Fje(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,s=r/2,o=a/2,c=Math.sin(n-Math.PI/2)*o,A=Math.cos(n-Math.PI/2)*o;return[a,i-A,i+A,s-c,s+c]},Go=function(e,t){return Math.sqrt(e*e+t*t)},s7=function(e,t,r,n,a){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(s,o){var c=o[0],A=o[1],f=Go(r-c,n-A);return(a?f<s.optimumDistance:f>s.optimumDistance)?{optimumCorner:o,optimumDistance:f}:s},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},Lje=function(e,t,r,n,a){var i=0,s=0;switch(e.size){case 0:e.shape===0?i=s=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),s=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)i=s=Math.min(Go(t,r),Go(t,r-a),Go(t-n,r),Go(t-n,r-a));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),c=s7(n,a,t,r,!0),A=c[0],f=c[1];i=Go(A-t,(f-r)/o),s=o*i}break;case 1:e.shape===0?i=s=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),s=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)i=s=Math.max(Go(t,r),Go(t,r-a),Go(t-n,r),Go(t-n,r-a));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),h=s7(n,a,t,r,!1),A=h[0],f=h[1];i=Go(A-t,(f-r)/o),s=o*i}break}return Array.isArray(e.size)&&(i=Cn(e.size[0],n),s=e.size.length===2?Cn(e.size[1],a):i),[i,s]},Mje=function(e,t){var r=so(180),n=[];return ic(t).forEach(function(a,i){if(i===0){var s=a[0];if(s.type===20&&s.value==="to"){r=QV(a);return}else if(PV(s)){r=s2.parse(e,s);return}}var o=o2(e,a);n.push(o)}),{angle:r,stops:n,type:1}},O0=function(e,t){var r=so(180),n=[];return ic(t).forEach(function(a,i){if(i===0){var s=a[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){r=QV(a);return}else if(PV(s)){r=(s2.parse(e,s)+so(270))%so(360);return}}var o=o2(e,a);n.push(o)}),{angle:r,stops:n,type:1}},Pje=function(e,t){var r=so(180),n=[],a=1,i=0,s=3,o=[];return ic(t).forEach(function(c,A){var f=c[0];if(A===0){if(mn(f)&&f.value==="linear"){a=1;return}else if(mn(f)&&f.value==="radial"){a=2;return}}if(f.type===18){if(f.name==="from"){var h=CA.parse(e,f.values[0]);n.push({stop:li,color:h})}else if(f.name==="to"){var h=CA.parse(e,f.values[0]);n.push({stop:vA,color:h})}else if(f.name==="color-stop"){var p=f.values.filter(rp);if(p.length===2){var h=CA.parse(e,p[1]),g=p[0];_p(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),a===1?{angle:(r+so(180))%so(360),stops:n,type:a}:{size:s,shape:i,stops:n,position:o,type:a}},RV="closest-side",HV="farthest-side",$V="closest-corner",qV="farthest-corner",KV="circle",zV="ellipse",GV="cover",VV="contain",Qje=function(e,t){var r=0,n=3,a=[],i=[];return ic(t).forEach(function(s,o){var c=!0;if(o===0){var A=!1;c=s.reduce(function(h,p){if(A)if(mn(p))switch(p.value){case"center":return i.push(a3),h;case"top":case"left":return i.push(li),h;case"right":case"bottom":return i.push(vA),h}else(ya(p)||OA(p))&&i.push(p);else if(mn(p))switch(p.value){case KV:return r=0,!1;case zV:return r=1,!1;case"at":return A=!0,!1;case RV:return n=0,!1;case GV:case HV:return n=1,!1;case VV:case $V:return n=2,!1;case qV:return n=3,!1}else if(OA(p)||ya(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return h},c)}if(c){var f=o2(e,s);a.push(f)}}),{size:n,shape:r,stops:a,position:i,type:2}},I0=function(e,t){var r=0,n=3,a=[],i=[];return ic(t).forEach(function(s,o){var c=!0;if(o===0?c=s.reduce(function(f,h){if(mn(h))switch(h.value){case"center":return i.push(a3),!1;case"top":case"left":return i.push(li),!1;case"right":case"bottom":return i.push(vA),!1}else if(ya(h)||OA(h))return i.push(h),!1;return f},c):o===1&&(c=s.reduce(function(f,h){if(mn(h))switch(h.value){case KV:return r=0,!1;case zV:return r=1,!1;case VV:case RV:return n=0,!1;case HV:return n=1,!1;case $V:return n=2,!1;case GV:case qV:return n=3,!1}else if(OA(h)||ya(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return f},c)),c){var A=o2(e,s);a.push(A)}}),{size:n,shape:r,stops:a,position:i,type:2}},Rje=function(e){return e.type===1},Hje=function(e){return e.type===2},i3={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=WV[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function $je(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!WV[e.name])}var WV={"linear-gradient":Mje,"-moz-linear-gradient":O0,"-ms-linear-gradient":O0,"-o-linear-gradient":O0,"-webkit-linear-gradient":O0,"radial-gradient":Qje,"-moz-radial-gradient":I0,"-ms-radial-gradient":I0,"-o-radial-gradient":I0,"-webkit-radial-gradient":I0,"-webkit-gradient":Pje},qje={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return rp(n)&&$je(n)}).map(function(n){return i3.parse(e,n)})}},Kje={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(mn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zje={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return ic(t).map(function(r){return r.filter(ya)}).map(UV)}},Gje={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return ic(t).map(function(r){return r.filter(mn).map(function(n){return n.value}).join(" ")}).map(Vje)}},Vje=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},xm;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(xm||(xm={}));var Wje={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return ic(t).map(function(r){return r.filter(Yje)})}},Yje=function(e){return mn(e)||ya(e)},l2=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Xje=l2("top"),Jje=l2("right"),Zje=l2("bottom"),eke=l2("left"),c2=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return UV(r.filter(ya))}}},tke=c2("top-left"),rke=c2("top-right"),nke=c2("bottom-right"),ake=c2("bottom-left"),u2=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ike=u2("top"),ske=u2("right"),oke=u2("bottom"),lke=u2("left"),A2=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Fy(r)?r.number:0}}},cke=A2("top"),uke=A2("right"),Ake=A2("bottom"),dke=A2("left"),fke={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hke={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},mke={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(mn).reduce(function(r,n){return r|pke(n.value)},0)}},pke=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gke={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},bke={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Ow;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Ow||(Ow={}));var yke={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Ow.STRICT;case"normal":default:return Ow.NORMAL}}},vke={name:"line-height",initialValue:"normal",prefix:!1,type:4},o7=function(e,t){return mn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:ya(e)?Cn(e,t):t},xke={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:i3.parse(e,t)}},wke={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},R4={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},d2=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},_ke=d2("top"),Bke=d2("right"),Ske=d2("bottom"),Nke=d2("left"),Cke={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(mn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},jke={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},f2=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},kke=f2("top"),Eke=f2("right"),Tke=f2("bottom"),Oke=f2("left"),Ike={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Uke={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Fke={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Q4(t[0],"none")?[]:ic(t).map(function(r){for(var n={color:Xc.TRANSPARENT,offsetX:li,offsetY:li,blur:li},a=0,i=0;i<r.length;i++){var s=r[i];OA(s)?(a===0?n.offsetX=s:a===1?n.offsetY=s:n.blur=s,a++):n.color=CA.parse(e,s)}return n})}},Dke={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Lke={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=Qke[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Mke=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},Pke=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var s=t[12],o=t[13];return t[14],t[15],t.length===16?[r,n,a,i,s,o]:null},Qke={matrix:Mke,matrix3d:Pke},l7={type:16,number:50,flags:Uy},Rke=[l7,l7],Hke={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(ya);return r.length!==2?Rke:[r[0],r[1]]}},$ke={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},db;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(db||(db={}));var qke={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return db.BREAK_ALL;case"keep-all":return db.KEEP_ALL;case"normal":default:return db.NORMAL}}},Kke={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(_p(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},YV={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},zke={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return _p(t)?t.number:1}},Gke={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Vke={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(mn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Wke={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Yke={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Xke={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(_p(t))return t.number;if(mn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Jke={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(mn).map(function(r){return r.value})}},Zke={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ta=function(e,t){return(e&t)!==0},e4e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},t4e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(IV),i=0;i<a.length;i++){var s=a[i],o=a[i+1];if(s.type===20){var c=o&&_p(o)?o.number:1;n.push({counter:s.value,increment:c})}}return n}},r4e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(IV),a=0;a<n.length;a++){var i=n[a],s=n[a+1];if(mn(i)&&i.value!=="none"){var o=s&&_p(s)?s.number:0;r.push({counter:i.value,reset:o})}}return r}},n4e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Fy).map(function(r){return YV.parse(e,r)})}},a4e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(Eje);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var s=a[i].value,o=a[i+1].value;n.push({open:s,close:o})}return n}},c7=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},i4e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Q4(t[0],"none")?[]:ic(t).map(function(r){for(var n={color:255,offsetX:li,offsetY:li,blur:li,spread:li,inset:!1},a=0,i=0;i<r.length;i++){var s=r[i];Q4(s,"inset")?n.inset=!0:OA(s)?(a===0?n.offsetX=s:a===1?n.offsetY=s:a===2?n.blur=s:n.spread=s,a++):n.color=CA.parse(e,s)}return n})}},s4e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(mn).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},o4e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},l4e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Fy(t)?t.number:0}},c4e=(function(){function e(t,r){var n,a;this.animationDuration=qt(t,n4e,r.animationDuration),this.backgroundClip=qt(t,Ije,r.backgroundClip),this.backgroundColor=qt(t,Uje,r.backgroundColor),this.backgroundImage=qt(t,qje,r.backgroundImage),this.backgroundOrigin=qt(t,Kje,r.backgroundOrigin),this.backgroundPosition=qt(t,zje,r.backgroundPosition),this.backgroundRepeat=qt(t,Gje,r.backgroundRepeat),this.backgroundSize=qt(t,Wje,r.backgroundSize),this.borderTopColor=qt(t,Xje,r.borderTopColor),this.borderRightColor=qt(t,Jje,r.borderRightColor),this.borderBottomColor=qt(t,Zje,r.borderBottomColor),this.borderLeftColor=qt(t,eke,r.borderLeftColor),this.borderTopLeftRadius=qt(t,tke,r.borderTopLeftRadius),this.borderTopRightRadius=qt(t,rke,r.borderTopRightRadius),this.borderBottomRightRadius=qt(t,nke,r.borderBottomRightRadius),this.borderBottomLeftRadius=qt(t,ake,r.borderBottomLeftRadius),this.borderTopStyle=qt(t,ike,r.borderTopStyle),this.borderRightStyle=qt(t,ske,r.borderRightStyle),this.borderBottomStyle=qt(t,oke,r.borderBottomStyle),this.borderLeftStyle=qt(t,lke,r.borderLeftStyle),this.borderTopWidth=qt(t,cke,r.borderTopWidth),this.borderRightWidth=qt(t,uke,r.borderRightWidth),this.borderBottomWidth=qt(t,Ake,r.borderBottomWidth),this.borderLeftWidth=qt(t,dke,r.borderLeftWidth),this.boxShadow=qt(t,i4e,r.boxShadow),this.color=qt(t,fke,r.color),this.direction=qt(t,hke,r.direction),this.display=qt(t,mke,r.display),this.float=qt(t,gke,r.cssFloat),this.fontFamily=qt(t,Wke,r.fontFamily),this.fontSize=qt(t,Yke,r.fontSize),this.fontStyle=qt(t,Zke,r.fontStyle),this.fontVariant=qt(t,Jke,r.fontVariant),this.fontWeight=qt(t,Xke,r.fontWeight),this.letterSpacing=qt(t,bke,r.letterSpacing),this.lineBreak=qt(t,yke,r.lineBreak),this.lineHeight=qt(t,vke,r.lineHeight),this.listStyleImage=qt(t,xke,r.listStyleImage),this.listStylePosition=qt(t,wke,r.listStylePosition),this.listStyleType=qt(t,R4,r.listStyleType),this.marginTop=qt(t,_ke,r.marginTop),this.marginRight=qt(t,Bke,r.marginRight),this.marginBottom=qt(t,Ske,r.marginBottom),this.marginLeft=qt(t,Nke,r.marginLeft),this.opacity=qt(t,zke,r.opacity);var i=qt(t,Cke,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=qt(t,jke,r.overflowWrap),this.paddingTop=qt(t,kke,r.paddingTop),this.paddingRight=qt(t,Eke,r.paddingRight),this.paddingBottom=qt(t,Tke,r.paddingBottom),this.paddingLeft=qt(t,Oke,r.paddingLeft),this.paintOrder=qt(t,s4e,r.paintOrder),this.position=qt(t,Uke,r.position),this.textAlign=qt(t,Ike,r.textAlign),this.textDecorationColor=qt(t,Gke,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=qt(t,Vke,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=qt(t,Fke,r.textShadow),this.textTransform=qt(t,Dke,r.textTransform),this.transform=qt(t,Lke,r.transform),this.transformOrigin=qt(t,Hke,r.transformOrigin),this.visibility=qt(t,$ke,r.visibility),this.webkitTextStrokeColor=qt(t,o4e,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=qt(t,l4e,r.webkitTextStrokeWidth),this.wordBreak=qt(t,qke,r.wordBreak),this.zIndex=qt(t,Kke,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return jA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ta(this.display,4)||Ta(this.display,33554432)||Ta(this.display,268435456)||Ta(this.display,536870912)||Ta(this.display,67108864)||Ta(this.display,134217728)},e})(),u4e=(function(){function e(t,r){this.content=qt(t,e4e,r.content),this.quotes=qt(t,a4e,r.quotes)}return e})(),u7=(function(){function e(t,r){this.counterIncrement=qt(t,t4e,r.counterIncrement),this.counterReset=qt(t,r4e,r.counterReset)}return e})(),qt=function(e,t,r){var n=new TV,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var i=new OV(n.read());switch(t.type){case 2:var s=i.parseComponentValue();return t.parse(e,mn(s)?s.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return s2.parse(e,i.parseComponentValue());case"color":return CA.parse(e,i.parseComponentValue());case"image":return i3.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return OA(o)?o:li;case"length-percentage":var c=i.parseComponentValue();return ya(c)?c:li;case"time":return YV.parse(e,i.parseComponentValue())}break}},A4e="data-html2canvas-debug",d4e=function(e){var t=e.getAttribute(A4e);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},H4=function(e,t){var r=d4e(e);return r===1||t===r},sc=(function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,H4(r,3))debugger;this.styles=new c4e(t,window.getComputedStyle(r,null)),K4(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=a2(this.context,r),H4(r,4)&&(this.flags|=16)}return e})(),f4e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",A7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var U0=0;U0<A7.length;U0++)Wg[A7.charCodeAt(U0)]=U0;var h4e=function(e){var t=e.length*.75,r=e.length,n,a=0,i,s,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)i=Wg[e.charCodeAt(n)],s=Wg[e.charCodeAt(n+1)],o=Wg[e.charCodeAt(n+2)],c=Wg[e.charCodeAt(n+3)],f[a++]=i<<2|s>>4,f[a++]=(s&15)<<4|o>>2,f[a++]=(o&3)<<6|c&63;return A},m4e=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},p4e=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},af=5,s3=11,jC=2,g4e=s3-af,XV=65536>>af,b4e=1<<af,kC=b4e-1,y4e=1024>>af,v4e=XV+y4e,x4e=v4e,w4e=32,_4e=x4e+w4e,B4e=65536>>s3,S4e=1<<g4e,N4e=S4e-1,d7=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},C4e=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},j4e=function(e,t){var r=h4e(e),n=Array.isArray(r)?p4e(r):new Uint32Array(r),a=Array.isArray(r)?m4e(r):new Uint16Array(r),i=24,s=d7(a,i/2,n[4]/2),o=n[5]===2?d7(a,(i+n[4])/2):C4e(n,Math.ceil((i+n[4])/4));return new k4e(n[0],n[1],n[2],n[3],s,o)},k4e=(function(){function e(t,r,n,a,i,s){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=s}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>af],r=(r<<jC)+(t&kC),this.data[r];if(t<=65535)return r=this.index[XV+(t-55296>>af)],r=(r<<jC)+(t&kC),this.data[r];if(t<this.highStart)return r=_4e-B4e+(t>>s3),r=this.index[r],r+=t>>af&N4e,r=this.index[r],r=(r<<jC)+(t&kC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),f7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E4e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var F0=0;F0<f7.length;F0++)E4e[f7.charCodeAt(F0)]=F0;var T4e=1,EC=2,TC=3,h7=4,m7=5,O4e=7,p7=8,OC=9,IC=10,g7=11,b7=12,y7=13,v7=14,UC=15,I4e=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},U4e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var s=e[a];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},F4e=j4e(f4e),eo="",FC="",D4e=function(e){return F4e.get(e)},L4e=function(e,t,r){var n=r-2,a=t[n],i=t[r-1],s=t[r];if(i===EC&&s===TC)return eo;if(i===EC||i===TC||i===h7||s===EC||s===TC||s===h7)return FC;if(i===p7&&[p7,OC,g7,b7].indexOf(s)!==-1||(i===g7||i===OC)&&(s===OC||s===IC)||(i===b7||i===IC)&&s===IC||s===y7||s===m7||s===O4e||i===T4e)return eo;if(i===y7&&s===v7){for(;a===m7;)a=t[--n];if(a===v7)return eo}if(i===UC&&s===UC){for(var o=0;a===UC;)o++,a=t[--n];if(o%2===0)return eo}return FC},M4e=function(e){var t=I4e(e),r=t.length,n=0,a=0,i=t.map(D4e);return{next:function(){if(n>=r)return{done:!0,value:null};for(var s=eo;n<r&&(s=L4e(t,i,++n))===eo;);if(s!==eo||n===r){var o=U4e.apply(null,t.slice(a,n));return a=n,{value:o,done:!1}}return{done:!0,value:null}}}},P4e=function(e){for(var t=M4e(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},Q4e=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(e.body.removeChild(n),i===t)return!0}}return!1},R4e=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=i2(n.data).map(function(c){return oa(c)}),i=0,s={},o=a.every(function(c,A){r.setStart(n,i),r.setEnd(n,i+c.length);var f=r.getBoundingClientRect();i+=c.length;var h=f.x>s.x||f.y>s.y;return s=f,A===0?!0:h});return e.body.removeChild(t),o},H4e=function(){return typeof new Image().crossOrigin<"u"},$4e=function(){return typeof new XMLHttpRequest().responseType=="string"},q4e=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},x7=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},K4e=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=t.toDataURL();a.src=i;var s=$4(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),w7(s).then(function(o){n.drawImage(o,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var A=e.createElement("div");return A.style.backgroundImage="url("+i+")",A.style.height=r+"px",x7(c)?w7($4(r,r,0,0,A)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),x7(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},$4=function(e,t,r,n,a){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(a),s},w7=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},oi={get SUPPORT_RANGE_BOUNDS(){var e=Q4e(document);return Object.defineProperty(oi,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=oi.SUPPORT_RANGE_BOUNDS&&R4e(document);return Object.defineProperty(oi,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=q4e(document);return Object.defineProperty(oi,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?K4e(document):Promise.resolve(!1);return Object.defineProperty(oi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=H4e();return Object.defineProperty(oi,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=$4e();return Object.defineProperty(oi,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(oi,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(oi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},fb=(function(){function e(t,r){this.text=t,this.bounds=r}return e})(),z4e=function(e,t,r,n){var a=W4e(t,r),i=[],s=0;return a.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(oi.SUPPORT_RANGE_BOUNDS){var c=_7(n,s,o.length).getClientRects();if(c.length>1){var A=o3(o),f=0;A.forEach(function(p){i.push(new fb(p,ru.fromDOMRectList(e,_7(n,f+s,p.length).getClientRects()))),f+=p.length})}else i.push(new fb(o,ru.fromDOMRectList(e,c)))}else{var h=n.splitText(o.length);i.push(new fb(o,G4e(e,n))),n=h}else oi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));s+=o.length}),i},G4e=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var i=a2(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return ru.EMPTY},_7=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},o3=function(e){if(oi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return P4e(e)},V4e=function(e,t){if(oi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return X4e(e,t)},W4e=function(e,t){return t.letterSpacing!==0?o3(e):V4e(e,t)},Y4e=[32,160,4961,65792,65793,4153,4241],X4e=function(e,t){for(var r=BCe(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,i=function(){if(a.value){var s=a.value.slice(),o=i2(s),c="";o.forEach(function(A){Y4e.indexOf(A)===-1?c+=oa(A):(c.length&&n.push(c),n.push(oa(A)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},J4e=(function(){function e(t,r,n){this.text=Z4e(r.data,n.textTransform),this.textBounds=z4e(t,this.text,n,r)}return e})(),Z4e=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(eEe,tEe);case 2:return e.toUpperCase();default:return e}},eEe=/(^|\s|:|-|\(|\))([a-z])/g,tEe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},JV=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t})(sc),ZV=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t})(sc),eW=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=new XMLSerializer,s=a2(r,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t})(sc),tW=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t})(sc),q4=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t})(sc),rEe=[{type:15,flags:0,unit:"px",number:3}],nEe=[{type:16,flags:0,number:50}],aEe=function(e){return e.width>e.height?new ru(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new ru(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},iEe=function(e){var t=e.type===sEe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},Iw="checkbox",Uw="radio",sEe="password",B7=707406591,l3=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=iEe(n),(a.type===Iw||a.type===Uw)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=aEe(a.bounds)),a.type){case Iw:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=rEe;break;case Uw:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=nEe;break}return a}return t})(sc),rW=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return t})(sc),nW=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t})(sc),aW=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=sW(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Ab(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Xc.TRANSPARENT,s=n.contentWindow.document.body?Ab(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Xc.TRANSPARENT;a.backgroundColor=jA(i)?jA(s)?a.styles.backgroundColor:s:i}}catch{}return a}return t})(sc),oEe=["OL","UL","MENU"],ox=function(e,t,r,n){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,oW(a)&&a.data.trim().length>0)r.textNodes.push(new J4e(e,a,r.styles));else if(im(a))if(AW(a)&&a.assignedNodes)a.assignedNodes().forEach(function(o){return ox(e,o,r,n)});else{var s=iW(e,a);s.styles.isVisible()&&(lEe(a,s,n)?s.flags|=4:cEe(s.styles)&&(s.flags|=2),oEe.indexOf(a.tagName)!==-1&&(s.flags|=8),r.elements.push(s),a.slot,a.shadowRoot?ox(e,a.shadowRoot,s,n):!Fw(a)&&!lW(a)&&!Dw(a)&&ox(e,a,s,n))}},iW=function(e,t){return z4(t)?new JV(e,t):cW(t)?new ZV(e,t):lW(t)?new eW(e,t):uEe(t)?new tW(e,t):AEe(t)?new q4(e,t):dEe(t)?new l3(e,t):Dw(t)?new rW(e,t):Fw(t)?new nW(e,t):uW(t)?new aW(e,t):new sc(e,t)},sW=function(e,t){var r=iW(e,t);return r.flags|=4,ox(e,t,r,r),r},lEe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||c3(e)&&r.styles.isTransparent()},cEe=function(e){return e.isPositioned()||e.isFloating()},oW=function(e){return e.nodeType===Node.TEXT_NODE},im=function(e){return e.nodeType===Node.ELEMENT_NODE},K4=function(e){return im(e)&&typeof e.style<"u"&&!lx(e)},lx=function(e){return typeof e.className=="object"},uEe=function(e){return e.tagName==="LI"},AEe=function(e){return e.tagName==="OL"},dEe=function(e){return e.tagName==="INPUT"},fEe=function(e){return e.tagName==="HTML"},lW=function(e){return e.tagName==="svg"},c3=function(e){return e.tagName==="BODY"},cW=function(e){return e.tagName==="CANVAS"},S7=function(e){return e.tagName==="VIDEO"},z4=function(e){return e.tagName==="IMG"},uW=function(e){return e.tagName==="IFRAME"},N7=function(e){return e.tagName==="STYLE"},hEe=function(e){return e.tagName==="SCRIPT"},Fw=function(e){return e.tagName==="TEXTAREA"},Dw=function(e){return e.tagName==="SELECT"},AW=function(e){return e.tagName==="SLOT"},C7=function(e){return e.tagName.indexOf("-")>0},mEe=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,i=!0;n!==null&&n.forEach(function(o){var c=r.counters[o.counter];c&&o.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var s=[];return i&&a.forEach(function(o){var c=r.counters[o.counter];s.push(o.counter),c||(c=r.counters[o.counter]=[]),c.push(o.reset)}),s},e})(),j7={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},k7={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pEe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gEe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Dh=function(e,t,r,n,a,i){return e<t||e>r?uy(e,a,i.length>0):n.integers.reduce(function(s,o,c){for(;e>=o;)e-=o,s+=n.values[c];return s},"")+i},dW=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},ia=function(e,t,r,n,a){var i=r-t+1;return(e<0?"-":"")+(dW(Math.abs(e),i,n,function(s){return oa(Math.floor(s%i)+t)})+a)},Ed=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return dW(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},Vh=1,iA=2,sA=4,Yg=8,Dc=function(e,t,r,n,a,i){if(e<-9999||e>9999)return uy(e,4,a.length>0);var s=Math.abs(e),o=a;if(s===0)return t[0]+o;for(var c=0;s>0&&c<=4;c++){var A=s%10;A===0&&Ta(i,Vh)&&o!==""?o=t[A]+o:A>1||A===1&&c===0||A===1&&c===1&&Ta(i,iA)||A===1&&c===1&&Ta(i,sA)&&e>100||A===1&&c>1&&Ta(i,Yg)?o=t[A]+(c>0?r[c-1]:"")+o:A===1&&c>0&&(o=r[c-1]+o),s=Math.floor(s/10)}return(e<0?n:"")+o},E7="",T7="",O7="",DC="",uy=function(e,t,r){var n=r?". ":"",a=r?"":"",i=r?", ":"",s=r?" ":"";switch(t){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=ia(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Ed(e,"",a);case 6:return Dh(e,1,3999,j7,3,n).toLowerCase();case 7:return Dh(e,1,3999,j7,3,n);case 8:return ia(e,945,969,!1,n);case 9:return ia(e,97,122,!1,n);case 10:return ia(e,65,90,!1,n);case 11:return ia(e,1632,1641,!0,n);case 12:case 49:return Dh(e,1,9999,k7,3,n);case 35:return Dh(e,1,9999,k7,3,n).toLowerCase();case 13:return ia(e,2534,2543,!0,n);case 14:case 30:return ia(e,6112,6121,!0,n);case 15:return Ed(e,"",a);case 16:return Ed(e,"",a);case 17:case 48:return Dc(e,"",E7,"",a,iA|sA|Yg);case 47:return Dc(e,"",T7,"",a,Vh|iA|sA|Yg);case 42:return Dc(e,"",E7,"",a,iA|sA|Yg);case 41:return Dc(e,"",T7,"",a,Vh|iA|sA|Yg);case 26:return Dc(e,"","",O7,a,0);case 25:return Dc(e,"","",O7,a,Vh|iA|sA);case 31:return Dc(e,"","",DC,i,Vh|iA|sA);case 33:return Dc(e,"","",DC,i,0);case 32:return Dc(e,"","",DC,i,Vh|iA|sA);case 18:return ia(e,2406,2415,!0,n);case 20:return Dh(e,1,19999,gEe,3,n);case 21:return ia(e,2790,2799,!0,n);case 22:return ia(e,2662,2671,!0,n);case 22:return Dh(e,1,10999,pEe,3,n);case 23:return Ed(e,"");case 24:return Ed(e,"");case 27:return ia(e,3302,3311,!0,n);case 28:return Ed(e,"",a);case 29:return Ed(e,"",a);case 34:return ia(e,3792,3801,!0,n);case 37:return ia(e,6160,6169,!0,n);case 38:return ia(e,4160,4169,!0,n);case 39:return ia(e,2918,2927,!0,n);case 40:return ia(e,1776,1785,!0,n);case 43:return ia(e,3046,3055,!0,n);case 44:return ia(e,3174,3183,!0,n);case 45:return ia(e,3664,3673,!0,n);case 46:return ia(e,3872,3881,!0,n);case 3:default:return ia(e,48,57,!0,n)}},fW="data-html2canvas-ignore",I7=(function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new mEe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=bEe(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,s=t.defaultView.pageYOffset,o=a.contentWindow,c=o.document,A=xEe(a).then(function(){return Ii(n,void 0,void 0,function(){var f,h;return wi(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(SEe),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),f=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,vEe(c)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(c,h)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(_Ee(document.doctype)+"<html></html>"),BEe(this.referenceElement.ownerDocument,i,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(t){if(H4(t,2))debugger;if(cW(t))return this.createCanvasClone(t);if(S7(t))return this.createVideoClone(t);if(N7(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return z4(r)&&(z4(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),C7(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return LC(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,s){return s&&typeof s.cssText=="string"?i+s.cssText:i},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),s=a.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var c=o.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}s.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!im(r)||!hEe(r)&&!r.hasAttribute(fW)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!im(r)||!N7(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(im(i)&&AW(i)&&typeof i.assignedNodes=="function"){var s=i.assignedNodes();s.length&&s.forEach(function(o){return a.appendChildNode(r,o,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if(oW(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&im(t)&&(K4(t)||lx(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=n.getComputedStyle(t),s=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&K4(a)&&(this.clonedReferenceElement=a),c3(a)&&jEe(a);var c=this.counters.parse(new u7(this.context,i)),A=this.resolvePseudoContent(t,a,s,hb.BEFORE);C7(t)&&(r=!0),S7(t)||this.cloneChildNodes(t,a,r),A&&a.insertBefore(A,a.firstChild);var f=this.resolvePseudoContent(t,a,o,hb.AFTER);return f&&a.appendChild(f),this.counters.pop(c),(i&&(this.options.copyStyles||lx(t))&&!uW(t)||r)&&LC(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(Fw(t)||Dw(t))&&(Fw(a)||Dw(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var i=this;if(n){var s=n.content,o=r.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new u7(this.context,n));var c=new u4e(this.context,n),A=o.createElement("html2canvaspseudoelement");LC(n,A),c.content.forEach(function(h){if(h.type===0)A.appendChild(o.createTextNode(h.value));else if(h.type===22){var p=o.createElement("img");p.src=h.value,p.style.opacity="1",A.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(mn);g.length&&A.appendChild(o.createTextNode(t.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var v=h.values.filter(rp),b=v[0],x=v[1];if(b&&mn(b)){var w=i.counters.getCounterValue(b.value),S=x&&mn(x)?R4.parse(i.context,x.value):3;A.appendChild(o.createTextNode(uy(w,S,!1)))}}else if(h.name==="counters"){var N=h.values.filter(rp),b=N[0],k=N[1],x=N[2];if(b&&mn(b)){var C=i.counters.getCounterValues(b.value),T=x&&mn(x)?R4.parse(i.context,x.value):3,O=k&&k.type===0?k.value:"",D=C.map(function(U){return uy(U,T,!1)}).join(O);A.appendChild(o.createTextNode(D))}}}else if(h.type===20)switch(h.value){case"open-quote":A.appendChild(o.createTextNode(c7(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode(c7(c.quotes,--i.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(h.value))}}),A.className=G4+" "+V4;var f=a===hb.BEFORE?" "+G4:" "+V4;return lx(r)?r.className.baseValue+=f:r.className+=f,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e})(),hb;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(hb||(hb={}));var bEe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(fW,"true"),e.body.appendChild(r),r},yEe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},vEe=function(e){return Promise.all([].slice.call(e.images,0).map(yEe))},xEe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},wEe=["all","d","content"],LC=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);wEe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},_Ee=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},BEe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},SEe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},NEe=":before",CEe=":after",G4="___html2canvas___pseudoelement_before",V4="___html2canvas___pseudoelement_after",U7=`{
    content: "" !important;
    display: none !important;
}`,jEe=function(e){kEe(e,"."+G4+NEe+U7+`
         .`+V4+CEe+U7)},kEe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},hW=(function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e})(),EEe=(function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(PC(t)||UEe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Ii(this,void 0,void 0,function(){var r,n,a,i,s=this;return wi(this,function(o){switch(o.label){case 0:return r=hW.isSameOrigin(t),n=!MC(t)&&this._options.useCORS===!0&&oi.SUPPORT_CORS_IMAGES&&!r,a=!MC(t)&&!r&&!PC(t)&&typeof this._options.proxy=="string"&&oi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!MC(t)&&!PC(t)&&!a&&!n?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,A){var f=new Image;f.onload=function(){return c(f)},f.onerror=A,(FEe(i)||n)&&(f.crossOrigin="anonymous"),f.src=i,f.complete===!0&&setTimeout(function(){return c(f)},500),s._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,s){var o=oi.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")i(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(p){return s(p)},!1),h.readAsDataURL(c.response)}else s("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=s;var A=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+A+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),r._options.imageTimeout){var f=r._options.imageTimeout;c.timeout=f,c.ontimeout=function(){return s("Timed out ("+f+"ms) proxying "+a)}}c.send()})},e})(),TEe=/^data:image\/svg\+xml/i,OEe=/^data:image\/.*;base64,/i,IEe=/^data:image\/.*/i,UEe=function(e){return oi.SUPPORT_SVG_DRAWING||!DEe(e)},MC=function(e){return IEe.test(e)},FEe=function(e){return OEe.test(e)},PC=function(e){return e.substr(0,4)==="blob"},DEe=function(e){return e.substr(-3).toLowerCase()==="svg"||TEe.test(e)},Rt=(function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e})(),Lh=function(e,t,r){return new Rt(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},D0=(function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=Lh(this.start,this.startControl,t),a=Lh(this.startControl,this.endControl,t),i=Lh(this.endControl,this.end,t),s=Lh(n,a,t),o=Lh(a,i,t),c=Lh(s,o,t);return r?new e(this.start,n,s,c):new e(c,o,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),ro=function(e){return e.type===1},LEe=(function(){function e(t){var r=t.styles,n=t.bounds,a=Vg(r.borderTopLeftRadius,n.width,n.height),i=a[0],s=a[1],o=Vg(r.borderTopRightRadius,n.width,n.height),c=o[0],A=o[1],f=Vg(r.borderBottomRightRadius,n.width,n.height),h=f[0],p=f[1],g=Vg(r.borderBottomLeftRadius,n.width,n.height),v=g[0],b=g[1],x=[];x.push((i+c)/n.width),x.push((v+h)/n.width),x.push((s+b)/n.height),x.push((A+p)/n.height);var w=Math.max.apply(Math,x);w>1&&(i/=w,s/=w,c/=w,A/=w,h/=w,p/=w,v/=w,b/=w);var S=n.width-c,N=n.height-p,k=n.width-h,C=n.height-b,T=r.borderTopWidth,O=r.borderRightWidth,D=r.borderBottomWidth,R=r.borderLeftWidth,q=Cn(r.paddingTop,t.bounds.width),U=Cn(r.paddingRight,t.bounds.width),I=Cn(r.paddingBottom,t.bounds.width),Q=Cn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?Ln(n.left+R/3,n.top+T/3,i-R/3,s-T/3,rn.TOP_LEFT):new Rt(n.left+R/3,n.top+T/3),this.topRightBorderDoubleOuterBox=i>0||s>0?Ln(n.left+S,n.top+T/3,c-O/3,A-T/3,rn.TOP_RIGHT):new Rt(n.left+n.width-O/3,n.top+T/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?Ln(n.left+k,n.top+N,h-O/3,p-D/3,rn.BOTTOM_RIGHT):new Rt(n.left+n.width-O/3,n.top+n.height-D/3),this.bottomLeftBorderDoubleOuterBox=v>0||b>0?Ln(n.left+R/3,n.top+C,v-R/3,b-D/3,rn.BOTTOM_LEFT):new Rt(n.left+R/3,n.top+n.height-D/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?Ln(n.left+R*2/3,n.top+T*2/3,i-R*2/3,s-T*2/3,rn.TOP_LEFT):new Rt(n.left+R*2/3,n.top+T*2/3),this.topRightBorderDoubleInnerBox=i>0||s>0?Ln(n.left+S,n.top+T*2/3,c-O*2/3,A-T*2/3,rn.TOP_RIGHT):new Rt(n.left+n.width-O*2/3,n.top+T*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?Ln(n.left+k,n.top+N,h-O*2/3,p-D*2/3,rn.BOTTOM_RIGHT):new Rt(n.left+n.width-O*2/3,n.top+n.height-D*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||b>0?Ln(n.left+R*2/3,n.top+C,v-R*2/3,b-D*2/3,rn.BOTTOM_LEFT):new Rt(n.left+R*2/3,n.top+n.height-D*2/3),this.topLeftBorderStroke=i>0||s>0?Ln(n.left+R/2,n.top+T/2,i-R/2,s-T/2,rn.TOP_LEFT):new Rt(n.left+R/2,n.top+T/2),this.topRightBorderStroke=i>0||s>0?Ln(n.left+S,n.top+T/2,c-O/2,A-T/2,rn.TOP_RIGHT):new Rt(n.left+n.width-O/2,n.top+T/2),this.bottomRightBorderStroke=h>0||p>0?Ln(n.left+k,n.top+N,h-O/2,p-D/2,rn.BOTTOM_RIGHT):new Rt(n.left+n.width-O/2,n.top+n.height-D/2),this.bottomLeftBorderStroke=v>0||b>0?Ln(n.left+R/2,n.top+C,v-R/2,b-D/2,rn.BOTTOM_LEFT):new Rt(n.left+R/2,n.top+n.height-D/2),this.topLeftBorderBox=i>0||s>0?Ln(n.left,n.top,i,s,rn.TOP_LEFT):new Rt(n.left,n.top),this.topRightBorderBox=c>0||A>0?Ln(n.left+S,n.top,c,A,rn.TOP_RIGHT):new Rt(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||p>0?Ln(n.left+k,n.top+N,h,p,rn.BOTTOM_RIGHT):new Rt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=v>0||b>0?Ln(n.left,n.top+C,v,b,rn.BOTTOM_LEFT):new Rt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||s>0?Ln(n.left+R,n.top+T,Math.max(0,i-R),Math.max(0,s-T),rn.TOP_LEFT):new Rt(n.left+R,n.top+T),this.topRightPaddingBox=c>0||A>0?Ln(n.left+Math.min(S,n.width-O),n.top+T,S>n.width+O?0:Math.max(0,c-O),Math.max(0,A-T),rn.TOP_RIGHT):new Rt(n.left+n.width-O,n.top+T),this.bottomRightPaddingBox=h>0||p>0?Ln(n.left+Math.min(k,n.width-R),n.top+Math.min(N,n.height-D),Math.max(0,h-O),Math.max(0,p-D),rn.BOTTOM_RIGHT):new Rt(n.left+n.width-O,n.top+n.height-D),this.bottomLeftPaddingBox=v>0||b>0?Ln(n.left+R,n.top+Math.min(C,n.height-D),Math.max(0,v-R),Math.max(0,b-D),rn.BOTTOM_LEFT):new Rt(n.left+R,n.top+n.height-D),this.topLeftContentBox=i>0||s>0?Ln(n.left+R+Q,n.top+T+q,Math.max(0,i-(R+Q)),Math.max(0,s-(T+q)),rn.TOP_LEFT):new Rt(n.left+R+Q,n.top+T+q),this.topRightContentBox=c>0||A>0?Ln(n.left+Math.min(S,n.width+R+Q),n.top+T+q,S>n.width+R+Q?0:c-R+Q,A-(T+q),rn.TOP_RIGHT):new Rt(n.left+n.width-(O+U),n.top+T+q),this.bottomRightContentBox=h>0||p>0?Ln(n.left+Math.min(k,n.width-(R+Q)),n.top+Math.min(N,n.height+T+q),Math.max(0,h-(O+U)),p-(D+I),rn.BOTTOM_RIGHT):new Rt(n.left+n.width-(O+U),n.top+n.height-(D+I)),this.bottomLeftContentBox=v>0||b>0?Ln(n.left+R+Q,n.top+C,Math.max(0,v-(R+Q)),b-(D+I),rn.BOTTOM_LEFT):new Rt(n.left+R+Q,n.top+n.height-(D+I))}return e})(),rn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(rn||(rn={}));var Ln=function(e,t,r,n,a){var i=4*((Math.sqrt(2)-1)/3),s=r*i,o=n*i,c=e+r,A=t+n;switch(a){case rn.TOP_LEFT:return new D0(new Rt(e,A),new Rt(e,A-o),new Rt(c-s,t),new Rt(c,t));case rn.TOP_RIGHT:return new D0(new Rt(e,t),new Rt(e+s,t),new Rt(c,A-o),new Rt(c,A));case rn.BOTTOM_RIGHT:return new D0(new Rt(c,t),new Rt(c,t+o),new Rt(e+s,A),new Rt(e,A));case rn.BOTTOM_LEFT:default:return new D0(new Rt(c,A),new Rt(c-s,A),new Rt(e,t+o),new Rt(e,t))}},Lw=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},MEe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Mw=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},PEe=(function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e})(),L0=(function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e})(),QEe=(function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e})(),REe=function(e){return e.type===0},mW=function(e){return e.type===1},HEe=function(e){return e.type===2},F7=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},$Ee=function(e,t,r,n,a){return e.map(function(i,s){switch(s){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+a);case 3:return i.add(t,r+a)}return i})},pW=(function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),gW=(function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new LEe(this.container),this.container.styles.opacity<1&&this.effects.push(new QEe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new PEe(n,a,i))}if(this.container.styles.overflowX!==0){var s=Lw(this.curves),o=Mw(this.curves);F7(s,o)?this.effects.push(new L0(s,6)):(this.effects.push(new L0(s,2)),this.effects.push(new L0(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!mW(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=Lw(n.curves),o=Mw(n.curves);F7(s,o)||a.unshift(new L0(o,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return Ta(c.target,t)})},e})(),W4=function(e,t,r,n){e.container.elements.forEach(function(a){var i=Ta(a.flags,4),s=Ta(a.flags,2),o=new gW(a,e);Ta(a.styles.display,2048)&&n.push(o);var c=Ta(a.flags,8)?[]:n;if(i||s){var A=i||a.styles.isPositioned()?r:t,f=new pW(o);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var p=0;A.negativeZIndex.some(function(v,b){return h>v.element.container.styles.zIndex.order?(p=b,!1):p>0}),A.negativeZIndex.splice(p,0,f)}else if(h>0){var g=0;A.positiveZIndex.some(function(v,b){return h>=v.element.container.styles.zIndex.order?(g=b+1,!1):g>0}),A.positiveZIndex.splice(g,0,f)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else a.styles.isFloating()?A.nonPositionedFloats.push(f):A.nonPositionedInlineLevel.push(f);W4(o,f,i?f:r,c)}else a.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),W4(o,t,r,c);Ta(a.flags,8)&&bW(a,c)})},bW=function(e,t){for(var r=e instanceof q4?e.start:1,n=e instanceof q4?e.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof tW&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=uy(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},qEe=function(e){var t=new gW(e,null),r=new pW(t),n=[];return W4(t,r,r,n),bW(t.container,n),r},D7=function(e,t){switch(t){case 0:return oo(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return oo(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return oo(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return oo(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},KEe=function(e,t){switch(t){case 0:return oo(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return oo(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return oo(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return oo(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},zEe=function(e,t){switch(t){case 0:return oo(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return oo(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return oo(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return oo(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},GEe=function(e,t){switch(t){case 0:return M0(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return M0(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return M0(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return M0(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},M0=function(e,t){var r=[];return ro(e)?r.push(e.subdivide(.5,!1)):r.push(e),ro(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},oo=function(e,t,r,n){var a=[];return ro(e)?a.push(e.subdivide(.5,!1)):a.push(e),ro(r)?a.push(r.subdivide(.5,!0)):a.push(r),ro(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),ro(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},yW=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Pw=function(e){var t=e.styles,r=e.bounds,n=Cn(t.paddingLeft,r.width),a=Cn(t.paddingRight,r.width),i=Cn(t.paddingTop,r.width),s=Cn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+i+s))},VEe=function(e,t){return e===0?t.bounds:e===2?Pw(t):yW(t)},WEe=function(e,t){return e===0?t.bounds:e===2?Pw(t):yW(t)},QC=function(e,t,r){var n=VEe(Wh(e.styles.backgroundOrigin,t),e),a=WEe(Wh(e.styles.backgroundClip,t),e),i=YEe(Wh(e.styles.backgroundSize,t),r,n),s=i[0],o=i[1],c=Vg(Wh(e.styles.backgroundPosition,t),n.width-s,n.height-o),A=XEe(Wh(e.styles.backgroundRepeat,t),c,i,n,a),f=Math.round(n.left+c[0]),h=Math.round(n.top+c[1]);return[A,f,h,s,o]},Mh=function(e){return mn(e)&&e.value===xm.AUTO},P0=function(e){return typeof e=="number"},YEe=function(e,t,r){var n=t[0],a=t[1],i=t[2],s=e[0],o=e[1];if(!s)return[0,0];if(ya(s)&&o&&ya(o))return[Cn(s,r.width),Cn(o,r.height)];var c=P0(i);if(mn(s)&&(s.value===xm.CONTAIN||s.value===xm.COVER)){if(P0(i)){var A=r.width/r.height;return A<i!=(s.value===xm.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var f=P0(n),h=P0(a),p=f||h;if(Mh(s)&&(!o||Mh(o))){if(f&&h)return[n,a];if(!c&&!p)return[r.width,r.height];if(p&&c){var g=f?n:a*i,v=h?a:n/i;return[g,v]}var b=f?n:r.width,x=h?a:r.height;return[b,x]}if(c){var w=0,S=0;return ya(s)?w=Cn(s,r.width):ya(o)&&(S=Cn(o,r.height)),Mh(s)?w=S*i:(!o||Mh(o))&&(S=w/i),[w,S]}var N=null,k=null;if(ya(s)?N=Cn(s,r.width):o&&ya(o)&&(k=Cn(o,r.height)),N!==null&&(!o||Mh(o))&&(k=f&&h?N/n*a:r.height),k!==null&&Mh(s)&&(N=f&&h?k/a*n:r.width),N!==null&&k!==null)return[N,k];throw new Error("Unable to calculate background-size for element")},Wh=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},XEe=function(e,t,r,n,a){var i=t[0],s=t[1],o=r[0],c=r[1];switch(e){case 2:return[new Rt(Math.round(n.left),Math.round(n.top+s)),new Rt(Math.round(n.left+n.width),Math.round(n.top+s)),new Rt(Math.round(n.left+n.width),Math.round(c+n.top+s)),new Rt(Math.round(n.left),Math.round(c+n.top+s))];case 3:return[new Rt(Math.round(n.left+i),Math.round(n.top)),new Rt(Math.round(n.left+i+o),Math.round(n.top)),new Rt(Math.round(n.left+i+o),Math.round(n.height+n.top)),new Rt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Rt(Math.round(n.left+i),Math.round(n.top+s)),new Rt(Math.round(n.left+i+o),Math.round(n.top+s)),new Rt(Math.round(n.left+i+o),Math.round(n.top+s+c)),new Rt(Math.round(n.left+i),Math.round(n.top+s+c))];default:return[new Rt(Math.round(a.left),Math.round(a.top)),new Rt(Math.round(a.left+a.width),Math.round(a.top)),new Rt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Rt(Math.round(a.left),Math.round(a.height+a.top))]}},JEe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",L7="Hidden Text",ZEe=(function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),a.src=JEe,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(L7)),n.appendChild(i),n.appendChild(a);var o=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(L7)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:o,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e})(),vW=(function(){function e(t,r){this.context=t,this.options=r}return e})(),eTe=1e4,tTe=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new ZEe(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),HEe(r)&&(this.ctx.globalAlpha=r.opacity),REe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),mW(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Ii(this,void 0,void 0,function(){var n;return wi(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Ii(this,void 0,void 0,function(){return wi(this,function(n){switch(n.label){case 0:if(Ta(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var s=o3(r.text);s.reduce(function(o,c){return i.ctx.fillText(c,o,r.bounds.top+a),o+i.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),a=sTe(r.fontFamily).join(", "),i=Fy(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(r,n){return Ii(this,void 0,void 0,function(){var a,i,s,o,c,A,f,h,p=this;return wi(this,function(g){return a=this.createFontStyle(n),i=a[0],s=a[1],o=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(s,o),A=c.baseline,f=c.middle,h=n.paintOrder,r.textBounds.forEach(function(v){h.forEach(function(b){switch(b){case 0:p.ctx.fillStyle=Ka(n.color),p.renderTextWithLetterSpacing(v,n.letterSpacing,A);var x=n.textShadow;x.length&&v.text.trim().length&&(x.slice(0).reverse().forEach(function(w){p.ctx.shadowColor=Ka(w.color),p.ctx.shadowOffsetX=w.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=w.offsetY.number*p.options.scale,p.ctx.shadowBlur=w.blur.number,p.renderTextWithLetterSpacing(v,n.letterSpacing,A)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=Ka(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:p.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+A),v.bounds.width,1);break;case 2:p.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:p.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+f),v.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&v.text.trim().length&&(p.ctx.strokeStyle=Ka(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+A)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Pw(r),s=Mw(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Ii(this,void 0,void 0,function(){var n,a,i,s,o,c,S,S,A,f,h,p,k,g,v,C,b,x,w,S,N,k,C;return wi(this,function(T){switch(T.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,s=0,o=n.textNodes,T.label=1;case 1:return s<o.length?(c=o[s],[4,this.renderTextNode(c,i)]):[3,4];case 2:T.sent(),T.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof JV))return[3,8];T.label=5;case 5:return T.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return S=T.sent(),this.renderReplacedElement(n,a,S),[3,8];case 7:return T.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof ZV&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof eW))return[3,12];T.label=9;case 9:return T.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return S=T.sent(),this.renderReplacedElement(n,a,S),[3,12];case 11:return T.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof aW&&n.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,A.render(n.tree)]):[3,14];case 13:f=T.sent(),n.width&&n.height&&this.ctx.drawImage(f,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),T.label=14;case 14:if(n instanceof l3&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===Iw?n.checked&&(this.ctx.save(),this.path([new Rt(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Rt(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Rt(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Rt(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Rt(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Rt(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Rt(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=Ka(B7),this.ctx.fill(),this.ctx.restore()):n.type===Uw&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ka(B7),this.ctx.fill(),this.ctx.restore())),rTe(n)&&n.value.length){switch(p=this.createFontStyle(i),k=p[0],g=p[1],v=this.fontMetrics.getMetrics(k,g).baseline,this.ctx.font=k,this.ctx.fillStyle=Ka(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=aTe(n.styles.textAlign),C=Pw(n),b=0,n.styles.textAlign){case 1:b+=C.width/2;break;case 2:b+=C.width;break}x=C.add(b,0,0,-C.height/2+1),this.ctx.save(),this.path([new Rt(C.left,C.top),new Rt(C.left+C.width,C.top),new Rt(C.left+C.width,C.top+C.height),new Rt(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new fb(n.value,x),i.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ta(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];S=void 0,N=w.url,T.label=15;case 15:return T.trys.push([15,17,,18]),[4,this.context.cache.match(N)];case 16:return S=T.sent(),this.ctx.drawImage(S,n.bounds.left-(S.width+10),n.bounds.top),[3,18];case 17:return T.sent(),this.context.logger.error("Error loading list-style-image "+N),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(k=this.createFontStyle(i)[0],this.ctx.font=k,this.ctx.fillStyle=Ka(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new ru(n.bounds.left,n.bounds.top+Cn(n.styles.paddingTop,n.bounds.width),n.bounds.width,o7(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new fb(r.listValue,C),i.letterSpacing,o7(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),T.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Ii(this,void 0,void 0,function(){var n,a,w,i,s,w,o,c,w,A,f,w,h,p,w,g,v,w,b,x,w;return wi(this,function(S){switch(S.label){case 0:if(Ta(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:S.sent(),n=0,a=r.negativeZIndex,S.label=2;case 2:return n<a.length?(w=a[n],[4,this.renderStack(w)]):[3,5];case 3:S.sent(),S.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:S.sent(),i=0,s=r.nonInlineLevel,S.label=7;case 7:return i<s.length?(w=s[i],[4,this.renderNode(w)]):[3,10];case 8:S.sent(),S.label=9;case 9:return i++,[3,7];case 10:o=0,c=r.nonPositionedFloats,S.label=11;case 11:return o<c.length?(w=c[o],[4,this.renderStack(w)]):[3,14];case 12:S.sent(),S.label=13;case 13:return o++,[3,11];case 14:A=0,f=r.nonPositionedInlineLevel,S.label=15;case 15:return A<f.length?(w=f[A],[4,this.renderStack(w)]):[3,18];case 16:S.sent(),S.label=17;case 17:return A++,[3,15];case 18:h=0,p=r.inlineLevel,S.label=19;case 19:return h<p.length?(w=p[h],[4,this.renderNode(w)]):[3,22];case 20:S.sent(),S.label=21;case 21:return h++,[3,19];case 22:g=0,v=r.zeroOrAutoZIndexOrTransformedOrOpacity,S.label=23;case 23:return g<v.length?(w=v[g],[4,this.renderStack(w)]):[3,26];case 24:S.sent(),S.label=25;case 25:return g++,[3,23];case 26:b=0,x=r.positiveZIndex,S.label=27;case 27:return b<x.length?(w=x[b],[4,this.renderStack(w)]):[3,30];case 28:S.sent(),S.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var s=ro(a)?a.start:a;i===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),ro(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var s=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=s.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,a);var c=o.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),o},t.prototype.renderBackgroundImage=function(r){return Ii(this,void 0,void 0,function(){var n,a,i,s,o,c;return wi(this,function(A){switch(A.label){case 0:n=r.styles.backgroundImage.length-1,a=function(f){var h,p,g,q,K,J,Q,H,D,v,q,K,J,Q,H,b,x,w,S,N,k,C,T,O,D,R,q,U,I,Q,H,Y,K,J,re,oe,V,W,P,$,G,ne;return wi(this,function(se){switch(se.label){case 0:if(f.type!==0)return[3,5];h=void 0,p=f.url,se.label=1;case 1:return se.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return h=se.sent(),[3,4];case 3:return se.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(g=QC(r,n,[h.width,h.height,h.width/h.height]),q=g[0],K=g[1],J=g[2],Q=g[3],H=g[4],D=i.ctx.createPattern(i.resizeImage(h,Q,H),"repeat"),i.renderRepeat(q,D,K,J)),[3,6];case 5:Rje(f)?(v=QC(r,n,[null,null,null]),q=v[0],K=v[1],J=v[2],Q=v[3],H=v[4],b=Dje(f.angle,Q,H),x=b[0],w=b[1],S=b[2],N=b[3],k=b[4],C=document.createElement("canvas"),C.width=Q,C.height=H,T=C.getContext("2d"),O=T.createLinearGradient(w,N,S,k),i7(f.stops,x).forEach(function(ve){return O.addColorStop(ve.stop,Ka(ve.color))}),T.fillStyle=O,T.fillRect(0,0,Q,H),Q>0&&H>0&&(D=i.ctx.createPattern(C,"repeat"),i.renderRepeat(q,D,K,J))):Hje(f)&&(R=QC(r,n,[null,null,null]),q=R[0],U=R[1],I=R[2],Q=R[3],H=R[4],Y=f.position.length===0?[a3]:f.position,K=Cn(Y[0],Q),J=Cn(Y[Y.length-1],H),re=Lje(f,K,J,Q,H),oe=re[0],V=re[1],oe>0&&V>0&&(W=i.ctx.createRadialGradient(U+K,I+J,0,U+K,I+J,oe),i7(f.stops,oe*2).forEach(function(ve){return W.addColorStop(ve.stop,Ka(ve.color))}),i.path(q),i.ctx.fillStyle=W,oe!==V?(P=r.bounds.left+.5*r.bounds.width,$=r.bounds.top+.5*r.bounds.height,G=V/oe,ne=1/G,i.ctx.save(),i.ctx.translate(P,$),i.ctx.transform(1,0,0,G,0,0),i.ctx.translate(-P,-$),i.ctx.fillRect(U,ne*(I-$)+$,Q,H*ne),i.ctx.restore()):i.ctx.fill())),se.label=6;case 6:return n--,[2]}})},i=this,s=0,o=r.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return s<o.length?(c=o[s],[5,a(c)]):[3,4];case 2:A.sent(),A.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return Ii(this,void 0,void 0,function(){return wi(this,function(i){return this.path(D7(a,n)),this.ctx.fillStyle=Ka(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,i){return Ii(this,void 0,void 0,function(){var s,o;return wi(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return s=KEe(i,a),this.path(s),this.ctx.fillStyle=Ka(r),this.ctx.fill(),o=zEe(i,a),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Ii(this,void 0,void 0,function(){var n,a,i,s,o,c,A,f,h=this;return wi(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!jA(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=nTe(Wh(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),jA(n.backgroundColor)||(this.ctx.fillStyle=Ka(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var v=Lw(r.curves),b=g.inset?0:eTe,x=$Ee(v,-b+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(v),h.ctx.clip(),h.mask(x)):(h.mask(v),h.ctx.clip(),h.path(x)),h.ctx.shadowOffsetX=g.offsetX.number+b,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=Ka(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?Ka(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:o=0,c=0,A=i,p.label=3;case 3:return c<A.length?(f=A[c],f.style!==0&&!jA(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,o,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,o,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,o,r.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,i,s){return Ii(this,void 0,void 0,function(){var o,c,A,f,h,p,g,v,b,x,w,S,N,k,C,T,C,T;return wi(this,function(O){return this.ctx.save(),o=GEe(i,a),c=D7(i,a),s===2&&(this.path(c),this.ctx.clip()),ro(c[0])?(A=c[0].start.x,f=c[0].start.y):(A=c[0].x,f=c[0].y),ro(c[1])?(h=c[1].end.x,p=c[1].end.y):(h=c[1].x,p=c[1].y),a===0||a===2?g=Math.abs(A-h):g=Math.abs(f-p),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(c.slice(0,2)),v=n<3?n*3:n*2,b=n<3?n*2:n,s===3&&(v=n,b=n),x=!0,g<=v*2?x=!1:g<=v*2+b?(w=g/(2*v+b),v*=w,b*=w):(S=Math.floor((g+b)/(v+b)),N=(g-S*v)/(S-1),k=(g-(S+1)*v)/S,b=k<=0||Math.abs(b-N)<Math.abs(b-k)?N:k),x&&(s===3?this.ctx.setLineDash([0,v+b]):this.ctx.setLineDash([v,b])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ka(r),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(ro(c[0])&&(C=c[3],T=c[0],this.ctx.beginPath(),this.formatPath([new Rt(C.end.x,C.end.y),new Rt(T.start.x,T.start.y)]),this.ctx.stroke()),ro(c[1])&&(C=c[1],T=c[2],this.ctx.beginPath(),this.formatPath([new Rt(C.end.x,C.end.y),new Rt(T.start.x,T.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Ii(this,void 0,void 0,function(){var n;return wi(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ka(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=qEe(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(vW),rTe=function(e){return e instanceof nW||e instanceof rW?!0:e instanceof l3&&e.type!==Uw&&e.type!==Iw},nTe=function(e,t){switch(e){case 0:return Lw(t);case 2:return MEe(t);case 1:default:return Mw(t)}},aTe=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iTe=["-apple-system","system-ui"],sTe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return iTe.indexOf(t)===-1}):e},oTe=(function(e){cl(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return Ii(this,void 0,void 0,function(){var n,a;return wi(this,function(i){switch(i.label){case 0:return n=$4(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,lTe(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ka(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(vW),lTe=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},cTe=(function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,g0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,g0([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,g0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,g0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e})(),uTe=(function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new cTe({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new EEe(this,t)}return e.instanceCount=1,e})(),xW=function(e,t){return t===void 0&&(t={}),ATe(e,t)};typeof window<"u"&&hW.setContext(window);var ATe=function(e,t){return Ii(void 0,void 0,void 0,function(){var r,n,a,i,s,o,c,A,f,h,p,g,v,b,x,w,S,N,k,C,O,T,O,D,R,q,U,I,Q,H,Y,K,J,re,oe,V,W,P,$,G;return wi(this,function(ne){switch(ne.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(D=t.allowTaint)!==null&&D!==void 0?D:!1,imageTimeout:(R=t.imageTimeout)!==null&&R!==void 0?R:15e3,proxy:t.proxy,useCORS:(q=t.useCORS)!==null&&q!==void 0?q:!1},i=j4({logging:(U=t.logging)!==null&&U!==void 0?U:!0,cache:t.cache},a),s={windowWidth:(I=t.windowWidth)!==null&&I!==void 0?I:n.innerWidth,windowHeight:(Q=t.windowHeight)!==null&&Q!==void 0?Q:n.innerHeight,scrollX:(H=t.scrollX)!==null&&H!==void 0?H:n.pageXOffset,scrollY:(Y=t.scrollY)!==null&&Y!==void 0?Y:n.pageYOffset},o=new ru(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),c=new uTe(i,o),A=(K=t.foreignObjectRendering)!==null&&K!==void 0?K:!1,f={allowTaint:(J=t.allowTaint)!==null&&J!==void 0?J:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new I7(c,e,f),p=h.clonedReferenceElement,p?[4,h.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=ne.sent(),v=c3(p)||fEe(p)?$5e(p.ownerDocument):a2(c,p),b=v.width,x=v.height,w=v.left,S=v.top,N=dTe(c,p,t.backgroundColor),k={canvas:t.canvas,backgroundColor:N,scale:(oe=(re=t.scale)!==null&&re!==void 0?re:n.devicePixelRatio)!==null&&oe!==void 0?oe:1,x:((V=t.x)!==null&&V!==void 0?V:0)+w,y:((W=t.y)!==null&&W!==void 0?W:0)+S,width:(P=t.width)!==null&&P!==void 0?P:Math.ceil(b),height:($=t.height)!==null&&$!==void 0?$:Math.ceil(x)},A?(c.logger.debug("Document cloned, using foreign object rendering"),O=new oTe(c,k),[4,O.render(p)]):[3,3];case 2:return C=ne.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+w+","+S+" with size "+b+"x"+x+" using computed rendering"),c.logger.debug("Starting DOM parsing"),T=sW(c,p),N===T.styles.backgroundColor&&(T.styles.backgroundColor=Xc.TRANSPARENT),c.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),O=new tTe(c,k),[4,O.render(T)];case 4:C=ne.sent(),ne.label=5;case 5:return(!((G=t.removeContainer)!==null&&G!==void 0)||G)&&(I7.destroy(g)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,C]}})})},dTe=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?Ab(e,getComputedStyle(n.documentElement).backgroundColor):Xc.TRANSPARENT,i=n.body?Ab(e,getComputedStyle(n.body).backgroundColor):Xc.TRANSPARENT,s=typeof r=="string"?Ab(e,r):r===null?Xc.TRANSPARENT:4294967295;return t===n.documentElement?jA(a)?jA(i)?s:i:a:s};const fTe=Object.freeze(Object.defineProperty({__proto__:null,default:xW},Symbol.toStringTag,{value:"Module"}));function hTe({month:e,kpi:t={},byCategory:r=[],byDay:n=[],budgetsForMonth:a=[]}){const i=()=>{try{const o=[];o.push("KPI"),o.push("Metric,Value"),o.push(`Pemasukan,${t.income||0}`),o.push(`Pengeluaran,${t.expense||0}`),o.push(`Saldo,${t.balance||0}`),o.push(`Savings Rate,${((t.savings||0)*100).toFixed(2)}%`),o.push(""),o.push("Per Kategori"),o.push("Kategori,Total"),r.forEach(h=>o.push(`${h.category},${h.total}`)),o.push(""),o.push("Per Hari"),o.push("Tanggal,Pemasukan,Pengeluaran"),n.forEach(h=>o.push(`${h.date},${h.income},${h.expense}`)),o.push(""),o.push("Budget"),o.push("Kategori,Limit,Terpakai,Sisa,Progress%"),a.forEach(h=>o.push(`${h.category},${h.cap},${h.used},${h.remaining},${Math.round(h.progress*100)}`));const c=new Blob([o.join(`
`)],{type:"text/csv;charset=utf-8;"}),A=URL.createObjectURL(c),f=document.createElement("a");f.href=A,f.download=`hematwoi-report-${e}.csv`,f.click(),URL.revokeObjectURL(A)}catch(o){alert("Gagal export CSV: "+o.message)}},s=async()=>{try{const o=document.getElementById("report-capture");if(!o)throw new Error("Area laporan tidak ditemukan");const c=await xW(o,{scale:2}),A=c.toDataURL("image/png"),f=new lr("p","mm","a4"),h=f.internal.pageSize.getWidth(),p=c.height*h/c.width;f.addImage(A,"PNG",0,0,h,p),f.setFontSize(10),f.text(`HematWoi  Laporan ${e}  ${new Date().toLocaleString("id-ID")}`,10,f.internal.pageSize.getHeight()-10),f.save(`hematwoi-report-${e}.pdf`)}catch(o){alert("Gagal export PDF: "+o.message)}};return l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn",onClick:i,children:"Export CSV"}),l.jsx("button",{className:"btn",onClick:s,children:"Export PDF"})]})}function RC({className:e=""}){return l.jsx("div",{className:`animate-pulse rounded-lg bg-surface-2 ${e}`})}class mTe{constructor(t){this.userScopedTables=new Set(["transactions","budgets","categories","subscriptions","challenges","goals"]),this.transactions=this.table("transactions"),this.budgets=this.table("budgets"),this.categories=this.table("categories"),this.subscriptions=this.table("subscriptions"),this.challenges=this.table("challenges"),this.profile={get:async()=>{const r=await this.getUserId();return r?await this.runQuery(this.client.from("profiles").select("*").eq("id",r).maybeSingle(),"profiles","load")||{}:{}},update:async r=>{const n=await this.getUserId();n&&await this.runQuery(this.client.from("profiles").update(r).eq("id",n),"profiles","update")}},this.goals={...this.table("goals"),addSaving:async(r,n)=>{const a=await this.getUserId();if(!a)throw new Error("User not authenticated");const s=((await this.runQuery(this.client.from("goals").select("saved").eq("id",r).eq("user_id",a).single(),"goals","fetch savings for"))?.saved||0)+n;return await this.runQuery(this.client.from("goals").update({saved:s}).eq("id",r).eq("user_id",a),"goals","update savings for"),s}},this.client=t}async runQuery(t,r,n){const{data:a,error:i}=await t;if(i)throw console.error(`[CloudRepo] Failed to ${n} ${r}`,i),i;return a}async getUserId(){const{data:t,error:r}=await this.client.auth.getUser();if(r)throw r;return t.user?.id??null}async withUserScope(t,r){if(!this.userScopedTables.has(r))return t;const n=await this.getUserId();return n?t.eq("user_id",n):t.eq("user_id","__none__")}async ensureUserPayload(t,r){if(!this.userScopedTables.has(t))return r;const n=await this.getUserId();if(!n)throw new Error("User not authenticated");return{...r,user_id:r.user_id??n}}table(t){return{list:async()=>{let r=this.client.from(t).select("*");return r=await this.withUserScope(r,t),await this.runQuery(r,t,"list")||[]},add:async r=>{const n=await this.ensureUserPayload(t,r);return await this.runQuery(this.client.from(t).insert(n).select().single(),t,"insert into")||n},update:async(r,n)=>{let a=this.client.from(t).update(n).eq("id",r);a=await this.withUserScope(a,t),await this.runQuery(a,t,"update")},remove:async r=>{let n=this.client.from(t).delete().eq("id",r);n=await this.withUserScope(n,t),await this.runQuery(n,t,"delete from")}}}}const Lc=()=>globalThis.crypto?.randomUUID?.()??Math.random().toString(36).slice(2);function pTe(){const e=[{id:Lc(),name:"Gaji",type:"income"},{id:Lc(),name:"Bonus",type:"income"},{id:Lc(),name:"Makan",type:"expense"},{id:Lc(),name:"Transport",type:"expense"},{id:Lc(),name:"Hiburan",type:"expense"}],t=e.filter(a=>a.type==="expense").map(a=>({id:Lc(),categoryId:a.id,limit:1e6})),r=[{id:Lc(),name:"Dana Darurat",target:5e6,saved:0,history:[]},{id:Lc(),name:"Liburan",target:3e6,saved:0,history:[]}];return{transactions:Array.from({length:30}).map((a,i)=>{const s=e[i%e.length],o=5e4+i%5*1e4,c=s.type==="income"?"income":"expense";return{id:Lc(),amount:o,type:c,categoryId:s.id,date:new Date().toISOString(),note:`Dummy ${i+1}`}}),budgets:t,categories:e,goals:r,subscriptions:[],profile:{},challenges:[]}}const M7="hw:localRepo";class gTe{constructor(){this.transactions=this.table("transactions"),this.budgets=this.table("budgets"),this.categories=this.table("categories"),this.subscriptions=this.table("subscriptions"),this.challenges=this.table("challenges"),this.profile={get:async()=>this.db.profile,update:async r=>{this.db.profile={...this.db.profile,...r},this.save()}},this.goals={...this.table("goals"),addSaving:async(r,n)=>(this.db.goals=this.db.goals.map(a=>a.id===r?{...a,saved:(a.saved||0)+n,history:[...a.history||[],{amount:n,date:new Date().toISOString()}]}:a),this.save(),this.db.goals.find(a=>a.id===r).saved)};const t=globalThis.localStorage?.getItem(M7);this.db=t?JSON.parse(t):{transactions:[],budgets:[],categories:[],subscriptions:[],goals:[],profile:{},challenges:[]}}save(){globalThis.localStorage?.setItem(M7,JSON.stringify(this.db))}table(t){return{list:async()=>this.db[t],add:async r=>(this.db[t].push(r),this.save(),r),update:async(r,n)=>{this.db[t]=this.db[t].map(a=>a.id===r?{...a,...n}:a),this.save()},remove:async r=>{this.db[t]=this.db[t].filter(n=>n.id!==r),this.save()}}}seedDummy(){const t=pTe();Object.assign(this.db,t),this.save()}}const P7="hw:connectionMode",u3=B.createContext(void 0);function bTe({children:e,initialMode:t}){const[r,n]=B.useState(()=>{try{const i=localStorage.getItem(P7)??localStorage.getItem("hw:mode");return i==="cloud"?"online":i==="online"||i==="local"?i:t||"online"}catch{return t||"online"}}),a=B.useMemo(()=>r==="online"?new mTe(Ne):new gTe,[r]);return B.useEffect(()=>{localStorage.setItem(P7,r),localStorage.setItem("hw:mode",r)},[r]),l.jsx(u3.Provider,{value:{mode:r,setMode:n,repo:a},children:e})}function wW(){const e=B.useContext(u3);if(!e)throw new Error("useRepo must be used within DataProvider");return e.repo}function yTe(){const e=B.useContext(u3);if(!e)throw new Error("useDataMode must be used within DataProvider");return{mode:e.mode,setMode:e.setMode}}const wm=new Date().toISOString().slice(0,7),Q7=typeof Intl<"u"?new Intl.DateTimeFormat("id-ID",{month:"long",year:"numeric"}):void 0;function vTe(e){if(!e)return"";try{const[t,r]=e.split("-").map(a=>Number.parseInt(a,10));if(!t||!r)return e;const n=new Date(t,r-1,1);return Q7?Q7.format(n):e}catch{return e}}function h2(e){return e==null?null:typeof e=="object"?e.id??e.uuid??null:e}function xTe(e,t){const r=e.category_name||e.categoryName||e.category_label||e.category?.name||e.category?.label;if(typeof r=="string"&&r.trim().length)return r;const n=h2(e.category_id??e.categoryId??e.category_uuid??e.category);return n!=null&&t.has(n)?t.get(n)??"Lainnya":"Lainnya"}function wTe(e=[],t){return e.map(r=>{const n=r.date||r.transaction_date||r.created_at||r.posted_at||r.createdAt,a=(()=>{if(!n)return new Date().toISOString();if(typeof n=="string"){if(n.length>=10)return n;const f=new Date(n);return Number.isNaN(f.getTime())?new Date().toISOString():f.toISOString()}try{const f=new Date(n);if(!Number.isNaN(f.getTime()))return f.toISOString()}catch{}return new Date().toISOString()})(),i=a.slice(0,7),s=(r.type||r.transaction_type||"").toString();let o;s==="income"||s==="expense"||s==="transfer"?o=s:Number(r.amount)<0?o="expense":o="income";const c=Math.abs(Number(r.amount)||0),A=h2(r.category_id??r.categoryId??r.category_uuid??r.category);return{id:r.id??r.uuid??r._id,amount:c,type:o,date:a,month:i,categoryId:r.category_id??r.categoryId??r.category_uuid??null,categoryKey:A,categoryName:xTe(r,t),note:r.note||r.description||r.title||""}}).filter(r=>!!r)}function _Te(e=[],t){return e.map(r=>{const n=r.amount_planned??r.limit??r.cap??r.amount??r.budget??r.planned_amount??0,a=Number(n)||0,i=r.period??r.month??r.for_month??r.date??r.created_at??r.updated_at,s=typeof i=="string"?i.slice(0,7):null,o=h2(r.category_id??r.categoryId??r.category_uuid??r.category),c=r.category?.name||r.category_name||(o!=null?t.get(o):null)||"Tanpa kategori";return{id:r.id??r.uuid??r._id,categoryId:r.category_id??r.categoryId??r.category_uuid??null,categoryKey:o,categoryName:c,cap:a,period:s}}).filter(Boolean)}function BTe(e){const t=new Set;e.forEach(n=>{n.month&&t.add(n.month)});const r=Array.from(t).sort((n,a)=>a.localeCompare(n));return r.length?(r.includes(wm)||r.unshift(wm),r):[wm]}function STe(e,t){if(!t)return[];const[r,n]=t.split("-").map(o=>Number.parseInt(o,10));if(!r||!n)return[];const a=new Date(r,n,0).getDate(),i=new Map;e.forEach(o=>{if(o.month!==t||o.type==="transfer")return;const c=o.date.slice(8,10),A=i.get(c)||{income:0,expense:0};o.type==="income"?A.income+=o.amount:o.type==="expense"&&(A.expense+=o.amount),i.set(c,A)});const s=[];for(let o=1;o<=a;o+=1){const c=String(o).padStart(2,"0"),A=i.get(c)||{income:0,expense:0};s.push({date:`${t}-${c}`,income:A.income,expense:A.expense,balance:A.income-A.expense})}return s}function NTe(e){const t=new Map;return e.forEach(r=>{if(!r.month||r.type==="transfer")return;const n=t.get(r.month)||{income:0,expense:0,net:0,month:r.month};r.type==="income"?(n.income+=r.amount,n.net+=r.amount):r.type==="expense"&&(n.expense+=r.amount,n.net-=r.amount),t.set(r.month,n)}),Array.from(t.values()).sort((r,n)=>r.month.localeCompare(n.month)).slice(-6).map(r=>({month:vTe(r.month),net:r.net,income:r.income,expense:r.expense}))}function CTe(e,t,r){return e.filter(n=>!n.period||n.period===r).map(n=>{const a=t.filter(o=>o.type!=="expense"||o.month!==r?!1:n.categoryKey!=null?String(o.categoryKey)===String(n.categoryKey):o.categoryName===n.categoryName).reduce((o,c)=>o+c.amount,0),i=Math.max(0,n.cap-a),s=n.cap>0?Math.min(1,a/n.cap):0;return{id:n.id,category:n.categoryName,cap:n.cap,used:a,remaining:i,progress:s}})}function jTe(){const e=wW(),[t,r]=B.useState(!0),[n,a]=B.useState(null),[i,s]=B.useState([]),[o,c]=B.useState([]),[A,f]=B.useState([]),[h,p]=B.useState(wm),[g,v]=B.useState(!0),[b,x]=B.useState(0),[w,S]=B.useState(null);B.useEffect(()=>{let W=!0;return r(!0),a(null),(async()=>{try{const[$,G,ne]=await Promise.all([e.transactions.list(),e.categories.list(),Promise.resolve().then(()=>e.budgets.list()).catch(se=>(console.warn("[Reports] Failed to load budgets",se),[]))]);if(!W)return;s(Array.isArray($)?$:[]),c(Array.isArray(G)?G:[]),f(Array.isArray(ne)?ne:[])}catch($){if(!W)return;const G=$?.message||"Gagal memuat data laporan";a(G)}finally{W&&r(!1)}})(),()=>{W=!1}},[e,b]);const N=B.useMemo(()=>{const W=new Map;return o.forEach(P=>{const $=h2(P.id??P.uuid??P.category_id??P.key);$!=null&&W.set($,P.name||P.label||P.title||"Tanpa nama")}),W},[o]),k=B.useMemo(()=>wTe(i,N),[i,N]),C=B.useMemo(()=>BTe(k),[k]);B.useEffect(()=>{C.includes(h)||p(C[0]||wm)},[C,h]);const T=B.useMemo(()=>_Te(A,N),[A,N]),O=B.useMemo(()=>k.filter(W=>W.month===h&&W.type!=="transfer"),[k,h]),D=B.useMemo(()=>STe(k,h),[k,h]);B.useEffect(()=>{if(!(typeof window>"u"))return window.__hw_kpiSeries={income:D.map(W=>W.income),expense:D.map(W=>W.expense),balance:D.map(W=>W.balance)},()=>{window.__hw_kpiSeries&&delete window.__hw_kpiSeries}},[D]);const R=B.useMemo(()=>O.filter(W=>W.type==="income").reduce((W,P)=>W+P.amount,0),[O]),q=B.useMemo(()=>O.filter(W=>W.type==="expense").reduce((W,P)=>W+P.amount,0),[O]),U=B.useMemo(()=>{const[W,P]=h.split("-").map(ne=>Number.parseInt(ne,10));if(!W||!P)return null;const $=new Date(W,P-2,1),G=`${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}`;return C.includes(G)?G:null},[h,C]),I=B.useMemo(()=>U?k.filter(W=>W.month===U&&W.type!=="transfer"):[],[k,U]),Q=B.useMemo(()=>I.filter(W=>W.type==="income").reduce((W,P)=>W+P.amount,0),[I]),H=B.useMemo(()=>I.filter(W=>W.type==="expense").reduce((W,P)=>W+P.amount,0),[I]),Y=B.useMemo(()=>{const W=new Map;return O.forEach(P=>{P.type==="expense"&&W.set(P.categoryName,(W.get(P.categoryName)||0)+P.amount)}),Array.from(W.entries()).map(([P,$])=>({name:P,value:$})).sort((P,$)=>$.value-P.value)},[O]),K=B.useMemo(()=>NTe(k),[k]),J=B.useMemo(()=>CTe(T,k,h),[T,k,h]),re=B.useMemo(()=>{const W=D.length,P=D.filter(he=>he.expense===0).length,$=D.filter(he=>he.expense>0).length,G=$?q/$:0,ne=D.reduce((he,fe)=>he?fe.balance>he.balance?fe:he:fe,D[0]),se=D.reduce((he,fe)=>he?fe.expense>he.expense?fe:he:fe,D[0]),ve=Y[0];return[{title:"Hari tanpa pengeluaran",value:`${P} dari ${W} hari`,description:"Jumlah hari dalam periode ini ketika tidak ada pengeluaran yang tercatat."},{title:"Pengeluaran rata-rata aktif",value:$?hn(G):"",description:"Rata-rata pengeluaran pada hari ketika ada transaksi keluar."},{title:"Kategori terbesar",value:ve?`${ve.name}  ${hn(ve.value)}`:"",description:"Kategori pengeluaran dengan nominal tertinggi pada bulan ini."},{title:"Hari paling hemat",value:ne?`${ne.date}  ${hn(ne.balance)}`:"",description:"Selisih pemasukan dan pengeluaran terbaik dalam satu hari."},{title:"Hari pengeluaran tertinggi",value:se?`${se.date}  ${hn(se.expense)}`:"",description:"Total pengeluaran terbesar yang terjadi dalam satu hari pada periode ini."}]},[D,q,Y]),oe=B.useCallback(()=>{x(W=>W+1)},[]),V=B.useCallback(W=>{S(W)},[]);return l.jsxs(il,{children:[l.jsx(fo,{title:"Reports",description:"Pantau performa keuangan bulanan dengan ringkasan visual dan insight yang dapat diekspor.",children:l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:oe,disabled:t,children:"Muat ulang"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(PNe,{month:h,months:C,onChange:W=>p(W||wm),comparePrev:g,onToggleCompare:v}),n?l.jsx("div",{role:"alert",className:"rounded-xl border border-danger/40 bg-danger/10 px-4 py-3 text-sm text-danger",children:n}):null,t?l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsx(RC,{className:"h-48"}),l.jsx(RC,{className:"h-48"}),l.jsx(RC,{className:"h-72 md:col-span-2"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("section",{id:"report-capture",className:"space-y-6",children:[l.jsx(RNe,{income:R,expense:q,prevIncome:g?Q:0,prevExpense:g?H:0}),l.jsxs("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,3fr)_minmax(0,2fr)]",children:[l.jsx($Ne,{data:K}),l.jsx(Xz,{data:Y})]}),l.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]",children:[l.jsx(Jz,{data:O,onSelect:V}),l.jsxs(Vl,{className:"flex min-h-[360px] flex-col",children:[l.jsx(vf,{title:"Insight Cepat",subtext:"Temuan utama berdasarkan transaksi bulan ini"}),l.jsx(Gc,{children:l.jsx("ul",{className:"space-y-3",children:re.map(W=>l.jsxs("li",{className:"rounded-2xl bg-surface-alt/70 p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted",children:W.title}),l.jsx("p",{className:"text-sm font-semibold text-text",children:W.value}),l.jsx("p",{className:"text-xs text-muted/90",children:W.description})]},W.title))})}),w?l.jsx(Bie,{children:l.jsxs("div",{className:"space-y-1 text-xs text-muted/90",children:[l.jsx("p",{className:"font-semibold text-text",children:"Transaksi terpilih"}),l.jsxs("p",{children:[w.note||"Tanpa catatan","  ",w.categoryName]}),l.jsxs("p",{children:[new Date(w.date).toLocaleDateString("id-ID")," "," ",hn(w.amount)]})]})}):null]})]}),l.jsx(zNe,{month:h,txs:O})]}),l.jsx(hTe,{month:h,kpi:{income:R,expense:q,balance:R-q,savings:R>0?(R-q)/R:0},byCategory:Y.map(W=>({category:W.name,total:W.value})),byDay:D.map(W=>({date:W.date,income:W.income,expense:W.expense})),budgetsForMonth:J})]})]})]})}function kTe({current:e=0,steps:t=[]}){const r=t.length>1?e/(t.length-1)*100:0;return l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex justify-between mb-2",children:t.map((n,a)=>l.jsx("div",{className:`flex-1 text-center text-xs ${a<=e?"text-brand-var font-semibold":"text-muted"}`,children:n},n))}),l.jsx("div",{className:"relative h-2 bg-surface-2 rounded-full",role:"progressbar","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":t.length-1,children:l.jsx("div",{className:"absolute left-0 top-0 h-2 bg-brand-var rounded-full",style:{width:`${r}%`}})})]})}function ETe({headers:e=[],mapping:t,setMapping:r,onNext:n,onBack:a}){const i=s=>o=>{r({...t,[s]:o.target.value})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"card space-y-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm",children:"Tanggal"}),l.jsxs("select",{className:"input w-full",value:t.date,onChange:i("date"),children:[l.jsx("option",{value:"",children:"Pilih kolom"}),e.map(s=>l.jsx("option",{value:s,children:s},s))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm",children:"Jumlah"}),l.jsxs("select",{className:"input w-full",value:t.amount,onChange:i("amount"),children:[l.jsx("option",{value:"",children:"Pilih kolom"}),e.map(s=>l.jsx("option",{value:s,children:s},s))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm",children:"Catatan"}),l.jsxs("select",{className:"input w-full",value:t.note,onChange:i("note"),children:[l.jsx("option",{value:"",children:"Pilih kolom"}),e.map(s=>l.jsx("option",{value:s,children:s},s))]})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{className:"btn",type:"button",onClick:a,children:"Kembali"}),l.jsx("button",{className:"btn btn-primary",type:"button",onClick:n,disabled:!t.date||!t.amount||!t.note,children:"Lanjut"})]})]})}function TTe({rows:e=[],txs:t=[],categories:r,rules:n={},onBack:a,onImport:i}){const[s,o]=B.useState([]);B.useEffect(()=>{const p=e.map(g=>{const v=g.amount>=0?"income":"expense",b=Math.abs(Number(g.amount)),x=(g.note||"").toLowerCase();let w="";for(const[S,N]of Object.entries(n))if(x.includes(S)){w=N;break}return w||(w=r[v]?.[0]||""),{date:g.date,note:g.note,amount:b,type:v,category:w,duplicate:N2e({date:g.date,amount:b,note:g.note},t),remember:!1}});o(p)},[e,t,r,n]);const c=(p,g)=>{o(v=>v.map((b,x)=>x===p?{...b,category:g}:b))},A=(p,g)=>{o(v=>v.map((b,x)=>x===p?{...b,remember:g}:b))},f=()=>{const p=s.filter(v=>!v.duplicate),g={};s.forEach(v=>{v.remember&&v.note&&(g[v.note.toLowerCase()]=v.category)}),i(p,g)},h=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0});return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"overflow-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left",children:[l.jsx("th",{className:"p-2",children:"Tanggal"}),l.jsx("th",{className:"p-2",children:"Catatan"}),l.jsx("th",{className:"p-2 text-right",children:"Jumlah"}),l.jsx("th",{className:"p-2",children:"Kategori"}),l.jsx("th",{className:"p-2",children:"Duplikat"}),l.jsx("th",{className:"p-2",children:"Rule"})]})}),l.jsx("tbody",{children:s.map((p,g)=>l.jsxs("tr",{className:"border-t border-border",children:[l.jsx("td",{className:"p-2 whitespace-nowrap",children:p.date}),l.jsx("td",{className:"p-2",children:p.note}),l.jsx("td",{className:"p-2 text-right",children:h.format(p.amount)}),l.jsx("td",{className:"p-2",children:l.jsx("select",{className:"input",value:p.category,onChange:v=>c(g,v.target.value),children:(r[p.type]||[]).map(v=>l.jsx("option",{value:v,children:v},v))})}),l.jsx("td",{className:"p-2",children:p.duplicate&&l.jsx("span",{className:"px-2 py-1 text-xs rounded bg-danger/20 text-danger",children:"Duplikat"})}),l.jsx("td",{className:"p-2 text-center",children:l.jsx("input",{type:"checkbox",checked:p.remember,onChange:v=>A(g,v.target.checked)})})]},g))})]})}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{className:"btn",type:"button",onClick:a,children:"Kembali"}),l.jsx("button",{className:"btn btn-primary",type:"button",onClick:f,children:"Import"})]})]})}function OTe({txs:e,onAdd:t,categories:r,rules:n,setRules:a,onCancel:i}){const s=["Upload","Mapping","Preview"],[o,c]=B.useState(0),[A,f]=B.useState([]),[h,p]=B.useState([]),[g,v]=B.useState({date:"",amount:"",note:""}),[b,x]=B.useState([]),w=C=>{const T=new FileReader;T.onload=O=>{const D=String(O.target.result||"");let R;C.name.toLowerCase().endsWith(".ofx")?R=B2e(D):R=SG(D),f(R.rows),p(R.headers),v({date:R.headers[0]||"",amount:R.headers[1]||"",note:R.headers[2]||""}),c(1)},T.readAsText(C)},S=C=>{const T=C.target.files?.[0];T&&w(T),C.target.value=""},N=()=>{const C=S2e(A,g);x(C),c(2)},k=(C,T)=>{T&&Object.keys(T).length&&a(O=>({...O,...T})),C.forEach(t),i()};return l.jsxs("main",{className:"max-w-5xl mx-auto p-4 space-y-4",children:[l.jsx(kTe,{current:o,steps:s}),o===0&&l.jsxs("div",{className:"card p-4 space-y-4",children:[l.jsx("div",{children:l.jsxs("label",{className:"btn cursor-pointer",children:["Pilih File",l.jsx("input",{type:"file",accept:".csv,.ofx,text/csv,application/x-ofx,application/vnd.ms-ofx",className:"hidden",onChange:S})]})}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{className:"btn",onClick:i,children:"Batal"})})]}),o===1&&l.jsx(ETe,{headers:h,mapping:g,setMapping:v,onNext:N,onBack:()=>c(0)}),o===2&&l.jsx(TTe,{rows:b,txs:e,categories:r,rules:n,onBack:()=>c(1),onImport:k})]})}const ITe=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0});function R7(e){return ITe.format(Math.max(0,Number(e??0)))}function UTe({summary:e}){const t=e?.totalActive??0,r=e?.totalSavedThisMonth??0,n=e?.nearestRemaining??null,a=e?.onTrackPercentage??0,i=e?.onTrackCount??0,s=e?.totalTracked??0,o=Math.max(s-i,0);return l.jsxs("section",{className:"grid min-w-0 grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[l.jsxs("article",{className:"card min-w-0 space-y-2 rounded-3xl border border-border/60 bg-surface-1/90 p-4 shadow-sm md:p-5",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Total Goal Aktif"}),l.jsx("p",{className:"text-2xl font-bold tracking-tight text-text md:text-3xl",children:t}),l.jsx("p",{className:"text-xs text-muted",children:"Jumlah goal dengan status aktif saat ini."})]}),l.jsxs("article",{className:"card min-w-0 space-y-2 rounded-3xl border border-border/60 bg-surface-1/90 p-4 shadow-sm md:p-5",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Terkumpul Bulan Ini"}),l.jsx("p",{className:"text-2xl font-bold tracking-tight text-emerald-500 dark:text-emerald-300 md:text-3xl",children:R7(r)}),l.jsx("p",{className:"text-xs text-muted",children:"Akumulasi setoran dari goal selama bulan berjalan."})]}),l.jsxs("article",{className:"card min-w-0 space-y-2 rounded-3xl border border-border/60 bg-surface-1/90 p-4 shadow-sm md:p-5",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Sisa Menuju Target Terdekat"}),l.jsx("p",{className:"text-2xl font-bold tracking-tight text-sky-500 dark:text-sky-300 md:text-3xl",children:n!=null?R7(n):""}),l.jsx("p",{className:"text-xs text-muted",children:"Selisih target goal terdekat yang belum tercapai."})]}),l.jsxs("article",{className:"card min-w-0 space-y-2 rounded-3xl border border-border/60 bg-surface-1/90 p-4 shadow-sm md:p-5",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"On-track vs Off-track"}),l.jsxs("p",{className:"text-2xl font-bold tracking-tight text-brand md:text-3xl",children:[a,"%"]}),l.jsxs("p",{className:"text-xs text-muted",children:[i," on-track  ",o," off-track dari ",s," goal aktif."]})]})]})}const FTe=[{value:"all",label:"Semua status"},{value:"active",label:"Aktif"},{value:"paused",label:"Ditahan"},{value:"achieved",label:"Tercapai"},{value:"archived",label:"Diarsipkan"}],DTe=[{value:"all",label:"Semua prioritas"},{value:"low",label:"Rendah"},{value:"normal",label:"Normal"},{value:"high",label:"Tinggi"},{value:"urgent",label:"Mendesak"}],LTe=[{value:"created_at",label:"Tanggal dibuat"},{value:"due_date",label:"Tanggal target"}],MTe=[{value:"newest",label:"Terbaru"},{value:"oldest",label:"Terlama"},{value:"deadline",label:"Deadline terdekat"}];function PTe({filters:e,categories:t,onChange:r,onReset:n}){const a=(c,A)=>{const f=c.target.value;r({...e,[A]:f})},i=(c,A)=>{const f=c.target.value;r({...e,[A]:f})},s=c=>{c.preventDefault()},o=()=>{n?.()};return l.jsx("form",{onSubmit:s,className:"min-w-0 rounded-3xl border border-border/60 bg-surface-1/90 p-4 shadow-sm",children:l.jsxs("div",{className:"grid grid-cols-2 items-center gap-3 md:grid-cols-8",children:[l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Status"}),l.jsx("select",{value:e.status,onChange:c=>a(c,"status"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:FTe.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Prioritas"}),l.jsx("select",{value:e.priority,onChange:c=>a(c,"priority"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:DTe.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Rentang"}),l.jsx("select",{value:e.dateField,onChange:c=>a(c,"dateField"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:LTe.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Dari"}),l.jsx("input",{type:"date",value:e.dateFrom??"",onChange:c=>i(c,"dateFrom"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Sampai"}),l.jsx("input",{type:"date",value:e.dateTo??"",onChange:c=>i(c,"dateTo"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Kategori"}),l.jsxs("select",{value:e.categoryId,onChange:c=>a(c,"categoryId"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx("option",{value:"all",children:"Semua kategori"}),t.map(c=>l.jsx("option",{value:c.id,children:c.name},c.id))]})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-muted",children:[l.jsx("span",{className:"truncate",children:"Urutkan"}),l.jsx("select",{value:e.sort,onChange:c=>a(c,"sort"),className:"h-[40px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:MTe.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]}),l.jsxs("div",{className:"col-span-2 flex h-[40px] min-w-0 items-center gap-2 rounded-xl border border-border bg-surface-1 px-3 text-sm text-text shadow-sm focus-within:ring-2 focus-within:ring-[color:var(--brand-ring)] md:col-span-2 lg:col-span-2 xl:col-span-2",children:[l.jsx(hy,{className:"h-4 w-4 text-muted","aria-hidden":"true"}),l.jsx("input",{type:"search",value:e.q,onChange:c=>i(c,"q"),placeholder:"Cari judul atau catatan",className:"h-full w-full min-w-0 bg-transparent text-sm text-text placeholder:text-muted focus-visible:outline-none","aria-label":"Pencarian goal"}),n?l.jsx("button",{type:"button",onClick:o,className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full text-muted transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":"Reset filter goal",children:l.jsx(Jw,{className:"h-4 w-4","aria-hidden":"true"})}):null]})]})})}const QTe=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}),RTe=new Intl.DateTimeFormat("id-ID",{dateStyle:"medium"});function Ph(e){return QTe.format(Math.max(0,e))}function HTe(e){const t=e.target_amount||0,r=e.saved_amount||0,n=t>0?r/t*100:0;return Math.min(100,Math.max(0,n))}function _W(e){if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:Math.ceil((t.getTime()-Date.now())/864e5)}function $Te(e){if(!e.due_date)return null;const t=Math.max(e.target_amount-e.saved_amount,0);if(t<=0)return null;const r=new Date(e.due_date);if(Number.isNaN(r.getTime()))return null;const n=e.start_date?new Date(e.start_date):null;if(!n||Number.isNaN(n.getTime())){const i=_W(e.due_date);return i==null?null:Math.ceil(t/Math.max(i,1))}const a=Math.floor((r.getTime()-n.getTime())/864e5)+1;return a<=0?Math.ceil(t):Math.ceil(t/Math.max(a,1))}function qTe(e){const t=e.start_date?new Date(e.start_date):null;if(!t||Number.isNaN(t.getTime()))return e.saved_amount;const r=Math.max(1,Math.floor((Date.now()-t.getTime())/864e5)+1);return e.saved_amount/r}function KTe(e){return!e.target_amount||e.target_amount<=0?[]:e.milestones.map((t,r)=>({percent:Math.max(0,Math.min(100,t.amount/e.target_amount*100)),id:`${e.id}-milestone-${r}`}))}const zTe={active:"Aktif",paused:"Ditahan",achieved:"Tercapai",archived:"Diarsipkan"},GTe={active:"bg-sky-500/15 text-sky-600 dark:text-sky-300",paused:"bg-amber-500/15 text-amber-600 dark:text-amber-300",achieved:"bg-emerald-500/15 text-emerald-600 dark:text-emerald-300",archived:"bg-zinc-500/15 text-muted"},VTe={low:"Rendah",normal:"Normal",high:"Tinggi",urgent:"Mendesak"},WTe={low:"bg-emerald-500/15 text-emerald-600 dark:text-emerald-300",normal:"bg-brand/15 text-brand",high:"bg-amber-500/15 text-amber-600 dark:text-amber-300",urgent:"bg-rose-500/15 text-rose-500 dark:text-rose-300"};function YTe({goal:e,onEdit:t,onOpenEntries:r,onToggleArchive:n,onDelete:a,archiveLoading:i}){const s=HTe(e),o=Math.max(e.target_amount-e.saved_amount,0),c=_W(e.due_date),A=$Te(e),f=A!=null?A*7:null,h=qTe(e),p=e.due_date?c!=null&&c<0&&e.status!=="achieved":!1,g=KTe(e),v=e.status==="archived"?"Aktifkan":"Arsipkan",b=e.icon?.trim()||e.title.charAt(0).toUpperCase()||"",x={"--p":s,"--goal-color":e.color||"#3898F8",background:"conic-gradient(var(--goal-color) calc(var(--p) * 1%), rgba(113,113,122,0.18) 0)"};return l.jsxs("article",{className:"flex min-w-0 flex-col gap-4 rounded-2xl border border-border/60 bg-card/90 p-4 shadow-sm transition hover:border-border md:p-5",children:[l.jsxs("header",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:[l.jsxs("div",{className:"flex min-w-0 items-start gap-3",children:[l.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-2xl text-base font-semibold",style:{backgroundColor:`${e.color}1f`,color:e.color},"aria-hidden":"true",children:b}),l.jsxs("div",{className:"min-w-0 space-y-1",children:[l.jsx("h3",{className:"truncate text-lg font-semibold text-text",title:e.title,children:e.title}),e.description?l.jsx("p",{className:"line-clamp-2 text-sm text-muted",children:e.description}):null]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${GTe[e.status]}`,children:zTe[e.status]}),l.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${WTe[e.priority]}`,children:VTe[e.priority]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-[auto,1fr] md:items-center",children:[l.jsx("div",{className:"flex flex-col items-center gap-2 md:items-start",children:l.jsxs("div",{className:"relative h-24 w-24",children:[l.jsx("div",{className:"h-full w-full rounded-full border-4 border-border/40",style:x}),l.jsx("div",{className:"absolute inset-2 rounded-full bg-card/95 shadow-inner"}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[l.jsxs("span",{className:"text-lg font-semibold text-text",children:[Math.round(s),"%"]}),l.jsx("span",{className:"text-[11px] font-medium uppercase tracking-wide text-muted",children:"Progress"})]}),l.jsx("div",{className:"pointer-events-none absolute inset-0",children:g.map(w=>{const S=w.percent/100*360-90,N=42,k=50+N*Math.cos(S*Math.PI/180),C=50+N*Math.sin(S*Math.PI/180);return l.jsx("span",{className:"absolute h-2 w-2 rounded-full border border-white/80 bg-white shadow-sm dark:border-zinc-900/80",style:{left:`${k}%`,top:`${C}%`,transform:"translate(-50%, -50%)"}},w.id)})})]})}),l.jsxs("div",{className:"min-w-0 space-y-4",children:[l.jsxs("dl",{className:"grid grid-cols-2 gap-3 text-sm text-text sm:grid-cols-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Target"}),l.jsx("dd",{className:"font-medium",children:Ph(e.target_amount)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Terkumpul"}),l.jsx("dd",{className:"font-medium text-emerald-500 dark:text-emerald-300",children:Ph(e.saved_amount)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Sisa"}),l.jsx("dd",{className:"font-medium text-sky-500 dark:text-sky-300",children:Ph(o)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Deadline"}),l.jsxs("dd",{className:"flex items-center gap-1 text-sm",children:[l.jsx(hE,{className:"h-4 w-4 text-muted","aria-hidden":"true"}),e.due_date?RTe.format(new Date(e.due_date)):""]}),p?l.jsx("span",{className:"inline-flex items-center rounded-full bg-rose-500/20 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-rose-500",children:"Lewat jatuh tempo"}):null]})]}),A!=null?l.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-xl bg-brand/10 px-3 py-1 font-medium text-brand",children:[l.jsx(_ee,{className:"h-4 w-4","aria-hidden":"true"}),Ph(A)," / hari"]}),f?l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-xl bg-brand/10 px-3 py-1 font-medium text-brand",children:[l.jsx(Qc,{className:"h-4 w-4","aria-hidden":"true"}),Ph(f)," / minggu"]}):null,l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-xl bg-surface-2/70 px-3 py-1 font-medium text-muted",children:["Rata-rata saat ini: ",Ph(h)," / hari"]})]}):null]})]}),l.jsxs("footer",{className:"flex flex-col gap-2 sm:flex-row sm:flex-wrap sm:items-center sm:justify-end",children:[l.jsxs("button",{type:"button",onClick:()=>t(e),className:"inline-flex h-[38px] items-center justify-center gap-2 rounded-xl border border-border bg-surface-1 px-4 text-sm font-medium text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx(tl,{className:"h-4 w-4","aria-hidden":"true"}),"Edit"]}),l.jsxs("button",{type:"button",onClick:()=>r(e),className:"inline-flex h-[38px] items-center justify-center gap-2 rounded-xl bg-brand px-4 text-sm font-semibold text-brand-foreground shadow transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx(Vee,{className:"h-4 w-4","aria-hidden":"true"}),"Setoran & Riwayat"]}),l.jsxs("button",{type:"button",onClick:()=>n(e),disabled:!!i,className:"inline-flex h-[38px] items-center justify-center gap-2 rounded-xl border border-border bg-surface-1 px-4 text-sm font-medium text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60",children:[l.jsx(B$,{className:"h-4 w-4","aria-hidden":"true"}),v]}),l.jsxs("button",{type:"button",onClick:()=>a(e),className:"inline-flex h-[38px] items-center justify-center gap-2 rounded-xl bg-danger px-4 text-sm font-semibold text-white shadow transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"}),"Hapus"]})]})]})}const Y4=()=>{const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`};function H7(e){return e?e.slice(0,10):""}function HC(e){if(!e)return Number.NaN;const t=e.replace(/[^0-9,.-]/g,"").replace(/\.(?=\d{3}(\D|$))/g,"").replace(/,/g,"."),r=Number.parseFloat(t);return Number.isFinite(r)?r:Number.NaN}const cx=[25,50,75,100];function $7(e){return e?{title:e.title??"",description:e.description??"",target_amount:e.target_amount?String(e.target_amount):"",start_date:H7(e.start_date)||Y4(),due_date:H7(e.due_date)||"",priority:e.priority,status:e.status,category_id:e.category_id??"",color:e.color??"#3898F8",icon:e.icon??""}:{title:"",description:"",target_amount:"",start_date:Y4(),due_date:"",priority:"normal",status:"active",category_id:"",color:"#3898F8",icon:""}}function q7(e){if(!e||!e.target_amount)return{presets:new Set(cx),custom:[]};const t=new Set,r=[],n=e.target_amount;return e.milestones.forEach((a,i)=>{const s=a.amount/n*100,o=cx.find(c=>Math.abs(c-s)<=2);o?t.add(o):r.push({id:`${e.id}-custom-${i}`,label:a.label,amount:String(a.amount)})}),t.size===0&&cx.forEach(a=>t.add(a)),{presets:t,custom:r}}function XTe(e){return/^#[0-9A-Fa-f]{6}$/.test(e)?e.toUpperCase():"#3898F8"}function JTe({open:e,mode:t,initialData:r=null,categories:n,submitting:a,onSubmit:i,onClose:s}){const[o,c]=B.useState(()=>$7(r)),[{presets:A,custom:f},h]=B.useState(()=>q7(r)),[p,g]=B.useState({}),[v,b]=B.useState(null),x=B.useRef(null),w=B.useRef(null);B.useEffect(()=>{e&&(c($7(r)),h(q7(r)),g({}),b(null))},[e,r]),B.useEffect(()=>{if(!e)return;const q=U=>{U.key==="Escape"&&(U.preventDefault(),s())};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[e,s]),B.useEffect(()=>{if(!e)return;const q=window.setTimeout(()=>w.current?.focus(),20);return()=>window.clearTimeout(q)},[e]);const S=B.useMemo(()=>{const q=HC(o.target_amount);return Number.isNaN(q)||q<=0?0:q},[o.target_amount]);B.useEffect(()=>{if(!o.start_date||!o.due_date){b(null);return}const q=new Date(o.start_date),U=new Date(o.due_date);if(Number.isNaN(q.getTime())||Number.isNaN(U.getTime())){b(null);return}U.getTime()<q.getTime()?b("Tanggal target lebih awal dari tanggal mulai."):b(null)},[o.start_date,o.due_date]);const N=q=>U=>{const{value:I}=U.target;c(Q=>({...Q,[q]:q==="color"?XTe(I):I}))},k=q=>()=>{h(U=>{const I=new Set(U.presets);return I.has(q)?I.delete(q):I.add(q),{presets:I,custom:U.custom}})},C=(q,U)=>I=>{const{value:Q}=I.target;h(H=>({presets:H.presets,custom:H.custom.map(Y=>Y.id===q?{...Y,[U]:Q}:Y)}))},T=()=>{h(q=>({presets:q.presets,custom:[...q.custom,{id:`custom-${Date.now()}-${Math.random().toString(36).slice(2)}`,label:"",amount:""}]}))},O=q=>()=>{h(U=>({presets:U.presets,custom:U.custom.filter(I=>I.id!==q)}))},D=()=>{const q={};o.title.trim()?o.title.trim().length>80&&(q.title="Maksimum 80 karakter."):q.title="Judul wajib diisi.";const U=HC(o.target_amount);(Number.isNaN(U)||U<=0)&&(q.target_amount="Masukkan target nominal lebih dari 0.");const I=o.start_date?new Date(o.start_date):null,Q=o.due_date?new Date(o.due_date):null;I&&Q&&Q.getTime()<I.getTime()&&(q.due_date="Tanggal target harus setelah tanggal mulai.");const H=[];return!Number.isNaN(U)&&U>0&&A.forEach(Y=>{const K=U*Y/100;H.push({label:`${Y}%`,amount:K})}),f.forEach(Y=>{const K=Y.label.trim(),J=HC(Y.amount);!K||Number.isNaN(J)||J<=0?q[`milestone-${Y.id}`]="Label dan nominal milestone wajib diisi.":H.push({label:K,amount:J})}),{errors:q,targetValue:U,milestones:H}},R=async q=>{q.preventDefault();const{errors:U,targetValue:I,milestones:Q}=D();if(g(U),Object.keys(U).length>0){const Y=Object.keys(U)[0];Y.startsWith("milestone-")?x.current?.querySelector(`[data-error-id="${Y}"]`)?.focus():x.current?.querySelector(`[name="${Y}"]`)?.focus();return}const H={title:o.title.trim(),description:o.description.trim()||null,target_amount:Number(I.toFixed(2)),start_date:o.start_date||Y4(),due_date:o.due_date||null,priority:o.priority,status:o.status,category_id:o.category_id||null,color:o.color,icon:o.icon.trim()||null,milestones:Q};try{await i(H)}catch{}};return e?co.createPortal(l.jsx("div",{className:"fixed inset-0 z-[80] overflow-y-auto bg-black/40",role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"flex min-h-full items-center justify-center px-4 py-8",children:l.jsxs("div",{ref:x,className:"w-full max-w-2xl rounded-3xl border border-border/60 bg-card/95 p-6 text-text shadow-xl backdrop-blur",children:[l.jsxs("header",{className:"mb-6 flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:t==="create"?"Tambah Goal":"Edit Goal"}),l.jsx("h2",{className:"mt-1 text-2xl font-bold text-text",children:t==="create"?"Goal baru":o.title||"Perbarui goal"})]}),l.jsx("button",{type:"button",onClick:s,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border bg-surface-1 text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":"Tutup form goal",children:l.jsx(iu,{className:"h-5 w-5","aria-hidden":"true"})})]}),l.jsxs("form",{onSubmit:R,className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Nama goal",l.jsx("input",{ref:w,name:"title",type:"text",value:o.title,onChange:N("title"),placeholder:"Contoh: Dana darurat",className:`h-[44px] rounded-xl border px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] ${p.title?"border-danger/70":"border-border bg-surface-1"}`,required:!0}),p.title?l.jsx("span",{className:"text-xs text-danger",children:p.title}):null]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Target nominal",l.jsx("input",{name:"target_amount",type:"number",inputMode:"decimal",min:"0",value:o.target_amount,onChange:N("target_amount"),placeholder:"10000000",className:`h-[44px] rounded-xl border px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] ${p.target_amount?"border-danger/70":"border-border bg-surface-1"}`,required:!0}),p.target_amount?l.jsx("span",{className:"text-xs text-danger",children:p.target_amount}):null]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text md:col-span-2",children:["Deskripsi",l.jsx("textarea",{name:"description",value:o.description,onChange:N("description"),rows:3,className:"min-h-[92px] rounded-xl border border-border bg-surface-1 px-3 py-2 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",placeholder:"Catatan singkat atau detail target"})]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Mulai sejak",l.jsx("input",{name:"start_date",type:"date",value:o.start_date,onChange:N("start_date"),className:"h-[44px] rounded-xl border border-border bg-surface-1 px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"})]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Target selesai",l.jsx("input",{name:"due_date",type:"date",value:o.due_date,onChange:N("due_date"),className:`h-[44px] rounded-xl border px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] ${p.due_date?"border-danger/70":"border-border bg-surface-1"}`}),p.due_date?l.jsx("span",{className:"text-xs text-danger",children:p.due_date}):null,v?l.jsx("span",{className:"text-xs text-amber-500",children:v}):null]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Prioritas",l.jsxs("select",{name:"priority",value:o.priority,onChange:N("priority"),className:"h-[44px] rounded-xl border border-border bg-surface-1 px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx("option",{value:"low",children:"Rendah"}),l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"high",children:"Tinggi"}),l.jsx("option",{value:"urgent",children:"Mendesak"})]})]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Status",l.jsxs("select",{name:"status",value:o.status,onChange:N("status"),className:"h-[44px] rounded-xl border border-border bg-surface-1 px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx("option",{value:"active",children:"Aktif"}),l.jsx("option",{value:"paused",children:"Ditahan"}),l.jsx("option",{value:"achieved",children:"Tercapai"}),l.jsx("option",{value:"archived",children:"Diarsipkan"})]})]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Kategori",l.jsxs("select",{name:"category_id",value:o.category_id,onChange:N("category_id"),className:"h-[44px] rounded-xl border border-border bg-surface-1 px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx("option",{value:"",children:"Tanpa kategori"}),n.map(q=>l.jsx("option",{value:q.id,children:q.name},q.id))]})]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Warna kartu",l.jsx("input",{name:"color",type:"color",value:o.color,onChange:N("color"),className:"h-[44px] w-full rounded-xl border border-border bg-surface-1 px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"})]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Ikon (emoji atau teks)",l.jsx("input",{name:"icon",type:"text",value:o.icon,onChange:N("icon"),placeholder:"Contoh: ",className:"h-[44px] rounded-xl border border-border bg-surface-1 px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"})]})]}),l.jsxs("section",{className:"space-y-3 rounded-2xl border border-border/60 bg-surface-1/80 p-4",children:[l.jsxs("header",{className:"flex flex-col gap-1",children:[l.jsx("h3",{className:"text-sm font-semibold text-text",children:"Milestones progres"}),l.jsx("p",{className:"text-xs text-muted",children:"Pilih milestone persentase atau tambahkan milestone khusus untuk checklist progres."})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:cx.map(q=>{const U=A.has(q),I=S>0?Math.round(S*q/100):0;return l.jsxs("label",{className:`inline-flex cursor-pointer items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold uppercase tracking-wide transition ${U?"border-brand bg-brand/10 text-brand":"border-border bg-surface-1 text-muted"}`,children:[l.jsx("input",{type:"checkbox",checked:U,onChange:k(q),className:"sr-only"}),q,"%",l.jsx("span",{className:"text-[11px] text-muted",children:I?I.toLocaleString("id-ID"):"-"})]},`preset-${q}`)})}),l.jsxs("div",{className:"space-y-3",children:[f.map(q=>l.jsxs("div",{className:"grid grid-cols-[1fr,minmax(120px,1fr),auto] items-center gap-2",children:[l.jsx("input",{"data-error-id":`milestone-${q.id}`,type:"text",value:q.label,onChange:C(q.id,"label"),placeholder:"Label milestone",className:`h-[40px] rounded-xl border px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] ${p[`milestone-${q.id}`]?"border-danger/70":"border-border bg-surface-1"}`}),l.jsx("input",{type:"number",inputMode:"decimal",value:q.amount,onChange:C(q.id,"amount"),placeholder:"Nominal",className:`h-[40px] rounded-xl border px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] ${p[`milestone-${q.id}`]?"border-danger/70":"border-border bg-surface-1"}`}),l.jsx("button",{type:"button",onClick:O(q.id),className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border bg-surface-1 text-muted transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":"Hapus milestone",children:l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})}),p[`milestone-${q.id}`]?l.jsx("span",{className:"col-span-3 text-xs text-danger",children:p[`milestone-${q.id}`]}):null]},q.id)),l.jsxs("button",{type:"button",onClick:T,className:"inline-flex h-[40px] items-center justify-center gap-2 rounded-xl border border-border bg-surface-1 px-4 text-sm font-medium text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx(Jc,{className:"h-4 w-4","aria-hidden":"true"}),"Tambah milestone khusus"]})]})]}),l.jsxs("footer",{className:"flex flex-col gap-2 border-t border-border/60 pt-4 sm:flex-row sm:justify-end",children:[l.jsx("button",{type:"button",onClick:s,className:"inline-flex h-[44px] items-center justify-center rounded-xl border border-border bg-surface-1 px-5 text-sm font-medium text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:"Batal"}),l.jsx("button",{type:"submit",disabled:!!a,className:"inline-flex h-[44px] items-center justify-center rounded-xl bg-brand px-5 text-sm font-semibold text-brand-foreground shadow transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60",children:a?"Menyimpan":t==="create"?"Simpan Goal":"Perbarui Goal"})]})]})]})})}),document.body):null}const $C=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}),ZTe=new Intl.DateTimeFormat("id-ID",{dateStyle:"medium",timeStyle:"short"});function e3e(e){if(!e)return Number.NaN;const t=e.replace(/[^0-9,.-]/g,"").replace(/\.(?=\d{3}(\D|$))/g,"").replace(/,/g,"."),r=Number.parseFloat(t);return Number.isFinite(r)?r:Number.NaN}function qC(){return new Date().toISOString().slice(0,10)}function t3e({open:e,goal:t,entries:r,loading:n,submitting:a,deletingId:i,onClose:s,onSubmit:o,onDeleteEntry:c}){const[A,f]=B.useState(""),[h,p]=B.useState(qC()),[g,v]=B.useState(""),[b,x]=B.useState({}),w=B.useRef(null),S=B.useRef(null);by(e),B.useEffect(()=>{if(!e)return;const C=T=>{T.key==="Escape"&&(T.preventDefault(),s())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[e,s]),B.useEffect(()=>{e&&(f(""),p(qC()),v(""),x({}))},[e,t?.id]),B.useEffect(()=>{if(!e)return;const C=window.setTimeout(()=>S.current?.focus(),50);return()=>window.clearTimeout(C)},[e]),B.useEffect(()=>{if(!e)return;const C=w.current;if(!C)return;const T=O=>{if(O.key!=="Tab")return;const D=C.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');if(D.length===0)return;const R=D[0],q=D[D.length-1];if(O.shiftKey){document.activeElement===R&&(O.preventDefault(),q.focus());return}document.activeElement===q&&(O.preventDefault(),R.focus())};return C.addEventListener("keydown",T),()=>C.removeEventListener("keydown",T)},[e]);const N=B.useMemo(()=>r.reduce((C,T)=>C+Number(T.amount??0),0),[r]),k=async C=>{C.preventDefault();const T=e3e(A),O=h?.trim()??"",D={};(Number.isNaN(T)||T<=0)&&(D.amount="Masukkan nominal lebih dari 0.");const R=O?new Date(O):null;if((!R||Number.isNaN(R.getTime()))&&(D.date="Pilih tanggal yang valid."),D.amount||D.date){x(D);return}x({});try{await o({amount:Number(T.toFixed(2)),date:O||qC(),note:g.trim()?g.trim():null}),f(""),v("")}catch{}};return!e||!t?null:co.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 backdrop-blur supports-[backdrop-filter]:bg-black/30",onClick:s,"aria-hidden":"true"}),l.jsx("div",{className:"fixed inset-0 z-[70] flex min-h-full items-center justify-center px-4 py-8",children:l.jsxs("div",{ref:w,className:"flex max-h-[90dvh] w-full max-w-2xl flex-col overflow-hidden rounded-3xl border border-border/60 bg-card/95 shadow-xl backdrop-blur",role:"dialog","aria-modal":"true",children:[l.jsx("header",{className:"border-b border-border bg-card/95 px-6 py-4 backdrop-blur",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:"Setoran Goal"}),l.jsx("h2",{className:"mt-1 truncate text-lg font-semibold text-text",children:t.title}),l.jsxs("p",{className:"text-xs text-muted",children:["Total setoran tercatat: ",$C.format(N)]})]}),l.jsx("button",{ref:S,type:"button",onClick:s,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-border bg-surface-1 text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]","aria-label":"Tutup panel goal",children:l.jsx(iu,{className:"h-5 w-5","aria-hidden":"true"})})]})}),l.jsxs("div",{className:"flex-1 overflow-hidden",children:[l.jsxs("form",{onSubmit:k,className:"border-b border-border/60 px-6 py-4 space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Nominal setoran",l.jsx("input",{name:"amount",type:"number",inputMode:"decimal",value:A,onChange:C=>f(C.target.value),className:`h-[44px] rounded-xl border px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] ${b.amount?"border-danger/70":"border-border bg-surface-1"}`,placeholder:"1000000",required:!0}),b.amount?l.jsx("span",{className:"text-xs text-danger",children:b.amount}):null]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Tanggal setoran",l.jsx("input",{name:"date",type:"date",value:h,onChange:C=>p(C.target.value),className:`h-[44px] rounded-xl border px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] ${b.date?"border-danger/70":"border-border bg-surface-1"}`,required:!0}),b.date?l.jsx("span",{className:"text-xs text-danger",children:b.date}):null]})]}),l.jsxs("label",{className:"flex flex-col gap-1 text-sm font-medium text-text",children:["Catatan (opsional)",l.jsx("textarea",{name:"note",value:g,onChange:C=>v(C.target.value),rows:3,className:"rounded-xl border border-border bg-surface-1 px-3 py-2 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",placeholder:"Catatan singkat setoran"})]}),l.jsx("div",{className:"flex items-center justify-end gap-2",children:l.jsx("button",{type:"submit",disabled:!!a,className:"inline-flex h-[40px] items-center justify-center rounded-xl bg-brand px-5 text-sm font-semibold text-brand-foreground shadow transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60",children:a?"Menambahkan":"Tambah setoran"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[l.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-muted",children:"Riwayat setoran"}),n?l.jsx("p",{className:"text-sm text-muted",children:"Memuat riwayat"}):r.length===0?l.jsx("p",{className:"text-sm text-muted",children:"Belum ada setoran tercatat untuk goal ini."}):l.jsx("div",{className:"space-y-3",children:r.map(C=>l.jsxs("article",{className:"flex items-start justify-between gap-3 rounded-2xl border border-border/60 bg-surface-1/80 p-3 shadow-sm",children:[l.jsxs("div",{className:"min-w-0 space-y-1",children:[l.jsx("p",{className:"text-sm font-semibold text-text",children:$C.format(Number(C.amount??0))}),l.jsx("p",{className:"text-xs text-muted",children:ZTe.format(new Date(C.date??C.created_at))}),C.note?l.jsx("p",{className:"text-sm text-text/80",children:C.note}):null]}),l.jsx("button",{type:"button",onClick:()=>c(C),disabled:i===C.id,className:"inline-flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-full border border-border bg-surface-1 text-muted transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)] disabled:cursor-not-allowed disabled:opacity-60","aria-label":"Hapus setoran",children:l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})})]},C.id))})]})]}),l.jsx("footer",{className:"border-t border-border/60 bg-card/95 px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted",children:[l.jsx("span",{children:"Total setoran"}),l.jsx("span",{className:"font-semibold text-text",children:$C.format(N)})]})})]})})]}),document.body)}const BW="id,user_id,title,description,target_amount,saved_amount,start_date,due_date,priority,status,category_id,color,icon,milestones,created_at,updated_at",r3e=typeof process<"u"&&!1;function SW(e,t){r3e&&console.error(`[HW][goals-api] ${e}`,t)}function jf(e,t,r){if(SW(e,t),t instanceof Error&&t.message){const n=new Error(t.message);throw n.cause=t.cause??t,n}throw new Error(r)}function n3e(e){return e?String(e).replace(/[%_,()]/g,t=>`\\${t}`):""}function Dy(e){if(e===""||e==null)return;if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(typeof e=="string"){const r=e.trim();if(!r)return;const n=Number(r.replace(/[^0-9.+-]/g,""));return Number.isFinite(n)?n:void 0}const t=Number(e);return Number.isFinite(t)?t:void 0}function np(e){if(!e)return null;const t=e.includes("T")?e:`${e}T00:00:00Z`,r=new Date(t);return Number.isNaN(r.getTime())?null:r.toISOString()}function a3e(e){if(!e)return null;const t=e.includes("T")?e:`${e}T23:59:59Z`,r=new Date(t);return Number.isNaN(r.getTime())?null:r.toISOString()}function A3(e){if(typeof e=="string"){const t=e.trim();if(/^#[0-9A-Fa-f]{6}$/.test(t))return t.toUpperCase()}return"#3898F8"}function i3e(e){return Array.isArray(e)?e.map(t=>{if(!t||typeof t!="object")return null;const r=typeof t.label=="string"?t.label?.trim()??"":"",n=Dy(t.amount);return!r||n===void 0?null:{label:r.slice(0,80),amount:Number(Math.max(0,n).toFixed(2))}}).filter(t=>!!t).sort((t,r)=>t.amount-r.amount):[]}function NW(e){return{id:String(e.id),user_id:String(e.user_id),title:e.title??"",description:e.description??null,target_amount:Number(e.target_amount??0),saved_amount:Number(e.saved_amount??0),start_date:e.start_date??e.created_at??new Date().toISOString(),due_date:e.due_date??null,priority:e.priority??"normal",status:e.status??"active",category_id:e.category_id??null,color:A3(e.color),icon:e.icon??null,milestones:i3e(e.milestones??[]),created_at:e.created_at??new Date().toISOString(),updated_at:e.updated_at??e.created_at??new Date().toISOString()}}function CW(e){return{id:String(e.id),goal_id:String(e.goal_id),user_id:String(e.user_id),amount:Number(e.amount??0),date:e.date??e.created_at??new Date().toISOString(),note:e.note??null,created_at:e.created_at??new Date().toISOString()}}function s3e(e,t){if(!e)return 1;const r=new Date(e);if(Number.isNaN(r.getTime()))return 1;const n=t.getTime()-r.getTime(),a=Math.floor(n/864e5);return Math.max(1,a||0)}function o3e(e){if(!e)return null;const t=new Date(e);if(Number.isNaN(t.getTime()))return null;const r=new Date,n=Math.ceil((t.getTime()-r.getTime())/864e5);return Math.max(0,n)}function l3e(e){if(e.status!=="active"||e.target_amount<=0)return!1;if(e.saved_amount>=e.target_amount)return!0;const t=o3e(e.due_date);if(t==null||t===0)return e.saved_amount>=e.target_amount;const n=Math.max(e.target_amount-e.saved_amount,0)/Math.max(t,1),a=s3e(e.start_date,new Date);return e.saved_amount/Math.max(a,1)+1e-6>=n}function c3e(e){const t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)),r=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,1));return{from:t.toISOString(),toExclusive:r.toISOString()}}async function u3e(e,t){try{const r=t.filter(f=>f.status==="active"),n=r.length,a=r.filter(l3e).length,i=t.filter(f=>f.status!=="archived"&&f.status!=="achieved").map(f=>({goal:f,due:f.due_date?new Date(f.due_date).getTime():Number.POSITIVE_INFINITY,remaining:Math.max(f.target_amount-f.saved_amount,0)})).sort((f,h)=>f.due===h.due?f.remaining-h.remaining:f.due-h.due)[0],s=c3e(new Date),{data:o,error:c}=await Ne.from("goal_entries").select("amount").eq("user_id",e).gte("date",s.from).lt("date",s.toExclusive);if(c)throw c;const A=(o??[]).reduce((f,h)=>f+Number(h.amount??0),0);return{totalActive:r.length,totalSavedThisMonth:Number(A.toFixed(2)),nearestRemaining:i?Number(i.remaining.toFixed(2)):null,onTrackCount:a,totalTracked:n,onTrackPercentage:n>0?Math.round(a/n*100):100}}catch(r){return SW("summary",r),{totalActive:t.filter(n=>n.status==="active").length,totalSavedThisMonth:0,nearestRemaining:null,onTrackCount:0,totalTracked:t.filter(n=>n.status==="active").length,onTrackPercentage:t.filter(n=>n.status==="active").length>0?0:100}}}async function kf(){const e=await tr();if(!e)throw new Error("Pengguna belum masuk.");return e}async function K7(e={}){try{const t=await kf(),{q:r="",status:n="all",priority:a="all",dateField:i="created_at",dateFrom:s,dateTo:o,categoryId:c="all",sort:A="newest"}=e;let f=Ne.from("goals").select(BW).eq("user_id",t);n!=="all"&&(f=f.eq("status",n)),a!=="all"&&(f=f.eq("priority",a)),c&&c!=="all"&&(f=f.eq("category_id",c));const h=n3e(r?.trim());h&&(f=f.or(`title.ilike.%${h}%,description.ilike.%${h}%`));const p=i==="due_date"?"due_date":"created_at",g=np(s??void 0),v=a3e(o??void 0);switch(g&&(f=f.gte(p,g)),v&&(f=f.lte(p,v)),A){case"oldest":f=f.order("created_at",{ascending:!0});break;case"deadline":f=f.order("due_date",{ascending:!0,nullsLast:!0}).order("created_at",{ascending:!1});break;case"amount":f=f.order("target_amount",{ascending:!1});break;case"newest":default:f=f.order("created_at",{ascending:!1});break}const{data:b,error:x}=await f;if(x)throw x;const w=(b??[]).map(NW),S=await u3e(t,w);return{items:w,summary:S}}catch(t){return jf("listGoals",t,"Gagal memuat goals"),{items:[],summary:{totalActive:0,totalSavedThisMonth:0,nearestRemaining:null,onTrackCount:0,totalTracked:0,onTrackPercentage:0}}}}async function KC(e){try{const t=await kf(),{data:r,error:n}=await Ne.from("goal_entries").select("*").eq("goal_id",e).eq("user_id",t).order("date",{ascending:!1}).order("created_at",{ascending:!1});if(n)throw n;return(r??[]).map(CW)}catch(t){return jf("listGoalEntries",t,"Gagal memuat setoran goal"),[]}}async function X4(e,t){const{data:r,error:n}=await Ne.from("goals").select(BW).eq("id",e).eq("user_id",t).maybeSingle();if(n)throw n;return r?NW(r):null}function jW(e,t){return Array.isArray(e)?e.map(r=>({label:typeof r.label=="string"?r.label.trim().slice(0,80):"",amount:r.amount})).filter(r=>r.label&&Dy(r.amount)!==void 0).map(r=>({label:r.label,amount:Number(Math.max(0,Math.min(t,Number(r.amount))).toFixed(2))})).sort((r,n)=>r.amount-n.amount):[]}async function A3e(e){try{const t=await kf(),r=Dy(e.target_amount);if(r===void 0||r<=0)throw new Error("Target tabungan tidak valid.");const n=np(e.start_date??void 0)??new Date().toISOString(),a=e.due_date===void 0?void 0:np(e.due_date),i={user_id:t,title:e.title?.trim()??"",description:e.description?.trim()||null,target_amount:Number(r.toFixed(2)),start_date:n,priority:e.priority??"normal",status:e.status??"active",color:e.color?A3(e.color):void 0,icon:e.icon?.trim()||null};a!==void 0&&(i.due_date=a),e.category_id!==void 0&&(i.category_id=e.category_id||null);const s=jW(e.milestones,r);s.length>0&&(i.milestones=s);const{data:o,error:c}=await Ne.from("goals").insert([i]).select("id").single();if(c)throw c;const A=o?.id;if(!A)throw new Error("Goal tidak ditemukan setelah dibuat.");const f=await X4(String(A),t);if(!f)throw new Error("Goal tidak ditemukan setelah dibuat.");return f}catch(t){return jf("createGoal",t,"Gagal menambahkan goal"),null}}async function z7(e,t){try{const r=await kf(),n={};t.title!==void 0&&(n.title=t.title.trim()),t.description!==void 0&&(n.description=t.description?.trim()||null);const a=Dy(t.target_amount);if(a!==void 0){if(a<=0)throw new Error("Target tabungan tidak valid.");n.target_amount=Number(a.toFixed(2))}if(t.start_date!==void 0&&(n.start_date=np(t.start_date)??new Date().toISOString()),t.due_date!==void 0&&(n.due_date=t.due_date?np(t.due_date):null),t.priority!==void 0&&(n.priority=t.priority),t.status!==void 0&&(n.status=t.status),t.category_id!==void 0&&(n.category_id=t.category_id||null),t.color!==void 0&&(n.color=A3(t.color)),t.icon!==void 0&&(n.icon=t.icon?.trim()||null),t.milestones!==void 0){const o=await X4(e,r),c=a??o?.target_amount??0;n.milestones=jW(t.milestones,c)}const{error:i}=await Ne.from("goals").update(n).eq("id",e).eq("user_id",r);if(i)throw i;const s=await X4(e,r);if(!s)throw new Error("Goal tidak ditemukan.");return s}catch(r){return jf("updateGoal",r,"Gagal memperbarui goal"),null}}async function d3e(e){try{const t=await kf(),{error:r}=await Ne.from("goals").delete().eq("id",e).eq("user_id",t);if(r)throw r}catch(t){jf("deleteGoal",t,"Gagal menghapus goal")}}async function f3e(e,t){try{const r=await kf(),n=Dy(t.amount);if(n===void 0||n<=0)throw new Error("Nominal setoran tidak valid.");const a=np(t.date??void 0)??new Date().toISOString(),i={goal_id:e,user_id:r,amount:Number(n.toFixed(2)),date:a,note:t.note?.trim()||null},{data:s,error:o}=await Ne.from("goal_entries").insert([i]).select("*").single();if(o)throw o;return CW(s)}catch(r){return jf("addEntry",r,"Gagal menambahkan setoran"),null}}async function h3e(e){try{const t=await kf(),{error:r}=await Ne.from("goal_entries").delete().eq("id",e).eq("user_id",t);if(r)throw r}catch(t){jf("deleteEntry",t,"Gagal menghapus setoran")}}const G7={q:"",status:"all",priority:"all",dateField:"created_at",dateFrom:null,dateTo:null,categoryId:"all",sort:"newest"};function V7(e){if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t.toISOString()}function m3e(e){if(e==null)return"";const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t}function p3e(){const{addToast:e}=ci(),[t,r]=B.useState(G7),[n,a]=B.useState([]),[i,s]=B.useState(null),[o,c]=B.useState(!1),[A,f]=B.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(min-width: 768px)").matches),[h,p]=B.useState(!1),g=B.useId(),[v,b]=B.useState(!1),[x,w]=B.useState("create"),[S,N]=B.useState(null),[k,C]=B.useState(!1),[T,O]=B.useState(!1),[D,R]=B.useState(null),[q,U]=B.useState([]),[I,Q]=B.useState(!1),[H,Y]=B.useState(!1),[K,J]=B.useState(null),[re,oe]=B.useState(null),[V,W]=B.useState(null),[P,$]=B.useState(!1),[G,ne]=B.useState(null),[se,ve]=B.useState([]),he=B.useCallback((Pe,At)=>{},[]);B.useEffect(()=>{let Pe=!0;return(async()=>{try{const At=await tf();if(!Pe)return;ve(At.map(gt=>({id:gt.id,name:gt.name})))}catch(At){he("categories",At)}})(),()=>{Pe=!1}},[he]),B.useEffect(()=>{let Pe=!0;return c(!0),(async()=>{try{const At=await K7(t);if(!Pe)return;a(At.items),s(At.summary)}catch(At){he("listGoals",At),e("Gagal memuat daftar goal","error")}finally{Pe&&c(!1)}})(),()=>{Pe=!1}},[t,e,he]);const fe=B.useCallback(async()=>{try{const Pe=await K7(t);a(Pe.items),s(Pe.summary)}catch(Pe){he("refreshGoals",Pe)}},[t,he]),Qe=Pe=>{r(Pe)},$e=()=>{r(G7)},de=()=>{w("create"),N(null),b(!0)},ze=Pe=>{N(Pe),w("edit"),b(!0)},nt=async Pe=>{if(C(!0),x==="create"){try{const At=await A3e(Pe);a(gt=>[At,...gt]),e("Goal berhasil ditambahkan","success"),await fe(),b(!1)}catch(At){he("createGoal",At),e("Gagal menambahkan goal","error")}finally{C(!1)}return}if(!S){C(!1);return}try{const At=await z7(S.id,Pe);a(gt=>gt.map(St=>St.id===At.id?At:St)),e("Goal berhasil diperbarui","success"),await fe(),b(!1)}catch(At){he("updateGoal",At),e("Gagal memperbarui goal","error")}finally{C(!1)}},Se=async Pe=>{R(Pe),O(!0),Q(!0);try{const At=await KC(Pe.id);U(At)}catch(At){he("listGoalEntries",At),e("Gagal memuat riwayat setoran","error")}finally{Q(!1)}},Z=async Pe=>{if(D){Y(!0);try{await f3e(D.id,Pe),e("Setoran berhasil dicatat","success");const At=await KC(D.id);U(At),await fe()}catch(At){he("addEntry",At),e("Gagal menambahkan setoran","error")}finally{Y(!1)}}},Ke=Pe=>{W(Pe)},st=async()=>{if(!(!V||!D)){J(V.id);try{await h3e(V.id),e("Setoran berhasil dihapus","success");const Pe=await KC(D.id);U(Pe),await fe()}catch(Pe){he("deleteEntry",Pe),e("Gagal menghapus setoran","error")}finally{J(null),W(null)}}},ye=async Pe=>{const At=Pe.status==="archived"?"active":"archived";ne(Pe.id);try{const gt=await z7(Pe.id,{...Pe,status:At});a(St=>St.map(Ze=>Ze.id===gt.id?gt:Ze)),e(At==="archived"?"Goal diarsipkan":"Goal diaktifkan","success"),await fe()}catch(gt){he("archiveGoal",gt),e("Gagal memperbarui status goal","error")}finally{ne(null)}},He=Pe=>{oe(Pe)},Ve=async()=>{if(re){$(!0);try{await d3e(re.id),a(Pe=>Pe.filter(At=>At.id!==re.id)),e("Goal berhasil dihapus","success"),await fe()}catch(Pe){he("deleteGoal",Pe),e("Gagal menghapus goal","error")}finally{$(!1),oe(null)}}},ge=()=>{try{const Pe=["Judul","Deskripsi","Target","Terkumpul","Sisa","Mulai","Jatuh Tempo","Prioritas","Status","Kategori"],At=n.map($t=>[$t.title,$t.description??"",$t.target_amount,$t.saved_amount,Math.max($t.target_amount-$t.saved_amount,0),V7($t.start_date)??"",V7($t.due_date)??"",$t.priority,$t.status,$t.category_id??""]),gt=[Pe,...At].map($t=>$t.map(Ht=>m3e(Ht)).join(",")).join(`
`),St=new Blob([`\uFEFF${gt}`],{type:"text/csv;charset=utf-8;"}),Ze=URL.createObjectURL(St),rt=document.createElement("a");rt.href=Ze,rt.setAttribute("download","hematwoi-goals.csv"),document.body.appendChild(rt),rt.click(),document.body.removeChild(rt),URL.revokeObjectURL(Ze),e("Data goal diekspor ke CSV","success")}catch(Pe){he("exportCsv",Pe),e("Gagal mengekspor CSV","error")}};B.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const Pe=window.matchMedia("(min-width: 768px)"),At=gt=>{f(gt.matches)};return f(Pe.matches),typeof Pe.addEventListener=="function"?(Pe.addEventListener("change",At),()=>Pe.removeEventListener("change",At)):(Pe.addListener(At),()=>Pe.removeListener(At))},[]);const je=A||h,we=B.useMemo(()=>{let Pe=0;return t.status!=="all"&&(Pe+=1),t.priority!=="all"&&(Pe+=1),t.dateField!=="created_at"&&(Pe+=1),t.dateFrom&&(Pe+=1),t.dateTo&&(Pe+=1),t.categoryId!=="all"&&(Pe+=1),t.sort!=="newest"&&(Pe+=1),t.q.trim()&&(Pe+=1),Pe},[t]),Xe=()=>{A||p(Pe=>!Pe)};return l.jsxs(il,{children:[l.jsxs(fo,{title:"Goals",description:"Atur dan pantau progres tabungan tujuan finansial kamu secara menyeluruh.",children:[l.jsxs("button",{type:"button",onClick:de,className:"inline-flex h-[40px] items-center gap-2 rounded-xl bg-brand px-4 text-sm font-semibold text-brand-foreground shadow transition hover:brightness-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx(Jc,{className:"h-4 w-4","aria-hidden":"true"}),"Tambah Goal"]}),l.jsxs("button",{type:"button",onClick:ge,className:"inline-flex h-[40px] items-center gap-2 rounded-xl border border-border bg-surface-1 px-4 text-sm font-medium text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]",children:[l.jsx(vb,{className:"h-4 w-4","aria-hidden":"true"}),"Export CSV"]})]}),l.jsxs("div",{className:"space-y-[var(--section-y)]",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{type:"button",onClick:Xe,className:tt("md:hidden flex w-full items-center justify-between gap-3 rounded-2xl border border-border/60 bg-surface-1/90 px-4 py-3 text-sm font-semibold text-text shadow-sm transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--brand-ring)]"),"aria-controls":g,"aria-expanded":A?!0:h,children:[l.jsxs("span",{className:"flex items-center gap-2",children:["Filter",we>0?l.jsx("span",{className:"inline-flex min-w-[1.5rem] items-center justify-center rounded-full bg-brand px-2 py-0.5 text-xs font-semibold text-brand-foreground",children:we}):null]}),l.jsx(UA,{className:tt("h-4 w-4 text-muted transition-transform duration-200",je?"rotate-180":"rotate-0"),"aria-hidden":"true"})]}),l.jsx("div",{id:g,"aria-hidden":!A&&!je,className:tt("transition-[max-height,opacity] duration-200 ease-in-out","md:max-h-none md:opacity-100 md:transition-none md:overflow-visible md:pointer-events-auto",!A&&"overflow-hidden",!A&&je&&"mt-3",!A&&!je&&"pointer-events-none",je?"max-h-[1200px] opacity-100":"max-h-0 opacity-0"),children:l.jsx(PTe,{filters:t,categories:se,onChange:Qe,onReset:$e})})]}),l.jsx(UTe,{summary:i}),l.jsx("section",{"aria-live":"polite",className:"space-y-4",children:o?l.jsx("p",{className:"text-sm text-muted",children:"Memuat goals"}):n.length===0?l.jsx("div",{className:"rounded-2xl border border-dashed border-border/60 bg-surface-1/70 p-8 text-center text-sm text-muted",children:"Belum ada goal yang tercatat. Mulai dengan menambahkan goal baru."}):l.jsx("div",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:n.map(Pe=>l.jsx(YTe,{goal:Pe,onEdit:ze,onOpenEntries:Se,onToggleArchive:ye,onDelete:He,archiveLoading:G===Pe.id},Pe.id))})})]}),l.jsx(JTe,{open:v,mode:x,initialData:S,categories:se,submitting:k,onSubmit:nt,onClose:()=>b(!1)}),l.jsx(t3e,{open:T,goal:D,entries:q,loading:I,submitting:H,deletingId:K,onClose:()=>{O(!1),R(null),W(null),J(null)},onSubmit:Z,onDeleteEntry:Ke}),l.jsx(Sw,{open:!!re,title:"Hapus goal?",description:re?`Anda yakin ingin menghapus goal "${re.title}"?`:"",confirmLabel:"Hapus",destructive:!0,loading:P,onConfirm:Ve,onCancel:()=>oe(null)}),l.jsx(Sw,{open:!!V,title:"Hapus setoran?",description:"Setoran yang dihapus tidak dapat dikembalikan.",confirmLabel:"Hapus",destructive:!0,loading:!!K,onConfirm:st,onCancel:()=>{W(null),J(null)}})]})}function Qh({title:e,children:t}){return l.jsxs("section",{className:"space-y-2",children:[l.jsx("h2",{className:"font-semibold",id:e.replace(/\s+/g,"-"),children:e}),l.jsx("div",{className:"space-y-2","aria-labelledby":e.replace(/\s+/g,"-"),children:t})]})}function Lg({label:e,checked:t,onChange:r,tooltip:n}){return l.jsxs("label",{className:"flex items-center gap-2 text-sm",title:n,children:[l.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:t,onChange:a=>r(a.target.checked)}),l.jsx("span",{children:e})]})}function Rh({label:e,value:t,options:r,onChange:n,tooltip:a}){return l.jsxs("label",{className:"block text-sm",title:a,children:[l.jsx("span",{className:"mb-1 block",children:e}),l.jsx("select",{className:"input",value:t,onChange:i=>n(i.target.value),children:r.map(i=>l.jsx("option",{value:i.value,children:i.label},i.value))})]})}function g3e({label:e,value:t,onChange:r,min:n,max:a,tooltip:i}){return l.jsxs("label",{className:"block text-sm",title:i,children:[l.jsx("span",{className:"mb-1 block",children:e}),l.jsx("input",{type:"number",className:"input",value:t,onChange:s=>r(Number(s.target.value)),min:n,max:a})]})}function b3e({children:e}){return l.jsx("div",{className:"mt-2 border-t border-red-300 pt-2 space-y-2",children:e})}const kW="hw:prefs",mb={darkMode:!1,density:"comfortable",language:"id",avatarLeveling:!0,moneyTalk:"normal",soundFx:!0,currency:"IDR",digitFormat:"comma",firstDay:1,pinLock:!1,incognito:!1};function y3e(){try{const e=localStorage.getItem(kW);if(!e)return{...mb};const t=JSON.parse(e);return{...mb,...t}}catch{return{...mb}}}function EW(e){localStorage.setItem(kW,JSON.stringify(e))}function v3e(){return EW(mb),{...mb}}function x3e(){const{mode:e,setMode:t}=yTe(),r=wW(),[n,a]=B.useState(y3e());B.useEffect(()=>{EW(n)},[n]);const i=()=>{const A=v3e();a(A)},s=()=>r.seedDummy&&r.seedDummy(),o=()=>{const A=localStorage.getItem("hw:localRepo")||"{}",f=new Blob([A],{type:"application/json"}),h=URL.createObjectURL(f),p=document.createElement("a");p.href=h,p.download="hematwoi-backup.json",p.click(),URL.revokeObjectURL(h)},c=A=>{const f=A.target.files?.[0];f&&f.text().then(h=>{try{localStorage.setItem("hw:localRepo",h)}catch{}})};return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsx(fo,{title:"Settings"}),l.jsxs(Qh,{title:"General UI",children:[l.jsx(Lg,{label:"Dark mode",checked:n.darkMode,onChange:A=>a({...n,darkMode:A})}),l.jsx(Rh,{label:"Density",value:n.density,options:[{value:"compact",label:"Compact"},{value:"comfortable",label:"Comfortable"}],onChange:A=>a({...n,density:A})}),l.jsx(Rh,{label:"Language",value:n.language,options:[{value:"id",label:"Indonesia"},{value:"en",label:"English"}],onChange:A=>a({...n,language:A})})]}),l.jsxs(Qh,{title:"Gamification",children:[l.jsx(Lg,{label:"Avatar Leveling",checked:n.avatarLeveling,onChange:A=>a({...n,avatarLeveling:A})}),l.jsx(Rh,{label:"MoneyTalk intensity",value:n.moneyTalk,options:[{value:"jarang",label:"Jarang"},{value:"normal",label:"Normal"},{value:"ramai",label:"Ramai"}],onChange:A=>a({...n,moneyTalk:A})}),l.jsx(Lg,{label:"Sound FX",checked:n.soundFx,onChange:A=>a({...n,soundFx:A})})]}),l.jsxs(Qh,{title:"Finance",children:[l.jsx(Rh,{label:"Currency",value:n.currency,options:[{value:"IDR",label:"IDR"},{value:"USD",label:"USD"}],onChange:A=>a({...n,currency:A})}),l.jsx(Rh,{label:"Digit format",value:n.digitFormat,options:[{value:"comma",label:"1,000"},{value:"dot",label:"1.000"}],onChange:A=>a({...n,digitFormat:A})}),l.jsx(g3e,{label:"First day of week",value:n.firstDay,min:0,max:6,onChange:A=>a({...n,firstDay:A})})]}),l.jsxs(Qh,{title:"Privacy",children:[l.jsx(Lg,{label:"PIN lock",checked:n.pinLock,onChange:A=>a({...n,pinLock:A})}),l.jsx(Lg,{label:"Incognito (hide amounts)",checked:n.incognito,onChange:A=>a({...n,incognito:A})})]}),l.jsxs(Qh,{title:"Data Mode",children:[l.jsx(Rh,{label:"Mode",value:e,options:[{value:"online",label:"Online"},{value:"local",label:"Local"}],onChange:A=>t(A)}),e==="local"&&l.jsx(b3e,{children:l.jsx("button",{className:"btn",onClick:s,"aria-label":"Seed Dummy Data",children:"Seed Dummy Data"})})]}),l.jsx(Qh,{title:"Backup",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx("button",{className:"btn",onClick:o,"aria-label":"Export JSON",children:"Export JSON"}),l.jsxs("label",{className:"btn",children:[l.jsx("span",{children:"Import JSON"}),l.jsx("input",{type:"file",accept:"application/json",onChange:c,className:"sr-only"})]})]})}),l.jsx("button",{className:"btn",onClick:i,"aria-label":"Reset preferences",children:"Reset to default"})]})}const w3e=/^[_a-z0-9]{3,30}$/;function _3e(e){return e.toLowerCase().replace(/[^a-z0-9_]/g,"")}function B3e({profile:e,email:t,offline:r,onSave:n,onUploadAvatar:a,onCheckUsername:i}){const[s,o]=B.useState(""),[c,A]=B.useState(""),[f,h]=B.useState("idle"),[p,g]=B.useState(""),[v,b]=B.useState(!1),[x,w]=B.useState(!1),[S,N]=B.useState(""),[k,C]=B.useState(null),T=B.useRef(null),O=B.useRef(null);B.useEffect(()=>{o(e?.full_name??""),A(e?.username??""),h("idle"),g(""),N(""),C(e?.avatar_signed_url??null)},[e]),B.useEffect(()=>()=>{k&&k.startsWith("blob:")&&URL.revokeObjectURL(k)},[k]),B.useEffect(()=>{if(!c){h("idle"),g("Gunakan huruf kecil, angka, atau underscore.");return}if(e&&c===(e.username??"")){h("current"),g("Username saat ini.");return}if(!w3e.test(c)){c.length<3?(h("invalid"),g("Minimal 3 karakter.")):c.length>30?(h("invalid"),g("Maksimal 30 karakter.")):(h("invalid"),g("Hanya huruf kecil, angka, dan underscore."));return}let H=!0;h("checking"),g("Memeriksa ketersediaan");const Y=window.setTimeout(async()=>{try{const K=await i(c);if(!H)return;K?(h("available"),g("Username tersedia.")):(h("taken"),g("Username sudah dipakai."))}catch(K){if(!H)return;h("error"),g(K instanceof Error?K.message:"Tidak bisa mengecek username saat ini.")}},400);return()=>{H=!1,window.clearTimeout(Y)}},[c,i,e]);const D=B.useMemo(()=>{const H=s.trim(),Y=e?.full_name??"",K=H===Y.trim(),J=c!==(e?.username??"");return!K||J},[s,c,e]),R=B.useCallback(async H=>{if(H.preventDefault(),!(!D||r)){b(!0),N("");try{await n({full_name:s.trim(),username:c||null})}catch(Y){N(Y instanceof Error?Y.message:"Tidak bisa menyimpan profil. Cek koneksi atau coba lagi."),T.current?.focus()}finally{b(!1)}}},[D,r,n,s,c]),q=B.useCallback(async H=>{if(!(!H||r)){w(!0),N("");try{const Y=URL.createObjectURL(H);C(Y),await a(H)}catch(Y){N(Y instanceof Error?Y.message:"Tidak bisa mengunggah avatar saat ini."),C(e?.avatar_signed_url??null)}finally{w(!1)}}},[r,a,e?.avatar_signed_url]),U=B.useCallback(H=>{const Y=H.target.files?.[0];q(Y??null),H.target.value=""},[q]),I=B.useCallback(H=>{if(H.preventDefault(),r)return;const Y=H.dataTransfer.files?.[0];q(Y??null)},[q,r]),Q=B.useCallback(H=>{r||H.preventDefault()},[r]);return B.useEffect(()=>{const H=O.current;if(!H)return;const Y=K=>{H.contains(K.target)&&K.preventDefault()};return H.addEventListener("dragenter",Y),H.addEventListener("dragleave",Y),()=>{H.removeEventListener("dragenter",Y),H.removeEventListener("dragleave",Y)}},[]),l.jsxs("section",{"aria-labelledby":"profile-account-heading",className:"rounded-3xl border border-border-subtle bg-surface p-4 shadow-sm md:p-6",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h2",{id:"profile-account-heading",className:"text-lg font-semibold text-foreground",children:"Akun"}),l.jsx("p",{className:"text-sm text-muted",children:"Kelola nama, username, dan avatar kamu."})]}),l.jsxs("form",{onSubmit:R,className:"mt-6 grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsx("div",{className:"col-span-1 md:col-span-2",children:l.jsxs("label",{ref:O,htmlFor:"avatar-upload",onDrop:I,onDragOver:Q,className:"group relative flex h-full min-h-[200px] cursor-pointer flex-col items-center justify-center gap-3 rounded-3xl border border-dashed border-border-subtle bg-surface-alt/60 p-4 text-center transition hover:border-primary/60 focus-within:border-primary focus-within:ring-2 focus-within:ring-ring-primary",children:[l.jsx("input",{id:"avatar-upload",type:"file",accept:"image/png,image/jpeg,image/webp",onChange:U,disabled:r||x,className:"sr-only"}),l.jsxs("div",{className:"relative h-24 w-24 overflow-hidden rounded-2xl border border-border-subtle bg-surface",children:[k?l.jsx("img",{src:k,alt:"Avatar",className:"h-full w-full object-cover",loading:"lazy"}):l.jsx("div",{className:"flex h-full w-full items-center justify-center text-muted",children:l.jsx(Dee,{className:"h-10 w-10","aria-hidden":"true"})}),x?l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40",children:l.jsx(pr,{className:"h-6 w-6 animate-spin text-white","aria-hidden":"true"})}):null]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Perbarui avatar"}),l.jsx("p",{className:"text-xs text-muted",children:"Seret & lepas atau klik untuk unggah. PNG/JPG/WEBP, maksimal 2MB."}),r?l.jsx("p",{className:"text-xs text-warning",children:"Mode offline  unggah dinonaktifkan."}):null]}),l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-2xl bg-surface px-3 py-2 text-xs font-semibold text-primary shadow-sm",children:[l.jsx(O$,{className:"h-4 w-4","aria-hidden":"true"})," Pilih file"]})]})}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{htmlFor:"profile-full-name",className:"text-sm font-medium text-foreground",children:"Nama lengkap"}),l.jsx("input",{ref:T,id:"profile-full-name",name:"full_name",type:"text",autoComplete:"name",value:s,onChange:H=>o(H.target.value),disabled:v||r,className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 px-3 text-sm text-foreground shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60"})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{htmlFor:"profile-username",className:"text-sm font-medium text-foreground",children:"Username / Handle"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"profile-username",name:"username",type:"text",autoComplete:"username",value:c,onChange:H=>A(_3e(H.target.value)),disabled:v||r,"aria-describedby":"profile-username-status","aria-invalid":f==="invalid"||f==="taken"||f==="error",className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 px-3 pr-10 text-sm text-foreground shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60"}),f==="available"||f==="current"?l.jsx(fy,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-success","aria-hidden":"true"}):null,f==="taken"||f==="invalid"||f==="error"?l.jsx(zc,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-danger","aria-hidden":"true"}):null]}),l.jsxs("p",{id:"profile-username-status",className:"flex items-center gap-2 text-xs","aria-live":"polite",children:[f==="checking"?l.jsx(pr,{className:"h-3 w-3 animate-spin text-muted","aria-hidden":"true"}):null,l.jsx("span",{className:f==="available"||f==="current"?"text-success":f==="taken"||f==="invalid"||f==="error"?"text-danger":"text-muted",children:p||"Gunakan huruf kecil, angka, atau underscore."})]})]}),l.jsxs("div",{className:"flex flex-col gap-1 md:col-span-2",children:[l.jsx("label",{htmlFor:"profile-email",className:"text-sm font-medium text-foreground",children:"Email"}),l.jsx("input",{id:"profile-email",type:"email",value:t??"",readOnly:!0,className:"h-11 w-full cursor-not-allowed rounded-2xl border border-border-subtle bg-surface-alt/60 px-3 text-sm text-muted shadow-inner"})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-2",children:[S?l.jsxs("p",{className:"flex items-center gap-2 text-sm text-danger","aria-live":"assertive",children:[l.jsx(zc,{className:"h-4 w-4","aria-hidden":"true"}),S]}):null,l.jsx("div",{className:"flex w-full justify-end",children:l.jsxs("button",{type:"submit",disabled:!D||v||r||f==="checking"||f==="invalid"||f==="taken",className:"inline-flex h-11 items-center justify-center rounded-2xl bg-primary px-6 text-sm font-semibold text-primary-foreground shadow-sm transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[v?l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):null,"Simpan perubahan"]})})]})]})]})}function W7(e){switch(e){case"strong":return"Kuat";case"medium":return"Cukup";default:return"Lemah"}}function Y7(e){if(!e)return{score:0,label:"weak"};let t=0;return e.length>=6&&(t+=1),e.length>=10&&(t+=1),(/[A-Z]/.test(e)||/[0-9]/.test(e))&&(t+=1),/[^a-zA-Z0-9]/.test(e)&&(t+=1),t>=3?{score:3,label:"strong"}:t===2?{score:2,label:"medium"}:{score:1,label:"weak"}}function S3e({offline:e,sessions:t,loadingSessions:r,hasPassword:n,onRefreshSessions:a,onSignOutSession:i,onChangePassword:s,onCreatePassword:o}){const[c,A]=B.useState(""),[f,h]=B.useState(""),[p,g]=B.useState(""),[v,b]=B.useState(!0),[x,w]=B.useState(!1),[S,N]=B.useState(""),[k,C]=B.useState(""),[T,O]=B.useState(""),[D,R]=B.useState(!0),[q,U]=B.useState(!1),[I,Q]=B.useState(""),[H,Y]=B.useState(""),[K,J]=B.useState(""),[re,oe]=B.useState(!1),V=B.useMemo(()=>Y7(f),[f]),W=B.useMemo(()=>Y7(k),[k]),P=B.useMemo(()=>!c||!f||!p||f!==p?!0:e,[c,f,p,e]),$=B.useMemo(()=>!k||!T||k!==T?!0:e,[k,T,e]),G=B.useCallback(async he=>{if(he.preventDefault(),!P){w(!0),N("");try{await s({current_password:c,new_password:f,sign_out_other:v}),A(""),h(""),g("")}catch(fe){N(fe instanceof Error?fe.message:"Tidak bisa mengganti password saat ini.")}finally{w(!1)}}},[P,s,c,f,v]),ne=B.useCallback(async he=>{if(he.preventDefault(),!$){U(!0),Q("");try{await o({new_password:k,sign_out_other:D}),C(""),O(""),R(!0)}catch(fe){Q(fe instanceof Error?fe.message:"Tidak bisa membuat password saat ini.")}finally{U(!1)}}},[$,o,k,D]),se=B.useCallback(async()=>{J(""),Y(""),oe(!0);try{await a(),Y("Daftar sesi diperbarui.")}catch(he){J(he instanceof Error?he.message:"Tidak bisa memuat sesi saat ini.")}finally{oe(!1)}},[a]),ve=B.useCallback(async he=>{J(""),Y(""),oe(!0);try{await i(he),Y("Sesi berhasil ditutup.")}catch(fe){J(fe instanceof Error?fe.message:"Tidak bisa keluar dari sesi tersebut.")}finally{oe(!1)}},[i]);return l.jsxs("section",{"aria-labelledby":"profile-security-heading",className:"rounded-3xl border border-border-subtle bg-surface p-4 shadow-sm md:p-6",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h2",{id:"profile-security-heading",className:"text-lg font-semibold text-foreground",children:"Keamanan"}),l.jsx("p",{className:"text-sm text-muted",children:"Atur password, kontrol sesi aktif, dan pastikan akun tetap aman."})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n?l.jsxs("form",{onSubmit:G,className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:"profile-current-password",className:"text-sm font-medium text-foreground",children:"Password saat ini"}),l.jsx("input",{id:"profile-current-password",type:"password",autoComplete:"current-password",value:c,onChange:he=>A(he.target.value),disabled:x||e,className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 px-3 text-sm shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:"profile-new-password",className:"text-sm font-medium text-foreground",children:"Password baru"}),l.jsx("input",{id:"profile-new-password",type:"password",autoComplete:"new-password",value:f,onChange:he=>h(he.target.value),disabled:x||e,"aria-describedby":"profile-change-password-strength",className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 px-3 text-sm shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60"}),l.jsxs("div",{className:"mt-2 space-y-2",id:"profile-change-password-strength","aria-live":"polite",children:[l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-surface-alt",children:l.jsx("div",{className:V.label==="strong"?"h-full bg-success":V.label==="medium"?"h-full bg-warning":"h-full bg-danger",style:{width:`${Math.min(V.score*33.33,100)}%`}})}),l.jsxs("p",{className:"flex items-center gap-2 text-xs text-muted",children:[l.jsx(VI,{className:"h-3.5 w-3.5","aria-hidden":"true"}),"Kekuatan:"," ",l.jsx("span",{className:"font-semibold text-foreground",children:W7(V.label)})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:"profile-confirm-password",className:"text-sm font-medium text-foreground",children:"Konfirmasi password baru"}),l.jsx("input",{id:"profile-confirm-password",type:"password",autoComplete:"new-password",value:p,onChange:he=>g(he.target.value),disabled:x||e,"aria-invalid":!!p&&p!==f,className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 px-3 text-sm shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60"}),p&&p!==f?l.jsx("p",{className:"text-xs text-danger","aria-live":"assertive",children:"Konfirmasi password belum cocok."}):null]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-foreground",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:he=>b(he.target.checked),disabled:x||e,className:"h-4 w-4 rounded border-border-subtle text-primary focus:outline-none focus:ring-2 focus:ring-ring-primary"}),"Keluar dari sesi lain setelah ganti password"]}),S?l.jsxs("p",{className:"flex items-center gap-2 text-sm text-danger","aria-live":"assertive",children:[l.jsx(zc,{className:"h-4 w-4","aria-hidden":"true"}),S]}):null,l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:P||x,className:"inline-flex h-11 items-center justify-center rounded-2xl bg-primary px-6 text-sm font-semibold text-primary-foreground shadow-sm transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[x?l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):null,"Ubah password"]})})]}):l.jsxs("form",{onSubmit:ne,className:"flex flex-col gap-4",children:[l.jsx("div",{className:"rounded-2xl border border-border-subtle bg-surface-alt/60 p-4 text-sm text-muted",children:"Kamu masuk menggunakan penyedia pihak ketiga. Buat password agar bisa masuk dengan email & password."}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:"profile-create-password",className:"text-sm font-medium text-foreground",children:"Password baru"}),l.jsx("input",{id:"profile-create-password",type:"password",autoComplete:"new-password",value:k,onChange:he=>C(he.target.value),disabled:q||e,"aria-describedby":"profile-create-password-strength",className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 px-3 text-sm shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60"}),l.jsxs("div",{className:"mt-2 space-y-2",id:"profile-create-password-strength","aria-live":"polite",children:[l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-surface-alt",children:l.jsx("div",{className:W.label==="strong"?"h-full bg-success":W.label==="medium"?"h-full bg-warning":"h-full bg-danger",style:{width:`${Math.min(W.score*33.33,100)}%`}})}),l.jsxs("p",{className:"flex items-center gap-2 text-xs text-muted",children:[l.jsx(VI,{className:"h-3.5 w-3.5","aria-hidden":"true"}),"Kekuatan:"," ",l.jsx("span",{className:"font-semibold text-foreground",children:W7(W.label)})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:"profile-create-confirm",className:"text-sm font-medium text-foreground",children:"Konfirmasi password baru"}),l.jsx("input",{id:"profile-create-confirm",type:"password",autoComplete:"new-password",value:T,onChange:he=>O(he.target.value),disabled:q||e,"aria-invalid":!!T&&T!==k,className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 px-3 text-sm shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60"}),T&&T!==k?l.jsx("p",{className:"text-xs text-danger","aria-live":"assertive",children:"Konfirmasi password belum cocok."}):null]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-foreground",children:[l.jsx("input",{type:"checkbox",checked:D,onChange:he=>R(he.target.checked),disabled:q||e,className:"h-4 w-4 rounded border-border-subtle text-primary focus:outline-none focus:ring-2 focus:ring-ring-primary"}),"Keluar dari sesi lain setelah membuat password"]}),I?l.jsxs("p",{className:"flex items-center gap-2 text-sm text-danger","aria-live":"assertive",children:[l.jsx(zc,{className:"h-4 w-4","aria-hidden":"true"}),I]}):null,l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:$||q,className:"inline-flex h-11 items-center justify-center rounded-2xl bg-primary px-6 text-sm font-semibold text-primary-foreground shadow-sm transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[q?l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):null,"Buat password"]})})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Sesi & perangkat aktif"}),l.jsx("p",{className:"text-xs text-muted",children:"Kelola perangkat yang terhubung ke akunmu."})]}),l.jsxs("button",{type:"button",onClick:()=>void se(),disabled:r||re||e,className:"inline-flex h-9 items-center justify-center rounded-full border border-border-subtle bg-surface px-3 text-xs font-semibold text-foreground shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[l.jsx(mE,{className:"mr-1.5 h-3.5 w-3.5","aria-hidden":"true"})," Segarkan"]})]}),l.jsx("ul",{className:"space-y-3",children:t.length===0?l.jsx("li",{className:"rounded-2xl border border-border-subtle bg-surface-alt/50 p-4 text-sm text-muted",children:"Tidak ada sesi aktif ditemukan."}):t.map(he=>l.jsxs("li",{className:"flex flex-col gap-3 rounded-2xl border border-border-subtle bg-surface-alt/60 p-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-surface text-muted",children:l.jsx(qee,{className:"h-5 w-5","aria-hidden":"true"})}),l.jsxs("div",{className:"flex-1 space-y-1 text-sm",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:he.label}),he.current?l.jsx("span",{className:"inline-flex items-center rounded-full bg-success/20 px-2 py-0.5 text-[11px] font-semibold text-success",children:"Perangkat ini"}):null]}),he.user_agent?l.jsx("p",{className:"text-xs text-muted","aria-label":"User agent",children:he.user_agent}):null,l.jsxs("p",{className:"text-xs text-muted",children:["Terakhir masuk:"," ",he.last_sign_in_at?new Date(he.last_sign_in_at).toLocaleString():"Tidak diketahui"]})]})]}),l.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 text-xs",children:l.jsxs("button",{type:"button",onClick:()=>void ve(he.id),disabled:re||e,className:"inline-flex h-9 items-center justify-center gap-2 rounded-full border border-border-subtle bg-surface px-4 font-semibold text-foreground shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[l.jsx(L$,{className:"h-3.5 w-3.5","aria-hidden":"true"}),he.current?"Keluar dari perangkat ini":"Keluar dari perangkat tersebut"]})})]},he.id))}),l.jsxs("div",{className:"flex flex-col gap-2 text-xs","aria-live":"polite",children:[H?l.jsx("span",{className:"text-success",children:H}):null,K?l.jsxs("span",{className:"flex items-center gap-1 text-danger",children:[l.jsx(zc,{className:"h-3 w-3","aria-hidden":"true"})," ",K]}):null]}),l.jsxs("button",{type:"button",onClick:()=>void ve(),disabled:re||e,className:"inline-flex h-11 items-center justify-center rounded-2xl border border-danger/70 bg-danger/10 px-6 text-sm font-semibold text-danger shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[re?l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):null,"Keluar dari semua perangkat"]})]})]})]})}const N3e=[{value:"system",label:"Sistem",icon:l.jsx(U$,{className:"h-4 w-4","aria-hidden":"true"})},{value:"light",label:"Terang",icon:l.jsx(Ote,{className:"h-4 w-4","aria-hidden":"true"})},{value:"dark",label:"Gelap",icon:l.jsx(ite,{className:"h-4 w-4","aria-hidden":"true"})}],C3e=["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"],j3e=["IDR","USD","EUR"],k3e=[{value:"id-ID",label:"Indonesia"},{value:"en-US",label:"English (US)"}];function E3e(){if(typeof Intl<"u"&&"supportedValuesOf"in Intl)try{const e=Intl.supportedValuesOf("timeZone");if(Array.isArray(e)&&e.length>0)return e}catch{}return["Asia/Jakarta","Asia/Makassar","Asia/Jayapura","Asia/Singapore","Asia/Bangkok","Asia/Tokyo","Europe/London","America/New_York"]}const T3e=E3e();function O3e({profile:e,offline:t,saving:r,onSave:n,onPreviewTheme:a}){const[i,s]=B.useState("system"),[o,c]=B.useState("IDR"),[A,f]=B.useState("id-ID"),[h,p]=B.useState("DD/MM/YYYY"),[g,v]=B.useState("Asia/Jakarta"),[b,x]=B.useState("");B.useEffect(()=>{e&&(s(e.theme??"system"),c(e.currency??"IDR"),f(e.locale??"id-ID"),p(e.date_format??"DD/MM/YYYY"),v(e.timezone??"Asia/Jakarta"))},[e]);const w=B.useMemo(()=>e?i!==(e.theme??"system")||o!==(e.currency??"IDR")||A!==(e.locale??"id-ID")||h!==(e.date_format??"DD/MM/YYYY")||g!==(e.timezone??"Asia/Jakarta"):!1,[i,o,A,h,g,e]),S=B.useCallback(k=>{s(k),a(k)},[a]),N=B.useCallback(async k=>{if(k.preventDefault(),!(!w||t)){x("");try{await n({theme:i,currency:o.trim(),locale:A,date_format:h,timezone:g.trim()||"Asia/Jakarta"})}catch(C){x(C instanceof Error?C.message:"Tidak bisa menyimpan preferensi saat ini.")}}},[w,t,n,i,o,A,h,g]);return l.jsxs("section",{"aria-labelledby":"profile-preferences-heading",className:"rounded-3xl border border-border-subtle bg-surface p-4 shadow-sm md:p-6",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h2",{id:"profile-preferences-heading",className:"text-lg font-semibold text-foreground",children:"Preferensi"}),l.jsx("p",{className:"text-sm text-muted",children:"Sesuaikan tampilan aplikasi sesuai gaya kamu."})]}),l.jsxs("form",{onSubmit:N,className:"mt-6 grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsxs("fieldset",{className:"col-span-1 md:col-span-2",children:[l.jsx("legend",{className:"text-sm font-medium text-foreground",children:"Tema aplikasi"}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:N3e.map(k=>l.jsxs("button",{type:"button",role:"tab","aria-pressed":i===k.value,onClick:()=>S(k.value),disabled:t,className:`inline-flex items-center gap-2 rounded-2xl border px-4 py-2 text-sm font-semibold shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60 ${i===k.value?"border-primary bg-primary text-primary-foreground":"border-border-subtle bg-surface-alt/60 text-foreground hover:border-primary/50"}`,children:[k.icon,k.label]},k.value))})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{htmlFor:"profile-locale",className:"text-sm font-medium text-foreground",children:"Bahasa"}),l.jsxs("div",{className:"relative",children:[l.jsx(Hee,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted","aria-hidden":"true"}),l.jsx("select",{id:"profile-locale",value:A,onChange:k=>f(k.target.value),disabled:t||r,className:"h-11 w-full appearance-none rounded-2xl border border-border-subtle bg-surface-alt/70 pl-10 pr-8 text-sm text-foreground shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:k3e.map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{htmlFor:"profile-currency",className:"text-sm font-medium text-foreground",children:"Mata uang utama"}),l.jsx("select",{id:"profile-currency",value:o,onChange:k=>c(k.target.value),disabled:t||r,className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 px-3 text-sm text-foreground shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:j3e.map(k=>l.jsx("option",{value:k,children:k},k))})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{htmlFor:"profile-date-format",className:"text-sm font-medium text-foreground",children:"Format tanggal"}),l.jsx("select",{id:"profile-date-format",value:h,onChange:k=>p(k.target.value),disabled:t||r,className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 px-3 text-sm text-foreground shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:C3e.map(k=>l.jsx("option",{value:k,children:k},k))})]}),l.jsxs("div",{className:"flex flex-col gap-1 md:col-span-2",children:[l.jsx("label",{htmlFor:"profile-timezone",className:"text-sm font-medium text-foreground",children:"Zona waktu"}),l.jsxs("div",{className:"relative",children:[l.jsx(U$,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted","aria-hidden":"true"}),l.jsx("input",{list:"profile-timezone-options",id:"profile-timezone",value:g,onChange:k=>v(k.target.value),disabled:t||r,className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 pl-10 pr-3 text-sm text-foreground shadow-sm transition focus:outline-none focus:ring-2 focus:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60"}),l.jsx("datalist",{id:"profile-timezone-options",children:T3e.map(k=>l.jsx("option",{value:k},k))})]}),l.jsx("p",{className:"text-xs text-muted",children:"Ketik untuk mencari zona waktu. Kami menyarankan mengikuti zona domisili."})]}),b?l.jsxs("p",{className:"col-span-1 md:col-span-2 flex items-center gap-2 text-sm text-danger","aria-live":"assertive",children:[l.jsx(zc,{className:"h-4 w-4","aria-hidden":"true"}),b]}):null,l.jsx("div",{className:"col-span-1 md:col-span-2 flex justify-end",children:l.jsxs("button",{type:"submit",disabled:!w||r||t,className:"inline-flex h-11 items-center justify-center rounded-2xl bg-primary px-6 text-sm font-semibold text-primary-foreground shadow-sm transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[r?l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):null,"Simpan preferensi"]})})]})]})}const X7=[{key:"weekly_summary",title:"Ringkasan mingguan",description:"Ringkasan performa finansial setiap minggu.",icon:l.jsx(qI,{className:"h-4 w-4","aria-hidden":"true"})},{key:"monthly_summary",title:"Ringkasan bulanan",description:"Laporan lengkap setiap akhir bulan.",icon:l.jsx(qI,{className:"h-4 w-4","aria-hidden":"true"})},{key:"bill_due",title:"Pengingat tagihan",description:"Notifikasi sebelum langganan jatuh tempo.",icon:l.jsx(fE,{className:"h-4 w-4","aria-hidden":"true"})},{key:"goal_reminder",title:"Reminder goals",description:"Dorongan lembut agar target finansial tidak kendor.",icon:l.jsx(C$,{className:"h-4 w-4","aria-hidden":"true"})}];function I3e({active:e,label:t,icon:r,disabled:n,onClick:a}){return l.jsxs("button",{type:"button",role:"switch","aria-checked":e,"aria-label":t,onClick:a,disabled:n,className:`relative inline-flex h-10 w-18 flex-shrink-0 items-center rounded-full border px-1 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60 ${e?"border-primary bg-primary":"border-border-subtle bg-surface"}`,children:[l.jsx("span",{className:"sr-only",children:t}),l.jsx("span",{className:`inline-flex h-8 w-8 items-center justify-center rounded-full bg-white shadow-sm transition-transform ${e?"translate-x-8 text-primary":"translate-x-0 text-muted"}`,children:e?l.jsx(Ww,{className:"h-4 w-4","aria-hidden":"true"}):r})]})}function U3e({notifications:e,offline:t,saving:r,onSave:n}){const[a,i]=B.useState({weekly_summary:!0,monthly_summary:!1,bill_due:!0,goal_reminder:!0}),[s,o]=B.useState(""),[c,A]=B.useState(!1);B.useEffect(()=>{e&&(i(e),A(!1),o(""))},[e]);const f=B.useMemo(()=>{const g=X7.filter(b=>a[b.key]);return g.length===0?"Tidak ada notifikasi aktif.":`Aktif: ${g.map(b=>b.title.toLowerCase()).join(", ")}.`},[a]),h=B.useCallback(g=>{t||(i(v=>({...v,[g]:!v[g]})),A(!0))},[t]),p=B.useCallback(async()=>{if(!(!c||t)){o("");try{await n(a),A(!1)}catch(g){o(g instanceof Error?g.message:"Tidak bisa memperbarui notifikasi saat ini.")}}},[c,t,n,a]);return l.jsxs("section",{"aria-labelledby":"profile-notifications-heading",className:"rounded-3xl border border-border-subtle bg-surface p-4 shadow-sm md:p-6",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h2",{id:"profile-notifications-heading",className:"text-lg font-semibold text-foreground",children:"Notifikasi"}),l.jsx("p",{className:"text-sm text-muted",children:"Kontrol email ringkasan dan pengingat penting."})]}),l.jsxs("div",{className:"mt-6 space-y-4",children:[l.jsxs("div",{className:"rounded-3xl border border-border-subtle bg-surface-alt/60 p-4 text-sm text-muted",children:[l.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[l.jsx(C$,{className:"h-4 w-4","aria-hidden":"true"}),"Jadwal ringkasan"]}),l.jsx("p",{className:"mt-2 text-xs text-muted","aria-live":"polite",children:f})]}),l.jsx("ul",{className:"space-y-4",children:X7.map(g=>l.jsxs("li",{className:"flex flex-col gap-3 rounded-3xl border border-border-subtle bg-surface-alt/60 p-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-start gap-3 text-left",children:[l.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-2xl bg-surface text-muted",children:g.icon}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-semibold text-foreground",children:g.title}),l.jsx("p",{className:"text-xs text-muted",children:g.description})]})]}),l.jsx(I3e,{active:a[g.key],label:g.title,icon:g.icon,disabled:t||r,onClick:()=>h(g.key)})]},g.key))}),s?l.jsx("p",{className:"text-sm text-danger","aria-live":"assertive",children:s}):null,l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("button",{type:"button",onClick:()=>{i(e??a),A(!1),o("")},className:"inline-flex h-10 items-center justify-center gap-2 rounded-full border border-border-subtle bg-surface px-3 text-xs font-semibold text-foreground shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary",children:[l.jsx(Xw,{className:"h-3.5 w-3.5","aria-hidden":"true"})," Reset"]}),l.jsxs("button",{type:"button",onClick:()=>void p(),disabled:!c||t||r,className:"inline-flex h-11 items-center justify-center rounded-2xl bg-primary px-6 text-sm font-semibold text-primary-foreground shadow-sm transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[r?l.jsx(pr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):null,"Simpan notifikasi"]})]})]})]})}function F3e({value:e,onChange:t}){return l.jsxs("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>t(!e),className:`inline-flex h-10 w-18 items-center rounded-full border px-1 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary ${e?"border-primary bg-primary":"border-border-subtle bg-surface"}`,children:[l.jsx("span",{className:"sr-only",children:"Izinkan pelacakan sederhana"}),l.jsx("span",{className:`inline-flex h-8 w-8 items-center justify-center rounded-full bg-white text-sm font-semibold shadow-sm transition-transform ${e?"translate-x-8 text-primary":"translate-x-0 text-muted"}`,children:e?"On":"Off"})]})}function D3e({open:e,value:t,onChange:r,busy:n,error:a,onConfirm:i,onCancel:s}){return e?co.createPortal(l.jsx("div",{className:"fixed inset-0 z-[95] flex items-center justify-center bg-black/50 px-4",role:"dialog","aria-modal":"true",children:l.jsxs("div",{className:"max-h-[80vh] w-full max-w-md overflow-hidden rounded-3xl border border-border-subtle bg-surface shadow-xl",children:[l.jsxs("div",{className:"sticky top-0 flex items-center justify-between gap-4 border-b border-border-subtle bg-surface px-5 py-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Konfirmasi hapus akun"}),l.jsx("button",{type:"button",onClick:s,className:"text-sm text-muted transition hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary",children:"Batal"})]}),l.jsxs("div",{className:"max-h-[60vh] overflow-y-auto px-5 py-4 text-sm text-foreground",children:[l.jsxs("p",{className:"text-muted",children:["Tindakan ini akan menghapus seluruh data finansial kamu secara permanen. Ketik"," ",l.jsx("span",{className:"font-semibold text-danger",children:"HAPUS"})," untuk melanjutkan."]}),l.jsxs("label",{className:"mt-4 flex flex-col gap-1 text-sm",children:[l.jsx("span",{className:"font-medium text-foreground",children:'Ketik "HAPUS"'}),l.jsx("input",{type:"text",value:t,onChange:o=>r(o.target.value.toUpperCase()),className:"h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt/70 px-3 text-sm text-foreground shadow-sm focus:outline-none focus:ring-2 focus:ring-ring-primary",autoFocus:!0})]}),a?l.jsxs("p",{className:"mt-3 flex items-center gap-2 text-sm text-danger","aria-live":"assertive",children:[l.jsx(zc,{className:"h-4 w-4","aria-hidden":"true"}),a]}):null]}),l.jsxs("div",{className:"sticky bottom-0 flex items-center justify-end gap-3 border-t border-border-subtle bg-surface px-5 py-4",children:[l.jsx("button",{type:"button",onClick:s,className:"inline-flex h-10 items-center justify-center rounded-full border border-border-subtle bg-surface px-4 text-sm font-semibold text-foreground shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary",children:"Batal"}),l.jsxs("button",{type:"button",onClick:i,disabled:t!=="HAPUS"||n,className:"inline-flex h-10 items-center justify-center gap-2 rounded-full border border-danger/70 bg-danger px-5 text-sm font-semibold text-white shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[n?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"}),"Hapus akun"]})]})]})}),document.body):null}function L3e({offline:e,exporting:t,onExport:r,onDeleteAccount:n}){const[a,i]=B.useState(!1),[s,o]=B.useState(""),[c,A]=B.useState(""),[f,h]=B.useState(!1),[p,g]=B.useState(""),[v,b]=B.useState(!1),[x,w]=B.useState("");B.useEffect(()=>{try{const O=localStorage.getItem("hematwoi:tracking-consent");O&&i(O==="1")}catch{i(!1)}},[]);const S=B.useMemo(()=>a?"Pelacakan ringan diaktifkan untuk meningkatkan rekomendasi.":"Pelacakan dimatikan. Kami hanya menyimpan data yang penting.",[a]),N=B.useCallback(O=>{i(O);try{localStorage.setItem("hematwoi:tracking-consent",O?"1":"0")}catch{}},[]),k=B.useCallback(async O=>{o(""),A("");try{await r(O),o(`Ekspor ${O.toUpperCase()} siap diunduh.`)}catch(D){A(D instanceof Error?D.message:"Tidak bisa mengekspor data saat ini.")}},[r]),C=B.useCallback(()=>{g(""),w(""),h(!0)},[]),T=B.useCallback(async()=>{if(p!=="HAPUS"){w("Ketik HAPUS untuk melanjutkan.");return}b(!0),w(""),o(""),A("");try{const O=await n();O.status==="success"?(o(O.message),h(!1)):A(O.message)}catch(O){w(O instanceof Error?O.message:"Tidak bisa memproses penghapusan akun.")}finally{b(!1)}},[p,n]);return l.jsxs("section",{"aria-labelledby":"profile-privacy-heading",className:"rounded-3xl border border-border-subtle bg-surface p-4 shadow-sm md:p-6",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h2",{id:"profile-privacy-heading",className:"text-lg font-semibold text-foreground",children:"Privasi & Data"}),l.jsx("p",{className:"text-sm text-muted",children:"Kelola ekspor data, penghapusan akun, dan perizinan."})]}),l.jsxs("div",{className:"mt-6 space-y-6",children:[l.jsxs("div",{className:"rounded-3xl border border-border-subtle bg-surface-alt/60 p-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Ekspor data"}),l.jsx("p",{className:"mt-2 text-xs text-muted",children:"Unduh salinan transaksi, kategori, goals, utang, dan langganan dalam format JSON atau CSV."}),l.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row",children:[l.jsxs("button",{type:"button",onClick:()=>void k("json"),disabled:e||t,className:"inline-flex h-11 w-full items-center justify-center gap-2 rounded-2xl border border-border-subtle bg-surface px-4 text-sm font-semibold text-foreground shadow-sm transition hover:border-primary/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60 sm:w-auto",children:[t?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(mee,{className:"h-4 w-4","aria-hidden":"true"}),"Ekspor JSON"]}),l.jsxs("button",{type:"button",onClick:()=>void k("csv"),disabled:e||t,className:"inline-flex h-11 w-full items-center justify-center gap-2 rounded-2xl border border-border-subtle bg-surface px-4 text-sm font-semibold text-foreground shadow-sm transition hover:border-primary/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60 sm:w-auto",children:[t?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(gee,{className:"h-4 w-4","aria-hidden":"true"}),"Ekspor CSV"]})]})]}),l.jsxs("div",{className:"rounded-3xl border border-border-subtle bg-surface-alt/60 p-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Izin pelacakan sederhana"}),l.jsx("p",{className:"mt-2 text-xs text-muted","aria-live":"polite",children:S}),l.jsxs("div",{className:"mt-4 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted",children:[l.jsx(_te,{className:"h-4 w-4","aria-hidden":"true"}),"Data anonim untuk insight umum saja."]}),l.jsx(F3e,{value:a,onChange:N})]})]}),l.jsxs("div",{className:"rounded-3xl border border-danger/40 bg-danger/10 p-4",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-danger",children:[l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})," Hapus akun"]}),l.jsx("p",{className:"mt-2 text-xs text-danger/80",children:"Setelah dikonfirmasi, seluruh data akan hilang dan tidak dapat dikembalikan."}),l.jsxs("button",{type:"button",onClick:C,disabled:e,className:"mt-4 inline-flex h-11 items-center justify-center gap-2 rounded-2xl border border-danger/60 bg-danger px-5 text-sm font-semibold text-white shadow-sm transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})," Mulai proses hapus akun"]})]}),l.jsxs("div",{className:"rounded-3xl border border-border-subtle bg-surface-alt/60 p-4 text-sm text-muted",children:[l.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[l.jsx(B$,{className:"h-4 w-4","aria-hidden":"true"})," Riwayat permintaan"]}),l.jsx("p",{className:"mt-2 text-xs","aria-live":"polite",children:s||"Belum ada permintaan terbaru."}),c?l.jsxs("p",{className:"mt-2 flex items-center gap-2 text-xs text-danger","aria-live":"assertive",children:[l.jsx(zc,{className:"h-3.5 w-3.5","aria-hidden":"true"}),c]}):null]})]}),l.jsx(D3e,{open:f,value:p,onChange:g,busy:v,error:x,onConfirm:()=>void T(),onCancel:()=>h(!1)})]})}function J7(e){switch(e){case"google":return"Google";case"github":return"GitHub";default:return e}}function M3e(e){switch(e){case"github":return l.jsx(kee,{className:"h-5 w-5","aria-hidden":"true"});case"google":default:return l.jsx(Tee,{className:"h-5 w-5","aria-hidden":"true"})}}function P3e({providers:e,offline:t,onDisconnect:r}){const[n,a]=B.useState(null),[i,s]=B.useState(""),o=B.useCallback(async c=>{s(""),a(c);try{await r(c)}catch(A){s(A instanceof Error?A.message:"Tidak bisa memutuskan sambungan saat ini.")}finally{a(null)}},[r]);return l.jsxs("section",{"aria-labelledby":"profile-integrations-heading",className:"rounded-3xl border border-border-subtle bg-surface p-4 shadow-sm md:p-6",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h2",{id:"profile-integrations-heading",className:"text-lg font-semibold text-foreground",children:"Integrasi"}),l.jsx("p",{className:"text-sm text-muted",children:"Kelola akun sosial yang terhubung ke HematWoi."})]}),l.jsx("ul",{className:"mt-6 space-y-4",children:e.map(c=>{const A=!!c.id;return l.jsxs("li",{className:"flex flex-col gap-3 rounded-3xl border border-border-subtle bg-surface-alt/60 p-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-surface text-foreground",children:M3e(c.provider)}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsx("p",{className:"font-semibold text-foreground",children:J7(c.provider)}),l.jsx("p",{className:"text-xs text-muted",children:A?c.email||"Terhubung":"Belum terhubung. Masuk via penyedia ini untuk menghubungkan."}),A&&c.last_sign_in_at?l.jsxs("p",{className:"text-xs text-muted",children:["Terakhir digunakan:"," ",new Date(c.last_sign_in_at).toLocaleString()]}):null]})]}),l.jsx("div",{className:"flex items-center gap-3",children:A?l.jsxs("button",{type:"button",onClick:()=>void o(c.provider),disabled:t||n===c.provider,className:"inline-flex h-10 items-center justify-center gap-2 rounded-full border border-border-subtle bg-surface px-4 text-xs font-semibold text-foreground shadow-sm transition hover:border-danger/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary disabled:cursor-not-allowed disabled:opacity-60",children:[n===c.provider?l.jsx(pr,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):l.jsx(GI,{className:"h-4 w-4 text-danger","aria-hidden":"true"}),"Putuskan sambungan"]}):l.jsxs("span",{className:"text-xs text-muted",children:["Hubungkan dengan login menggunakan ",J7(c.provider),"."]})})]},c.provider)})}),i?l.jsxs("p",{className:"mt-4 flex items-center gap-2 text-sm text-danger","aria-live":"assertive",children:[l.jsx(GI,{className:"h-4 w-4","aria-hidden":"true"}),i]}):null]})}const Q3e=typeof process<"u"&&!1;function d3(e,t){Q3e&&console.error(`[HW][profile-api] ${e}`,t)}function Pi(e,t,r){if(d3(e,t),t instanceof Error&&t.message){const n=new Error(t.message);throw n.cause=t.cause??t,n}throw new Error(r)}function TW(e){if(!e)return null;const t=e.trim().toLowerCase();return t||null}function OW(e){if(e){if(e.length<3||e.length>30)throw new Error("Username harus 3-30 karakter.");if(!/^[_a-z0-9]+$/.test(e))throw new Error("Username hanya boleh huruf, angka, atau underscore.")}}function R3e(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0))}async function H3e(e){if(!e)return null;try{const{data:t,error:r}=await Ne.storage.from("avatars").createSignedUrl(e,60);if(r)throw r;const n=t?.signedUrl??null;if(!n)return null;const a=`v=${Date.now()}`;return n.includes("?")?`${n}&${a}`:`${n}?${a}`}catch(t){return d3("resolveAvatarUrl",t),null}}async function ul(){const{data:e,error:t}=await Ne.auth.getUser();t&&Pi("getUser",t,"Tidak bisa memuat sesi.");const r=e.user;if(!r)throw new Error("Kamu belum masuk.");return r}async function IA(e){return{id:e.id,full_name:e.full_name??null,username:e.username??null,avatar_url:e.avatar_url??null,avatar_signed_url:await H3e(e.avatar_url??null),currency:e.currency??"IDR",locale:e.locale??"id-ID",date_format:e.date_format??"DD/MM/YYYY",timezone:e.timezone??"Asia/Jakarta",theme:e.theme??"system",notifications:{weekly_summary:!!(e.notifications?.weekly_summary??!0),monthly_summary:!!(e.notifications?.monthly_summary??!1),bill_due:!!(e.notifications?.bill_due??!0),goal_reminder:!!(e.notifications?.goal_reminder??!0)},created_at:e.created_at??new Date().toISOString(),updated_at:e.updated_at??new Date().toISOString()}}async function Z7(){try{const{data:e,error:t}=await Ne.auth.getSession();if(t)throw t;return{user:e.session?.user??null}}catch(e){Pi("getSession",e,"Tidak bisa memuat sesi.")}}async function $3e(){try{const e=await ul(),{data:t,error:r}=await Ne.from("user_profiles").select("*").eq("id",e.id).maybeSingle();if(r&&r.code!=="PGRST116")throw r;if(!t){const n={id:e.id,full_name:e.user_metadata?.full_name??e.user_metadata?.name??null,username:null,avatar_url:null,currency:"IDR",locale:"id-ID",date_format:"DD/MM/YYYY",timezone:"Asia/Jakarta",theme:"system",notifications:{weekly_summary:!0,monthly_summary:!1,bill_due:!0,goal_reminder:!0}},{data:a,error:i}=await Ne.from("user_profiles").insert(n).select("*").single();if(i)throw i;return IA(a)}return IA(t)}catch(e){Pi("getProfile",e,"Tidak bisa memuat profil.")}}async function IW(e){try{const t=TW(e);if(!t)throw new Error("Username tidak valid.");OW(t);const r=await ul(),{data:n,error:a}=await Ne.from("user_profiles").select("id").eq("username",t).neq("id",r.id).maybeSingle();if(a&&a.code!=="PGRST116")throw a;return!n}catch(t){Pi("checkUsernameAvailability",t,"Tidak bisa mengecek username.")}}async function q3e(e){try{const t=await ul(),r={};if(e.full_name!==void 0){const i=e.full_name?.trim();r.full_name=i||null}if(e.username!==void 0){const i=TW(e.username);if(i&&(OW(i),!await IW(i)))throw new Error("Username sudah dipakai.");r.username=i}if(Object.keys(r).length===0){const{data:i,error:s}=await Ne.from("user_profiles").select("*").eq("id",t.id).single();if(s)throw s;return IA(i)}const{data:n,error:a}=await Ne.from("user_profiles").update(r).eq("id",t.id).select("*").single();if(a)throw a;return IA(n)}catch(t){Pi("updateAccount",t,"Tidak bisa menyimpan profil. Cek koneksi atau coba lagi.")}}async function K3e(e){try{if(!e)throw new Error("File tidak ditemukan.");if(e.size>2*1024*1024)throw new Error("Ukuran avatar maksimal 2MB.");if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(e.type))throw new Error("Format avatar harus PNG, JPG, atau WEBP.");const r=await ul(),n=e.name?.split(".").pop()?.toLowerCase(),a=n&&["png","jpg","jpeg","webp"].includes(n)?n:e.type.split("/")[1],i=`avatars/${r.id}.${a||"png"}`,{error:s}=await Ne.storage.from("avatars").upload(i,e,{cacheControl:"3600",upsert:!0,contentType:e.type});if(s)throw s;const{data:o,error:c}=await Ne.from("user_profiles").update({avatar_url:i}).eq("id",r.id).select("*").single();if(c)throw c;return IA(o)}catch(t){Pi("uploadAvatar",t,"Tidak bisa mengunggah avatar.")}}async function z3e(e){try{const t=await ul(),r=R3e({theme:e.theme,currency:e.currency?.trim(),locale:e.locale?.trim(),date_format:e.date_format?.trim(),timezone:e.timezone?.trim()});if(Object.keys(r).length===0){const{data:i,error:s}=await Ne.from("user_profiles").select("*").eq("id",t.id).single();if(s)throw s;return IA(i)}const{data:n,error:a}=await Ne.from("user_profiles").update(r).eq("id",t.id).select("*").single();if(a)throw a;return IA(n)}catch(t){Pi("updatePreferences",t,"Tidak bisa menyimpan preferensi.")}}async function G3e(e){try{const t=await ul(),{data:r,error:n}=await Ne.from("user_profiles").select("notifications").eq("id",t.id).single();if(n)throw n;const a={weekly_summary:!!(r?.notifications?.weekly_summary??!0),monthly_summary:!!(r?.notifications?.monthly_summary??!1),bill_due:!!(r?.notifications?.bill_due??!0),goal_reminder:!!(r?.notifications?.goal_reminder??!0),...e},{data:i,error:s}=await Ne.from("user_profiles").update({notifications:a}).eq("id",t.id).select("*").single();if(s)throw s;return IA(i)}catch(t){Pi("updateNotifications",t,"Tidak bisa menyimpan notifikasi.")}}async function V3e(e){try{if(!e.current_password||!e.new_password)throw new Error("Password lama dan baru wajib diisi.");if(e.new_password.length<6)throw new Error("Password baru minimal 6 karakter.");if(e.new_password===e.current_password)throw new Error("Password baru tidak boleh sama dengan password lama.");const r=(await ul()).email;if(!r)throw new Error("Email akun tidak ditemukan.");const{error:n}=await Ne.auth.signInWithPassword({email:r,password:e.current_password});if(n)throw new Error("Password lama salah.");const{error:a}=await Ne.auth.updateUser({password:e.new_password});if(a)throw a;return e.sign_out_other?(await Ne.auth.signOut({scope:"global"}),{signed_out_other:!0}):{signed_out_other:!1}}catch(t){Pi("changePassword",t,"Tidak bisa mengganti password.")}}async function W3e(e){try{if(!e.new_password)throw new Error("Password baru wajib diisi.");if(e.new_password.length<6)throw new Error("Password baru minimal 6 karakter.");if(!!(await ul()).identities?.some(a=>a.provider==="email"))throw new Error("Password sudah tersedia untuk akun ini.");const{error:n}=await Ne.auth.updateUser({password:e.new_password});if(n)throw n;return e.sign_out_other?(await Ne.auth.signOut({scope:"global"}),{signed_out_other:!0}):{signed_out_other:!1}}catch(t){Pi("createPassword",t,"Tidak bisa membuat password.")}}function Y3e(e){if(!e)return"Perangkat tidak dikenal";const t=e.toLowerCase();return t.includes("iphone")?"iPhone":t.includes("ipad")?"iPad":t.includes("android")?"Android":t.includes("mac os")?"Mac":t.includes("windows")?"Windows":t.includes("linux")?"Linux":"Perangkat tidak dikenal"}async function X3e(){try{const{data:e,error:t}=await Ne.auth.getSession();if(t)throw t;const r=e.session;if(!r)return[];const n=typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:"",i=r.user?.user_metadata?.user_agent||n||null;return[{id:r.refresh_token??r.access_token??"current",created_at:r.user?.created_at??null,expires_at:r.expires_at?new Date(r.expires_at*1e3).toISOString():null,last_sign_in_at:r.user?.last_sign_in_at??null,ip_address:r.user?.user_metadata?.last_sign_in_ip??null,user_agent:i,label:Y3e(i),current:!0}]}catch(e){Pi("listSessions",e,"Tidak bisa memuat sesi.")}}async function J3e(e){try{if(!e){const{error:i}=await Ne.auth.signOut({scope:"global"});if(i)throw i;return}const{data:t,error:r}=await Ne.auth.getSession();if(r)throw r;const n=t.session?.refresh_token??t.session?.access_token;if(n&&e===n){const{error:i}=await Ne.auth.signOut({scope:"local"});if(i)throw i;return}const{error:a}=await Ne.auth.signOut({scope:"global"});if(a)throw a}catch(t){Pi("signOutSession",t,"Tidak bisa keluar dari sesi.")}}async function Z3e(e){try{const r=(await ul()).identities?.find(a=>a.provider===e);if(!r)throw new Error("Integrasi tidak ditemukan.");const{error:n}=await Ne.auth.unlinkIdentity({identityId:r.identity_id});if(n)throw n}catch(t){Pi("unlinkProvider",t,"Tidak bisa memutuskan sambungan.")}}async function eOe(){try{const e=await ul();try{const{error:t}=await Ne.functions.invoke("delete-account",{body:{user_id:e.id}});if(t)throw t;return await Ne.auth.signOut({scope:"global"}),{status:"success",message:"Permintaan hapus akun dikirim."}}catch(t){return d3("requestAccountDeletion:invoke",t),{status:"unavailable",message:"Hubungi tim dukungan untuk penghapusan akun. Belum ada otomatisasi tersedia."}}}catch(e){Pi("requestAccountDeletion",e,"Tidak bisa memproses hapus akun.")}}async function tOe(){try{const e=await ul(),t=["transactions","categories","goals","debts","subscriptions"],r={};for(const n of t){const{data:a,error:i}=await Ne.from(n).select("*").eq("user_id",e.id);if(i)throw i;r[n]=Array.isArray(a)?a:[]}return r}catch(e){Pi("exportUserData",e,"Tidak bisa mengekspor data.")}}function eH(e,t){const r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=e,n.rel="noopener",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}function zC(e){return e==null?'""':`"${(typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):JSON.stringify(e)).replace(/"/g,'""')}"`}function rOe(e){const t=[],r=Object.entries(e);if(r.length===0)return"";for(const[n,a]of r){const i=Array.isArray(a)?a:[],s=new Set;i.forEach(c=>{c&&typeof c=="object"&&Object.keys(c).forEach(A=>s.add(A))});const o=Array.from(s);if(t.push(["table",...o].join(",")),i.length===0){const c=[zC(n),...o.map(()=>'""')].join(",");t.push(c),t.push("");continue}i.forEach(c=>{const A=c,f=o.map(h=>zC(A?.[h]));t.push([zC(n),...f].join(","))}),t.push("")}return t.join(`
`)}function GC(e){if(typeof document>"u")return;const t=document.documentElement,r=typeof window<"u"&&window.matchMedia?.("(prefers-color-scheme: dark)").matches,n=e==="system"?r?"dark":"light":e;t.setAttribute("data-theme",n);try{const a=JSON.parse(localStorage.getItem("hwTheme")||"{}");localStorage.setItem("hwTheme",JSON.stringify({...a,mode:e}))}catch{}try{window.dispatchEvent(new CustomEvent("hematwoi:theme-mode-updated",{detail:e}))}catch{}}function tH(e){return e?!!e.identities?.some(t=>t.provider==="email"):!1}const nOe=[{key:"account",label:"Akun"},{key:"security",label:"Keamanan"},{key:"preferences",label:"Preferensi"},{key:"notifications",label:"Notifikasi"},{key:"privacy",label:"Privasi & Data"},{key:"integrations",label:"Integrasi"}];function aOe(){const t=!_G(),{addToast:r}=ci(),[n,a]=B.useState("account"),[i,s]=B.useState(!0),[o,c]=B.useState(""),[A,f]=B.useState(null),[h,p]=B.useState(null),[g,v]=B.useState([]),[b,x]=B.useState(!1),[w,S]=B.useState(!1),[N,k]=B.useState(!1),[C,T]=B.useState(!1),[O,D]=B.useState(!1),R=B.useCallback(async()=>{x(!0);try{const $=await X3e();v($)}finally{x(!1)}},[]);B.useEffect(()=>{let $=!0;return s(!0),c(""),(async()=>{try{const G=await Z7();if(!$)return;const ne=G.user??null;if(p(ne),D(tH(ne)),!ne){f(null),v([]),D(!1);return}const se=await $3e();if(!$)return;f(se),GC(se.theme);try{await R()}catch{}}catch(G){if(!$)return;c(G instanceof Error?G.message:"Tidak bisa memuat profil saat ini.")}finally{$&&s(!1)}})(),()=>{$=!1}},[R]),B.useEffect(()=>{D(tH(h))},[h]),B.useEffect(()=>{if(A)try{const G={...typeof window<"u"?window.__hw_prefs||{}:{},currency:A.currency,locale:A.locale,date_format:A.date_format,timezone:A.timezone,theme:A.theme};typeof window<"u"&&(window.__hw_prefs=G)}catch{}},[A]);const q=B.useMemo(()=>{const $=[{provider:"google",id:null,email:null,last_sign_in_at:null},{provider:"github",id:null,email:null,last_sign_in_at:null}];return h?$.map(G=>{const ne=h.identities?.find(se=>se.provider===G.provider);return ne?{provider:G.provider,id:ne.identity_id??null,email:ne.identity_data?.email?.toString?.()??h.email??null,last_sign_in_at:ne.last_sign_in_at??h.last_sign_in_at??null}:G}):$},[h]),U=B.useCallback(async $=>{const G=await q3e($);f(G),r("Profil berhasil diperbarui.","success")},[r]),I=B.useCallback(async $=>{const G=await K3e($);f(G),r("Avatar berhasil diperbarui.","success")},[r]),Q=B.useCallback(async $=>{k(!0);try{const G=await z3e($);f(G),$.theme&&GC($.theme);try{const se={...typeof window<"u"?window.__hw_prefs||{}:{},currency:G.currency,locale:G.locale,date_format:G.date_format,timezone:G.timezone,theme:G.theme};typeof window<"u"&&(window.__hw_prefs=se)}catch{}r("Preferensi berhasil disimpan.","success")}finally{k(!1)}},[r]),H=B.useCallback(async $=>{T(!0);try{const G=await G3e($);f(G),r("Pengaturan notifikasi diperbarui.","success")}finally{T(!1)}},[r]),Y=B.useCallback(async $=>{const G=await V3e($);r("Password berhasil diperbarui.","success"),$.sign_out_other&&G.signed_out_other&&r("Sesi lain telah keluar.","info")},[r]),K=B.useCallback(async $=>{const G=await W3e($);r("Password berhasil dibuat.","success"),D(!0),$.sign_out_other&&G.signed_out_other&&r("Sesi lain telah keluar.","info");try{const ne=await Z7();p(ne.user??null)}catch{}},[r]),J=B.useCallback(async $=>{await J3e($);try{await R()}catch{}r("Sesi berhasil ditutup.","success")},[r,R]),re=B.useCallback(async $=>{await Z3e($),p(G=>{if(!G)return G;const ne=G.identities?.filter(se=>se.provider!==$)??[];return{...G,identities:ne}}),r(`Sambungan ${$==="google"?"Google":"GitHub"} diputus.`,"success")},[r]),oe=B.useCallback(async $=>{S(!0);try{const G=await tOe();if($==="json"){const ne=new Blob([JSON.stringify(G,null,2)],{type:"application/json;charset=utf-8;"});eH("hematwoi-export.json",ne)}else{const ne=rOe(G),se=new Blob([ne],{type:"text/csv;charset=utf-8;"});eH("hematwoi-export.csv",se)}r("Ekspor data siap diunduh.","success")}finally{S(!1)}},[r]),V=B.useCallback(async()=>{const $=await eOe();return r($.message,$.status==="success"?"success":"info"),$},[r]),W=B.useCallback(async $=>await IW($),[]),P=()=>i?l.jsx("div",{className:"flex min-h-[320px] items-center justify-center",children:l.jsx(pr,{className:"h-6 w-6 animate-spin text-muted","aria-label":"Memuat profil"})}):o?l.jsx("div",{className:"rounded-3xl border border-danger/40 bg-danger/10 p-6 text-center text-sm text-danger",children:o}):h?A?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"sticky top-0 z-[5] -mx-4 mb-6 bg-surface/80 px-4 py-2 backdrop-blur md:-mx-6 md:px-6",children:l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:nOe.map($=>l.jsx("button",{type:"button",role:"tab",id:`profile-tab-${$.key}`,"aria-selected":n===$.key,"aria-controls":`profile-panel-${$.key}`,onClick:()=>a($.key),onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),a($.key))},className:`inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring-primary ${n===$.key?"bg-primary text-primary-foreground shadow-sm":"bg-surface-alt/70 text-muted hover:text-foreground"}`,children:$.label},$.key))})}),t?l.jsxs("div",{className:"mb-6 flex items-center gap-2 rounded-3xl border border-warning/50 bg-warning/10 px-4 py-3 text-sm text-warning",children:[l.jsx(Wte,{className:"h-4 w-4","aria-hidden":"true"})," Mode lokal  perubahan tidak dapat disimpan."]}):null,l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{role:"tabpanel",id:"profile-panel-account","aria-labelledby":"profile-tab-account",hidden:n!=="account",children:l.jsx(B3e,{profile:A,email:h?.email??null,offline:t,onSave:U,onUploadAvatar:I,onCheckUsername:W})}),l.jsx("div",{role:"tabpanel",id:"profile-panel-security","aria-labelledby":"profile-tab-security",hidden:n!=="security",children:l.jsx(S3e,{offline:t,sessions:g,loadingSessions:b,hasPassword:O,onRefreshSessions:R,onSignOutSession:J,onChangePassword:Y,onCreatePassword:K})}),l.jsx("div",{role:"tabpanel",id:"profile-panel-preferences","aria-labelledby":"profile-tab-preferences",hidden:n!=="preferences",children:l.jsx(O3e,{profile:A,offline:t,saving:N,onSave:Q,onPreviewTheme:GC})}),l.jsx("div",{role:"tabpanel",id:"profile-panel-notifications","aria-labelledby":"profile-tab-notifications",hidden:n!=="notifications",children:l.jsx(U3e,{notifications:A.notifications,offline:t,saving:C,onSave:H})}),l.jsx("div",{role:"tabpanel",id:"profile-panel-privacy","aria-labelledby":"profile-tab-privacy",hidden:n!=="privacy",children:l.jsx(L3e,{offline:t,exporting:w,onExport:oe,onDeleteAccount:V})}),l.jsx("div",{role:"tabpanel",id:"profile-panel-integrations","aria-labelledby":"profile-tab-integrations",hidden:n!=="integrations",children:l.jsx(P3e,{providers:q,offline:t,onDisconnect:re})})]})]}):null:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 rounded-3xl border border-border bg-surface-1 p-8 text-center",children:[l.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-muted/40 text-muted",children:l.jsx(D$,{className:"h-6 w-6","aria-hidden":"true"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-base font-semibold text-foreground",children:"Profil tamu aktif"}),l.jsx("p",{className:"max-w-md text-sm text-muted",children:"Kamu bisa menjelajahi seluruh fitur HematWoi sebagai tamu. Masuk untuk menyinkronkan data ke cloud dan mengatur preferensi akun pribadi kamu."})]}),l.jsx(Gw,{to:"/auth",className:"inline-flex items-center justify-center rounded-full bg-brand px-5 py-2 text-sm font-semibold text-brand-foreground shadow-sm transition hover:bg-brand/90",children:"Masuk ke akun"})]});return l.jsx(il,{children:l.jsxs("div",{className:"space-y-[var(--section-y)]",children:[l.jsx(fo,{title:"Profil",description:"Kelola akun & preferensi kamu dalam satu tempat."}),P()]})})}function rH({label:e,type:t="text",value:r,onChange:n,name:a,required:i,helper:s,error:o,...c}){const A=B.useId();return l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:A,name:a,type:t,value:r,onChange:n,placeholder:" ",required:i,"aria-invalid":!!o,...c,className:"peer min-h-[44px] w-full rounded-2xl border border-border-subtle bg-surface-alt px-3 pb-1 pt-4 text-sm text-text transition-colors placeholder:text-transparent focus-visible:border-border-strong focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/45 disabled:cursor-not-allowed disabled:opacity-60 read-only:bg-surface"}),l.jsx("label",{htmlFor:A,className:"pointer-events-none absolute left-3 top-2 text-xs font-medium text-muted transition-all peer-placeholder-shown:top-3 peer-placeholder-shown:text-sm peer-placeholder-shown:text-muted peer-focus:top-1.5 peer-focus:text-xs peer-focus:text-primary",children:e})]}),s?l.jsx("p",{className:"form-helper",children:s}):null,o?l.jsx("p",{className:"form-error flex items-center gap-1",children:o}):null]})}function iOe({label:e,options:t=[],value:r,onChange:n,placeholder:a="Pilih",helper:i,error:s,...o}){const c=B.useId();return l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:c,className:"form-label",children:e}),l.jsxs("select",{id:c,value:r,onChange:n,"aria-invalid":!!s,className:"form-control appearance-none pr-10",...o,children:[l.jsx("option",{value:"",disabled:!0,children:a}),t.map(A=>{const f=typeof A=="string"?A:A.value,h=typeof A=="string"?A:A.label;return l.jsx("option",{value:f,children:h},f)})]}),i?l.jsx("p",{className:"form-helper",children:i}):null,s?l.jsx("p",{className:"form-error flex items-center gap-1",children:s}):null]})}const sOe=[{value:"cash",label:"Tunai"},{value:"bank",label:"Bank"},{value:"ewallet",label:"E-Wallet"},{value:"other",label:"Lainnya"}];function oOe({open:e,mode:t,initialValues:r,busy:n=!1,error:a,onClose:i,onSubmit:s}){const[o,c]=B.useState(""),[A,f]=B.useState("cash"),[h,p]=B.useState("IDR"),[g,v]=B.useState(null),[b,x]=B.useState(!1);B.useEffect(()=>{e&&(c(r?.name??""),f(r?.type??"cash"),p(r?.currency??"IDR"),v(null),x(!1))},[e,r?.name,r?.type,r?.currency]),B.useEffect(()=>{a&&v(a)},[a]);const w=B.useMemo(()=>sOe,[]),S=t==="create"?"Tambah Akun":"Edit Akun",N=t==="create"?"Simpan":"Simpan perubahan",C=o.trim().length>0,T=b&&!C?"Nama akun wajib diisi.":null,O=async R=>{if(R.preventDefault(),n)return;const q=o.trim();if(!q){x(!0),v("Nama akun wajib diisi.");return}const U=h.trim()||"IDR";try{v(null),await s({name:q,type:A,currency:U})}catch(I){I instanceof Error&&I.message?v(I.message):v(typeof I=="string"?I:"Terjadi kesalahan saat menyimpan akun.")}},D=g&&g!==T?g:null;return l.jsx(s1,{open:e,title:S,onClose:i,children:l.jsxs("form",{onSubmit:O,className:"space-y-5",children:[l.jsx(rH,{label:"Nama akun",value:o,onChange:R=>{c(R.target.value),b||x(!0),g&&v(null)},onBlur:()=>x(!0),placeholder:"Nama akun",required:!0,error:T??void 0}),l.jsx(iOe,{label:"Tipe akun",value:A,onChange:R=>f(R.target.value),options:w,placeholder:"Pilih tipe akun"}),l.jsx(rH,{label:"Mata uang",value:h,onChange:R=>{p(R.target.value.toUpperCase()),g&&g==="Nama akun wajib diisi."&&v(null)},placeholder:"IDR",maxLength:10}),D?l.jsx("p",{className:"text-sm font-medium text-danger",children:D}):null,l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:i,disabled:n,children:"Batal"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!C,children:n?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):N})]})]})})}const lOe=["cash","bank","ewallet","other"];function m2(e){if(typeof e=="string"){const t=e.trim().toLowerCase();if(lOe.includes(t))return t}return"other"}function p2(e){if(typeof e=="string"){const t=e.trim();if(t)return t.toUpperCase()}return"IDR"}function f3(e){return{id:String(e.id),name:typeof e.name=="string"?e.name:"",type:m2(e.type),currency:p2(e.currency),created_at:e.created_at??null,sort_order:(()=>{if(typeof e.sort_order=="number"&&Number.isFinite(e.sort_order))return e.sort_order;if(e.sort_order===null||typeof e.sort_order>"u")return null;if(typeof e.sort_order=="string"){const t=Number.parseInt(e.sort_order,10);return Number.isFinite(t)?t:null}return null})(),user_id:e.user_id?String(e.user_id):void 0}}function Ly(e,t){if(e&&typeof e=="object"){const r=e;if(r.code==="23505")return"Nama akun sudah digunakan. Silakan gunakan nama lain.";if(r.code==="23502")return"Nama akun wajib diisi.";if(typeof r.message=="string"&&r.message.trim())return`${t.replace(/[:.]?$/,"")}: ${r.message}`;if(typeof r.details=="string"&&r.details.trim())return`${t.replace(/[:.]?$/,"")}: ${r.details}`}return typeof e=="string"&&e.trim()?e:t}async function cOe(e){const{data:t,error:r}=await Ne.from("accounts").select("id,name,type,currency,created_at,user_id,sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!0}).order("name",{ascending:!0});if(r)throw new Error(Ly(r,"Gagal memuat akun."));return(t??[]).map(n=>f3(n))}async function uOe(e,t){const r=typeof t.name=="string"?t.name.trim():"";if(!r)throw new Error("Nama akun wajib diisi.");const n={user_id:e,name:r,type:m2(t.type),currency:p2(t.currency),sort_order:typeof t.sort_order=="number"&&Number.isFinite(t.sort_order)?t.sort_order:void 0},{data:a,error:i}=await Ne.from("accounts").insert([n]).select("id,name,type,currency,created_at,user_id,sort_order").single();if(i)throw new Error(Ly(i,"Gagal menambah akun."));if(!a)throw new Error("Gagal menambah akun. Silakan coba lagi.");return f3(a)}async function AOe(e,t){if(!e)throw new Error("ID akun tidak valid.");const r={};if(t.name!==void 0){const i=typeof t.name=="string"?t.name.trim():"";if(!i)throw new Error("Nama akun wajib diisi.");r.name=i}if(t.type!==void 0&&(r.type=m2(t.type)),t.currency!==void 0&&(r.currency=p2(t.currency)),Object.keys(r).length===0)throw new Error("Tidak ada perubahan untuk disimpan.");const{data:n,error:a}=await Ne.from("accounts").update(r).eq("id",e).select("id,name,type,currency,created_at,user_id,sort_order").single();if(a)throw new Error(Ly(a,"Gagal memperbarui akun."));if(!n)throw new Error("Gagal memperbarui akun. Silakan coba lagi.");return f3(n)}async function nH(e,t){if(!e)throw new Error("ID pengguna tidak valid.");if(!Array.isArray(t)||t.length===0)return;const r=t.map((a,i)=>({id:a.id,user_id:e,sort_order:i,name:a.name,type:m2(a.type),currency:p2(a.currency)})),{error:n}=await Ne.from("accounts").upsert(r,{onConflict:"id"});if(n)throw new Error(Ly(n,"Gagal mengurutkan akun."))}async function dOe(e){if(!e)throw new Error("ID akun tidak valid.");const{error:t}=await Ne.from("accounts").delete().eq("id",e);if(t)throw new Error(Ly(t,"Gagal menghapus akun."))}const fOe={cash:"Tunai",bank:"Bank",ewallet:"E-Wallet",other:"Lainnya"},hOe=[{value:"all",label:"Semua"},{value:"cash",label:"Tunai"},{value:"bank",label:"Bank"},{value:"ewallet",label:"E-Wallet"},{value:"other",label:"Lainnya"}];function aH(e){return typeof e=="number"&&Number.isFinite(e)?e:Number.POSITIVE_INFINITY}function Hh(e){return[...e].sort((t,r)=>{const n=aH(t.sort_order),a=aH(r.sort_order);if(n!==a)return n-a;const i=t.created_at?new Date(t.created_at).getTime():Number.POSITIVE_INFINITY,s=r.created_at?new Date(r.created_at).getTime():Number.POSITIVE_INFINITY;return i!==s?i-s:(t.name||"").localeCompare(r.name||"","id",{sensitivity:"base"})})}function Td(e){return e.map((t,r)=>t.sort_order===r?t:{...t,sort_order:r})}function mOe(e){return e.reduce((t,r)=>{const n=typeof r.sort_order=="number"&&Number.isFinite(r.sort_order)?r.sort_order:-1;return Math.max(t,n)},-1)}function pOe(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?"-":new Intl.DateTimeFormat("id-ID",{dateStyle:"medium"}).format(t)}function gOe(){const{addToast:e}=ci(),{user:t,loading:r}=YT(),[n,a]=B.useState(!0),[i,s]=B.useState(null),[o,c]=B.useState([]),[A,f]=B.useState("all"),[h,p]=B.useState(!1),[g,v]=B.useState("create"),[b,x]=B.useState(!1),[w,S]=B.useState(null),[N,k]=B.useState(null),[C,T]=B.useState(null),[O,D]=B.useState(!1),R=A==="all",q=B.useCallback(async()=>{const G=t?.id??null;if(!G){c([]),a(!1),s(null);return}a(!0),s(null);try{const ne=await cOe(G);c(Td(Hh(ne)))}catch(ne){const se=ne instanceof Error?ne.message:"Gagal memuat akun. Silakan coba lagi.";s(se),e(se,"error")}finally{a(!1)}},[t,e]);B.useEffect(()=>{q()},[q]);const U=B.useMemo(()=>A==="all"?o:o.filter(G=>G.type===A),[o,A]),I=B.useMemo(()=>{if(g==="edit"&&N)return{name:N.name??"",type:N.type,currency:N.currency??"IDR"}},[g,N]),Q=B.useCallback(()=>{p(!1),S(null),k(null),v("create")},[]),H=B.useCallback(()=>{v("create"),k(null),S(null),p(!0)},[]),Y=B.useCallback(G=>{v("edit"),k(G),S(null),p(!0)},[]),K=B.useCallback(async G=>{x(!0),S(null);try{if(g==="edit"&&N){const ne=await AOe(N.id,G);c(se=>Td(Hh(se.map(ve=>ve.id===ne.id?ne:ve)))),e("Akun diperbarui","success")}else{if(!t?.id)throw new Error("Anda harus login untuk menambah akun.");const ne=mOe(o)+1,se=await uOe(t.id,{...G,sort_order:ne});c(ve=>Td(Hh([...ve,se]))),e("Akun ditambahkan","success")}Q()}catch(ne){const se=ne instanceof Error?ne.message:"Gagal menyimpan akun. Silakan coba lagi.";S(se)}finally{x(!1)}},[o,e,g,Q,N,t?.id]),J=B.useCallback(async(G,ne)=>{if(!t?.id){c(Td(Hh(ne)));return}D(!0);try{await nH(t.id,G)}catch(se){const ve=se instanceof Error?se.message:"Gagal mengurutkan akun. Silakan coba lagi.";c(Td(Hh(ne))),e(ve,"error")}finally{D(!1)}},[e,t?.id]),re=B.useCallback((G,ne)=>{O||!R||c(se=>{const ve=se.findIndex(ze=>ze.id===G);if(ve<0)return se;const he=ne==="up"?ve-1:ve+1;if(he<0||he>=se.length)return se;const fe=se,Qe=[...se],[$e]=Qe.splice(ve,1);Qe.splice(he,0,$e);const de=Td(Qe);return J(de,fe),de})},[R,J,O]),oe=B.useCallback(G=>{re(G,"up")},[re]),V=B.useCallback(G=>{re(G,"down")},[re]),W=B.useCallback(async G=>{const ne=`Hapus akun "${G.name||"Tanpa Nama"}"?`;if(typeof globalThis.confirm!="function"||globalThis.confirm(ne)){T(G.id);try{await dOe(G.id);let ve=null;if(c(he=>{const fe=he.filter($e=>$e.id!==G.id),Qe=Td(Hh(fe));return ve=Qe,Qe}),t?.id&&ve)try{await nH(t.id,ve)}catch(he){const fe=he instanceof Error?he.message:"Gagal memperbarui urutan akun setelah penghapusan.";e(fe,"error")}e("Akun dihapus","success")}catch(ve){const he=ve instanceof Error?ve.message:"Gagal menghapus akun. Silakan coba lagi.";e(he,"error")}finally{T(null)}}},[e,t?.id]),P=B.useCallback(()=>{b||Q()},[b,Q]),$=!!t?.id;return l.jsxs(il,{children:[l.jsx(fo,{title:"Akun",description:"Kelola daftar akun sumber transaksi Anda.",children:l.jsxs("button",{type:"button",className:"btn btn-primary",onClick:H,disabled:!$,children:[l.jsx(Jc,{className:"h-4 w-4"})," Tambah Akun"]})}),l.jsx(ao,{first:!0,children:l.jsxs(Vl,{children:[l.jsx(vf,{title:"Daftar Akun",subtext:"Tambah, ubah, atau hapus akun sesuai kebutuhan Anda."}),!r&&!$?l.jsx("div",{className:"mx-4 mb-4 rounded-lg border border-dashed border-border bg-surface-2/60 p-4 text-sm text-muted",children:"Masuk ke akun HematWoi untuk menyinkronkan dan mengelola daftar akun keuangan Anda."}):null,l.jsxs(Gc,{className:"space-y-5",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:hOe.map(G=>l.jsx("button",{type:"button",onClick:()=>f(G.value),className:tt("rounded-full border px-4 py-2 text-xs font-semibold transition-colors",A===G.value?"border-primary bg-primary/15 text-primary":"border-border-subtle text-muted hover:text-text"),children:G.label},G.value))}),n?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-16 text-muted",children:[l.jsx(pr,{className:"h-5 w-5 animate-spin"})," Memuat akun..."]}):i?l.jsxs("div",{className:"rounded-2xl border border-danger/20 bg-danger/5 p-5 text-sm text-danger",children:[l.jsx("p",{children:i}),l.jsx("button",{type:"button",className:"mt-3 btn btn-secondary",onClick:q,children:"Coba lagi"})]}):U.length===0?l.jsx("div",{className:"rounded-2xl border border-dashed border-border-subtle bg-surface-alt/40 px-5 py-12 text-center text-sm text-muted",children:o.length===0?"Belum ada akun. Tambah akun pertama Anda untuk mulai mencatat transaksi.":"Tidak ada akun yang sesuai dengan filter ini."}):l.jsx("ul",{className:"space-y-3",children:U.map((G,ne)=>{const se=ne===0,ve=ne===U.length-1;return l.jsx("li",{className:"rounded-3xl border border-border-subtle bg-surface-alt/60 p-5 shadow-sm transition-all hover:border-border-strong",children:l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate text-base font-semibold text-text",children:G.name||"Tanpa Nama"}),l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-muted",children:[l.jsx("span",{className:"badge-muted",children:fOe[G.type]}),l.jsx("span",{className:"rounded-full bg-surface px-3 py-1 font-medium text-text",children:G.currency||"IDR"}),l.jsxs("span",{className:"flex items-center gap-1",children:["Dibuat ",pOe(G.created_at)]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[R?l.jsxs("div",{className:"mr-2 flex items-center gap-1",children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>oe(G.id),disabled:O||C===G.id||se,"aria-label":"Naikkan urutan",children:l.jsx(Xh,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>V(G.id),disabled:O||C===G.id||ve,"aria-label":"Turunkan urutan",children:l.jsx(Yh,{className:"h-4 w-4"})})]}):null,l.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>Y(G),disabled:b||C===G.id,children:[l.jsx(tl,{className:"h-4 w-4"})," Edit"]}),l.jsxs("button",{type:"button",className:"btn btn-danger",onClick:()=>W(G),disabled:C===G.id,children:[C===G.id?l.jsx(pr,{className:"h-4 w-4 animate-spin"}):l.jsx(In,{className:"h-4 w-4"}),"Hapus"]})]})]})},G.id)})})]})]})}),l.jsx(oOe,{open:h,mode:g,busy:b,error:w,initialValues:I,onClose:P,onSubmit:K})]})}const iH={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5xcWNoY3JxdHR4Z3l5cWpmcXF1Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Nzg2MDY3MiwiZXhwIjoyMDczNDM2NjcyfQ.q7-rLPTeT3EbniUEmzpBI5SDRfv6EbsHC03W7Elk-Xw",VITE_SUPABASE_URL:"https://nqqchcrqttxgyyqjfqqu.supabase.co"};var sH={};const UW="https://www.hemat-woi.me",FW="/native-google-login",bOe=`${UW}${FW}`,yOe=typeof import.meta<"u"&&iH?iH:{},vOe=typeof process<"u"&&sH?sH:{};function xOe(e){return yOe?.[e]??vOe?.[e]}function wOe(){return typeof window<"u"&&window.location?.origin?window.location.origin:UW}function _Oe(e,t){const r=e?.trim();if(!r)return t;if(/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(r))return r;try{const a=wOe();return new URL(r,a).toString()}catch(a){return console.warn("Failed to construct native Google login URL for",r,"falling back to",t,a),t}}function My(e){const t=xOe("VITE_NATIVE_GOOGLE_LOGIN_URL");return _Oe(e??t??FW,bOe)}My();function J4(e){if(typeof window>"u")return;const t=My(e);try{window.location.replace(t)}catch{window.location.href=t}}function BOe(){return typeof navigator>"u"?!1:(navigator.userAgent??"").toLowerCase().includes("hematwoi")?!0:(Array.isArray(navigator.userAgentData?.brands)?navigator.userAgentData?.brands??[]:[]).some(({brand:n})=>typeof n=="string"&&/hematwoi/i.test(n))}const oH={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5xcWNoY3JxdHR4Z3l5cWpmcXF1Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Nzg2MDY3MiwiZXhwIjoyMDczNDM2NjcyfQ.q7-rLPTeT3EbniUEmzpBI5SDRfv6EbsHC03W7Elk-Xw",VITE_SUPABASE_URL:"https://nqqchcrqttxgyyqjfqqu.supabase.co"};var lH={};const DW="https://www.hemat-woi.me",LW="/auth/google",SOe=`${DW}${LW}`;My();const NOe=typeof import.meta<"u"&&oH?oH:{},COe=typeof process<"u"&&lH?lH:{};function jOe(e){return NOe?.[e]??COe?.[e]}function kOe(){return typeof window<"u"&&window.location?.origin?window.location.origin:DW}function EOe(e,t){const r=e?.trim();if(!r)return t;if(/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(r))return r;try{const a=kOe();return new URL(r,a).toString()}catch(a){return console.warn("Failed to construct URL for",r,"falling back to",t,a),t}}function TOe(e,t,r,n){const a=jOe(t);return EOe(e??a??r,n)}function OOe({text:e="Login dengan Google",nativeTriggerUrl:t,webLoginUrl:r,onWebLogin:n,children:a,...i}){const s=My(t),o=TOe(r,"VITE_GOOGLE_WEB_LOGIN_URL",LW,SOe),c=async A=>{if(BOe()){typeof window<"u"&&(window.location.href=s);return}if(n){await n(A);return}typeof window<"u"&&(window.location.href=o)};return l.jsx("button",{type:"button",...i,onClick:c,children:a??e})}/*! Capacitor: https://capacitorjs.com/ - MIT License */const IOe=e=>{const t=new Map;t.set("web",{name:"web"});const r=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},n=(i,s)=>{r.platforms.set(i,s)},a=i=>{r.platforms.has(i)&&(r.currentPlatform=r.platforms.get(i))};return r.addPlatform=n,r.setPlatform=a,r},UOe=e=>e.CapacitorPlatforms=IOe(e),MW=UOe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});MW.addPlatform;MW.setPlatform;var ap;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(ap||(ap={}));class _m extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const FOe=e=>{var t,r;return e?.androidBridge?"android":!((r=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},DOe=e=>{var t,r,n,a,i;const s=e.CapacitorCustomPlatform||null,o=e.Capacitor||{},c=o.Plugins=o.Plugins||{},A=e.CapacitorPlatforms,f=()=>s!==null?s.name:FOe(e),h=((t=A?.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||f,p=()=>h()!=="web",g=((r=A?.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||p,v=O=>{const D=k.get(O);return!!(D?.platforms.has(h())||w(O))},b=((n=A?.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||v,x=O=>{var D;return(D=o.PluginHeaders)===null||D===void 0?void 0:D.find(R=>R.name===O)},w=((a=A?.currentPlatform)===null||a===void 0?void 0:a.getPluginHeader)||x,S=O=>e.console.error(O),N=(O,D,R)=>Promise.reject(`${R} does not have an implementation of "${D}".`),k=new Map,C=(O,D={})=>{const R=k.get(O);if(R)return console.warn(`Capacitor plugin "${O}" already registered. Cannot register plugins twice.`),R.proxy;const q=h(),U=w(O);let I;const Q=async()=>(!I&&q in D?I=typeof D[q]=="function"?I=await D[q]():I=D[q]:s!==null&&!I&&"web"in D&&(I=typeof D.web=="function"?I=await D.web():I=D.web),I),H=(V,W)=>{var P,$;if(U){const G=U?.methods.find(ne=>W===ne.name);if(G)return G.rtype==="promise"?ne=>o.nativePromise(O,W.toString(),ne):(ne,se)=>o.nativeCallback(O,W.toString(),ne,se);if(V)return(P=V[W])===null||P===void 0?void 0:P.bind(V)}else{if(V)return($=V[W])===null||$===void 0?void 0:$.bind(V);throw new _m(`"${O}" plugin is not implemented on ${q}`,ap.Unimplemented)}},Y=V=>{let W;const P=(...$)=>{const G=Q().then(ne=>{const se=H(ne,V);if(se){const ve=se(...$);return W=ve?.remove,ve}else throw new _m(`"${O}.${V}()" is not implemented on ${q}`,ap.Unimplemented)});return V==="addListener"&&(G.remove=async()=>W()),G};return P.toString=()=>`${V.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:V,writable:!1,configurable:!1}),P},K=Y("addListener"),J=Y("removeListener"),re=(V,W)=>{const P=K({eventName:V},W),$=async()=>{const ne=await P;J({eventName:V,callbackId:ne},W)},G=new Promise(ne=>P.then(()=>ne({remove:$})));return G.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await $()},G},oe=new Proxy({},{get(V,W){switch(W){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return U?re:K;case"removeListener":return J;default:return Y(W)}}});return c[O]=oe,k.set(O,{name:O,proxy:oe,platforms:new Set([...Object.keys(D),...U?[q]:[]])}),oe},T=((i=A?.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||C;return o.convertFileSrc||(o.convertFileSrc=O=>O),o.getPlatform=h,o.handleError=S,o.isNativePlatform=g,o.isPluginAvailable=b,o.pluginMethodNoop=N,o.registerPlugin=T,o.Exception=_m,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},LOe=e=>e.Capacitor=DOe(e),bf=LOe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),qA=bf.registerPlugin;bf.Plugins;class h3{constructor(t){this.listeners={},this.retainedEventArguments={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(t);const s=async()=>this.removeListener(t,r);return Promise.resolve({remove:s})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const a=this.listeners[t];if(!a){if(n){let i=this.retainedEventArguments[t];i||(i=[]),i.push(r),this.retainedEventArguments[t]=i}return}a.forEach(i=>i(r))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new bf.Exception(t,ap.Unimplemented)}unavailable(t="not available"){return new bf.Exception(t,ap.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const a=n.indexOf(r);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const cH=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),uH=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class MOe extends h3{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[a,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=uH(a).trim(),i=uH(i).trim(),r[a]=i}),r}async setCookie(t){try{const r=cH(t.key),n=cH(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),s=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${a}; path=${i}; ${s};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}qA("CapacitorCookies",{web:()=>new MOe});const POe=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>r(a),n.readAsDataURL(e)}),QOe=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,i,s)=>(a[i]=e[t[s]],a),{})},ROe=(e,t=!0)=>e?Object.entries(e).reduce((n,a)=>{const[i,s]=a;let o,c;return Array.isArray(s)?(c="",s.forEach(A=>{o=t?encodeURIComponent(A):A,c+=`${i}=${o}&`}),c.slice(0,-1)):(o=t?encodeURIComponent(s):s,c=`${i}=${o}`),`${n}&${c}`},"").substr(1):null,HOe=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),a=QOe(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[s,o]of Object.entries(e.data||{}))i.set(s,o);r.body=i.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((o,c)=>{i.append(c,o)});else for(const o of Object.keys(e.data))i.append(o,e.data[o]);r.body=i;const s=new Headers(r.headers);s.delete("content-type"),r.headers=s}else(a.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class $Oe extends h3{async request(t){const r=HOe(t,t.webFetchExtra),n=ROe(t.params,t.shouldEncodeUrlParams),a=n?`${t.url}?${n}`:t.url,i=await fetch(a,r),s=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?t:{};s.includes("application/json")&&(o="json");let c,A;switch(o){case"arraybuffer":case"blob":A=await i.blob(),c=await POe(A);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const f={};return i.headers.forEach((h,p)=>{f[p]=h}),{data:c,headers:f,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}qA("CapacitorHttp",{web:()=>new $Oe});const Z4=qA("App",{web:()=>Cs(()=>import("./web-BaKiVjRH.js"),[]).then(e=>new e.AppWeb)}),Ay=qA("Preferences",{web:()=>Cs(()=>import("./web-nro5FXBf.js"),[]).then(e=>new e.PreferencesWeb)});var AH;(function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"})(AH||(AH={}));qA("LocalNotifications",{web:()=>Cs(()=>import("./web-LkL-wXHI.js"),[]).then(e=>new e.LocalNotificationsWeb)});var sm;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(sm||(sm={}));var pb;(function(e){e.Rear="REAR",e.Front="FRONT"})(pb||(pb={}));var dH;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(dH||(dH={}));class PW extends h3{async getPhoto(t){return new Promise(async(r,n)=>{if(t.webUseInput||t.source===sm.Photos)this.fileInputExperience(t,r,n);else if(t.source===sm.Prompt){let a=document.querySelector("pwa-action-sheet");a||(a=document.createElement("pwa-action-sheet"),document.body.appendChild(a)),a.header=t.promptLabelHeader||"Photo",a.cancelable=!1,a.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],a.addEventListener("onSelection",async i=>{i.detail===0?this.fileInputExperience(t,r,n):this.cameraExperience(t,r,n)})}else this.cameraExperience(t,r,n)})}async pickImages(t){return new Promise(async(r,n)=>{this.multipleFileInputExperience(r,n)})}async cameraExperience(t,r,n){if(customElements.get("pwa-camera-modal")){const a=document.createElement("pwa-camera-modal");a.facingMode=t.direction===pb.Front?"user":"environment",document.body.appendChild(a);try{await a.componentOnReady(),a.addEventListener("onPhoto",async i=>{const s=i.detail;s===null?n(new _m("User cancelled photos app")):s instanceof Error?n(s):r(await this._getCameraPhoto(s,t)),a.dismiss(),document.body.removeChild(a)}),a.present()}catch{this.fileInputExperience(t,r,n)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,r,n)}fileInputExperience(t,r,n){let a=document.querySelector("#_capacitor-camera-input");const i=()=>{var s;(s=a.parentNode)===null||s===void 0||s.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input",a.type="file",a.hidden=!0,document.body.appendChild(a),a.addEventListener("change",s=>{const o=a.files[0];let c="jpeg";if(o.type==="image/png"?c="png":o.type==="image/gif"&&(c="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const A=new FileReader;A.addEventListener("load",()=>{if(t.resultType==="dataUrl")r({dataUrl:A.result,format:c});else if(t.resultType==="base64"){const f=A.result.split(",")[1];r({base64String:f,format:c})}i()}),A.readAsDataURL(o)}else r({webPath:URL.createObjectURL(o),format:c}),i()}),a.addEventListener("cancel",s=>{n(new _m("User cancelled photos app")),i()})),a.accept="image/*",a.capture=!0,t.source===sm.Photos||t.source===sm.Prompt?a.removeAttribute("capture"):t.direction===pb.Front?a.capture="user":t.direction===pb.Rear&&(a.capture="environment"),a.click()}multipleFileInputExperience(t,r){let n=document.querySelector("#_capacitor-camera-input-multiple");const a=()=>{var i;(i=n.parentNode)===null||i===void 0||i.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input-multiple",n.type="file",n.hidden=!0,n.multiple=!0,document.body.appendChild(n),n.addEventListener("change",i=>{const s=[];for(let o=0;o<n.files.length;o++){const c=n.files[o];let A="jpeg";c.type==="image/png"?A="png":c.type==="image/gif"&&(A="gif"),s.push({webPath:URL.createObjectURL(c),format:A})}t({photos:s}),a()}),n.addEventListener("cancel",i=>{r(new _m("User cancelled photos app")),a()})),n.accept="image/*",n.click()}_getCameraPhoto(t,r){return new Promise((n,a)=>{const i=new FileReader,s=t.type.split("/")[1];r.resultType==="uri"?n({webPath:URL.createObjectURL(t),format:s,saved:!1}):(i.readAsDataURL(t),i.onloadend=()=>{const o=i.result;r.resultType==="dataUrl"?n({dataUrl:o,format:s,saved:!1}):n({base64String:o.split(",")[1],format:s,saved:!1})},i.onerror=o=>{a(o)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}new PW;qA("Camera",{web:()=>new PW});var fH;(function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"})(fH||(fH={}));var hH;(function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"})(hH||(hH={}));qA("Filesystem",{web:()=>Cs(()=>import("./web-Bo0Q3fiT.js"),[]).then(e=>new e.FilesystemWeb)});const QW="hematwoi:native:ui",mH="hematwoi:native:last-user",qOe="hematwoi:native:accent";let pH=null,gH=!1;const eE=new Set;let Q0=null;function ts(){return bf.isNativePlatform()}function KOe(){return bf.getPlatform()==="android"}function zOe(){return bf.getPlatform()==="ios"}async function GOe(){if(typeof window>"u"||!ts())return;const e=await RW();if(e){const{theme:t,brand:r,accentKey:n,lastUserId:a}=e;if(t||r){const s={...yH("hwTheme"),...t?{mode:t}:{},...r?{brand:r}:{}};vH("hwTheme",s),ZOe(s.mode??"system",s.brand??void 0)}if(n){const i=yH("hematwoi:v3:prefs");vH("hematwoi:v3:prefs",{...i,accent:n})}if(a)try{window.localStorage.setItem("hw:lastUserId",a)}catch(i){console.warn("Gagal menyimpan last user id ke localStorage",i)}}}async function VOe(e){ts()&&await Rw({theme:e})}async function WOe(e,t){ts()&&(await Rw({brand:e,accentKey:t??null}),t&&await Ay.set({key:qOe,value:t}))}async function Qw(e){ts()&&(e?(await Ay.set({key:mH,value:e}),await Rw({lastUserId:e})):(await Ay.remove({key:mH}),await Rw({lastUserId:null})))}function YOe(e){return eE.add(e),JOe(),()=>{eE.delete(e)}}async function XOe(){if(!ts())return null;try{return(await Z4.getLaunchUrl())?.url??null}catch(e){return console.warn("Gagal membaca launch url",e),null}}async function JOe(){if(ts()){if(Q0){await Q0;return}Q0=(async()=>{if(!pH)try{pH=await Z4.addListener("appUrlOpen",e=>{const t=e?.url;t&&bH(t)})}catch(e){console.error("Gagal menambahkan listener appUrlOpen",e)}if(!gH){gH=!0;const e=await Z4.getLaunchUrl();e?.url&&await bH(e.url)}})(),await Q0}}async function bH(e){for(const t of Array.from(eE))try{if(await t(e))return}catch(r){console.error("Handler deeplink native gagal",r)}}async function Rw(e){const r={...await RW(),...e};await Ay.set({key:QW,value:JSON.stringify(r)})}async function RW(){try{const e=await Ay.get({key:QW});return e.value?JSON.parse(e.value):null}catch(e){return console.warn("Gagal membaca native UI state",e),null}}function yH(e){if(typeof window>"u")return{};try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):{}}catch{return{}}}function vH(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.warn("Gagal menulis localStorage",r)}}function ZOe(e,t){if(typeof document>"u")return;const r=document.documentElement,n=typeof e=="string"?e:"system",a=t&&typeof t=="object"?t:void 0,i=typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1,s=n==="system"?i?"dark":"light":n;if(r.setAttribute("data-theme",s),!a)return;const o=(g,v,b)=>Math.min(b,Math.max(v,g)),c=o(a.l+(s==="dark"?6:-7),s==="dark"?18:8,s==="dark"?96:92),A=o(a.l+(s==="dark"?10:-12),s==="dark"?15:6,s==="dark"?98:88),f=o(s==="dark"?a.l/2:a.l+32,s==="dark"?18:70,s==="dark"?42:96),h=o(a.l+(s==="dark"?4:-14),0,100),p=a.l>65;r.style.setProperty("--brand-h",String(a.h)),r.style.setProperty("--brand-s",`${a.s}%`),r.style.setProperty("--brand-l",`${a.l}%`),r.style.setProperty("--brand",`hsl(${a.h} ${a.s}% ${a.l}%)`),r.style.setProperty("--color-primary-hover",`${a.h} ${a.s}% ${c}%`),r.style.setProperty("--color-primary-active",`${a.h} ${a.s}% ${A}%`),r.style.setProperty("--color-primary-soft",`${a.h} ${a.s}% ${f}%`),r.style.setProperty("--brand-soft",`hsl(${a.h} ${a.s}% ${f}%)`),r.style.setProperty("--brand-ring",`hsl(${a.h} ${a.s}% ${h}%)`),r.style.setProperty("--color-primary-foreground",p?"0 0% 10%":"0 0% 100%"),r.style.setProperty("--brand-foreground",p?"#0b1220":"#ffffff")}const HW=qA("GoogleAuth",{web:()=>Cs(()=>import("./web-Ciezfzo1.js"),[]).then(e=>new e.GoogleAuthWeb)}),eIe={};var tIe={};const Hw=typeof import.meta<"u"?eIe??{}:{},$w=typeof process<"u"?tIe??{}:{},VC=Hw.VITE_GOOGLE_WEB_CLIENT_ID??Hw.VITE_GOOGLE_CLIENT_ID??$w.VITE_GOOGLE_WEB_CLIENT_ID??$w.VITE_GOOGLE_CLIENT_ID??"",rIe=Hw.VITE_GOOGLE_IOS_CLIENT_ID??$w.VITE_GOOGLE_IOS_CLIENT_ID,nIe=Hw.VITE_GOOGLE_ANDROID_CLIENT_ID??$w.VITE_GOOGLE_ANDROID_CLIENT_ID,aIe="hematwoi:",iIe="auth",sIe="/callback";let xH=!1,Mg=null;async function oIe(){if(ts()&&!xH){if(Mg){await Mg;return}Mg=(async()=>{const e=lIe();if(!e)throw new Error("Google client ID belum dikonfigurasi untuk platform ini.");try{HW.initialize({clientId:e,scopes:["profile","email","openid"],grantOfflineAccess:!0}),xH=!0}catch(t){throw console.error("Gagal menginisialisasi GoogleAuth native",t),t}})();try{await Mg}finally{Mg=null}}}function lIe(){return zOe()?rIe??VC:KOe()?nIe??VC:VC}async function cIe(){if(!ts())throw new Error("Login Google native hanya tersedia di aplikasi mobile.");await oIe();let e=null;try{e=await HW.signIn()}catch(a){throw new Error(AIe(a))}const t=e?.authentication?.idToken??e?.authentication?.accessToken??e?.serverAuthCode;if(!t)throw new Error("Google tidak mengembalikan id_token. Pastikan konfigurasi SHA-1 dan OAuth benar.");const{data:r,error:n}=await Ne.auth.signInWithIdToken({provider:"google",token:t});if(n)throw new Error(`Supabase menolak sesi Google: ${n.message}`);return r?.user?.id&&await Qw(r.user.id),r}function uIe(e){const t=async r=>{const n=await wH(r);return n.handled?(e?.(n),!0):!1};return XOe().then(r=>{r&&wH(r).then(n=>{n.handled&&e?.(n)})}),YOe(t)}async function wH(e){if(!e)return{handled:!1};let t;try{t=new URL(e)}catch{return{handled:!1}}if(t.protocol!==aIe)return{handled:!1};if(t.hostname!==iIe)return{handled:!1};if(t.pathname!==sIe)return{handled:!1};const r=t.searchParams,n=r.get("error");if(n)return{handled:!0,success:!1,errorMessage:decodeURIComponent(n),redirectPath:r.get("redirect")??"/"};const a=r.get("id_token");if(a)try{const o=await Ne.auth.signInWithIdToken({provider:"google",token:a});return o.error?{handled:!0,success:!1,errorMessage:o.error.message}:(o.data?.user?.id&&await Qw(o.data.user.id),{handled:!0,success:!0,response:o.data,redirectPath:r.get("redirect")??"/"})}catch(o){return{handled:!0,success:!1,errorMessage:`Gagal memvalidasi id_token: ${o?.message??o}`}}const i=r.get("code"),s=r.get("code_verifier");if(i)try{const o=await Ne.auth.exchangeCodeForSession({code:i,codeVerifier:s??void 0});return o.error?{handled:!0,success:!1,errorMessage:o.error.message}:(o.data?.user?.id&&await Qw(o.data.user.id),{handled:!0,success:!0,response:o.data,redirectPath:r.get("redirect")??"/"})}catch(o){return{handled:!0,success:!1,errorMessage:`Pertukaran kode Supabase gagal: ${o?.message??o}`}}return{handled:!0,success:!1,errorMessage:"Callback tidak memiliki kode ataupun id_token."}}function AIe(e){return e?typeof e=="string"?_H(e):e instanceof Error?_H(e.message):"Terjadi kesalahan saat menghubungkan ke Google.":"Proses login Google dibatalkan."}function _H(e){return/12501/.test(e)||/canceled/i.test(e)?"Login Google dibatalkan oleh pengguna.":/DEVELOPER_ERROR/.test(e)?"Konfigurasi Google Sign-In belum benar. Pastikan SHA-1/SHA-256 dan OAuth Client ID sudah cocok.":/SIGN_IN_FAILED/.test(e)?"Google Sign-In gagal. Periksa koneksi internet dan kredensial OAuth.":e}function dIe({text:e="Login dengan Google (Native)",onNativeSuccess:t,onNativeError:r,onWebLogin:n,nativeTriggerUrl:a,webLoginUrl:i,children:s,disabled:o,...c}){const[A,f]=B.useState(!1),[h,p]=B.useState(null),g=B.useCallback(async()=>{if(ts()){p(null),f(!0);try{const v=await cIe();t?.(v)}catch(v){const b=v?.message??"Gagal login dengan Google.";p(b),r?.(b)}finally{f(!1)}}},[r,t]);return ts()?l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{type:"button",...c,disabled:o||A,onClick:g,className:c.className??"inline-flex h-11 w-full items-center justify-center gap-2 rounded-2xl bg-[var(--accent)] px-4 text-sm font-semibold text-slate-950 shadow transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]/60 disabled:cursor-not-allowed disabled:opacity-70",children:s??(A?"Menghubungkan":e)}),h?l.jsx("p",{className:"text-sm text-danger",role:"alert",children:h}):null]}):l.jsx(OOe,{nativeTriggerUrl:a,webLoginUrl:i,onWebLogin:n,...c,children:s??e.replace(" (Native)","")})}const fIe={},cA=typeof import.meta<"u"?fIe??{}:{},R0=typeof cA.VITE_SUPABASE_REDIRECT_URL=="string"&&cA.VITE_SUPABASE_REDIRECT_URL||typeof cA.VITE_APP_URL=="string"&&cA.VITE_APP_URL||typeof cA.VITE_PUBLIC_SITE_URL=="string"&&cA.VITE_PUBLIC_SITE_URL||(typeof window<"u"?window.location.origin:""),hIe=typeof cA.VITE_SUPABASE_RESET_REDIRECT=="string"&&cA.VITE_SUPABASE_RESET_REDIRECT||"",mIe="Terjadi kesalahan. Silakan coba lagi.";function pIe(e="/"){if(!(!R0&&!e))try{return e?.startsWith("http")||!R0?e:new URL(e??"/",R0).toString()}catch{return R0||e}}const BH={invalid_credentials:"Email/username atau kata sandi salah.",invalid_grant:"Email/username atau kata sandi salah.",invalid_login_credentials:"Email/username atau kata sandi salah.",email_not_confirmed:"Email belum terverifikasi. Periksa kotak masuk kamu.",user_not_found:"Akun dengan email tersebut tidak ditemukan.",provider_disabled:"Metode masuk ini sedang tidak tersedia.",otp_expired:"Kode OTP sudah kedaluwarsa. Kirim ulang tautan.",otp_incorrect:"Kode OTP tidak valid. Coba lagi.",over_request_rate_limit:"Terlalu banyak percobaan. Coba lagi beberapa saat.",rate_limit_exceeded:"Terlalu banyak percobaan. Coba lagi beberapa saat.",session_not_found:"Sesi tidak ditemukan. Silakan kirim ulang tautan."};function SH(e,t){if(e){const n=e.toLowerCase();if(BH[n])return BH[n]}if(!t)return null;const r=t.toLowerCase();return r.includes("invalid login")?"Email/username atau kata sandi salah.":r.includes("password")&&r.includes("6")?"Kata sandi minimal 6 karakter.":r.includes("network")||r.includes("fetch")||r.includes("connection")?"Periksa koneksi internet.":r.includes("otp")&&r.includes("expired")?"Kode OTP sudah kedaluwarsa. Kirim ulang tautan.":r.includes("otp")&&r.includes("invalid")?"Kode OTP tidak valid. Coba lagi.":r.includes("email not found")||r.includes("user not found")?"Akun dengan email tersebut tidak ditemukan.":r.includes("already registered")?"Email ini sudah terdaftar. Silakan masuk.":r.includes("too many requests")?"Terlalu banyak percobaan. Coba lagi beberapa saat.":null}function m3(e,t=mIe){let r,n=t;if(typeof e=="string")n=SH(void 0,e)??e??t;else if(e&&typeof e=="object"){const i=e;r=i.code??void 0,n=SH(i.code??void 0,i.message??void 0)??i.message??t}const a=new Error(n??t);return r&&(a.code=r),a}function gIe(e){const t=typeof e=="string"?e:e&&typeof e=="object"&&"message"in e&&typeof e.message=="string"?String(e.message):"";if(!t)return!1;const r=t.toLowerCase();return r.includes("network")||r.includes("fetch")||r.includes("connection")||r.includes("timeout")}async function bIe(e){const t=e.trim();if(!t)return null;try{const{data:r,error:n}=await Ne.rpc("resolve_email_by_username",{username_input:t});if(n)throw n;return r&&typeof r=="string"&&r.trim().toLowerCase()||null}catch(r){throw gIe(r)?new Error("Periksa koneksi internet."):new Error("Username atau email tidak ditemukan.")}}async function yIe(){try{const{data:e,error:t}=await Ne.auth.getSession();if(t)throw t;return e.session}catch(e){throw m3(e,"Tidak dapat memeriksa sesi. Coba lagi.")}}async function vIe(e){try{const{data:t,error:r}=await Ne.auth.signInWithPassword(e);if(r)throw r;return t}catch(t){throw m3(t,"Email/username atau kata sandi salah.")}}async function xIe(e){try{const t=hIe||pIe("/auth/update-password")||void 0,{data:r,error:n}=await Ne.auth.resetPasswordForEmail(e,{redirectTo:t});if(n)throw n;return r}catch(t){throw m3(t,"Gagal mengirim tautan reset kata sandi.")}}function wIe(e){return Ne.auth.onAuthStateChange(e)}const WC=6,_Ie=/^[A-Za-z0-9_]{3,30}$/,NH="Terjadi kesalahan. Silakan coba lagi nanti.";function CH(e){return e.trim()}function jH(e){return e.includes("@")}function kH(e){return _Ie.test(e)}function tE(e){return e.trim().toLowerCase()}function YC(e){const t=tE(e);return t?/[^\s@]+@[^\s@]+\.[^\s@]+/.test(t):!1}function $W({label:e,error:t,hint:r,trailing:n=null,id:a,...i}){const s=B.useId(),o=a??s,c=t?`${o}-error`:void 0,A=r?`${o}-hint`:void 0,f=[A,c].filter(Boolean).join(" ")||void 0,h=!!n;return l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:o,className:"text-sm font-medium text-text",children:e}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:o,...i,"aria-invalid":!!t,"aria-describedby":f,className:tt("h-11 w-full rounded-2xl border border-border-subtle bg-surface-alt px-3 text-sm text-text placeholder:text-muted transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/45 disabled:cursor-not-allowed disabled:opacity-60",h?"pr-12":"pr-3")}),n?l.jsx("div",{className:"pointer-events-auto absolute inset-y-0 right-3 flex items-center",children:n}):null]}),r?l.jsx("p",{id:A,className:"text-xs text-muted","aria-live":"polite",children:r}):null,t?l.jsx("p",{id:c,className:"text-xs font-medium text-danger","aria-live":"polite",children:t}):null]})}function BIe({error:e,hint:t,...r}){const[n,a]=B.useState(!1);return l.jsx($W,{...r,type:n?"text":"password",autoComplete:r.autoComplete??"current-password",error:e,hint:t,trailing:l.jsxs("button",{type:"button",onClick:()=>a(i=>!i),className:"rounded-full p-1 text-muted transition hover:text-text focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/45",children:[l.jsx("span",{className:"sr-only",children:n?"Sembunyikan kata sandi":"Tampilkan kata sandi"}),n?l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24","aria-hidden":"true",children:l.jsx("path",{fill:"currentColor",d:"M12 5c-7 0-11 7-11 7s2.3 4.2 6.6 6l-2 2 1.4 1.4 3-3c.6.1 1.2.1 1.9.1 7 0 11-7 11-7s-1.2-2.2-3.5-4.2l2.1-2.1L19.6 4 16 7.6C14.6 6.6 13.2 6 12 6zm0 2c1.8 0 3.5.8 5 2.1 1 .8 1.7 1.7 2.1 2.3-.7 1-3.6 4.6-7.1 4.6-.5 0-1-.1-1.6-.2l1.9-1.9c.5-.4.8-.9.8-1.4 0-1.1-.9-2-2-2-.5 0-1 .2-1.4.6l-2.7 2.7C5.7 13.3 4.2 11 4.2 11S7 8 12 8z"})}):l.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24","aria-hidden":"true",children:l.jsx("path",{fill:"currentColor",d:"M12 5c7 0 11 7 11 7s-4 7-11 7S1 12 1 12s4-7 11-7zm0 2C7 7 4.1 10.7 3.2 12c.8 1.3 3.7 5 8.8 5s8-3.7 8.8-5c-.8-1.3-3.7-5-8.8-5zm0 3a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})})]})})}function SIe({defaultIdentifier:e="",onSuccess:t,onPasswordSignInStart:r,onPasswordSignInError:n}){const[a,i]=B.useState("login"),[s,o]=B.useState(e),[c,A]=B.useState(""),[f,h]=B.useState(()=>!!e),[p,g]=B.useState(null),[v,b]=B.useState(null),[x,w]=B.useState(null),[S,N]=B.useState(!1),k=B.useRef(0);B.useEffect(()=>{o(e),e&&h(!0)},[e]);const C=()=>{b(null),w(null)},T=(U,I)=>{try{I?localStorage.setItem("hw:lastEmail",U):localStorage.removeItem("hw:lastEmail")}catch{}},O=async U=>{U.preventDefault();const I=Date.now();if(I-k.current<300||(k.current=I,S))return;C(),g(null);const Q=CH(s);if(!Q){b("Masukkan email atau username.");return}const H=jH(Q),Y=H?tE(Q):"";if(a==="reset"){if(!H||!YC(Y)){b("Masukkan email yang valid.");return}N(!0);try{await xIe(Y),g({type:"success",message:`Kami telah mengirim tautan reset ke ${Y}.`}),i("login")}catch(K){const J=K instanceof Error?K.message:NH;g({type:"error",message:J})}finally{N(!1)}return}if(H){if(!YC(Y)){b("Masukkan email yang valid.");return}}else if(!kH(Q)){b("Username hanya boleh huruf, angka, atau underscore (3-30 karakter).");return}if(c.length<WC){w(`Kata sandi minimal ${WC} karakter.`);return}N(!0);try{let K=Y;if(r?.(),!H){const re=await bIe(Q);if(!re)throw new Error("Username atau email tidak ditemukan.");K=tE(re)}await vIe({email:K,password:c}),T(H?K:Q,f),g({type:"success",message:"Berhasil masuk. Mengalihkan"}),t?.(K)}catch(K){n?.();const J=K instanceof Error?K.message:NH;H||(J==="Username atau email tidak ditemukan."||J==="Username tidak ditemukan.")&&b(J),g({type:"error",message:J})}finally{N(!1)}},D=()=>{if(!p)return null;const U=p.type==="success"?"border-success/30 bg-success/10 text-success":p.type==="error"?"border-danger/30 bg-danger/10 text-danger":"border-primary/30 bg-primary/10 text-primary";return l.jsx("div",{role:"status","aria-live":"polite",className:tt("rounded-2xl border px-4 py-3 text-sm font-medium",U),children:p.message})},R=B.useMemo(()=>a==="reset"?"Kirim tautan reset":S?"Menghubungkan":"Masuk",[S,a]),q=B.useId();return l.jsx("div",{className:"flex h-full flex-col justify-between rounded-3xl border border-border-subtle bg-surface p-6 shadow-sm",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[l.jsx("h2",{className:"text-xl font-semibold text-text",children:"Masuk dengan Email"}),l.jsx("p",{className:"text-sm text-muted",children:"Gunakan email dan kata sandi untuk mengakses dashboard keuangan kamu."})]}),l.jsxs("div",{className:"rounded-2xl bg-primary/5 p-4 text-sm text-primary md:text-left",children:[l.jsx("p",{className:"font-semibold",children:"Tips keamanan"}),l.jsx("p",{className:"mt-1 text-primary/80",children:"Jangan bagikan kata sandi kamu dan aktifkan verifikasi ganda segera setelah masuk."})]}),D(),l.jsxs("form",{onSubmit:O,className:"space-y-4",noValidate:!0,children:[l.jsx($W,{label:"Email atau Username",type:"text",name:"identifier",inputMode:"text",autoComplete:"username",placeholder:"nama@hematwoi.app",value:s,onChange:U=>o(U.target.value),onBlur:()=>{const U=CH(s);U&&(jH(U)?YC(U)||b("Masukkan email yang valid."):kH(U)||b("Username hanya boleh huruf, angka, atau underscore (3-30 karakter)."))},error:v,required:!0}),a==="login"?l.jsx(BIe,{label:"Kata sandi",name:"password",placeholder:"",value:c,onChange:U=>A(U.target.value),minLength:WC,error:x,required:!0}):null,a==="reset"?l.jsx("p",{className:"text-sm text-muted","aria-live":"polite",children:"Kami akan mengirim tautan untuk mengatur ulang kata sandi kamu. Buka email dan ikuti instruksinya."}):null,l.jsxs("button",{type:"submit",className:"inline-flex h-11 w-full items-center justify-center gap-2 rounded-2xl bg-primary px-4 text-sm font-semibold text-primary-foreground transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 disabled:cursor-not-allowed disabled:opacity-70",disabled:S,"aria-busy":S,children:[S?l.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary-foreground/60 border-t-transparent","aria-hidden":"true"}):null,l.jsx("span",{children:R})]})]}),a==="login"?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[l.jsxs("label",{htmlFor:q,className:"flex items-center gap-2 text-sm text-text",children:[l.jsx("input",{id:q,type:"checkbox",className:"h-4 w-4 rounded border-border-subtle text-primary focus:ring-primary/45",checked:f,onChange:U=>h(U.target.checked)}),"Ingat saya"]}),l.jsx("button",{type:"button",onClick:()=>{i("reset"),g(null)},className:"text-sm font-semibold text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/45",children:"Lupa kata sandi?"})]}):l.jsx("button",{type:"button",onClick:()=>{i("login"),g(null)},className:"text-sm font-semibold text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/45",children:" Kembali ke masuk"})]})})}const NIe="hw:guestSynced:",CIe=500;function jIe(e,t){const r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}function kIe(e){if(e.client_id)return e.client_id;const t=globalThis.crypto?.randomUUID?.()??Math.random().toString(36).slice(2);return e.client_id=t,e.id||(e.id=t),t}function EIe(e,t){const r=kIe(e),n=e.updated_at??new Date().toISOString();return{...e,user_id:t,client_id:r,updated_at:n}}async function TIe(e,t,r){if(!r.length)return;const{error:n}=await e.from(t).upsert(r,{onConflict:"user_id,client_id"}).select("client_id");if(n)throw n}async function p3(e,t){const r=lG();for(const n of r){const a=await oG(n);if(!a.length)continue;const i=await Promise.all(a.map(async o=>{const c=EIe({...o},t);return await W0(n,c),c})),s=jIe(i,CIe);for(const o of s)try{await TIe(e,n,o)}catch(c){throw console.error(`[sync] Failed to sync ${n}`,c),c}}try{globalThis.localStorage?.setItem(`${NIe}${t}`,new Date().toISOString())}catch(n){console.warn("[sync] Failed to persist sync flag",n)}}const $l=e=>typeof e=="string"&&e.trim().length>0;function rE(e,t){const r=[];let n=null;if(e instanceof Error?(n=e.message?.trim()||null,!n&&$l(e.message)&&(n=(e.message??"").trim())):$l(e)&&(n=e.trim()),e&&typeof e=="object"){const i=e,o=[i.error_description,i.errorDescription,i.detail,i.message,i.error].find($l);o&&(n=o.trim()),$l(i.code)&&r.push(`Kode: ${i.code.trim()}`),typeof i.status=="number"&&Number.isFinite(i.status)?r.push(`Status: ${i.status}`):$l(i.status)&&r.push(`Status: ${i.status.trim()}`)}const a=n||t;return r.length===0?a:`${a} (${r.join(", ")})`}function OIe({fallback:e,error:t,errorCode:r,errorDescription:n,hint:a,status:i}){const s=[];return $l(n)&&s.push(n.trim()),$l(t)&&s.push(`Kode: ${t.trim()}`),$l(r)&&s.push(`Error code: ${r.trim()}`),$l(a)&&s.push(`Hint: ${a.trim()}`),typeof i=="number"&&Number.isFinite(i)?s.push(`Status: ${i}`):$l(i)&&s.push(`Status: ${i.trim()}`),s.length===0?e:s.join(" ")}const IIe={},UIe=["Pantau cash flow harian tanpa ribet.","Sinkronkan data lintas perangkat secara otomatis.","Dapatkan insight pintar untuk capai tujuan finansial."];function FIe(){const e=js(),t=uo(),[r,n]=B.useState(!0),[a,i]=B.useState(null),s=B.useRef(null),[o]=B.useState(()=>{try{return localStorage.getItem("hw:lastEmail")??""}catch{return""}}),[c,A]=B.useState(!1),[f,h]=B.useState(null),p=B.useMemo(()=>{const k=typeof import.meta<"u"?IIe??{}:{},C=typeof k.VITE_SUPABASE_REDIRECT_URL=="string"&&k.VITE_SUPABASE_REDIRECT_URL||typeof k.VITE_APP_URL=="string"&&k.VITE_APP_URL||typeof k.VITE_PUBLIC_SITE_URL=="string"&&k.VITE_PUBLIC_SITE_URL||void 0,T=typeof window<"u"&&/^https?:\/\//.test(window.location.origin)?window.location.origin:void 0,O=C??T;if(O)try{return new URL("/auth/callback",O).toString()}catch{return O}},[]),g=B.useCallback(async k=>{if(k)try{await p3(Ne,k)}catch(C){console.error("[AuthLogin] Gagal memindahkan data tamu ke cloud",C)}},[]),v=B.useCallback(()=>{s.current="email"},[]),b=B.useCallback(()=>{s.current==="email"&&(s.current=null)},[]),x=B.useCallback(async()=>{if(!c){h(null),A(!0),s.current="google";try{const{error:k}=await Ne.auth.signInWithOAuth({provider:"google",options:{redirectTo:p,queryParams:{access_type:"offline",prompt:"consent"}}});if(k)throw k}catch(k){s.current=null;const C=rE(k,"Gagal memulai proses login Google. Silakan coba lagi.");h(C),A(!1)}}},[c,p]),w=B.useCallback(k=>{const C=s.current??k??null;if(C==="google"){s.current=null,J4();return}C==="email"&&typeof window<"u"?window.setTimeout(()=>{s.current==="email"&&(s.current=null)},1e3):s.current=null,t("/",{replace:!0})},[t]);B.useEffect(()=>{let k=!0;(async()=>{try{const O=await yIe();if(!k)return;if(O){w(O.user?.app_metadata?.provider??null);return}n(!1)}catch(O){if(!k)return;const D=O instanceof Error?O.message:"Tidak dapat memuat sesi.";i(D),n(!1)}})();const{data:T}=wIe((O,D)=>{if(O==="SIGNED_IN"&&D){try{localStorage.setItem("hw:connectionMode","online"),localStorage.setItem("hw:mode","online")}catch{}g(D.user?.id??null),e.pathname==="/auth"&&w(D.user?.app_metadata?.provider??null)}});return()=>{k=!1,T?.subscription?.unsubscribe()}},[w,e.pathname,g]);const S=B.useMemo(()=>l.jsxs("div",{className:"grid w-full animate-pulse gap-6 lg:grid-cols-[1.2fr_1fr]",children:[l.jsx("div",{className:"rounded-[32px] border border-border-subtle/60 bg-surface/80 p-8 shadow-lg backdrop-blur",children:l.jsxs("div",{className:"space-y-5 text-center lg:text-left",children:[l.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-surface-alt lg:mx-0"}),l.jsx("div",{className:"mx-auto h-6 w-40 rounded-full bg-surface-alt/80 lg:mx-0"}),l.jsx("div",{className:"mx-auto h-4 w-3/4 rounded-full bg-surface-alt/80 lg:mx-0"}),l.jsx("div",{className:"mx-auto h-10 w-full rounded-2xl bg-surface-alt/70 lg:mx-0"})]})}),l.jsxs("div",{className:"space-y-4 rounded-[32px] border border-border-subtle/60 bg-surface p-8 shadow-lg",children:[l.jsx("div",{className:"h-5 w-1/2 rounded-full bg-surface-alt"}),l.jsx("div",{className:"h-4 w-2/3 rounded-full bg-surface-alt"}),l.jsxs("div",{className:"space-y-3 pt-4",children:[l.jsx("div",{className:"h-12 rounded-2xl bg-surface-alt"}),l.jsx("div",{className:"h-12 rounded-2xl bg-surface-alt"}),l.jsx("div",{className:"h-12 rounded-2xl bg-surface-alt"})]})]})]}),[]),N=B.useCallback(async()=>{s.current="email";try{localStorage.setItem("hw:connectionMode","online"),localStorage.setItem("hw:mode","online")}catch{}try{const{data:k}=await Ne.auth.getSession(),C=k.session?.user?.id??null;C&&g(C),w("email");return}catch(k){console.error("[AuthLogin] Gagal membaca sesi setelah login",k)}w("email")},[w,g]);return l.jsx(Iy,{children:l.jsxs("main",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-surface via-surface-alt to-surface px-6 py-12 text-text transition-colors sm:py-16",children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[l.jsx("div",{className:"absolute -left-1/3 top-10 h-80 w-80 rounded-full bg-primary/10 blur-3xl"}),l.jsx("div",{className:"absolute bottom-0 right-[-10%] h-96 w-96 rounded-full bg-info/10 blur-3xl"}),l.jsx("div",{className:"absolute inset-x-0 bottom-0 h-64 bg-gradient-to-t from-surface"})]}),l.jsxs("div",{className:"relative mx-auto flex min-h-[70vh] w-full max-w-6xl flex-col gap-14 lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("section",{className:"max-w-2xl space-y-8 text-center lg:text-left",children:[l.jsx("div",{className:"inline-flex items-center justify-center rounded-full border border-primary/20 bg-primary/10 px-4 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-primary",children:"Selangkah menuju finansial sehat"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-3xl font-semibold leading-tight sm:text-4xl",children:"Semua catatan finansialmu, aman dalam satu tempat."}),l.jsx("p",{className:"text-base text-muted",children:"Mulai kembali memantau cash flow, membangun kebiasaan menabung, dan dapatkan insight yang relevan setiap kali kamu login."})]}),l.jsx("dl",{className:"grid gap-4 sm:grid-cols-3",children:UIe.map(k=>l.jsxs("div",{className:"rounded-3xl border border-border-subtle/50 bg-surface/80 p-4 text-left shadow-sm backdrop-blur",children:[l.jsxs("dt",{className:"flex items-center gap-2 text-sm font-semibold text-text",children:[l.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-primary/15 text-primary",children:""}),"HematWoi"]}),l.jsx("dd",{className:"mt-2 text-sm text-muted",children:k})]},k))})]}),l.jsx("section",{className:"w-full max-w-xl",children:l.jsxs("div",{className:"space-y-4",children:[a?l.jsx("div",{className:"rounded-2xl border border-danger/40 bg-danger/10 px-4 py-3 text-sm text-danger","aria-live":"polite",children:a}):null,f?l.jsx("div",{className:"rounded-2xl border border-danger/40 bg-danger/10 px-4 py-3 text-sm text-danger","aria-live":"assertive",children:f}):null,r?S:l.jsxs("div",{className:"space-y-6 rounded-[32px] border border-border-subtle/60 bg-surface/90 p-6 shadow-xl backdrop-blur-sm sm:p-8",children:[l.jsxs("header",{className:"space-y-2 text-center sm:text-left",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted",children:"Masuk ke akunmu"}),l.jsx("h2",{className:"text-2xl font-semibold text-text",children:"Akses dashboard dan lanjutkan perjalanan hematmu"})]}),l.jsx(SIe,{defaultIdentifier:o,onSuccess:N,onPasswordSignInStart:v,onPasswordSignInError:b}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-x-6 top-1/2 -translate-y-1/2 border-t border-border-subtle/60","aria-hidden":"true"}),l.jsx("div",{className:"relative mx-auto w-max bg-surface px-4 text-xs font-semibold uppercase tracking-[0.3em] text-muted",children:"atau"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(dIe,{onWebLogin:x,disabled:c,onNativeSuccess:k=>{h(null),A(!1),g(k?.user?.id??k?.session?.user?.id??null)},onNativeError:k=>{A(!1),h(k)},className:"inline-flex h-12 w-full items-center justify-center gap-3 rounded-2xl border border-border-subtle bg-white px-4 text-sm font-semibold text-slate-900 shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 disabled:translate-y-0 disabled:cursor-not-allowed disabled:opacity-70",children:[c?l.jsx("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-transparent","aria-hidden":"true"}):l.jsx("span",{"aria-hidden":"true",className:"flex h-6 w-6 items-center justify-center rounded-full bg-white text-base font-semibold text-[#4285F4]",children:"G"}),l.jsx("span",{children:c?"Menghubungkan":"Lanjutkan dengan Google"})]}),l.jsx("p",{className:"text-xs text-muted",children:"Jika pop-up tertutup, tekan tombol lagi atau lanjutkan dengan email yang kamu gunakan sehari-hari."})]})]})]})})]})]})})}const g3=["public","user","admin"];function Py(e){if(e.error)throw e.error;return e.data}function dy(e,t=!1){return typeof e=="boolean"?e:typeof e=="number"?e!==0:typeof e=="string"?e==="true"||e==="1":t}function qW(e,t=0){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const r=Number.parseInt(e,10);if(Number.isFinite(r))return r}return t}function b3(e){if(typeof e!="string")return null;const t=e.trim();return t||null}function y3(e){if(e==null)return null;if(typeof e=="string"){const r=e.trim();return r||null}const t=String(e??"").trim();return t||null}function KW(e){const t=e.trim();if(!t)return"";const n=(t.startsWith("/")?t:`/${t}`).split("/").filter(Boolean);return n.length===0?"/":`/${n.join("/")}`}function v3(e){return{id:String(e?.id??e?.route??globalThis.crypto?.randomUUID?.()??Math.random().toString(36).slice(2)),title:String(e?.title??""),route:String(e?.route??""),access_level:g3.includes(e?.access_level)?e.access_level:"public",is_enabled:dy(e?.is_enabled,!0),icon_name:b3(e?.icon_name),position:qW(e?.position,0),category:y3(e?.category)}}function zW(e){return{id:String(e?.id??""),email:typeof e?.email=="string"?e.email:null,username:typeof e?.username=="string"?e.username:null,role:e?.role==="admin"?"admin":"user",is_active:dy(e?.is_active,!0),created_at:e?.created_at??null,updated_at:e?.updated_at??null}}async function nE(){try{const{data:e,error:t}=await Ne.from("app_sidebar_items").select("id, title, route, access_level, is_enabled, icon_name, position, category").order("position",{ascending:!0});if(t)throw t;return(e??[]).map(r=>v3(r))}catch(e){throw console.error("[adminApi] listSidebarItems failed",e),new Error("Gagal memuat menu sidebar")}}async function DIe(e){try{const{data:t}=await Ne.auth.getUser();if(!t.user)throw new Error("Harus login untuk membuat menu");const r=KW(e.route);if(!r.startsWith("/"))throw new Error("Route harus diawali '/' ");if(!e.title.trim())throw new Error("Judul tidak boleh kosong");if(!g3.includes(e.access_level))throw new Error("Level akses tidak valid");const{data:n,error:a}=await Ne.from("app_sidebar_items").select("position").order("position",{ascending:!1}).limit(1).maybeSingle();if(a)throw a;const i=n?qW(n.position,0)+1:1,s={title:e.title.trim(),route:r,access_level:e.access_level,is_enabled:e.is_enabled??!0,icon_name:b3(e.icon_name),position:i,category:y3(e.category),user_id:t.user.id},o=await Ne.from("app_sidebar_items").insert(s).select("id, title, route, access_level, is_enabled, icon_name, position, category").single(),c=Py(o);return v3(c)}catch(t){console.error("[adminApi] createSidebarItem failed",t);const r=t instanceof Error?t.message:"Gagal menyimpan menu sidebar";throw/duplicate|uniq/i.test(r)?new Error("Route sudah digunakan. Gunakan path lain."):/admin|access|policy|permission/i.test(r)?new Error("Akses ditolak. Hanya admin yang dapat mengubah menu."):new Error(r||"Gagal menyimpan menu sidebar")}}async function LIe(e,t){try{const r={};if(typeof t.title=="string"&&(r.title=t.title.trim()),typeof t.route=="string"){const i=KW(t.route);if(!i.startsWith("/"))throw new Error("Route harus diawali '/'");r.route=i}t.access_level&&g3.includes(t.access_level)&&(r.access_level=t.access_level),typeof t.is_enabled=="boolean"&&(r.is_enabled=t.is_enabled),Object.prototype.hasOwnProperty.call(t,"icon_name")&&(r.icon_name=b3(t.icon_name??null)),Object.prototype.hasOwnProperty.call(t,"category")&&(r.category=y3(t.category??null));const n=await Ne.from("app_sidebar_items").update(r).eq("id",e).select("id, title, route, access_level, is_enabled, icon_name, position, category").single(),a=Py(n);return v3(a)}catch(r){console.error("[adminApi] updateSidebarItem failed",r);const n=r instanceof Error?r.message:"Gagal memperbarui menu sidebar";throw/duplicate|uniq/i.test(n)?new Error("Route sudah digunakan. Gunakan path lain."):new Error(n||"Gagal memperbarui menu sidebar")}}async function MIe(e){try{const{error:t}=await Ne.from("app_sidebar_items").delete().eq("id",e);if(t)throw t}catch(t){throw console.error("[adminApi] deleteSidebarItem failed",t),new Error("Gagal menghapus menu sidebar")}}async function PIe(e,t){try{const r=await nE(),n=r.findIndex(A=>A.id===e);if(n===-1)return r;const a=t==="up"?n-1:n+1;if(a<0||a>=r.length)return r;const i=r[n],s=r[a],o=await Ne.from("app_sidebar_items").update({position:s.position}).eq("id",i.id);if(o.error)throw o.error;const c=await Ne.from("app_sidebar_items").update({position:i.position}).eq("id",s.id);if(c.error)throw c.error;return nE()}catch(r){throw console.error("[adminApi] moveSidebarItem failed",r),new Error("Gagal mengubah urutan menu")}}function QIe(e){if(!e||typeof e!="object")return!1;if(("code"in e?String(e.code):"")==="42703")return!0;const r="message"in e?String(e.message??"").toLowerCase():"";return r.includes("column")&&r.includes("email")}async function RIe(e={}){try{const t="id, email, username, role, is_active, created_at, updated_at",r="id, username, role, is_active, created_at, updated_at",n=s=>{let o=Ne.from("user_profiles").select(s).order("created_at",{ascending:!0});const{query:c,role:A,status:f}=e;if(c?.trim()){const h=`%${c.trim()}%`;o=o.or(`username.ilike.${h},email.ilike.${h}`)}return A&&A!=="all"&&(o=o.eq("role",A)),f&&f!=="all"&&(o=o.eq("is_active",f==="active")),o};let{data:a,error:i}=await n(t);if(i&&QIe(i)&&({data:a,error:i}=await n(r)),i)throw i;return(a??[]).map(s=>zW(s))}catch(t){throw console.error("[adminApi] listUsers failed",t),new Error("Gagal memuat daftar pengguna")}}async function HIe(e,t){try{const r=await Ne.from("user_profiles").select("id, role, is_active").eq("id",e).maybeSingle();if(r.error)throw r.error;const n=r.data;if(!n)throw new Error("Pengguna tidak ditemukan");const a=n.role==="admin"?"admin":"user",i=dy(n.is_active,!0),s=t.role??a,o=typeof t.is_active=="boolean"?t.is_active:i;if(a==="admin"&&(!o||s!=="admin")){const{data:h,error:p}=await Ne.from("user_profiles").select("id, role, is_active").eq("role","admin").neq("id",e);if(p)throw p;if((h??[]).filter(v=>dy(v.is_active,!0)).length===0)throw new Error("Tidak dapat menonaktifkan admin terakhir")}const c={};(t.role==="admin"||t.role==="user")&&(c.role=t.role),typeof t.is_active=="boolean"&&(c.is_active=t.is_active);const A=await Ne.from("user_profiles").update(c).eq("id",e).select("id, email, username, role, is_active, created_at, updated_at").single(),f=Py(A);return zW(f)}catch(r){console.error("[adminApi] updateUserProfile failed",r);const n=r instanceof Error?r.message:"Gagal memperbarui pengguna";throw new Error(n||"Gagal memperbarui pengguna")}}function GW(e){if(e&&typeof e=="object"&&"text"in e){const t=e.text;if(typeof t=="string")return t}return typeof e=="string"?e:""}async function $Ie(){try{const{data:e,error:t}=await Ne.from("app_settings").select("value, updated_at").eq("key","app_description").maybeSingle();if(t)throw t;return{text:GW(e?.value),updated_at:e?.updated_at??null}}catch(e){throw console.error("[adminApi] getAppDescription failed",e),new Error("Gagal memuat deskripsi aplikasi")}}async function qIe(e){try{const t=await Ne.from("app_settings").upsert({key:"app_description",value:{text:e}},{onConflict:"key"}).select("value, updated_at").single(),r=Py(t);return{text:GW(r.value),updated_at:r.updated_at??null}}catch(t){throw console.error("[adminApi] setAppDescription failed",t),new Error("Gagal menyimpan deskripsi aplikasi")}}function VW(e){if(e&&typeof e=="object"){const t=typeof e.primary=="string"?e.primary:"#1e40af",r=typeof e.secondary=="string"?e.secondary:"#0ea5e9";return{primary:t,secondary:r}}return{primary:"#1e40af",secondary:"#0ea5e9"}}async function KIe(){try{const{data:e,error:t}=await Ne.from("app_settings").select("value, updated_at").eq("key","branding").maybeSingle();if(t)throw t;return{...VW(e?.value),updated_at:e?.updated_at??null}}catch(e){throw console.error("[adminApi] getBranding failed",e),new Error("Gagal memuat pengaturan branding")}}async function zIe(e){try{const t=await Ne.from("app_settings").upsert({key:"branding",value:e},{onConflict:"key"}).select("value, updated_at").single(),r=Py(t);return{...VW(r.value),updated_at:r.updated_at??null}}catch(t){throw console.error("[adminApi] setBranding failed",t),new Error("Gagal menyimpan pengaturan branding")}}async function GIe(e=10){try{const[t,r]=await Promise.all([Ne.from("app_sidebar_items").select("id, title, route, updated_at, created_at").order("updated_at",{ascending:!1,nullsFirst:!1}).limit(e),Ne.from("user_profiles").select("id, email, username, role, is_active, updated_at, created_at").order("updated_at",{ascending:!1,nullsFirst:!1}).limit(e)]);if(t.error)throw t.error;if(r.error)throw r.error;const n=(t.data??[]).map(s=>{const o=s.updated_at??s.created_at??null,c=s.created_at??null,A=c&&o&&c===o?"Dibuat":"Diperbarui";return{id:`sidebar-${s.id??s.route??Math.random().toString(36).slice(2)}`,source:"sidebar",title:s.title?String(s.title):"Menu Sidebar",description:`${A}  ${String(s.route??"")}`.trim(),timestamp:o}}),a=(r.data??[]).map(s=>{const o=s.updated_at??s.created_at??null,c=s.created_at??null,A=c&&o&&c===o?"Pengguna baru":"Perubahan profil",f=s.username||s.email||s.id,h=`${s.role==="admin"?"Admin":"User"}  ${dy(s.is_active,!0)?"Aktif":"Nonaktif"}`;return{id:`user-${s.id??Math.random().toString(36).slice(2)}`,source:"user",title:f?String(f):"Pengguna",description:`${A}  ${h}`,timestamp:o}});return[...n,...a].sort((s,o)=>{const c=s.timestamp?new Date(s.timestamp).getTime():0;return(o.timestamp?new Date(o.timestamp).getTime():0)-c}).slice(0,e)}catch(t){throw console.error("[adminApi] listAuditLog failed",t),new Error("Gagal memuat log perubahan")}}const H0={public:"Public",user:"User",admin:"Admin"},EH=["public","user","admin"],Pc="h-11 w-full rounded-2xl border border-border bg-background px-3 text-sm transition focus:outline-none focus:ring-2 focus:ring-primary",TH=tt(Pc,"pr-10");function OH(e){const t=e.trim();if(!t)return"";const n=(t.startsWith("/")?t:`/${t}`).split("/").filter(Boolean);return n.length===0?"/":`/${n.join("/")}`}const IH={title:"",route:"",access_level:"public",is_enabled:!0,icon_name:"",category:""};function UH({checked:e,onChange:t,disabled:r,label:n}){return l.jsx("button",{type:"button",onClick:()=>{r||t(!e)},className:tt("flex h-11 w-16 items-center rounded-2xl border border-border/60 bg-background px-1 transition",r?"cursor-not-allowed opacity-60":"hover:border-primary"),role:"switch","aria-label":n,"aria-checked":e,"aria-disabled":r,disabled:r,children:l.jsx("span",{className:tt("inline-flex h-9 w-9 items-center justify-center rounded-2xl bg-primary text-white transition",e?"translate-x-6":"translate-x-0"),children:l.jsx("span",{className:"text-xs font-semibold",children:e?"On":"Off"})})})}function tA({icon:e,label:t,onClick:r,disabled:n}){return l.jsx("button",{type:"button",onClick:r,disabled:n,"aria-label":t,className:tt("flex h-9 w-9 items-center justify-center rounded-xl border border-border/60 text-muted-foreground transition",n?"cursor-not-allowed opacity-40":"hover:border-primary hover:text-primary"),children:l.jsx(Zo,{name:e,className:"h-4 w-4"})})}function VIe(){const{addToast:e}=ci(),[t,r]=B.useState([]),[n,a]=B.useState(!0),[i,s]=B.useState(null),[o,c]=B.useState(!1),[A,f]=B.useState(null),[h,p]=B.useState(IH),[g,v]=B.useState(null),[b,x]=B.useState(null);B.useEffect(()=>{let I=!0;return(async()=>{a(!0),s(null);try{const H=await nE();I&&r(H)}catch(H){const Y=H instanceof Error?H.message:"Gagal memuat menu sidebar";I&&s(Y)}finally{I&&a(!1)}})(),()=>{I=!1}},[]);const w=B.useMemo(()=>new Set(t.map(I=>I.route.toLowerCase())),[t]),S=()=>{p(IH)},N=async I=>{if(I.preventDefault(),o)return;const Q=OH(h.route);if(!Q.startsWith("/")){e("Route harus diawali '/'","error");return}if(w.has(Q.toLowerCase())){e("Route sudah ada di menu","error");return}c(!0);try{const H=await DIe({title:h.title,route:Q,access_level:h.access_level,is_enabled:h.is_enabled,icon_name:h.icon_name,category:h.category});r(Y=>[...Y,H].sort((K,J)=>K.position-J.position)),e("Menu berhasil ditambahkan","success"),S()}catch(H){const Y=H instanceof Error?H.message:"Gagal menambah menu";e(Y,"error")}finally{c(!1)}},k=I=>{f(I.id),v({title:I.title,route:I.route,access_level:I.access_level,is_enabled:I.is_enabled,icon_name:I.icon_name??"",category:I.category??""})},C=async()=>{if(!A||!g||o)return;const I=OH(g.route);if(!I.startsWith("/")){e("Route harus diawali '/'","error");return}if(t.some(H=>H.id!==A&&H.route.toLowerCase()===I.toLowerCase())){e("Route sudah digunakan oleh menu lain","error");return}c(!0);try{const H=await LIe(A,{title:g.title,route:I,access_level:g.access_level,is_enabled:g.is_enabled,icon_name:g.icon_name,category:g.category});r(Y=>Y.map(K=>K.id===H.id?H:K)),e("Menu berhasil diperbarui","success"),f(null),v(null)}catch(H){const Y=H instanceof Error?H.message:"Gagal memperbarui menu";e(Y,"error")}finally{c(!1)}},T=async I=>{if(window.confirm("Hapus menu ini?")){c(!0);try{await MIe(I),r(Q=>Q.filter(H=>H.id!==I)),e("Menu dihapus","success")}catch(Q){const H=Q instanceof Error?Q.message:"Gagal menghapus menu";e(H,"error")}finally{c(!1)}}},O=async(I,Q)=>{x(I);try{const H=await PIe(I,Q);r(H)}catch(H){const Y=H instanceof Error?H.message:"Gagal mengubah urutan";e(Y,"error")}finally{x(null)}},D=()=>l.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((I,Q)=>l.jsx("div",{className:"grid gap-3 rounded-2xl bg-muted/20 p-4 md:grid-cols-8",children:Array.from({length:8}).map((H,Y)=>l.jsx("div",{className:"h-11 animate-pulse rounded-2xl bg-muted/40"},Y))},Q))}),R=()=>l.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-border/60 bg-muted/10 p-10 text-center",children:[l.jsx(Zo,{name:"list",className:"h-10 w-10 text-muted-foreground"}),l.jsx("p",{className:"mt-3 text-sm font-medium text-muted-foreground",children:"Belum ada menu. Tambahkan item pertama di bawah ini."})]}),q=()=>l.jsx("div",{className:"grid gap-3 md:hidden",children:t.map(I=>l.jsxs("div",{className:"rounded-2xl border border-border/60 bg-background p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-muted/40",children:l.jsx(Zo,{name:I.icon_name??"circle",className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold",children:I.title}),l.jsx("p",{className:"text-xs text-muted-foreground",children:I.route}),l.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Kategori: ",I.category?I.category:"-"]})]})]}),l.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[10px] font-semibold uppercase tracking-wide text-primary",children:H0[I.access_level]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Posisi #",I.position]}),l.jsx("span",{children:""}),l.jsx("span",{children:I.is_enabled?"Aktif":"Nonaktif"})]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsx(tA,{icon:"arrow-up",label:"Geser ke atas",onClick:()=>O(I.id,"up"),disabled:b===I.id}),l.jsx(tA,{icon:"arrow-down",label:"Geser ke bawah",onClick:()=>O(I.id,"down"),disabled:b===I.id}),l.jsx(tA,{icon:"pencil",label:"Edit",onClick:()=>k(I)}),l.jsx(tA,{icon:"trash",label:"Hapus",onClick:()=>T(I.id),disabled:o})]})]},I.id))}),U=()=>l.jsx("div",{className:"hidden md:block",children:l.jsx("div",{className:"overflow-hidden rounded-2xl border border-border/60",children:l.jsxs("table",{className:"min-w-full divide-y divide-border/60 text-sm",children:[l.jsx("thead",{className:"bg-muted/30 text-xs uppercase tracking-wide text-muted-foreground",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Pos"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Ikon"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Judul"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Route"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Kategori"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Akses"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y divide-border/40",children:t.map(I=>l.jsxs("tr",{className:"odd:bg-muted/10",children:[l.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-muted-foreground",children:["#",I.position]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-muted/40",children:l.jsx(Zo,{name:I.icon_name??"circle",className:"h-5 w-5"})})}),l.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:I.title}),l.jsx("td",{className:"px-4 py-3 text-xs font-medium text-muted-foreground",children:I.route}),l.jsx("td",{className:"px-4 py-3 text-xs font-medium text-muted-foreground",children:I.category||"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:"inline-flex rounded-full bg-primary/10 px-3 py-1 text-[10px] font-semibold uppercase tracking-wide text-primary",children:H0[I.access_level]})}),l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-muted-foreground",children:I.is_enabled?"Aktif":"Nonaktif"}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tA,{icon:"arrow-up",label:"Geser ke atas",onClick:()=>O(I.id,"up"),disabled:b===I.id}),l.jsx(tA,{icon:"arrow-down",label:"Geser ke bawah",onClick:()=>O(I.id,"down"),disabled:b===I.id}),l.jsx(tA,{icon:"pencil",label:"Edit",onClick:()=>k(I)}),l.jsx(tA,{icon:"trash",label:"Hapus",onClick:()=>T(I.id),disabled:o})]})})]},I.id))})]})})});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Sidebar Menu"}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Kelola navigasi utama aplikasi. Atur ikon, akses, dan urutan menu."})]}),l.jsxs("form",{onSubmit:N,className:"space-y-4 rounded-2xl border border-border/60 bg-muted/10 p-4 md:p-6",children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Judul",l.jsx("input",{required:!0,value:h.title,onChange:I=>p(Q=>({...Q,title:I.target.value})),className:tt(Pc,"mt-1"),placeholder:"Contoh: Dashboard"})]}),l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Route",l.jsx("input",{required:!0,value:h.route,onChange:I=>p(Q=>({...Q,route:I.target.value})),className:tt(Pc,"mt-1"),placeholder:"/dashboard"})]}),l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Kategori",l.jsx("input",{value:h.category,onChange:I=>p(Q=>({...Q,category:I.target.value})),className:tt(Pc,"mt-1"),placeholder:"Contoh: Navigasi Utama"})]})]}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground md:col-span-2",children:["Icon Name",l.jsx("input",{value:h.icon_name,onChange:I=>p(Q=>({...Q,icon_name:I.target.value})),className:tt(Pc,"mt-1"),placeholder:"Contoh: home",list:"admin-icon-options"})]}),l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Akses",l.jsx("select",{value:h.access_level,onChange:I=>p(Q=>({...Q,access_level:I.target.value})),className:tt(TH,"mt-1"),children:EH.map(I=>l.jsx("option",{value:I,children:H0[I]},I))})]}),l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Status",l.jsx("div",{className:"mt-1",children:l.jsx(UH,{checked:h.is_enabled,onChange:I=>p(Q=>({...Q,is_enabled:I})),label:"Aktif"})})]})]}),l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[l.jsx("span",{children:"Preview ikon:"}),l.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl border border-border/60 bg-background",children:l.jsx(Zo,{name:h.icon_name||"circle",className:"h-5 w-5"})})]}),l.jsx("button",{type:"submit",className:"h-11 rounded-2xl bg-primary px-6 text-sm font-medium text-white transition hover:bg-primary/90 disabled:opacity-60",disabled:o,children:"Tambah Item"})]}),l.jsx("datalist",{id:"admin-icon-options",children:lie.map(I=>l.jsx("option",{value:I},I))})]}),i?l.jsx("div",{className:"rounded-2xl border border-destructive/40 bg-destructive/10 p-4 text-sm text-destructive",children:i}):n?D():t.length===0?R():l.jsxs(l.Fragment,{children:[q(),U()]}),A&&g?l.jsxs("div",{className:"space-y-4 rounded-2xl border border-primary/40 bg-primary/5 p-4 md:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold",children:"Edit Sidebar Item"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Perbarui detail menu yang dipilih."})]}),l.jsx("button",{type:"button",onClick:()=>{f(null),v(null)},className:"h-10 rounded-2xl border border-border/60 px-4 text-sm font-medium text-muted-foreground transition hover:border-destructive hover:text-destructive",children:"Batal"})]}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Judul",l.jsx("input",{value:g.title,onChange:I=>v(Q=>Q&&{...Q,title:I.target.value}),className:tt(Pc,"mt-1")})]}),l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Route",l.jsx("input",{value:g.route,onChange:I=>v(Q=>Q&&{...Q,route:I.target.value}),className:tt(Pc,"mt-1")})]}),l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Kategori",l.jsx("input",{value:g.category,onChange:I=>v(Q=>Q&&{...Q,category:I.target.value}),className:tt(Pc,"mt-1")})]})]}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground md:col-span-2",children:["Icon Name",l.jsx("input",{value:g.icon_name,onChange:I=>v(Q=>Q&&{...Q,icon_name:I.target.value}),className:tt(Pc,"mt-1"),list:"admin-icon-options"})]}),l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Akses",l.jsx("select",{value:g.access_level,onChange:I=>v(Q=>Q&&{...Q,access_level:I.target.value}),className:tt(TH,"mt-1"),children:EH.map(I=>l.jsx("option",{value:I,children:H0[I]},I))})]}),l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Status",l.jsx("div",{className:"mt-1",children:l.jsx(UH,{checked:g.is_enabled,onChange:I=>v(Q=>Q&&{...Q,is_enabled:I}),label:"Aktif"})})]})]}),l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[l.jsx("span",{children:"Preview ikon:"}),l.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl border border-border/60 bg-background",children:l.jsx(Zo,{name:g.icon_name||"circle",className:"h-5 w-5"})})]}),l.jsx("button",{type:"button",onClick:C,className:"h-11 rounded-2xl bg-primary px-6 text-sm font-medium text-white transition hover:bg-primary/90 disabled:opacity-60",disabled:o,children:"Simpan Perubahan"})]})]}):null]})}const WW="h-11 w-full rounded-2xl border border-border bg-background px-3 text-sm transition focus:outline-none focus:ring-2 focus:ring-primary",$0=tt(WW,"pr-10"),FH=new Intl.DateTimeFormat("id-ID",{dateStyle:"medium",timeStyle:"short"});function DH({checked:e,onChange:t,disabled:r,label:n}){return l.jsxs("button",{type:"button",role:"switch","aria-checked":e,"aria-label":n,"aria-disabled":r,disabled:r,onClick:()=>{r||t(!e)},className:tt("flex h-11 w-20 items-center justify-between rounded-2xl border border-border/60 px-2 text-xs font-semibold transition",r?"cursor-not-allowed opacity-50":"hover:border-primary"),children:[l.jsx("span",{className:tt("rounded-xl px-2 py-1",e?"bg-primary text-white":"text-muted-foreground"),children:"Aktif"}),l.jsx("span",{className:tt("rounded-xl px-2 py-1",e?"text-muted-foreground":"bg-destructive/20 text-destructive"),children:"Off"})]})}function LH({user:e}){const r=((e.username||e.email||e.id)??"?").trim().charAt(0).toUpperCase()||"U";return l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-primary/10 text-sm font-semibold text-primary",children:r})}function WIe(){const{addToast:e}=ci(),[t,r]=B.useState([]),[n,a]=B.useState(!0),[i,s]=B.useState(null),[o,c]=B.useState({search:"",role:"all",status:"all"}),[A,f]=B.useState(""),[h,p]=B.useState({}),[g,v]=B.useState(null),[b,x]=B.useState(null);B.useEffect(()=>{let R=!0;return(async()=>{const{data:U}=await Ne.auth.getUser();R&&x(U.user?.id??null)})(),()=>{R=!1}},[]),B.useEffect(()=>{const R=window.setTimeout(()=>{f(o.search)},300);return()=>window.clearTimeout(R)},[o.search]),B.useEffect(()=>{let R=!0;(async()=>{a(!0),s(null);try{const U={query:A||void 0,role:o.role,status:o.status},I=await RIe(U);R&&r(I)}catch(U){const I=U instanceof Error?U.message:"Gagal memuat pengguna";s(I)}finally{a(!1)}})()},[A,o.role,o.status]);const w=B.useMemo(()=>t.filter(R=>R.role==="admin"&&R.is_active).length,[t]),S=(R,q)=>{p(U=>{const Q={...U[R]??{},...q},H=t.find(re=>re.id===R);if(!H)return U;const Y=Q.role??H.role,K=typeof Q.is_active=="boolean"?Q.is_active:H.is_active;if(!(Y!==H.role||K!==H.is_active)){const{[R]:re,...oe}=U;return oe}return{...U,[R]:Q}})},N=async R=>{const q=h[R.id];if(!q)return;const U={};if(q.role&&q.role!==R.role&&(U.role=q.role),typeof q.is_active=="boolean"&&q.is_active!==R.is_active&&(U.is_active=q.is_active),!(!U.role&&typeof U.is_active!="boolean")){v(R.id);try{const I=await HIe(R.id,U);r(Q=>Q.map(H=>H.id===R.id?I:H)),p(Q=>{const{[R.id]:H,...Y}=Q;return Y}),e("Profil pengguna diperbarui","success")}catch(I){const Q=I instanceof Error?I.message:"Gagal memperbarui pengguna";e(Q,"error")}finally{v(null)}}},k=R=>{p(q=>{const{[R]:U,...I}=q;return I})},C=()=>l.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((R,q)=>l.jsx("div",{className:"grid gap-3 rounded-2xl bg-muted/20 p-4 md:grid-cols-6",children:Array.from({length:6}).map((U,I)=>l.jsx("div",{className:"h-11 animate-pulse rounded-2xl bg-muted/40"},I))},q))}),T=()=>l.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-border/60 bg-muted/10 p-10 text-center",children:[l.jsx(Zo,{name:"user",className:"h-10 w-10 text-muted-foreground"}),l.jsx("p",{className:"mt-3 text-sm font-medium text-muted-foreground",children:"Tidak ada pengguna ditemukan. Coba ubah filter pencarian."})]}),O=R=>{const q=h[R.id],U=q?.role??R.role,I=typeof q?.is_active=="boolean"?q.is_active:R.is_active,Q=!!q,Y=b===R.id&&R.role==="admin"&&R.is_active&&w<=1;return l.jsxs("div",{className:"rounded-2xl border border-border/60 bg-background p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(LH,{user:R}),l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-semibold",children:R.username||"Tanpa nama"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:R.email||""})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-muted-foreground",children:[l.jsx("span",{children:FH.format(new Date(R.created_at??Date.now()))}),l.jsx("span",{children:""}),l.jsxs("span",{children:["ID: ",R.id.slice(0,8),""]})]})]})]}),l.jsxs("div",{className:"mt-4 grid gap-3",children:[l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Peran",l.jsxs("select",{value:U,onChange:K=>S(R.id,{role:K.target.value}),className:tt($0,"mt-1"),disabled:Y,children:[l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"user",children:"User"})]})]}),l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Status",l.jsx("div",{className:"mt-1",children:l.jsx(DH,{checked:I,onChange:K=>S(R.id,{is_active:K}),disabled:Y,label:"Status aktif"})})]})]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",onClick:()=>N(R),className:"h-11 flex-1 rounded-2xl bg-primary px-4 text-sm font-medium text-white transition hover:bg-primary/90 disabled:opacity-50",disabled:!Q||g===R.id||Y,children:"Simpan"}),l.jsx("button",{type:"button",onClick:()=>k(R.id),className:"h-11 flex-1 rounded-2xl border border-border/60 px-4 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary disabled:opacity-50",disabled:!Q||g===R.id,children:"Batalkan"})]})]},R.id)},D=()=>l.jsx("div",{className:"hidden md:block",children:l.jsx("div",{className:"overflow-hidden rounded-2xl border border-border/60",children:l.jsxs("table",{className:"min-w-full divide-y divide-border/60 text-sm",children:[l.jsx("thead",{className:"bg-muted/30 text-xs uppercase tracking-wide text-muted-foreground",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Pengguna"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Peran"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Dibuat"}),l.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y divide-border/40",children:t.map(R=>{const q=h[R.id],U=q?.role??R.role,I=typeof q?.is_active=="boolean"?q.is_active:R.is_active,Q=!!q,Y=b===R.id&&R.role==="admin"&&R.is_active&&w<=1;return l.jsxs("tr",{className:"odd:bg-muted/10",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(LH,{user:R}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate text-sm font-semibold",children:R.username||"Tanpa nama"}),l.jsx("p",{className:"truncate text-xs text-muted-foreground",children:R.email||""})]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("select",{value:U,onChange:K=>S(R.id,{role:K.target.value}),className:$0,disabled:Y,children:[l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"user",children:"User"})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx(DH,{checked:I,onChange:K=>S(R.id,{is_active:K}),disabled:Y,label:"Status aktif"})}),l.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:R.created_at?FH.format(new Date(R.created_at)):""}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>N(R),className:"h-11 rounded-2xl bg-primary px-4 text-sm font-medium text-white transition hover:bg-primary/90 disabled:opacity-50",disabled:!Q||g===R.id||Y,children:"Simpan"}),l.jsx("button",{type:"button",onClick:()=>k(R.id),className:"h-11 rounded-2xl border border-border/60 px-4 text-sm font-medium text-muted-foreground transition hover:border-primary hover:text-primary disabled:opacity-50",disabled:!Q||g===R.id,children:"Batalkan"})]})})]},R.id)})})]})})});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Pengguna"}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Lihat dan kelola peran pengguna. Ubah role dan status aktif dengan aman."})]}),l.jsxs("div",{className:"grid gap-3 rounded-2xl border border-border/60 bg-muted/10 p-4 md:grid-cols-4 md:p-6",children:[l.jsxs("label",{className:"md:col-span-2",children:[l.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:"Cari"}),l.jsx("input",{value:o.search,onChange:R=>c(q=>({...q,search:R.target.value})),className:tt(WW,"mt-1"),placeholder:"Cari username atau email"})]}),l.jsxs("label",{children:[l.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:"Peran"}),l.jsxs("select",{value:o.role,onChange:R=>c(q=>({...q,role:R.target.value})),className:tt($0,"mt-1"),children:[l.jsx("option",{value:"all",children:"Semua"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"user",children:"User"})]})]}),l.jsxs("label",{children:[l.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:"Status"}),l.jsxs("select",{value:o.status,onChange:R=>c(q=>({...q,status:R.target.value})),className:tt($0,"mt-1"),children:[l.jsx("option",{value:"all",children:"Semua"}),l.jsx("option",{value:"active",children:"Aktif"}),l.jsx("option",{value:"inactive",children:"Nonaktif"})]})]})]}),i?l.jsx("div",{className:"rounded-2xl border border-destructive/40 bg-destructive/10 p-4 text-sm text-destructive",children:i}):n?C():t.length===0?T():l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid gap-3 md:hidden",children:t.map(R=>O(R))}),D()]})]})}const YIe="min-h-[140px] w-full rounded-2xl border border-border bg-background px-3 py-3 text-sm transition focus:outline-none focus:ring-2 focus:ring-primary",MH="h-11 w-full rounded-2xl border border-border bg-background px-3 text-sm transition focus:outline-none focus:ring-2 focus:ring-primary",PH=new Intl.DateTimeFormat("id-ID",{dateStyle:"medium",timeStyle:"short"});function XIe(){const{addToast:e}=ci(),[t,r]=B.useState(""),[n,a]=B.useState(null),[i,s]=B.useState({primary:"#1e40af",secondary:"#0ea5e9"}),[o,c]=B.useState(null),[A,f]=B.useState(!0),[h,p]=B.useState(!1),[g,v]=B.useState(!1);B.useEffect(()=>{let S=!0;return(async()=>{f(!0);try{const[k,C]=await Promise.all([$Ie(),KIe()]);if(!S)return;r(k.text??""),a(k.updated_at??null),s({primary:C.primary,secondary:C.secondary}),c(C.updated_at??null)}catch(k){const C=k instanceof Error?k.message:"Gagal memuat pengaturan";S&&e(C,"error")}finally{S&&f(!1)}})(),()=>{S=!1}},[e]);const b=async S=>{if(S.preventDefault(),!h){p(!0);try{const N=await qIe(t);r(N.text),a(N.updated_at??null),e("Deskripsi aplikasi disimpan","success")}catch(N){const k=N instanceof Error?N.message:"Gagal menyimpan deskripsi";e(k,"error")}finally{p(!1)}}},x=async S=>{if(S.preventDefault(),g)return;const N=C=>{const T=C.trim();return T.startsWith("#")?T:`#${T}`},k={primary:N(i.primary),secondary:N(i.secondary)};v(!0);try{const C=await zIe(k);s({primary:C.primary,secondary:C.secondary}),c(C.updated_at??null),e("Branding diperbarui","success")}catch(C){const T=C instanceof Error?C.message:"Gagal menyimpan branding";e(T,"error")}finally{v(!1)}},w=()=>l.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:Array.from({length:2}).map((S,N)=>l.jsxs("div",{className:"space-y-4 rounded-2xl border border-border/60 bg-muted/20 p-6",children:[l.jsx("div",{className:"h-6 w-32 animate-pulse rounded-full bg-muted/40"}),l.jsx("div",{className:"h-5 w-48 animate-pulse rounded-full bg-muted/40"}),l.jsx("div",{className:"h-24 w-full animate-pulse rounded-2xl bg-muted/30"}),l.jsx("div",{className:"h-11 w-32 animate-pulse rounded-2xl bg-muted/30"})]},N))});return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Pengaturan Aplikasi"}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Kelola deskripsi aplikasi dan elemen branding agar konsisten dengan identitas produk."})]}),A?w():l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsxs("form",{onSubmit:b,className:"space-y-4 rounded-2xl border border-border/60 bg-background p-6 shadow-sm",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold",children:"Deskripsi Aplikasi"}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Teks ini akan tampil sebagai penjelasan singkat aplikasi pada halaman publik atau meta data."})]}),l.jsx("textarea",{value:t,onChange:S=>r(S.target.value),className:YIe,placeholder:"Tuliskan deskripsi aplikasi di sini"}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-muted-foreground",children:[l.jsx("span",{children:n?`Terakhir diperbarui ${PH.format(new Date(n))}`:"Belum pernah disimpan"}),l.jsx("button",{type:"submit",className:"h-11 rounded-2xl bg-primary px-6 text-sm font-medium text-white transition hover:bg-primary/90 disabled:opacity-50",disabled:h,children:"Simpan Deskripsi"})]})]}),l.jsxs("form",{onSubmit:x,className:"space-y-4 rounded-2xl border border-border/60 bg-background p-6 shadow-sm",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold",children:"Branding"}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Sesuaikan warna utama dan sekunder untuk tampilan aplikasi. Gunakan format HEX (#RRGGBB)."})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Warna Primer",l.jsx("input",{value:i.primary,onChange:S=>s(N=>({...N,primary:S.target.value})),className:tt(MH,"mt-1"),placeholder:"#1E40AF"}),l.jsx("span",{className:"mt-2 inline-flex h-6 w-16 rounded-full border border-border/60",style:{backgroundColor:i.primary}})]}),l.jsxs("label",{className:"text-sm font-semibold text-muted-foreground",children:["Warna Sekunder",l.jsx("input",{value:i.secondary,onChange:S=>s(N=>({...N,secondary:S.target.value})),className:tt(MH,"mt-1"),placeholder:"#0EA5E9"}),l.jsx("span",{className:"mt-2 inline-flex h-6 w-16 rounded-full border border-border/60",style:{backgroundColor:i.secondary}})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-muted-foreground",children:[l.jsx("span",{children:o?`Terakhir diperbarui ${PH.format(new Date(o))}`:"Belum pernah disimpan"}),l.jsx("button",{type:"submit",className:"h-11 rounded-2xl bg-primary px-6 text-sm font-medium text-white transition hover:bg-primary/90 disabled:opacity-50",disabled:g,children:"Simpan Branding"})]})]})]})]})}const JIe=new Intl.DateTimeFormat("id-ID",{dateStyle:"medium",timeStyle:"short"}),ZIe={sidebar:"list",user:"user"};function eUe(){const[{loading:e,error:t,entries:r},n]=B.useState({loading:!0,error:null,entries:[]});B.useEffect(()=>{let i=!0;return(async()=>{n(o=>({...o,loading:!0,error:null}));try{const o=await GIe(10);i&&n({loading:!1,error:null,entries:o})}catch(o){const c=o instanceof Error?o.message:"Gagal memuat log perubahan";i&&n({loading:!1,error:c,entries:[]})}})(),()=>{i=!1}},[]);const a=()=>l.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((i,s)=>l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"h-10 w-10 animate-pulse rounded-full bg-muted/40"}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsx("div",{className:"h-4 w-40 animate-pulse rounded-full bg-muted/30"}),l.jsx("div",{className:"h-3 w-56 animate-pulse rounded-full bg-muted/30"})]})]},s))});return t?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Audit Log"}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Pantau perubahan terbaru pada menu dan pengguna."})]}),l.jsx("div",{className:"rounded-2xl border border-destructive/40 bg-destructive/10 p-4 text-sm text-destructive",children:t})]}):e?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Audit Log"}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Pantau perubahan terbaru pada menu dan pengguna."})]}),a()]}):r.length===0?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Audit Log"}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Pantau perubahan terbaru pada menu dan pengguna."})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-border/60 bg-muted/10 p-10 text-center",children:[l.jsx(Zo,{name:"shield",className:"h-10 w-10 text-muted-foreground"}),l.jsx("p",{className:"mt-3 text-sm font-medium text-muted-foreground",children:"Belum ada aktivitas terbaru."})]})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Audit Log"}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Pantau perubahan terbaru pada menu dan pengguna."})]}),l.jsxs("div",{className:"relative pl-6",children:[l.jsx("div",{className:"absolute left-[14px] top-2 bottom-2 w-[2px] bg-border/60","aria-hidden":!0}),l.jsx("ul",{className:"space-y-6",children:r.map(i=>l.jsxs("li",{className:"relative flex gap-4",children:[l.jsx("div",{className:"absolute -left-[26px] top-1 flex h-10 w-10 items-center justify-center rounded-full border border-border/60 bg-background shadow-sm",children:l.jsx(Zo,{name:ZIe[i.source],className:"h-4 w-4"})}),l.jsx("div",{className:"ml-2 flex-1 rounded-2xl border border-border/60 bg-background p-4 shadow-sm",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-sm font-semibold",children:i.title}),l.jsx("span",{className:"text-xs text-muted-foreground",children:i.description}),l.jsx("span",{className:"text-xs font-medium text-muted-foreground opacity-80",children:i.timestamp?JIe.format(new Date(i.timestamp)):""})]})})]},i.id))})]})]})}const tUe=[{key:"sidebar",label:"Sidebar Menu",icon:"list"},{key:"users",label:"Users",icon:"user"},{key:"settings",label:"App Settings",icon:"settings"},{key:"audit",label:"Audit Log",icon:"shield"}];function rUe({tab:e,active:t,onSelect:r}){return l.jsxs("button",{type:"button",onClick:()=>r(e.key),className:tt("flex h-11 items-center gap-2 rounded-2xl px-4 text-sm font-medium transition",t?"bg-primary text-white shadow-sm hover:bg-primary/90":"border border-border/60 bg-background hover:border-border hover:bg-muted/40"),"aria-pressed":t,children:[l.jsx(Zo,{name:e.icon,className:"h-4 w-4"}),l.jsx("span",{children:e.label})]})}function nUe(){const[e,t]=B.useState("sidebar"),r=B.useMemo(()=>{switch(e){case"users":return l.jsx(WIe,{});case"settings":return l.jsx(XIe,{});case"audit":return l.jsx(eUe,{});case"sidebar":default:return l.jsx(VIe,{})}},[e]);return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background/95 to-background text-foreground",children:[l.jsx("header",{className:"sticky top-0 z-20 border-b border-border/60 bg-background/80 backdrop-blur",children:l.jsx("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-4 py-6 md:px-6 lg:px-8",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Dashboard / Admin"}),l.jsxs("div",{className:"mt-1 flex items-center gap-3",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Admin Panel"}),l.jsx("span",{className:"inline-flex items-center rounded-full border border-primary/30 bg-primary/10 px-3 py-1 text-xs font-semibold text-primary",children:"Admin"})]})]})})}),l.jsxs("main",{className:"mx-auto w-full max-w-7xl px-4 pb-20 pt-6 md:px-6 lg:px-8",children:[l.jsx("nav",{className:"mb-6 flex flex-wrap gap-3",children:tUe.map(n=>l.jsx(rUe,{tab:n,active:n.key===e,onSelect:t},n.key))}),l.jsx("section",{className:"space-y-6",children:l.jsx("div",{className:"rounded-2xl border border-border/60 bg-card p-6 shadow-sm md:p-8",children:r})})]})]})}const aUe=[{title:"No Boba 7 Hari",type:"avoid",durationDays:7,rules:{category:"Hiburan"},rewardXP:50},{title:"No GoFood 7 Hari",type:"avoid",durationDays:7,rules:{category:"Makan"},rewardXP:50},{title:"Batasi Transport 50k/Hari",type:"limit",durationDays:7,rules:{category:"Transport",limit:5e4,period:"day"},rewardXP:50},{title:"Batasi Jajan 50k/Hari",type:"limit",durationDays:7,rules:{category:"Belanja",limit:5e4,period:"day"},rewardXP:50},{title:"Tabung 100k/Minggu",type:"target",durationDays:7,rules:{category:"Tabungan",target:1e5},rewardXP:50},{title:"Hemat Ongkir 20k/Hari",type:"limit",durationDays:7,rules:{category:"Transport",limit:2e4,period:"day"},rewardXP:50},{title:"No Kopi Seminggu",type:"avoid",durationDays:7,rules:{category:"Makan"},rewardXP:50},{title:"Tabung 500k/Bulan",type:"target",durationDays:30,rules:{category:"Tabungan",target:5e5},rewardXP:100}],YW=1440*60*1e3;function XW(e,t,r=new Date){if(!e)return{status:"active",progress:0};const n=new Date(e.startDate),a=new Date(e.endDate),i=r>a?a:r,s=Math.max(1,e.durationDays||1);let o="active",c=0;if(e.type==="avoid"){const A=t.some(h=>h.category===e.rules?.category&&new Date(h.date)>=n&&new Date(h.date)<=a),f=Math.floor((i-n)/YW)+1;c=Math.min(f/s,1),A?o="failed":r>a&&(o="completed")}else if(e.type==="limit"){const{category:A,limit:f,period:h="day"}=e.rules||{},p=h==="week"?7:1,g=i;let v=0,b=!1;for(let x=new Date(n);x<=g;x.setDate(x.getDate()+p)){const w=new Date(x),S=new Date(x);if(S.setDate(S.getDate()+p),t.filter(k=>k.category===A&&k.type==="expense"&&new Date(k.date)>=w&&new Date(k.date)<S).reduce((k,C)=>k+C.amount,0)<=f)v+=p;else{b=!0;break}}c=Math.min(v/s,1),b?o="failed":r>a&&(o="completed")}else if(e.type==="target"){const{category:A,target:f}=e.rules||{},h=t.filter(p=>p.category===A&&p.type==="income"&&new Date(p.date)>=n&&new Date(p.date)<=a).reduce((p,g)=>p+g.amount,0);c=f?Math.min(h/f,1):0,c>=1?o="completed":r>a&&(o="failed")}return{status:o,progress:c}}function iUe(e,t=new Date){const r=new Date(e.endDate),n=Math.ceil((r-t)/YW);return n>0?n:0}function sUe({challenge:e,onView:t,onEdit:r,onEnd:n}){const a=iUe(e),i=Math.round((e.progress||0)*100);return l.jsxs("div",{className:"card flex flex-col gap-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"font-semibold",children:e.title}),e.status==="active"&&l.jsxs("span",{className:"text-xs text-muted",children:[a," hari lagi"]})]}),l.jsx("div",{className:"w-full bg-surface-2 rounded h-2",children:l.jsx("div",{className:"bg-success h-2 rounded",style:{width:`${i}%`}})}),l.jsxs("div",{className:"flex gap-2 text-xs",children:[l.jsx("button",{type:"button",onClick:()=>t(e),className:"underline",children:"View"}),e.status==="active"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>r(e),className:"underline",children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>n(e),className:"underline",children:"End"})]})]})]})}function QH({challenges:e=[],onView:t,onEdit:r,onEnd:n}){return e.length?l.jsx("div",{className:"space-y-4",children:e.map(a=>l.jsx(sUe,{challenge:a,onView:t,onEdit:r,onEnd:n},a.id))}):l.jsx("p",{className:"text-sm text-center text-muted",children:"Belum ada challenge"})}const RH=()=>globalThis.crypto?.randomUUID?.()??Math.random().toString(36).slice(2);function oUe({open:e,onClose:t,onSave:r}){const[n,a]=B.useState({title:"",type:"avoid",category:"",amount:0,durationDays:7,reminder:!1}),i=o=>{o.preventDefault();const c=new Date,A=new Date(c);A.setDate(A.getDate()+Number(n.durationDays));const f={id:RH(),title:n.title,type:n.type,durationDays:Number(n.durationDays),startDate:c.toISOString(),endDate:A.toISOString(),rules:n.type==="avoid"?{category:n.category}:n.type==="limit"?{category:n.category,limit:Number(n.amount),period:"day"}:{category:n.category,target:Number(n.amount)},rewardXP:50,status:"active",progress:0,reminder:n.reminder};r(f),t()},s=o=>{const c=new Date,A=new Date(c);A.setDate(A.getDate()+o.durationDays);const f={...o,id:RH(),startDate:c.toISOString(),endDate:A.toISOString(),status:"active",progress:0};r(f),t()};return l.jsx(s1,{open:e,onClose:t,title:"Buat Challenge",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"grid grid-cols-2 gap-2",children:aUe.map(o=>l.jsx("button",{type:"button",className:"btn",onClick:()=>s(o),children:o.title},o.title))}),l.jsxs("form",{onSubmit:i,className:"space-y-2",children:[l.jsx("input",{required:!0,type:"text",placeholder:"Judul",className:"input w-full",value:n.title,onChange:o=>a({...n,title:o.target.value})}),l.jsxs("select",{className:"input w-full",value:n.type,onChange:o=>a({...n,type:o.target.value}),children:[l.jsx("option",{value:"avoid",children:"Hindari"}),l.jsx("option",{value:"limit",children:"Batasi"}),l.jsx("option",{value:"target",children:"Target"})]}),l.jsx("input",{required:!0,type:"text",placeholder:"Kategori",className:"input w-full",value:n.category,onChange:o=>a({...n,category:o.target.value})}),n.type!=="avoid"&&l.jsx("input",{type:"number",placeholder:"Jumlah",className:"input w-full",value:n.amount,onChange:o=>a({...n,amount:o.target.value})}),l.jsx("input",{type:"number",placeholder:"Durasi (hari)",className:"input w-full",value:n.durationDays,onChange:o=>a({...n,durationDays:o.target.value})}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:n.reminder,onChange:o=>a({...n,reminder:o.target.checked})}),"Reminder harian"]}),l.jsx("button",{type:"submit",className:"btn w-full",children:"Simpan"})]})]})})}function lUe({challenge:e,txs:t=[],onClose:r}){if(!e)return null;const n=t.filter(o=>{const c=new Date(o.date);return c>=new Date(e.startDate)&&c<=new Date(e.endDate)&&o.category===e.rules?.category}),{status:a,progress:i}=XW(e,t),s=Math.round(i*100);return l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsx("button",{type:"button",className:"underline text-sm",onClick:r,children:"Close"}),l.jsx("h2",{className:"text-lg font-semibold",children:e.title}),l.jsxs("p",{className:"text-sm",children:["Status: ",a]}),l.jsx("div",{className:"w-full bg-surface-2 rounded h-2",children:l.jsx("div",{className:"bg-success h-2 rounded",style:{width:`${s}%`}})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Log"}),n.length?l.jsx("ul",{className:"text-sm list-disc pl-4",children:n.map(o=>l.jsxs("li",{children:[o.date,": ",o.type," ",o.amount]},o.id))}):l.jsx("p",{className:"text-sm",children:"Belum ada transaksi terkait"})]}),a==="completed"&&l.jsx("p",{className:"text-sm",children:"Mascot: Mantap! Challenge selesai."}),a==="failed"&&l.jsx("p",{className:"text-sm",children:"Mascot: Yah, coba lagi besok."})]})}function cUe({challenges:e,onAdd:t,onUpdate:r,txs:n}){const[a,i]=B.useState("active"),[s,o]=B.useState(!1),[c,A]=B.useState(null),f=e.filter(p=>p.status==="active"),h=e.filter(p=>p.status!=="active");return l.jsxs("main",{className:"max-w-3xl mx-auto p-4 space-y-4",children:[l.jsx("h1",{className:"text-lg font-semibold",children:"Challenges"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",className:`px-3 py-1 rounded ${a==="active"?"bg-brand-var text-brand-foreground":"bg-surface-2"}`,onClick:()=>i("active"),children:"Active"}),l.jsx("button",{type:"button",className:`px-3 py-1 rounded ${a==="completed"?"bg-brand-var text-brand-foreground":"bg-surface-2"}`,onClick:()=>i("completed"),children:"Completed"}),l.jsx("button",{type:"button",className:"ml-auto btn",onClick:()=>o(!0),children:"+"})]}),a==="active"?l.jsx(QH,{challenges:f,onView:p=>A(p),onEdit:p=>A(p),onEnd:p=>r(p.id,{status:"failed"})}):l.jsx(QH,{challenges:h,onView:p=>A(p),onEdit:()=>{},onEnd:()=>{}}),l.jsx(oUe,{open:s,onClose:()=>o(!1),onSave:t}),l.jsx(lUe,{challenge:c,txs:n,onClose:()=>A(null)})]})}const g2={1:"Mendesak",2:"Tinggi",3:"Sedang",4:"Rendah",5:"Nice to have"};function uUe(e){if(e==null)return null;const t=Math.round(e);return Number.isNaN(t)?null:g2[t]??null}const AUe=[{value:"all",label:"Semua status"},{value:"planned",label:"Direncanakan"},{value:"deferred",label:"Ditunda"},{value:"purchased",label:"Dibeli"},{value:"archived",label:"Diarsipkan"}],dUe=[{value:"all",label:"Semua prioritas"},...Object.entries(g2).map(([e,t])=>({value:Number(e),label:`Prioritas ${t}`}))],fUe=[{value:"newest",label:"Terbaru"},{value:"oldest",label:"Terlama"},{value:"price-asc",label:"Harga naik"},{value:"price-desc",label:"Harga turun"},{value:"priority-desc",label:"Prioritas tinggi"},{value:"priority-asc",label:"Prioritas rendah"}];function hUe({filters:e,categories:t,onChange:r,onReset:n}){const a=(c,A)=>{const f=c.target.value;r({...e,[A]:f})},i=(c,A)=>{const f=c.target.value;r({...e,[A]:f})},s=c=>{c.preventDefault()},o=()=>{n?.()};return l.jsx("form",{onSubmit:s,className:"min-w-0 rounded-3xl border border-slate-800/70 bg-slate-900/70 p-4 shadow-sm backdrop-blur",children:l.jsxs("div",{className:"grid grid-cols-2 items-center gap-3 md:grid-cols-8",children:[l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-slate-400",children:[l.jsx("span",{className:"truncate",children:"Status"}),l.jsx("select",{value:e.status,onChange:c=>a(c,"status"),className:"h-11 w-full rounded-2xl border border-slate-800 bg-slate-950/60 px-3 text-sm text-slate-100 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",children:AUe.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-slate-400",children:[l.jsx("span",{className:"truncate",children:"Prioritas"}),l.jsx("select",{value:e.priority,onChange:c=>a(c,"priority"),className:"h-11 w-full rounded-2xl border border-slate-800 bg-slate-950/60 px-3 text-sm text-slate-100 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",children:dUe.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-slate-400",children:[l.jsx("span",{className:"truncate",children:"Kategori"}),l.jsxs("select",{value:e.categoryId,onChange:c=>a(c,"categoryId"),className:"h-11 w-full rounded-2xl border border-slate-800 bg-slate-950/60 px-3 text-sm text-slate-100 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",children:[l.jsx("option",{value:"all",children:"Semua kategori"}),t.map(c=>l.jsx("option",{value:c.id,children:c.name},c.id))]})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-slate-400",children:[l.jsx("span",{className:"truncate",children:"Harga minimum"}),l.jsx("input",{type:"number",inputMode:"decimal",min:"0",value:e.priceMin,onChange:c=>i(c,"priceMin"),className:"h-11 w-full rounded-2xl border border-slate-800 bg-slate-950/60 px-3 text-sm text-slate-100 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",placeholder:"0"})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-slate-400",children:[l.jsx("span",{className:"truncate",children:"Harga maksimum"}),l.jsx("input",{type:"number",inputMode:"decimal",min:"0",value:e.priceMax,onChange:c=>i(c,"priceMax"),className:"h-11 w-full rounded-2xl border border-slate-800 bg-slate-950/60 px-3 text-sm text-slate-100 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",placeholder:"0"})]}),l.jsxs("label",{className:"flex min-w-0 flex-col gap-1 text-xs font-semibold uppercase tracking-wide text-slate-400",children:[l.jsx("span",{className:"truncate",children:"Urutkan"}),l.jsx("select",{value:e.sort,onChange:c=>a(c,"sort"),className:"h-11 w-full rounded-2xl border border-slate-800 bg-slate-950/60 px-3 text-sm text-slate-100 shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",children:fUe.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))})]}),l.jsxs("div",{className:"col-span-2 flex h-11 min-w-0 items-center gap-2 rounded-2xl border border-slate-800 bg-slate-950/60 px-3 text-sm text-slate-100 shadow-sm transition focus-within:ring-2 focus-within:ring-[var(--accent)] md:col-span-2 lg:col-span-3",children:[l.jsx(hy,{className:"h-4 w-4 text-slate-400","aria-hidden":"true"}),l.jsx("input",{type:"search",value:e.search,onChange:c=>i(c,"search"),placeholder:"Cari judul atau catatan",className:"h-full w-full min-w-0 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus-visible:outline-none","aria-label":"Pencarian wishlist"}),n?l.jsx("button",{type:"button",onClick:o,className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full text-slate-400 transition hover:bg-slate-800/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]","aria-label":"Reset filter wishlist",children:l.jsx(Jw,{className:"h-4 w-4","aria-hidden":"true"})}):null]})]})})}const mUe={planned:"Direncanakan",deferred:"Ditunda",purchased:"Dibeli",archived:"Diarsipkan"},pUe={planned:"border border-brand/30 bg-brand/10 text-brand",deferred:"border border-warning/30 bg-warning/20 text-warning",purchased:"border border-success/30 bg-success/20 text-success",archived:"border border-border-subtle bg-surface-alt/80 text-muted"},gUe={1:"border border-success/30 bg-success/20 text-success",2:"border border-info/30 bg-info/20 text-info",3:"border border-brand/30 bg-brand/10 text-brand",4:"border border-warning/30 bg-warning/20 text-warning",5:"border border-danger/30 bg-danger/20 text-danger"};function bUe(e){return e==null?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e)}function yUe({item:e,selected:t,onSelectChange:r,onEdit:n,onDelete:a,onMarkPurchased:i,onMakeGoal:s,onCopyToTransaction:o,disabled:c=!1}){const[A,f]=B.useState(!1),h=B.useRef(null),p=!!e.image_url;B.useEffect(()=>{if(!A)return;const v=x=>{h.current&&(h.current.contains(x.target)||f(!1))},b=x=>{x.key==="Escape"&&f(!1)};return document.addEventListener("mousedown",v),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("keydown",b)}},[A]),B.useEffect(()=>{c&&f(!1)},[c]);const g=B.useMemo(()=>{const v=e.priority!=null?Math.round(e.priority):null,b=uUe(e.priority);return!v||v<1||v>5||!b?null:l.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-medium ${gUe[v]}`,children:["Prioritas ",b]})},[e.priority]);return l.jsxs("article",{className:`group relative flex h-full flex-col rounded-3xl border border-border-subtle bg-surface shadow-sm transition-all duration-200 hover:border-brand/40 hover:shadow-lg ${t?"border-brand/60 ring-2 ring-brand/40":"ring-1 ring-transparent"} ${A?"z-20":""} ${c?"opacity-60":""}`,children:[p?l.jsx("div",{className:"relative aspect-video w-full overflow-hidden rounded-t-3xl bg-surface-alt",children:l.jsx("img",{src:e.image_url??"",alt:e.title,loading:"lazy",className:"h-full w-full object-cover transition duration-500 group-hover:scale-[1.03]"})}):null,l.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("label",{className:"mt-0.5 flex items-center",children:l.jsx("input",{type:"checkbox",checked:t,onChange:v=>r(v.target.checked),className:"h-4 w-4 cursor-pointer rounded border-border-subtle bg-surface-alt text-brand focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand","aria-label":`Pilih wishlist ${e.title}`,disabled:c})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[l.jsx("h3",{className:"truncate text-base font-semibold text-text",children:e.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[g,l.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ${pUe[e.status]}`,children:mUe[e.status]})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-x-3 gap-y-2 text-sm text-muted",children:[l.jsxs("span",{className:"inline-flex items-center gap-1 font-semibold text-text",children:[l.jsx(T$,{className:"h-4 w-4 text-brand","aria-hidden":"true"}),bUe(e.estimated_price)]}),e.category?.name?l.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium uppercase tracking-wide text-muted",children:[l.jsx(Cee,{className:"h-3.5 w-3.5","aria-hidden":"true"}),e.category.name]}):null,e.store_url?l.jsxs("a",{href:e.store_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs font-semibold text-brand transition hover:text-brand/80",children:[l.jsx(uee,{className:"h-3.5 w-3.5","aria-hidden":"true"}),"Kunjungi toko"]}):null]})]}),l.jsxs("div",{className:"relative",ref:h,children:[l.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-full text-muted transition hover:bg-surface-alt/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40","aria-label":`Menu tindakan untuk ${e.title}`,onClick:()=>f(v=>!v),disabled:c,children:l.jsx(see,{className:"h-5 w-5","aria-hidden":"true"})}),A?l.jsxs("div",{className:"absolute right-0 top-11 z-20 w-52 overflow-hidden rounded-2xl border border-border-subtle bg-surface-elevated shadow-xl",children:[l.jsxs("button",{type:"button",onClick:()=>{f(!1),s(e)},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-text transition hover:bg-surface-alt",children:[l.jsx(Iee,{className:"h-4 w-4","aria-hidden":"true"})," Jadikan Goal"]}),l.jsxs("button",{type:"button",onClick:()=>{f(!1),i(e)},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-text transition hover:bg-surface-alt",disabled:e.status==="purchased",children:[l.jsx(fy,{className:"h-4 w-4","aria-hidden":"true"})," Tandai Dibeli"]}),l.jsxs("button",{type:"button",onClick:()=>{f(!1),o(e)},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-text transition hover:bg-surface-alt",children:[l.jsx(Nte,{className:"h-4 w-4","aria-hidden":"true"})," Salin ke Transaksi"]}),l.jsxs("button",{type:"button",onClick:()=>{f(!1),n(e)},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-text transition hover:bg-surface-alt",children:[l.jsx(Yw,{className:"h-4 w-4","aria-hidden":"true"})," Edit"]}),l.jsxs("button",{type:"button",onClick:()=>{f(!1),a(e)},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-danger transition hover:bg-danger/10",children:[l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})," Hapus"]})]}):null]})]}),e.note?l.jsx("p",{className:"line-clamp-3 text-sm text-muted",children:e.note}):null]})]})}const vUe=[{value:"planned",label:"Direncanakan"},{value:"deferred",label:"Ditunda"},{value:"purchased",label:"Dibeli"},{value:"archived",label:"Diarsipkan"}],Od="h-11 w-full rounded-2xl border-none bg-slate-900/80 px-4 text-sm text-slate-100 ring-2 ring-slate-800 transition focus-visible:outline-none focus-visible:ring-[var(--accent)] disabled:cursor-not-allowed disabled:opacity-60",xUe="w-full rounded-2xl border-none bg-slate-900/80 px-4 py-3 text-sm text-slate-100 ring-2 ring-slate-800 transition focus-visible:outline-none focus-visible:ring-[var(--accent)] disabled:cursor-not-allowed disabled:opacity-60";function wUe({open:e,mode:t,initialData:r,categories:n,submitting:a=!1,onClose:i,onSubmit:s}){const o=B.useMemo(()=>({title:r?.title??"",estimated_price:r?.estimated_price!=null?String(r.estimated_price):"",priority:r?.priority!=null?String(r.priority):"",category_id:r?.category_id??"",store_url:r?.store_url??"",status:r?.status??"planned",note:r?.note??"",image_url:r?.image_url??""}),[r]),[c,A]=B.useState(o),[f,h]=B.useState({title:null,estimated_price:null,priority:null,category_id:null,store_url:null,status:null,note:null,image_url:null});B.useEffect(()=>{e&&(A(o),h({title:null,estimated_price:null,priority:null,category_id:null,store_url:null,status:null,note:null,image_url:null}))},[e,o]);const p=(b,x)=>{A(w=>({...w,[b]:x})),h(w=>({...w,[b]:null}))},g=()=>{let b=!0;const x={...f};if(c.title.trim()||(x.title="Judul wajib diisi.",b=!1),c.estimated_price){const w=Number(c.estimated_price);(Number.isNaN(w)||w<0)&&(x.estimated_price="Perkiraan harga harus angka positif.",b=!1)}if(c.priority){const w=Number(c.priority);(!Number.isInteger(w)||w<1||w>5)&&(x.priority="Prioritas harus 1 sampai 5.",b=!1)}if(c.store_url)try{new URL(c.store_url)}catch{x.store_url="URL toko tidak valid.",b=!1}if(c.image_url)try{new URL(c.image_url)}catch{x.image_url="URL gambar tidak valid.",b=!1}return h(x),b},v=async b=>{if(b.preventDefault(),!g())return;const x={title:c.title.trim(),estimated_price:c.estimated_price?Number(c.estimated_price):null,priority:c.priority?Number(c.priority):null,category_id:c.category_id?c.category_id:null,store_url:c.store_url.trim()||void 0,note:c.note.trim()||void 0,status:c.status,image_url:c.image_url.trim()||void 0};await s(x)};return e?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 px-4 py-10 backdrop-blur",children:l.jsx("div",{className:"relative w-full max-w-xl overflow-hidden rounded-3xl border border-slate-800 bg-slate-950/95 shadow-[0_30px_80px_-40px_rgba(15,23,42,0.8)]",children:l.jsxs("form",{onSubmit:v,className:"flex max-h-[85vh] flex-col",children:[l.jsxs("header",{className:"flex items-start justify-between gap-3 border-b border-slate-800/70 bg-slate-950/80 px-6 py-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:t==="create"?"Tambah Wishlist":"Edit Wishlist"}),l.jsx("p",{className:"text-xs text-slate-400",children:"Kelola item wishlist Anda dengan mudah."})]}),l.jsx("button",{type:"button",onClick:i,className:"flex h-9 w-9 items-center justify-center rounded-full text-slate-400 transition hover:bg-slate-800/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]","aria-label":"Tutup form wishlist",children:""})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-6 py-5",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-200",htmlFor:"wishlist-title",children:"Judul*"}),l.jsx("input",{id:"wishlist-title",type:"text",className:Od,value:c.title,onChange:b=>p("title",b.target.value),placeholder:"Contoh: iPad Mini untuk belajar",required:!0,disabled:a}),f.title?l.jsx("p",{className:"text-sm text-rose-300",children:f.title}):null]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-200",htmlFor:"wishlist-price",children:"Perkiraan harga (Rp)"}),l.jsx("input",{id:"wishlist-price",type:"number",inputMode:"decimal",min:"0",className:Od,value:c.estimated_price,onChange:b=>p("estimated_price",b.target.value),placeholder:"0",disabled:a}),f.estimated_price?l.jsx("p",{className:"text-sm text-rose-300",children:f.estimated_price}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-200",htmlFor:"wishlist-priority",children:"Prioritas"}),l.jsxs("select",{id:"wishlist-priority",className:Od,value:c.priority,onChange:b=>p("priority",b.target.value),disabled:a,children:[l.jsx("option",{value:"",children:"Pilih prioritas"}),Object.entries(g2).map(([b,x])=>l.jsx("option",{value:b,children:x},b))]}),f.priority?l.jsx("p",{className:"text-sm text-rose-300",children:f.priority}):null]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-200",htmlFor:"wishlist-category",children:"Kategori"}),l.jsxs("select",{id:"wishlist-category",className:Od,value:c.category_id,onChange:b=>p("category_id",b.target.value),disabled:a,children:[l.jsx("option",{value:"",children:"Tanpa kategori"}),n.map(b=>l.jsx("option",{value:b.id,children:b.name},b.id))]}),f.category_id?l.jsx("p",{className:"text-sm text-rose-300",children:f.category_id}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-200",htmlFor:"wishlist-status",children:"Status"}),l.jsx("select",{id:"wishlist-status",className:Od,value:c.status,onChange:b=>p("status",b.target.value),disabled:a,children:vUe.map(b=>l.jsx("option",{value:b.value,children:b.label},b.value))}),f.status?l.jsx("p",{className:"text-sm text-rose-300",children:f.status}):null]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-200",htmlFor:"wishlist-store",children:"URL toko"}),l.jsx("input",{id:"wishlist-store",type:"url",className:Od,value:c.store_url,onChange:b=>p("store_url",b.target.value),placeholder:"https://",disabled:a}),f.store_url?l.jsx("p",{className:"text-sm text-rose-300",children:f.store_url}):null]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-200",htmlFor:"wishlist-image",children:"URL gambar"}),l.jsx("input",{id:"wishlist-image",type:"url",className:Od,value:c.image_url,onChange:b=>p("image_url",b.target.value),placeholder:"https://",disabled:a}),f.image_url?l.jsx("p",{className:"text-sm text-rose-300",children:f.image_url}):null]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-200",htmlFor:"wishlist-note",children:"Catatan"}),l.jsx("textarea",{id:"wishlist-note",className:xUe,rows:4,value:c.note,onChange:b=>p("note",b.target.value),placeholder:"Tambahkan catatan, alasan, atau rencana pembelian",disabled:a})]})]}),l.jsxs("footer",{className:"flex items-center justify-between gap-3 border-t border-slate-800/70 bg-slate-950/80 px-6 py-4",children:[l.jsx("button",{type:"button",onClick:i,className:"inline-flex h-11 items-center justify-center rounded-2xl px-4 text-sm font-semibold text-slate-300 transition hover:bg-slate-800/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",disabled:a,children:"Batal"}),l.jsx("button",{type:"submit",className:"inline-flex h-11 items-center justify-center rounded-2xl bg-[var(--accent)] px-5 text-sm font-semibold text-slate-950 transition hover:bg-[var(--accent)]/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",disabled:a,children:a?"Menyimpan":t==="create"?"Tambah Wishlist":"Simpan Perubahan"})]})]})})}):null}function _Ue({selectedCount:e,onClear:t,onDelete:r,onStatusChange:n,onPriorityChange:a,disabled:i=!1}){const[s,o]=B.useState(""),[c,A]=B.useState("");return l.jsx("div",{className:"fixed inset-x-0 bottom-4 z-40 flex justify-center px-4",children:l.jsxs("div",{className:"flex w-full max-w-3xl flex-wrap items-center gap-3 rounded-3xl border border-slate-800/80 bg-slate-950/90 px-5 py-3 shadow-2xl backdrop-blur",children:[l.jsxs("div",{className:"flex flex-1 flex-wrap items-center gap-3 text-sm text-slate-200",children:[l.jsxs("span",{className:"font-semibold text-slate-100",children:[e," dipilih"]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"Status"}),l.jsxs("select",{value:s,onChange:f=>{const h=f.target.value;o(h),h&&(n(h),setTimeout(()=>o(""),200))},className:"h-9 rounded-2xl border-none bg-slate-900/80 px-3 text-sm text-slate-100 ring-2 ring-slate-800 transition focus-visible:outline-none focus-visible:ring-[var(--accent)]",disabled:i,children:[l.jsx("option",{value:"",children:"Ubah status"}),l.jsx("option",{value:"planned",children:"Direncanakan"}),l.jsx("option",{value:"deferred",children:"Ditunda"}),l.jsx("option",{value:"purchased",children:"Dibeli"}),l.jsx("option",{value:"archived",children:"Diarsipkan"})]})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"Prioritas"}),l.jsxs("select",{value:c,onChange:f=>{const h=f.target.value;A(h),h&&(a(Number(h)),setTimeout(()=>A(""),200))},className:"h-9 rounded-2xl border-none bg-slate-900/80 px-3 text-sm text-slate-100 ring-2 ring-slate-800 transition focus-visible:outline-none focus-visible:ring-[var(--accent)]",disabled:i,children:[l.jsx("option",{value:"",children:"Set prioritas"}),Object.entries(g2).map(([f,h])=>l.jsxs("option",{value:f,children:["Prioritas ",h]},f))]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:t,className:"inline-flex h-10 items-center justify-center rounded-2xl px-4 text-sm font-medium text-slate-300 transition hover:bg-slate-800/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)]",disabled:i,children:"Batalkan"}),l.jsxs("button",{type:"button",onClick:r,className:"inline-flex h-10 items-center gap-2 rounded-2xl bg-rose-500/90 px-4 text-sm font-semibold text-white transition hover:bg-rose-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400",disabled:i,children:[l.jsx(In,{className:"h-4 w-4","aria-hidden":"true"})," Hapus"]})]})]})})}const HH=20;function BUe(e){return e==null||!Number.isFinite(e)?null:e}function JW(e){return{id:e.id,user_id:e.user_id,title:e.title,estimated_price:e.estimated_price!=null?Number(e.estimated_price):null,priority:e.priority!=null?Number(e.priority):null,category_id:e.category_id??null,category:e.category??null,store_url:e.store_url??null,note:e.note??null,status:e.status,image_url:e.image_url??null,created_at:e.created_at,updated_at:e.updated_at}}async function ZW(e={}){const t=await tr();if(!t)throw new Error("Anda harus masuk untuk melihat wishlist.");const{page:r=1,pageSize:n=HH,search:a,status:i,priority:s,categoryId:o,priceMin:c,priceMax:A,sort:f="newest"}=e,h=Number.isFinite(r)&&r>0?Math.floor(r):1,p=Number.isFinite(n)&&n>0?Math.min(Math.floor(n),100):HH,g=(h-1)*p,v=g+p-1;let b=Ne.from("wishlist_items").select(`id, user_id, title, estimated_price, priority, category_id, store_url, note, status, image_url, created_at, updated_at,
       category:categories(id, name)`,{count:"exact"}).eq("user_id",t);if(a){const T=`%${a.trim().replace(/%/g,"\\%").replace(/_/g,"\\_")}%`;b=b.or(`title.ilike.${T},note.ilike.${T}`)}switch(i&&(b=b.eq("status",i)),s!=null&&(b=b.eq("priority",s)),o&&(b=b.eq("category_id",o)),c!=null&&Number.isFinite(c)&&(b=b.gte("estimated_price",c)),A!=null&&Number.isFinite(A)&&(b=b.lte("estimated_price",A)),f){case"oldest":b=b.order("created_at",{ascending:!0});break;case"price-asc":b=b.order("estimated_price",{ascending:!0,nullsFirst:!0});break;case"price-desc":b=b.order("estimated_price",{ascending:!1,nullsLast:!0});break;case"priority-asc":b=b.order("priority",{ascending:!0,nullsLast:!1});break;case"priority-desc":b=b.order("priority",{ascending:!1,nullsFirst:!1});break;case"newest":default:b=b.order("created_at",{ascending:!1});break}const{data:x,error:w,count:S}=await b.range(g,v);if(w)throw new Error(w.message||"Gagal memuat wishlist.");const N=S??0,k=(x??[]).map(JW),C=v+1<N;return{items:k,page:h,pageSize:p,total:N,hasMore:C}}async function SUe(e){const t=await tr();if(!t)throw new Error("Anda harus masuk untuk menambah wishlist.");const{title:r,estimated_price:n,priority:a,category_id:i,store_url:s,note:o,status:c="planned",image_url:A}=e,f=r.trim();if(!f)throw new Error("Judul wajib diisi.");const h={user_id:t,title:f,estimated_price:BUe(n)??null,priority:a!=null?Math.min(Math.max(a,1),5):null,category_id:i||null,store_url:s?.trim()||null,note:o?.trim()||null,status:c,image_url:A?.trim()||null},{data:p,error:g}=await Ne.from("wishlist_items").insert(h).select(`id, user_id, title, estimated_price, priority, category_id, store_url, note, status, image_url, created_at, updated_at,
       category:categories(id, name)`).single();if(g||!p)throw new Error(g?.message||"Gagal menambah wishlist.");return JW(p)}async function NUe(e){if(!e)throw new Error("ID wishlist tidak valid.");const t=await tr();if(!t)throw new Error("Anda harus masuk untuk menghapus wishlist.");const{error:r}=await Ne.from("wishlist_items").delete().eq("id",e).eq("user_id",t);if(r)throw new Error(r.message||"Gagal menghapus wishlist.")}async function CUe(e,t){if(!Array.isArray(e)||e.length===0)return;const r=await tr();if(!r)throw new Error("Anda harus masuk untuk memperbarui wishlist.");const n={updated_at:new Date().toISOString()};t.priority!==void 0&&(n.priority=t.priority!=null?Math.min(Math.max(t.priority,1),5):null),t.status!==void 0&&(n.status=t.status);const{error:a}=await Ne.from("wishlist_items").update(n).in("id",e).eq("user_id",r);if(a)throw new Error(a.message||"Gagal memperbarui wishlist secara massal.")}async function jUe(e){if(!Array.isArray(e)||e.length===0)return;const t=await tr();if(!t)throw new Error("Anda harus masuk untuk menghapus wishlist.");const{error:r}=await Ne.from("wishlist_items").delete().in("id",e).eq("user_id",t);if(r)throw new Error(r.message||"Gagal menghapus wishlist secara massal.")}const $H=20;function kUe(e){return["wishlist",e]}function EUe(e,t){if(!e)return e;const[r,...n]=e.pages;if(!r)return e;const a=t(r);return{pageParams:e.pageParams,pages:[a,...n]}}function XC(e,t,r){return e&&{pageParams:e.pageParams,pages:e.pages.map(n=>({...n,items:n.items.map(a=>a.id===t?r(a):a)}))}}function qH(e,t){return e&&{pageParams:e.pageParams,pages:e.pages.map((r,n)=>{const a=r.items.filter(i=>!t.has(i.id));return{...r,items:a,total:n===0?Math.max(0,r.total-(r.items.length-a.length)):r.total}})}}function TUe(e){const t=AE(),r=B.useMemo(()=>kUe(e),[e]),n=tZ({queryKey:r,initialPageParam:1,queryFn:async({pageParam:h=1})=>ZW({page:h,pageSize:$H,...e}),getNextPageParam:h=>h.hasMore?h.page+1:void 0,staleTime:6e4,gcTime:5*6e4,networkMode:"offlineFirst"}),a=mg({mutationFn:SUe,networkMode:"offlineFirst",onMutate:async h=>{await t.cancelQueries({queryKey:r});const p=t.getQueryData(r),g=`optimistic-${Date.now()}`,v={id:g,user_id:"optimistic",title:h.title.trim(),estimated_price:h.estimated_price??null,priority:h.priority??null,category_id:h.category_id??null,category:null,store_url:h.store_url?.trim()||null,note:h.note?.trim()||null,status:h.status??"planned",image_url:h.image_url?.trim()||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return t.setQueryData(r,b=>b?EUe(b,x=>{const w=[v,...x.items];return w.length>x.pageSize&&w.pop(),{...x,items:w,total:x.total+1}}):{pageParams:[1],pages:[{items:[v],page:1,pageSize:$H,total:1,hasMore:!1}]}),{previous:p,optimisticId:g}},onError:(h,p,g)=>{g?.previous&&t.setQueryData(r,g.previous)},onSuccess:(h,p,g)=>{t.setQueryData(r,v=>{if(!v)return v;const b=g?.optimisticId;return b?XC(v,b,()=>h):v})},onSettled:()=>{t.invalidateQueries({queryKey:r})}}),i=mg({mutationFn:({id:h,patch:p})=>updateWishlistItem(h,p),networkMode:"offlineFirst",onMutate:async({id:h,patch:p})=>{await t.cancelQueries({queryKey:r});const g=t.getQueryData(r);return t.setQueryData(r,v=>v&&XC(v,h,b=>({...b,...p,title:p.title?.trim()??b.title,store_url:p.store_url?.trim()??(p.store_url===""?null:b.store_url),note:p.note?.trim()??(p.note===""?null:b.note),image_url:p.image_url?.trim()??(p.image_url===""?null:b.image_url),updated_at:new Date().toISOString()}))),{previous:g}},onError:(h,p,g)=>{g?.previous&&t.setQueryData(r,g.previous)},onSuccess:h=>{t.setQueryData(r,p=>p&&XC(p,h.id,()=>h))},onSettled:()=>{t.invalidateQueries({queryKey:r})}}),s=mg({mutationFn:({id:h})=>NUe(h),networkMode:"offlineFirst",onMutate:async({id:h})=>{await t.cancelQueries({queryKey:r});const p=t.getQueryData(r);return t.setQueryData(r,g=>g&&qH(g,new Set([h]))),{previous:p}},onError:(h,p,g)=>{g?.previous&&t.setQueryData(r,g.previous)},onSettled:()=>{t.invalidateQueries({queryKey:r})}}),o=mg({mutationFn:({ids:h,patch:p})=>CUe(h,p),networkMode:"offlineFirst",onMutate:async({ids:h,patch:p})=>{await t.cancelQueries({queryKey:r});const g=t.getQueryData(r),v=new Set(h);return t.setQueryData(r,b=>b&&{pageParams:b.pageParams,pages:b.pages.map(x=>({...x,items:x.items.map(w=>v.has(w.id)?{...w,...p,priority:p.priority??w.priority,status:p.status??w.status,updated_at:new Date().toISOString()}:w)}))}),{previous:g}},onError:(h,p,g)=>{g?.previous&&t.setQueryData(r,g.previous)},onSettled:()=>{t.invalidateQueries({queryKey:r})}}),c=mg({mutationFn:({ids:h})=>jUe(h),networkMode:"offlineFirst",onMutate:async({ids:h})=>{await t.cancelQueries({queryKey:r});const p=t.getQueryData(r);return t.setQueryData(r,g=>g&&qH(g,new Set(h))),{previous:p}},onError:(h,p,g)=>{g?.previous&&t.setQueryData(r,g.previous)},onSettled:()=>{t.invalidateQueries({queryKey:r})}}),A=B.useMemo(()=>n.data?.pages.flatMap(h=>h.items)??[],[n.data]),f=n.data?.pages[0]?.total??0;return{items:A,total:f,isLoading:n.isLoading,isError:n.isError,error:n.error,isFetchingNextPage:n.isFetchingNextPage,hasNextPage:!!n.hasNextPage,fetchNextPage:async()=>{n.hasNextPage&&await n.fetchNextPage()},refetch:async()=>{await n.refetch()},createItem:a.mutateAsync,updateItem:i.mutateAsync,deleteItem:s.mutateAsync,bulkUpdate:o.mutateAsync,bulkDelete:c.mutateAsync,isCreating:a.isPending,isUpdating:i.isPending,isDeleting:s.isPending,isBulkUpdating:o.isPending,isBulkDeleting:c.isPending}}const KH={search:"",status:"all",priority:"all",categoryId:"all",priceMin:"",priceMax:"",sort:"newest"},OUe=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0});function zH(e){return{search:e.search.trim()||void 0,status:e.status==="all"?void 0:e.status,priority:e.priority==="all"?void 0:Number(e.priority),categoryId:e.categoryId==="all"?void 0:e.categoryId,priceMin:e.priceMin?Number(e.priceMin):void 0,priceMax:e.priceMax?Number(e.priceMax):void 0,sort:e.sort}}function qo(e){if(e==null)return"";const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t}function IUe(){const{addToast:e}=ci(),t=uo(),[r,n]=B.useState(KH),[a,i]=B.useState([]),[s,o]=B.useState(!1),[c,A]=B.useState("create"),[f,h]=B.useState(null),[p,g]=B.useState(!1),v=B.useRef(null),[b,x]=B.useState(()=>new Set),[w,S]=B.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(min-width: 768px)").matches),[N,k]=B.useState(!1),C=B.useId(),T=B.useMemo(()=>zH(r),[r]),{items:O,total:D,isLoading:R,isError:q,error:U,hasNextPage:I,fetchNextPage:Q,isFetchingNextPage:H,createItem:Y,updateItem:K,deleteItem:J,bulkUpdate:re,bulkDelete:oe,isCreating:V,isUpdating:W,isDeleting:P,isBulkUpdating:$,isBulkDeleting:G}=TUe(T),ne=V||W||P||$||G,se=B.useMemo(()=>{const Ze={planned:0,deferred:0,purchased:0,archived:0};let rt=0,$t=0;for(const Ht of O)Ze[Ht.status]+=1,typeof Ht.estimated_price=="number"&&(rt+=Ht.estimated_price,$t+=1);return{counts:Ze,estimatedTotal:rt,pricedCount:$t}},[O]),ve=B.useMemo(()=>[{id:"total",label:"Total Wishlist",value:D.toLocaleString("id-ID"),description:"Semua item wishlist yang tersimpan.",icon:zee,iconClass:"bg-brand/20 text-brand"},{id:"planned",label:"Rencana Aktif",value:se.counts.planned.toLocaleString("id-ID"),description:"Wishlist yang siap diwujudkan.",icon:lf,iconClass:"bg-info/20 text-info"},{id:"purchased",label:"Sudah Dibeli",value:se.counts.purchased.toLocaleString("id-ID"),description:"Ditandai selesai dan dibeli.",icon:fy,iconClass:"bg-success/20 text-success"},{id:"estimate",label:"Nilai Estimasi",value:OUe.format(se.estimatedTotal),description:se.pricedCount>0?`Dari ${se.pricedCount.toLocaleString("id-ID")} item dengan harga.`:"Belum ada estimasi harga yang diisi.",icon:T$,iconClass:"bg-warning/20 text-warning"}],[se,D]);B.useEffect(()=>{let Ze=!0;return(async()=>{try{const rt=await tf();if(!Ze)return;i(rt.map($t=>({id:$t.id,name:$t.name})))}catch{}})(),()=>{Ze=!1}},[]),B.useEffect(()=>{x(Ze=>{const rt=new Set;for(const $t of O)Ze.has($t.id)&&rt.add($t.id);return rt.size===Ze.size?Ze:rt})},[O]),B.useEffect(()=>{if(!I)return;const Ze=v.current;if(!Ze)return;const rt=new IntersectionObserver($t=>{$t[0]?.isIntersecting&&!H&&Q()},{rootMargin:"240px"});return rt.observe(Ze),()=>{rt.disconnect()}},[I,Q,H,O.length]);const he=Ze=>{n(Ze)},fe=()=>{n(KH)},Qe=()=>{A("create"),h(null),o(!0)},$e=Ze=>{A("edit"),h(Ze),o(!0)},de=(Ze,rt)=>{x($t=>{const Ht=new Set($t);return rt?Ht.add(Ze):Ht.delete(Ze),Ht})},ze=()=>{x(()=>new Set)},nt=b.size;B.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const Ze=window.matchMedia("(min-width: 768px)"),rt=$t=>{S($t.matches)};return S(Ze.matches),typeof Ze.addEventListener=="function"?(Ze.addEventListener("change",rt),()=>Ze.removeEventListener("change",rt)):(Ze.addListener(rt),()=>Ze.removeListener(rt))},[]);const Se=w||N,Z=B.useMemo(()=>{let Ze=0;return r.search.trim()&&(Ze+=1),r.status!=="all"&&(Ze+=1),r.priority!=="all"&&(Ze+=1),r.categoryId!=="all"&&(Ze+=1),r.priceMin&&(Ze+=1),r.priceMax&&(Ze+=1),r.sort!=="newest"&&(Ze+=1),Ze},[r]),Ke=()=>{w||k(Ze=>!Ze)},st=async Ze=>{if(window.confirm(`Hapus "${Ze.title}" dari wishlist?`))try{await J({id:Ze.id}),e("Wishlist berhasil dihapus","success")}catch{e("Gagal menghapus wishlist","error")}},ye=async Ze=>{if(c==="create"){try{await Y(Ze),e("Wishlist berhasil ditambahkan","success"),o(!1)}catch{e("Gagal menambahkan wishlist","error")}return}if(f)try{await K({id:f.id,patch:Ze}),e("Wishlist berhasil diperbarui","success"),o(!1)}catch{e("Gagal memperbarui wishlist","error")}},He=async Ze=>{try{await K({id:Ze.id,patch:{status:"purchased"}}),e("Ditandai sebagai dibeli","success")}catch{e("Gagal memperbarui status","error")}},Ve=Ze=>{const rt=new URLSearchParams;rt.set("title",Ze.title),Ze.estimated_price!=null&&rt.set("target",String(Math.round(Ze.estimated_price))),Ze.category_id&&rt.set("category_id",Ze.category_id),t(`/goals/new?${rt.toString()}`)},ge=Ze=>{const rt=new URLSearchParams;rt.set("type","expense"),Ze.estimated_price!=null&&rt.set("amount",String(Ze.estimated_price)),rt.set("note",Ze.title),Ze.category_id&&rt.set("category_id",Ze.category_id),t(`/add?${rt.toString()}`),e("Form transaksi terisi dari wishlist","info")},je=async()=>{if(!(!nt||!window.confirm(`Hapus ${nt} item wishlist terpilih?`)))try{await oe({ids:Array.from(b)}),e("Wishlist terpilih dihapus","success"),x(()=>new Set)}catch{e("Gagal menghapus wishlist terpilih","error")}},we=async Ze=>{if(nt)try{await re({ids:Array.from(b),patch:{status:Ze}}),e("Status wishlist diperbarui","success")}catch{e("Gagal memperbarui status","error")}},Xe=async Ze=>{if(nt)try{await re({ids:Array.from(b),patch:{priority:Ze}}),e("Prioritas wishlist diperbarui","success")}catch{e("Gagal memperbarui prioritas","error")}},Pe=B.useCallback(async()=>{g(!0);try{const Ze=[];let rt=1;const $t=zH(r);for(let Ge=0;Ge<20;Ge+=1){const Lt=await ZW({...$t,page:rt,pageSize:200});if(Ze.push(...Lt.items),!Lt.hasMore)break;rt+=1}const Vt=[["title","estimated_price","priority","status","category_id","category_name","store_url","note","image_url","created_at","updated_at"].join(",")];for(const Ge of Ze)Vt.push([qo(Ge.title),qo(Ge.estimated_price??""),qo(Ge.priority??""),qo(Ge.status),qo(Ge.category_id??""),qo(Ge.category?.name??""),qo(Ge.store_url??""),qo(Ge.note??""),qo(Ge.image_url??""),qo(Ge.created_at),qo(Ge.updated_at)].join(","));const Kt=new Blob([Vt.join(`
`)],{type:"text/csv;charset=utf-8;"}),nr=URL.createObjectURL(Kt),wr=document.createElement("a");wr.href=nr,wr.download=`wishlist-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(wr),wr.click(),document.body.removeChild(wr),URL.revokeObjectURL(nr),e("Wishlist diekspor sebagai CSV","success")}catch{e("Gagal mengekspor wishlist","error")}finally{g(!1)}},[r,e]),At=()=>l.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((Ze,rt)=>l.jsx("div",{className:"h-48 animate-pulse rounded-2xl border border-border-subtle/70 bg-surface-alt/60"},rt))}),gt=()=>l.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 rounded-3xl border border-dashed border-border-subtle/70 bg-surface-alt/60 px-6 py-16 text-center",children:[l.jsx("div",{className:"rounded-full border border-border-subtle bg-surface px-4 py-2 text-sm text-muted",children:"Wishlist Anda masih kosong"}),l.jsx("p",{className:"max-w-sm text-balance text-sm text-muted",children:"Simpan ide belanja tanpa komitmen finansial. Tambahkan item wishlist dan ubah menjadi goal atau transaksi kapan saja."}),l.jsxs("button",{type:"button",onClick:Qe,className:"inline-flex h-11 items-center gap-2 rounded-2xl bg-brand px-5 text-sm font-semibold text-brand-foreground shadow-sm transition hover:bg-brand/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/50",children:[l.jsx(Jc,{className:"h-4 w-4","aria-hidden":"true"})," Tambah Wishlist"]})]}),St=q&&!R;return l.jsxs(il,{children:[l.jsx(fo,{title:"Wishlist",description:"Kelola daftar keinginan dan siap jadikan goal atau transaksi kapan pun.",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("button",{type:"button",onClick:Qe,className:"inline-flex h-11 items-center gap-2 rounded-2xl bg-brand px-4 text-sm font-semibold text-brand-foreground shadow-sm transition hover:bg-brand/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/50 disabled:cursor-not-allowed disabled:opacity-70",disabled:ne,children:[l.jsx(Jc,{className:"h-4 w-4","aria-hidden":"true"})," Tambah Wishlist"]}),l.jsxs("button",{type:"button",onClick:Pe,className:"inline-flex h-11 items-center gap-2 rounded-2xl border border-border-subtle bg-surface-alt px-4 text-sm font-semibold text-text shadow-sm transition hover:border-border-strong hover:bg-surface-alt/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40 disabled:cursor-not-allowed disabled:opacity-60",disabled:p,children:[l.jsx(N$,{className:"h-4 w-4","aria-hidden":"true"})," ",p?"Menyiapkan":"Ekspor CSV"]})]})}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{type:"button",onClick:Ke,className:tt("md:hidden flex w-full items-center justify-between gap-3 rounded-2xl border border-border-subtle/80 bg-surface-alt px-4 py-3 text-sm font-semibold text-text shadow-sm transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/40"),"aria-controls":C,"aria-expanded":w?!0:N,children:[l.jsxs("span",{className:"flex items-center gap-2",children:["Filter",Z>0?l.jsx("span",{className:"inline-flex min-w-[1.5rem] items-center justify-center rounded-full bg-brand px-2 py-0.5 text-xs font-semibold text-brand-foreground",children:Z}):null]}),l.jsx(UA,{className:tt("h-4 w-4 text-muted transition-transform duration-200",Se?"rotate-180":"rotate-0"),"aria-hidden":"true"})]}),l.jsx("div",{id:C,"aria-hidden":!w&&!Se,className:tt("transition-[max-height,opacity] duration-200 ease-in-out","md:max-h-none md:opacity-100 md:transition-none md:overflow-visible md:pointer-events-auto",!w&&"overflow-hidden",!w&&Se&&"mt-3",!w&&!Se&&"pointer-events-none",Se?"max-h-[1200px] opacity-100":"max-h-0 opacity-0"),children:l.jsx(hUe,{filters:r,categories:a,onChange:he,onReset:fe})})]}),l.jsx("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:ve.map(Ze=>{const rt=Ze.icon;return l.jsxs("article",{className:"flex h-full items-start gap-4 rounded-3xl border border-border-subtle bg-surface p-4 shadow-sm transition-colors duration-200 hover:border-brand/40 hover:shadow-md",children:[l.jsx("span",{className:`flex h-12 w-12 items-center justify-center rounded-2xl ${Ze.iconClass}`,children:l.jsx(rt,{className:"h-6 w-6","aria-hidden":"true"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:Ze.label}),l.jsx("p",{className:"mt-1 text-lg font-semibold text-text",children:Ze.value}),l.jsx("p",{className:"mt-1 text-xs text-muted",children:Ze.description})]})]},Ze.id)})}),l.jsxs("div",{className:"space-y-6",children:[St?l.jsxs("div",{className:"rounded-2xl border border-danger/30 bg-danger/10 px-4 py-3 text-sm text-danger",children:["Terjadi kesalahan saat memuat wishlist. ",U instanceof Error?U.message:"",l.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"ml-3 inline-flex items-center text-danger underline-offset-4 hover:underline",children:"Muat ulang"})]}):null,R?At():O.length===0?gt():l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:O.map(Ze=>l.jsx(yUe,{item:Ze,selected:b.has(Ze.id),onSelectChange:rt=>de(Ze.id,rt),onEdit:$e,onDelete:st,onMarkPurchased:He,onMakeGoal:Ve,onCopyToTransaction:ge,disabled:ne},Ze.id))}),I?l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{ref:v,className:"h-10 w-full max-w-[200px] rounded-full bg-transparent text-center text-sm text-muted",children:H?"Memuat":"Memuat lainnya"})}):null,D?l.jsxs("p",{className:"text-center text-xs text-muted",children:["Menampilkan ",O.length," dari ",D," wishlist"]}):null]})]})]}),nt>0?l.jsx(_Ue,{selectedCount:nt,onClear:ze,onDelete:je,onStatusChange:we,onPriorityChange:Xe,disabled:ne}):null,l.jsx(wUe,{open:s,mode:c,initialData:f,categories:a,submitting:ne,onClose:()=>o(!1),onSubmit:ye})]})}const GH="hematwoi:v3:challenges";function UUe(e=[]){const[t,r]=B.useState(()=>{try{return JSON.parse(localStorage.getItem(GH))||[]}catch{return[]}}),{addToast:n}=ci();return B.useEffect(()=>{localStorage.setItem(GH,JSON.stringify(t))},[t]),B.useEffect(()=>{r(o=>o.map(c=>{if(c.status!=="active")return c;const{status:A,progress:f}=XW(c,e);let h={...c,status:A,progress:f,completed:A==="completed"};return c.status==="active"&&A==="completed"&&c.rewardXP&&eG.emit("xp:add",{code:"challenge",amount:c.rewardXP}),h}))},[e]),B.useEffect(()=>{const o=new Date().toDateString();r(c=>c.map(A=>!A.reminder||A.status!=="active"||A.lastReminder===o?A:(n({message:`Jangan lupa challenge: ${A.title}`}),{...A,lastReminder:o})))},[n]),{challenges:t,addChallenge:o=>{r(c=>[...c,o])},updateChallenge:(o,c)=>{r(A=>A.map(f=>f.id===o?{...f,...c}:f))},removeChallenge:o=>{r(c=>c.filter(A=>A.id!==o))}}}function FUe(){const[e,t]=B.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches);return B.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const r=window.matchMedia("(prefers-reduced-motion: reduce)"),n=a=>{t(a.matches)};return n(r),typeof r.addEventListener=="function"?(r.addEventListener("change",n),()=>r.removeEventListener("change",n)):(r.addListener(n),()=>r.removeListener(n))},[]),e}function DUe({children:e}){const[t,r]=B.useState(!1);return B.useEffect(()=>{let n=!0;Ne.auth.getSession().catch(()=>null).finally(()=>{n&&r(!0)});const{data:a}=Ne.auth.onAuthStateChange(()=>{n&&r(!0)});return()=>{n=!1,a.subscription.unsubscribe()}},[]),t?e||l.jsx(s$,{}):null}const LUe={user:null,profile:null,loading:!0,error:null};function MUe(e){if(!e)return null;const t=e.role==="admin"?"admin":"user";let r=null;return typeof e.is_active=="boolean"?r=e.is_active:e.is_active==null?r=null:typeof e.is_active=="number"?r=e.is_active!==0:typeof e.is_active=="string"&&(r=e.is_active==="true"||e.is_active==="1"),{id:String(e.id??""),role:t,is_active:r,updated_at:e.updated_at??null}}function PUe(){const[e,t]=B.useState(LUe),r=B.useRef(!0);B.useEffect(()=>()=>{r.current=!1},[]);const n=B.useCallback(async()=>{if(r.current){t(s=>({...s,loading:!0,error:null}));try{const{data:s,error:o}=await Ne.auth.getUser();if(o)throw o;const c=s.user??null;if(!r.current)return;if(!c){t({user:null,profile:null,loading:!1,error:null});return}const{data:A,error:f}=await Ne.from("user_profiles").select("id, role, is_active, updated_at").eq("id",c.id).maybeSingle();if(f)throw f;if(!r.current)return;t({user:c,profile:MUe(A),loading:!1,error:null})}catch(s){if(!r.current)return;const o=s instanceof Error?s.message:"Terjadi kesalahan saat memuat profil admin";t({user:null,profile:null,loading:!1,error:o})}}},[]);B.useEffect(()=>{n();const{data:s}=Ne.auth.onAuthStateChange(()=>{n()});return()=>{s.subscription?.unsubscribe()}},[n]);const a=B.useCallback(async()=>{await n()},[n]),i=e.profile?.role==="admin";return{...e,isAdmin:i,refresh:a}}function QUe({children:e}){const{addToast:t}=ci(),{user:r,loading:n,isAdmin:a,error:i}=PUe(),s=js(),o=B.useRef(!1);return B.useEffect(()=>{if(!n){if(i&&!o.current){t("Gagal memeriksa hak akses admin","error"),o.current=!0;return}r&&!a&&!o.current&&(t("Akses admin diperlukan","error"),o.current=!0)}},[t,n,r,a,i]),n?l.jsx("div",{className:"flex min-h-[40vh] items-center justify-center",children:l.jsx("div",{className:"animate-pulse text-sm text-muted-foreground",children:"Memeriksa akses admin"})}):r?i?l.jsx(om,{to:"/",replace:!0}):a?l.jsx(l.Fragment,{children:e}):l.jsx(om,{to:"/",replace:!0}):l.jsx(om,{to:"/auth",state:{from:s},replace:!0})}let JC;function RUe(){return typeof window>"u"?null:(JC=JC||new(window.AudioContext||window.webkitAudioContext),JC)}function VH({frequency:e=440,duration:t=.3}={}){const r=RUe();if(!r)return;const n=r.createOscillator(),a=r.createGain();n.connect(a),a.connect(r.destination),n.frequency.value=e,n.start(),a.gain.setValueAtTime(.1,r.currentTime),a.gain.exponentialRampToValueAtTime(.001,r.currentTime+t),n.stop(r.currentTime+t)}function HUe(){VH({frequency:880,duration:.4}),setTimeout(()=>VH({frequency:660,duration:.3}),150)}const $Ue=B.createContext({getColor:()=>"#64748b"});function qUe({catMeta:e,children:t}){const r=n=>e?.[n]?.color||"#64748b";return l.jsx($Ue.Provider,{value:{getColor:r},children:t})}const KUe=50,zUe=B.createContext({profile:{xp:0,level:1},addXP:()=>{}});function GUe({children:e}){const[t,r]=B.useState({xp:0,level:1}),n=B.useCallback((a=0)=>{r(i=>{const s=i.xp+a,o=Math.floor(Math.sqrt(s/KUe))+1;return{...i,xp:s,level:o}})},[]);return l.jsx(zUe.Provider,{value:{profile:t,addXP:n},children:e})}function VUe(e,t,r,n={}){let a=e;const i=n.goals||{},s=n.envelopes||{},o=t.map(A=>{const f=i[A.id]||{};let h=0;if(f.fixed&&(h+=f.fixed,a-=f.fixed),f.percent){const p=e*f.percent/100;h+=p,a-=p}return{...A,saved:(A.saved||0)+h}}),c=r.map(A=>{const f=s[A.category]||{};let h=0;if(f.fixed&&(h+=f.fixed,a-=f.fixed),f.percent){const p=e*f.percent/100;h+=p,a-=p}return{...A,balance:(A.balance||0)+h}});return{goals:o,envelopes:c,remaining:a}}const WUe="hw:digest:trigger";function YUe(){const e=js(),t=uo(),[r,n]=B.useState("processing"),[a,i]=B.useState(null),s=B.useMemo(()=>new URLSearchParams(e.search),[e.search]),o=B.useMemo(()=>new URLSearchParams(e.hash?e.hash.replace(/^#/,""):""),[e.hash]),c=s.get("code"),A=s.get("error"),f=s.get("error_description"),h=s.get("error_code"),p=s.get("error_hint"),g=s.get("status")??s.get("error_status"),v=o.get("access_token"),b=o.get("refresh_token"),x=!!(v&&b);B.useEffect(()=>{let S=!1;const N=()=>{try{localStorage.setItem("hw:connectionMode","online"),localStorage.setItem("hw:mode","online"),localStorage.setItem(WUe,"1")}catch{}},k=async I=>{if(I)try{await p3(Ne,I)}catch(Q){console.error("[AuthCallback] Failed to sync guest data",Q)}},T=new URLSearchParams(e.search).get("id_token");if(T){const[,I]=T.split("."),Q=JSON.parse(atob(I.replace(/-/g,"+").replace(/_/g,"/")));console.log("[DEBUG] payload:",Q),alert(`aud=${Q.aud}
azp=${Q.azp}
email=${Q.email}
iss=${Q.iss}
exp=${Q.exp}`)}const O=I=>{N(),k(I),S||J4()},D=async I=>{try{const{data:Q,error:H}=await Ne.auth.exchangeCodeForSession(I);if(H)throw H;O(Q.session?.user?.id??null)}catch(Q){if(S)return;const H=rE(Q,"Gagal menukarkan kode sesi. Silakan coba lagi.");i(H),n("error")}},R=async(I,Q)=>{try{const{data:H,error:Y}=await Ne.auth.setSession({access_token:I,refresh_token:Q});if(Y)throw Y;O(H.session?.user?.id??null)}catch(H){if(S)return;const Y=rE(H,"Gagal memulihkan sesi. Silakan coba lagi.");i(Y),n("error")}},q=async()=>{try{const{data:I,error:Q}=await Ne.auth.getSession();if(Q)throw Q;return I.session?.user?.id??null}catch(I){return console.error("[AuthCallback] Failed to read existing session",I),null}};return(async()=>{if(A){const Q=OIe({fallback:"Login dengan Google dibatalkan. Silakan coba lagi.",error:A,errorCode:h,errorDescription:f,hint:p,status:g});i(Q),n("error");return}if(c){await D(c);return}if(x&&v&&b){await R(v,b);return}const I=await q();if(!S){if(I){O(I);return}i("Kode otorisasi tidak ditemukan. Silakan coba login ulang."),n("error")}})(),()=>{S=!0}},[v,A,c,h,f,p,g,x,J4,b]);const w=()=>{t("/auth",{replace:!0})};return l.jsx(Iy,{children:l.jsx("main",{className:"flex min-h-screen items-center justify-center bg-surface-alt px-6 py-16 text-text",children:l.jsxs("div",{className:"w-full max-w-md space-y-4 rounded-3xl border border-border-subtle bg-surface p-8 text-center shadow-sm",children:[r==="processing"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full border border-border-subtle",children:l.jsx("span",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":"true"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-lg font-semibold",children:"Menghubungkan akun"}),l.jsx("p",{className:"text-sm text-muted",children:"Kami sedang menuntaskan sesi loginmu. Jangan tutup halaman ini."})]})]}):null,r==="error"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full border border-danger/30 bg-danger/10 text-danger",children:"!"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-lg font-semibold",children:"Gagal menghubungkan"}),l.jsx("p",{className:"text-sm text-danger","aria-live":"assertive",children:a})]}),l.jsx("button",{type:"button",onClick:w,className:"inline-flex h-11 w-full items-center justify-center rounded-2xl border border-border-subtle bg-surface-alt px-4 text-sm font-semibold text-text transition hover:bg-border/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",children:"Kembali ke halaman masuk"})]}):null]})})})}const XUe=/^https?:\/\//i,JUe=()=>{const[e,t]=B.useState("Memproses login...");return B.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("id_token");if(!n){t("Tidak ada id_token.");return}(async()=>{const{error:i}=await Ne.auth.signInWithIdToken({provider:"google",token:n});if(i){console.error(i),t(`Gagal login: ${i.message}`);return}t("Berhasil login. Mengalihkan...");const s=My();try{window.location.replace(s)}catch{window.location.href=s}XUe.test(s)||window.setTimeout(()=>{window.location.replace("/native-google-login")},1200)})()},[]),l.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:l.jsx("p",{children:e})})},ZUe=()=>globalThis.crypto?.randomUUID?.()??Math.random().toString(36).slice(2),ZC={income:["Gaji","Bonus","Lainnya"],expense:["Makan","Transport","Belanja","Tagihan","Tabungan","Kesehatan","Hiburan","Lainnya"]},q0={blue:{h:211,s:92,l:60},teal:{h:174,s:70,l:50},violet:{h:262,s:83,l:67},amber:{h:38,s:92,l:50},rose:{h:347,s:77,l:60}};function eY(e,t={}){if(!e)return null;const{amount:r,amount_planned:n,carryover:a,carryover_enabled:i,note:s,notes:o,limit:c,cap:A,month:f,...h}=e,{amount_planned:p,carryover_enabled:g,notes:v,month:b,...x}=t,S=Number(p??n??r??c??A??0),N=Number.isFinite(S)?S:0,k=g??i??a??!1,C=typeof k=="string"?k==="true":!!k,T=v??o??s??null,O=b??f,D=O?String(O).slice(0,7):null;return{...h,...x,month:D,amount_planned:N,carryover_enabled:C,notes:T}}function eFe(){try{const e=localStorage.getItem("hematwoi:v3");if(!e)return{txs:[],cat:ZC,budgets:[],goals:[],envelopes:[],budgetStatus:[]};const t=JSON.parse(e);return{txs:t.txs||[],cat:t.cat||ZC,budgets:Array.isArray(t.budgets)?t.budgets.map(r=>eY(r)).filter(Boolean):[],goals:t.goals||[],envelopes:t.envelopes||[],budgetStatus:Array.isArray(t.budgetStatus)?t.budgetStatus:[]}}catch{return{txs:[],cat:ZC,budgets:[],goals:[],envelopes:[],budgetStatus:[]}}}function tFe({theme:e,setTheme:t,brand:r,setBrand:n}){const a=js(),i=FUe(),s=a.pathname.startsWith("/add");return B.useEffect(()=>{const o=requestAnimationFrame(()=>{const c=i?"auto":"smooth",A=document.getElementById("main");if(a.hash){const f=document.querySelector(a.hash);if(f){f.scrollIntoView({behavior:c,block:"start"});return}}if(A){A.scrollTo({top:0,behavior:c});return}window.scrollTo({top:0,behavior:c})});return()=>cancelAnimationFrame(o)},[a.pathname,a.search,a.hash,i]),l.jsx(hie,{hideSidebar:s,sidebar:s?null:l.jsx(fie,{theme:e,setTheme:t,brand:r,setBrand:n}),topbar:l.jsx(pie,{}),children:l.jsx("div",{className:"flex min-h-full flex-col",children:l.jsx("div",{className:"mx-auto w-full max-w-[1280px] px-4 py-6 sm:px-6 sm:py-8 lg:px-8 lg:py-10",children:l.jsx(s$,{})})})})}function rFe({prefs:e,setPrefs:t}){const{mode:r,setMode:n}=UE(),[a,i]=B.useState(eFe),[s,o]=B.useState({type:"all",q:"",month:"all",category:"all",sort:"date-desc"}),c=new Date().toISOString().slice(0,7),A=()=>{try{return JSON.parse(localStorage.getItem("hwTheme")||"{}").mode||"system"}catch{return"system"}},f=()=>{try{return JSON.parse(localStorage.getItem("hwTheme")||"{}").brand||q0.violet}catch{return q0.violet}},[h,p]=B.useState(A),[g,v]=B.useState(f),[b,x]=B.useState(!1),[w,S]=B.useState(null),[N,k]=B.useState(!1),[C,T]=B.useState(!0),O=B.useRef(new Set),D=B.useRef(null),R=B.useRef(null),q=B.useCallback(async ge=>{if(ge&&!O.current.has(ge))try{await p3(Ne,ge),O.current.add(ge)}catch(je){console.error("Gagal memindahkan data lokal ke cloud",je),O.current.delete(ge)}},[]),U=r==="online",[I,Q]=B.useState(()=>{try{return JSON.parse(localStorage.getItem("hematwoi:v3:catMeta"))||{}}catch{return{}}}),[H,Y]=B.useState({}),K=B.useCallback(ge=>{if(!ge)return null;for(const[je,we]of Object.entries(H))if(we===ge)return je;return null},[H]),[J,re]=B.useState(()=>{try{return JSON.parse(localStorage.getItem("hematwoi:v3:rules"))||{}}catch{return{}}}),[oe]=B.useState(()=>{try{return JSON.parse(localStorage.getItem("hematwoi:v3:alloc"))||{goals:{},envelopes:{}}}catch{return{goals:{},envelopes:{}}}}),{addToast:V}=ci(),{challenges:W,addChallenge:P,updateChallenge:$,removeChallenge:G}=UUe(a.txs),{speak:ne}=ZG();window.__hw_prefs=e;const se=uo();B.useEffect(()=>ts()?uIe(je=>{je.redirectPath&&se(je.redirectPath,{replace:!0}),je.success?V("Berhasil login dengan Google.","success"):je.errorMessage&&V(je.errorMessage,"error")}):void 0,[se,V]);const ve=B.useCallback((ge,je)=>{if(!ge)return!1;const we=ge.code,Xe=ge.status??ge.statusCode,Pe=String(ge.message||"").toLowerCase(),At=Pe.includes("profile"),gt=Pe.includes("not found")||Pe.includes("does not exist")||Pe.includes("unknown");return we==="42P01"||we==="PGRST116"||we==="PGRST114"||Xe===404||At&&gt?(C&&(console.warn(`Menonaktifkan sinkronisasi profil karena tabel Supabase tidak tersedia (${je||"profiles"})`,ge),T(!1)),!0):!1},[C]);B.useEffect(()=>{let ge=!0;Ne.auth.getSession().then(({data:we})=>{if(!ge)return;const Xe=we.session??null;if(Xe?.user){try{localStorage.setItem("hw:connectionMode","online"),localStorage.setItem("hw:mode","online")}catch{}n("online"),q(Xe.user.id)}else O.current.clear();S(Xe?.user??null),k(!0)}).catch(()=>{ge&&(S(null),k(!0),O.current.clear())});const{data:je}=Ne.auth.onAuthStateChange((we,Xe)=>{if(ge){if(S(Xe?.user??null),k(!0),we==="SIGNED_IN"){try{localStorage.setItem("hw:connectionMode","online"),localStorage.setItem("hw:mode","online")}catch{}n("online"),Xe?.user?.id&&q(Xe.user.id)}we==="SIGNED_OUT"&&O.current.clear()}});return()=>{ge=!1,je.subscription?.unsubscribe()}},[n,q]),B.useEffect(()=>{N&&!w&&r==="online"&&n("local")},[N,w,r,n]),B.useEffect(()=>{ts()&&Qw(w?.id??null)},[w]),B.useEffect(()=>{const ge=document.documentElement,je=window.matchMedia("(prefers-color-scheme: dark)").matches,we=h==="system"?je?"dark":"light":h;ge.setAttribute("data-theme",we),localStorage.setItem("hwTheme",JSON.stringify({mode:h,brand:g}))},[h,g]),B.useEffect(()=>{ts()&&VOe(h)},[h]),B.useEffect(()=>{const ge=(rt,$t,Ht)=>Math.min(Ht,Math.max($t,rt)),je=document.documentElement;je.style.setProperty("--brand-h",String(g.h)),je.style.setProperty("--brand-s",`${g.s}%`),je.style.setProperty("--brand-l",`${g.l}%`);const Xe=(je.getAttribute("data-theme")??"light")==="dark",Pe=ge(g.l+(Xe?6:-7),Xe?18:8,Xe?96:92),At=ge(g.l+(Xe?10:-12),Xe?15:6,Xe?98:88),gt=ge(Xe?g.l/2:g.l+32,Xe?18:70,Xe?42:96),St=ge(g.l+(Xe?4:-14),0,100);je.style.setProperty("--color-primary-hover",`${g.h} ${g.s}% ${Pe}%`),je.style.setProperty("--color-primary-active",`${g.h} ${g.s}% ${At}%`),je.style.setProperty("--color-primary-soft",`${g.h} ${g.s}% ${gt}%`),je.style.setProperty("--brand-soft",`hsl(${g.h} ${g.s}% ${gt}%)`),je.style.setProperty("--brand-ring",`hsl(${g.h} ${g.s}% ${St}%)`),je.style.setProperty("--brand",`hsl(${g.h} ${g.s}% ${g.l}%)`);const Ze=g.l>65;je.style.setProperty("--color-primary-foreground",Ze?"0 0% 10%":"0 0% 100%"),je.style.setProperty("--brand-foreground",Ze?"#0b1220":"#ffffff")},[g,h]),B.useEffect(()=>{const ge=q0[e.accent];ge&&v(ge)},[e.accent]),B.useEffect(()=>{ts()&&WOe(g,e.accent)},[g,e.accent]);const he=B.useCallback(ge=>{v(ge),t(je=>{const we=Object.entries(q0).find(([,Pe])=>Pe.h===ge?.h&&Pe.s===ge?.s&&Pe.l===ge?.l);if(!we)return je;const[Xe]=we;return je.accent===Xe?je:{...je,accent:Xe}})},[v,t]);B.useEffect(()=>{localStorage.setItem("hematwoi:v3:prefs",JSON.stringify(e)),window.__hw_prefs=e},[e]),B.useEffect(()=>{async function ge(){if(!(!U||!w||!C))try{const{data:je,error:we}=await Ne.from("profiles").select("preferences").eq("id",w.id).maybeSingle();if(we){ve(we,"load")||console.error("Gagal memuat preferensi profil",we);return}if(je?.preferences){const Xe=je.preferences||{};Xe.theme&&p(Xe.theme),t(Pe=>({...Pe,...Xe}))}}catch(je){console.error("Gagal memuat preferensi profil",je)}}ge()},[U,w,t,C,ve]),B.useEffect(()=>{async function ge(){if(!(!U||!w||!C))try{const je={...e,theme:h},{error:we}=await Ne.from("profiles").upsert({id:w.id,preferences:je}).select("id").maybeSingle();we&&!ve(we,"save")&&console.error("Gagal menyimpan preferensi profil",we)}catch(je){console.error("Gagal menyimpan preferensi profil",je)}}ge()},[h,e,U,w,C,ve]),B.useEffect(()=>{if(sessionStorage.getItem("hw:applied-default-month"))return;const je=new Date,we=je.toISOString().slice(0,7),Xe=new Date(je.getFullYear(),je.getMonth()-1,1).toISOString().slice(0,7);e.defaultMonth==="current"?o(Pe=>({...Pe,month:we})):e.defaultMonth==="last"&&o(Pe=>({...Pe,month:Xe})),sessionStorage.setItem("hw:applied-default-month","1")},[e.defaultMonth]),B.useEffect(()=>{const ge=()=>x(!0);return window.addEventListener("hw:open-settings",ge),()=>window.removeEventListener("hw:open-settings",ge)},[]),B.useEffect(()=>{localStorage.setItem("hematwoi:v3",JSON.stringify(a))},[a]),B.useEffect(()=>{localStorage.setItem("hematwoi:v3:catMeta",JSON.stringify(I))},[I]),B.useEffect(()=>{localStorage.setItem("hematwoi:v3:rules",JSON.stringify(J))},[J]),B.useEffect(()=>{localStorage.setItem("hematwoi:v3:alloc",JSON.stringify(oe))},[oe]);const fe=B.useCallback(async()=>{try{const ge=await r1(),je={},we={},Xe=[],Pe=[];(ge||[]).forEach(gt=>{gt?.name&&(je[gt.name]=gt.id,we[gt.name]={color:gt.color||"#64748b",type:gt.type,sort:gt.order_index??0},gt.type==="income"?Xe.push(gt):Pe.push(gt))});const At=(gt,St)=>{const Ze=gt.order_index??0,rt=St.order_index??0;return Ze!==rt?Ze-rt:gt.name.localeCompare(St.name)};Xe.sort(At),Pe.sort(At),Y(je),Q(we),i(gt=>({...gt,cat:{income:Xe.map(St=>St.name),expense:Pe.map(St=>St.name)}}))}catch(ge){console.error("fetch categories failed",ge)}},[]),Qe=B.useCallback(async()=>{try{const ge=await EE({pageSize:1e3});i(je=>({...je,txs:ge.rows||[]}))}catch(ge){console.error("fetch transactions failed",ge)}},[]),$e=B.useCallback(async()=>{try{if(!w)return;const{data:ge,error:je}=await Ne.from("budgets").select("id, month, amount_planned, carryover_enabled, notes, category_id").eq("user_id",w.id).order("month",{ascending:!1});if(je)throw je;const we={},Xe=[];(ge||[]).forEach(gt=>{gt?.category_id&&(K(gt.category_id)||Xe.push(gt.category_id))});const Pe=Array.from(new Set(Xe));if(Pe.length){const{data:gt,error:St}=await Ne.from("categories").select("id, name").eq("user_id",w.id).in("id",Pe);!St&&Array.isArray(gt)&&gt.forEach(Ze=>{Ze?.id&&Ze?.name&&(we[Ze.id]=Ze.name)})}Object.keys(we).length&&Y(gt=>{const St={...gt};return Object.entries(we).forEach(([Ze,rt])=>{rt&&!St[rt]&&(St[rt]=Ze)}),St});const At=(ge||[]).map(gt=>{const St=gt?.category_id&&(K(gt.category_id)||we[gt.category_id])||gt?.category||gt?.category_name||"Tanpa kategori";return eY(gt,{category:St})}).filter(Boolean);i(gt=>({...gt,budgets:At}))}catch(ge){console.error("fetch budgets failed",ge);const je=ge?.name==="AbortError",we=typeof ge?.message=="string"?ge.message:"";if(ge instanceof TypeError&&we.toLowerCase().includes("failed to fetch")&&typeof document<"u"){D.current&&(clearTimeout(D.current),D.current=null),R.current&&(document.removeEventListener("visibilitychange",R.current),R.current=null),typeof navigator<"u"&&navigator.onLine===!1&&V("Gagal memuat data anggaran: Tidak ada koneksi internet. Kami akan mencoba lagi setelah tersambung.","error");const gt=()=>{D.current=null,$e()};if(document.visibilityState==="visible")D.current=setTimeout(gt,2e3);else{const St=()=>{document.visibilityState==="visible"&&(document.removeEventListener("visibilitychange",St),R.current=null,gt())};R.current=St,document.addEventListener("visibilitychange",St)}return}if(je||we&&we.toLowerCase().includes("failed to fetch"))return;const Pe=we?`: ${we}`:"";V(`Gagal memuat data anggaran${Pe}`,"error")}},[w,K,V]);B.useEffect(()=>()=>{D.current&&(clearTimeout(D.current),D.current=null),typeof document<"u"&&R.current&&(document.removeEventListener("visibilitychange",R.current),R.current=null)},[]);const de=B.useCallback(async()=>{if(!w)return;const ge=je=>{const we=Number.parseFloat(je??0);return Number.isFinite(we)?we:0};try{const{data:je,error:we}=await Ne.from("v_budget_status_month").select("category_name, amount_planned, actual, pct").order("pct",{ascending:!1});if(we)throw we;const Xe=(je||[]).map(Pe=>({category:Pe?.category_name||"Tanpa kategori",planned:ge(Pe?.amount_planned),actual:ge(Pe?.actual),pct:ge(Pe?.pct)}));i(Pe=>({...Pe,budgetStatus:Xe}))}catch(je){console.error("fetch budget status failed",je),i(we=>({...we,budgetStatus:[]}))}},[w]);B.useEffect(()=>{U&&w&&(fe(),Qe(),$e(),de())},[U,w,fe,Qe,$e,de]);const ze=ge=>{const je=ge.category,we=Number(ge.amount||0),Xe=(je||"").toLowerCase()==="tabungan",At=a.txs.filter(Vt=>Vt.category===je&&Vt.type===ge.type).map(Vt=>Number(Vt.amount||0)).sort((Vt,Kt)=>Vt-Kt),gt=At.length>0?At[Math.floor(.75*(At.length-1))]:0,St=we>gt,Ze=ge.date?.slice(0,7),rt=a.budgets.find(Vt=>Vt.category===je&&Vt.month===Ze);let $t=a.txs.filter(Vt=>Vt.type==="expense"&&Vt.category===je&&Vt.date?.slice(0,7)===Ze).reduce((Vt,Kt)=>Vt+Number(Kt.amount||0),0);ge.type==="expense"&&($t+=we);const Ht=rt?$t>Number(rt.amount_planned||0):!1;ne({category:je,title:ge.title||ge.notes||ge.note||"",amount:we,type:ge.type,currency:ge.currency||e.currency||"IDR",context:{isHigh:St,isSavings:Xe,isOverBudget:Ht}})},nt=async ge=>{const je=!!(ge&&ge.__persisted),we=je?{...ge}:ge;je&&delete we.__persisted;const Xe=we.category_id??(we.category?H[we.category]??null:null),Pe=we.notes??we.note??"",At=Array.isArray(we.receipts)?we.receipts:[],gt=we.merchant_name??we.merchant??null,St=we.account_name??we.account??null,Ze=we.to_account_name??we.to_account??null,rt=we.category??we.category_name??K(Xe),$t=Vt=>{const Kt={...Vt,amount:Number(Vt.amount??we.amount??0)};return i(nr=>{let wr=nr.goals,Ge=nr.envelopes;if(Kt.type==="income"){const Lt=VUe(Kt.amount,nr.goals,nr.envelopes,oe);wr=Lt.goals,Ge=Lt.envelopes}return{...nr,txs:[Kt,...nr.txs],goals:wr,envelopes:Ge}}),Kt};let Ht=null;if(je)Ht=$t({...we,category:rt,category_id:we.category_id??Xe,note:we.note??Pe,merchant:we.merchant??gt,account:we.account??St,to_account:we.to_account??Ze,receipts:At});else if(U&&w)try{const Vt=await TE({date:we.date,type:we.type,amount:we.amount,notes:Pe,title:we.title??null,category_id:Xe||null,account_id:we.account_id||null,to_account_id:we.type==="transfer"&&we.to_account_id||null,merchant_id:we.merchant_id||null,receipts:At}),Kt=rt??Vt.category??K(Vt.category_id)??null;Kt&&Vt.category_id&&!H[Kt]&&Y(nr=>({...nr,[Kt]:Vt.category_id})),Ht=$t({...Vt,category:Kt,note:Vt.note??Pe,merchant:Vt.merchant??gt,account:Vt.account??St,to_account:Vt.to_account??Ze})}catch(Vt){alert("Gagal menambah transaksi: "+Vt.message);return}else Ht=$t({...we,id:ZUe(),category:rt,category_id:Xe,note:Pe,merchant:gt,account:St,to_account:Ze,receipts:At});Xe&&rt&&!H[rt]&&Y(Vt=>({...Vt,[rt]:Xe})),e.walletSound&&HUe(),ze(Ht||we)},Se=async(ge,je)=>{if(U&&w)try{const we={...je};we.category&&H[we.category]&&(we.category_id=H[we.category]),"category_id"in we&&(we.category_id=we.category_id||null),"account_id"in we&&(we.account_id=we.account_id||null),"merchant_id"in we&&(we.merchant_id=we.merchant_id||null),"parent_id"in we&&(we.parent_id=we.parent_id||null),"transfer_group_id"in we&&(we.transfer_group_id=we.type==="transfer"&&we.transfer_group_id||null),"to_account_id"in we&&(we.to_account_id=we.type==="transfer"&&we.to_account_id||null);const Xe=await t1(ge,we),Pe={...Xe,category:Xe.category};i(At=>({...At,txs:At.txs.map(gt=>gt.id===ge?Pe:gt)}))}catch(we){alert("Gagal mengupdate transaksi: "+we.message)}else i(we=>({...we,txs:we.txs.map(Xe=>Xe.id===ge?{...Xe,...je}:Xe)}))},Z=async ge=>{if(U&&w)try{await yx(ge),i(je=>({...je,txs:je.txs.filter(we=>we.id!==ge)}))}catch(je){alert("Gagal menghapus transaksi: "+je.message)}else i(je=>({...je,txs:je.txs.filter(we=>we.id!==ge)}))},Ke=async ge=>{if(i(je=>({...je,cat:ge})),U&&w)try{const je=await Jae(ge),we={};je.forEach(Xe=>we[Xe.name]=Xe.id),Y(we)}catch(je){alert("Gagal menyimpan kategori: "+je.message)}};B.useEffect(()=>{const ge=nG();aG(ge).forEach(({sub:we,days:Xe})=>{Xe===7?V(`Langganan ${we.name} jatuh tempo dalam 7 hari`):Xe===1?V(`Langganan ${we.name} jatuh tempo besok`):Xe===0&&(V(`Langganan ${we.name} jatuh tempo hari ini`),we.autoDraft&&window.confirm(`Buat transaksi untuk ${we.name}?`)&&nt({date:new Date().toISOString().slice(0,10),type:"expense",category:we.category,amount:we.amount,note:we.note||""}))})},[nt]);const st=B.useMemo(()=>{const ge=new Set(a.txs.map(je=>String(je.date).slice(0,7)));return Array.from(ge).sort().reverse()},[a.txs]),ye=B.useMemo(()=>[...a.cat.income,...a.cat.expense],[a.cat]),He=B.useMemo(()=>{let ge=a.txs.filter(je=>{if(s.type!=="all"&&je.type!==s.type||s.month!=="all"&&String(je.date).slice(0,7)!==s.month||s.category!=="all"&&je.category!==s.category)return!1;if(s.q){const we=s.q.toLowerCase(),Xe=je.note?.toLowerCase()||"",Pe=je.category?.toLowerCase()||"";if(!Xe.includes(we)&&!Pe.includes(we))return!1}return!0});return ge.sort((je,we)=>s.sort==="amount-desc"?Number(we.amount)-Number(je.amount):s.sort==="amount-asc"?Number(je.amount)-Number(we.amount):s.sort==="date-asc"?new Date(je.date)-new Date(we.date):new Date(we.date)-new Date(je.date)),ge},[a.txs,s]),Ve=B.useMemo(()=>{const ge=He.filter(we=>we.type==="income").reduce((we,Xe)=>we+Number(Xe.amount||0),0),je=He.filter(we=>we.type==="expense").reduce((we,Xe)=>we+Number(Xe.amount||0),0);return{income:ge,expense:je,balance:ge-je}},[He]);return l.jsx(qUe,{catMeta:I,children:l.jsx(_ie,{children:l.jsxs(l.Fragment,{children:[l.jsxs(aJ,{children:[l.jsx(_n,{path:"/auth",element:l.jsx(FIe,{})}),l.jsx(_n,{path:"/auth/callback",element:l.jsx(YUe,{})}),l.jsx(_n,{path:"/auth/mobile/google",element:l.jsx(JUe,{})}),l.jsx(_n,{element:l.jsx(DUe,{}),children:l.jsxs(_n,{path:"/",element:l.jsx(tFe,{theme:h,setTheme:p,brand:g,setBrand:he}),children:[l.jsx(_n,{index:!0,element:l.jsx(a2e,{stats:Ve,monthForReport:s.month==="all"?c:s.month,txs:a.txs,budgets:a.budgets,budgetStatus:a.budgetStatus,months:st,challenges:W,prefs:e})}),l.jsx(_n,{path:"transactions",element:l.jsx(T2e,{months:st,categories:ye,filter:s,setFilter:o,items:He,onRemove:Z,onUpdate:Se})}),l.jsx(_n,{path:"reports",element:l.jsx(jTe,{})}),l.jsx(_n,{path:"budgets",element:l.jsx(g_e,{currentMonth:c})}),l.jsx(_n,{path:"debts",element:l.jsx(cBe,{})}),l.jsx(_n,{path:"goals",element:l.jsx(p3e,{})}),l.jsx(_n,{path:"challenges",element:l.jsx(cUe,{challenges:W,onAdd:P,onUpdate:$,onRemove:G,txs:a.txs})}),l.jsx(_n,{path:"categories",element:l.jsx(pBe,{cat:a.cat,onSave:Ke})}),l.jsx(_n,{path:"wishlist",element:l.jsx(IUe,{})}),l.jsx(_n,{path:"accounts",element:l.jsx(gOe,{})}),l.jsx(_n,{path:"subscriptions",element:l.jsx(MNe,{categories:a.cat})}),l.jsx(_n,{path:"data",element:l.jsx(USe,{})}),l.jsx(_n,{path:"import",element:l.jsx(OTe,{txs:a.txs,onAdd:nt,categories:a.cat,rules:J,setRules:re,onCancel:()=>se("/data")})}),l.jsx(_n,{path:"transaction/add",element:l.jsx(uNe,{onAdd:nt})}),l.jsx(_n,{path:"add",element:l.jsx(om,{to:"/transaction/add",replace:!0})}),l.jsx(_n,{path:"settings",element:l.jsx(x3e,{})}),l.jsx(_n,{path:"admin",element:l.jsx(QUe,{children:l.jsx(nUe,{})})}),l.jsx(_n,{path:"profile",element:l.jsx(aOe,{transactions:a.txs,challenges:W})}),l.jsx(_n,{path:"dashboard",element:l.jsx(om,{to:"/",replace:!0})}),l.jsx(_n,{path:"*",element:l.jsx(om,{to:"/",replace:!0})})]})})]}),l.jsx(yie,{open:b,onClose:()=>x(!1),value:{theme:h,...e},onChange:ge=>{const{theme:je,density:we,defaultMonth:Xe,currency:Pe,accent:At,walletSound:gt=!1,walletSensitivity:St="default",walletShowTips:Ze=!0,lateMode:rt="auto",lateModeDay:$t=24,lateModeBalance:Ht=.4,moneyTalkEnabled:Vt=!0,moneyTalkIntensity:Kt="normal",moneyTalkLang:nr="id"}=ge;p(je),t({density:we,defaultMonth:Xe,currency:Pe,accent:At,walletSound:gt,walletSensitivity:St,walletShowTips:Ze,lateMode:rt,lateModeDay:$t,lateModeBalance:Ht,moneyTalkEnabled:Vt,moneyTalkIntensity:Kt,moneyTalkLang:nr})}})]})})})}function nFe(){const[e,t]=B.useState(()=>{const r=localStorage.getItem("hematwoi:v3:prefs"),n={density:"comfortable",defaultMonth:"current",currency:"IDR",accent:"violet",walletSound:!1,walletSensitivity:"default",walletShowTips:!0,lateMode:"auto",lateModeDay:24,lateModeBalance:.4,moneyTalkEnabled:!0,moneyTalkIntensity:"normal",moneyTalkLang:"id"};if(!r)return n;try{return{...n,...JSON.parse(r)}}catch{return n}});return l.jsx(YSe,{prefs:e,children:l.jsx(rFe,{prefs:e,setPrefs:t})})}function aFe(){return l.jsx(oie,{children:l.jsx(GUe,{children:l.jsx(w2e,{children:l.jsx(bTe,{children:l.jsx(nFe,{})})})})})}async function iFe(){await GOe(),Qae();const e=new $J,t=document.getElementById("root");if(!t)throw new Error("Root element tidak ditemukan");fX.createRoot(t).render(l.jsx(fJ,{children:l.jsx(qJ,{client:e,children:l.jsx(aFe,{})})}))}iFe();export{hH as E,h3 as W,cn as _,HOe as b,dA as c,Jr as g};
